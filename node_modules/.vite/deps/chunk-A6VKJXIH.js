import {
  j
} from "./chunk-43LWRDQS.js";
import {
  n
} from "./chunk-R6YKST3K.js";

// node_modules/@arcgis/core/layers/support/layerUtils.js
function r(e) {
  return null != e && "object" == typeof e && "type" in e && "feature" === e.type;
}
function s(e) {
  const t = e == null ? void 0 : e.type;
  return "base-tile" === t || "tile" === t || "elevation" === t || "imagery-tile" === t || "base-elevation" === t || "open-street-map" === t || "wcs" === t || "web-tile" === t || "wmts" === t || "vector-tile" === t;
}
function a(e) {
  return null != e && "type" in e && "group" === e.type;
}
var c = { Point: "SceneLayer", "3DObject": "SceneLayer", IntegratedMesh: "IntegratedMeshLayer", PointCloud: "PointCloudLayer", Building: "BuildingSceneLayer" };
function o(e) {
  const t = e == null ? void 0 : e.type;
  return "building-scene" === t || "integrated-mesh" === t || "point-cloud" === t || "scene" === t;
}
function l(e) {
  return "voxel" === (e == null ? void 0 : e.type);
}
function f(e) {
  return "imagery-tile" === (e == null ? void 0 : e.type);
}
function y(e) {
  return null != e && null != e.parent && "declaredClass" in e.parent && "esri.Basemap" === e.parent.declaredClass && e.parent.baseLayers.includes(e);
}
function p(e) {
  var _a;
  return "feature" === (e == null ? void 0 : e.type) && !e.url && "memory" === ((_a = e.source) == null ? void 0 : _a.type);
}
function d(e) {
  var _a;
  return "feature" === (e == null ? void 0 : e.type) && "feature-layer" === ((_a = e.source) == null ? void 0 : _a.type);
}
function v(e) {
  if (e.activeLayer) {
    const t = e.activeLayer.tileMatrixSet;
    if (t)
      return t;
    const n2 = e.activeLayer.tileMatrixSets;
    if (n2)
      return n2;
  }
  return null;
}
async function h(n2, r2) {
  var _a;
  const i = (_a = n) == null ? void 0 : _a.findServerInfo(n2);
  if (null != (i == null ? void 0 : i.currentVersion))
    return i.owningSystemUrl || null;
  const u = n2.toLowerCase().indexOf("/rest/services");
  if (-1 === u)
    return null;
  const s2 = `${n2.substring(0, u)}/rest/info`, a2 = null != r2 ? r2.signal : null, { data: c2 } = await j(s2, { query: { f: "json" }, responseType: "json", signal: a2 });
  return (c2 == null ? void 0 : c2.owningSystemUrl) || null;
}
function w(e) {
  if (!("capabilities" in e))
    return false;
  switch (e.type) {
    case "csv":
    case "feature":
    case "geojson":
    case "imagery":
    case "knowledge-graph-sublayer":
    case "ogc-feature":
    case "oriented-imagery":
    case "scene":
    case "subtype-group":
    case "subtype-sublayer":
    case "wfs":
      return true;
    default:
      return false;
  }
}
function E(e) {
  return w(e) ? "effectiveCapabilities" in e ? e.effectiveCapabilities : e.capabilities : null;
}
function L(e) {
  if (!("editingEnabled" in e))
    return false;
  switch (e.type) {
    case "csv":
    case "feature":
    case "geojson":
    case "oriented-imagery":
    case "scene":
    case "subtype-group":
    case "subtype-sublayer":
      return true;
    default:
      return false;
  }
}
function S(e) {
  return !!L(e) && ("effectiveEditingEnabled" in e ? e.effectiveEditingEnabled : e.editingEnabled);
}

export {
  r,
  s,
  a,
  c,
  o,
  l,
  f,
  y,
  p,
  d,
  v,
  h,
  E,
  S
};
//# sourceMappingURL=chunk-A6VKJXIH.js.map
