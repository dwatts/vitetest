import {
  s as s2
} from "./chunk-6S2FCH6S.js";
import {
  n as n3,
  r as r2
} from "./chunk-XY26YCFX.js";
import {
  e as e4,
  t as t2
} from "./chunk-3TTW7E7W.js";
import {
  R,
  W
} from "./chunk-FOEAKQNX.js";
import {
  B,
  S
} from "./chunk-OKABUMQT.js";
import {
  e as e3
} from "./chunk-TYOIANOD.js";
import {
  e as e2
} from "./chunk-VN2IXVGV.js";
import {
  n as n2
} from "./chunk-YGUWDSEH.js";
import {
  l as l2
} from "./chunk-RVS5HU2K.js";
import {
  p
} from "./chunk-JB7FDW5N.js";
import {
  i
} from "./chunk-AQ7R6V4L.js";
import {
  E,
  J,
  X,
  Y,
  c,
  e,
  f,
  g,
  l,
  m,
  o,
  q,
  r,
  s,
  u as u2
} from "./chunk-TPJLFGOT.js";
import {
  n,
  t,
  u
} from "./chunk-CQX57DED.js";

// node_modules/@arcgis/core/views/3d/support/dito.js
var n4 = 1e-6;
var r3 = [0, 0, 0];
var i2 = [0, 0, 0];
function o2(n5, o3) {
  const { data: s4, size: a2 } = n5, c3 = s4.length / a2;
  if (c3 <= 0)
    return;
  const h2 = new J2(n5);
  Q(r3, h2.minProj, h2.maxProj), U(r3, r3, 0.5), R2(i2, h2.maxProj, h2.minProj);
  const u4 = L(i2), m3 = new K();
  m3.quality = u4, c3 < 14 && (n5 = new s2(new Float64Array(h2.buffer, 112, 42), 3));
  const f4 = [0, 0, 0], l4 = [0, 0, 0], j2 = [0, 0, 0], b2 = [0, 0, 0], x2 = [0, 0, 0], I2 = [0, 0, 0], N3 = [0, 0, 0];
  switch (e5(h2, n5, N3, f4, l4, j2, b2, x2, I2, m3)) {
    case 1:
      return void g2(r3, i2, o3);
    case 2:
      return void p2(n5, b2, o3);
  }
  P(n5, N3, f4, l4, j2, b2, x2, I2, m3), O(n5, m3.b0, m3.b1, m3.b2, _, S2);
  const V2 = [0, 0, 0];
  R2(V2, S2, _), m3.quality = L(V2), m3.quality < u4 ? D(m3.b0, m3.b1, m3.b2, _, S2, V2, o3) : g2(r3, i2, o3);
}
function e5(t3, r4, i3, o3, e6, s4, a2, c3, h2, u4) {
  if (j(t3, o3, e6), tt(o3, e6) < n4)
    return 1;
  R2(a2, o3, e6), Z(a2, a2);
  return x(r4, o3, a2, s4) < n4 ? 2 : (R2(c3, e6, s4), Z(c3, c3), R2(h2, s4, o3), Z(h2, h2), X2(i3, c3, a2), Z(i3, i3), M(r4, i3, a2, c3, h2, u4), 0);
}
var s3 = [0, 0, 0];
var a = [0, 0, 0];
var c2 = [0, 0, 0];
var h = [0, 0, 0];
var u3 = [0, 0, 0];
var m2 = [0, 0, 0];
var f2 = [0, 0, 0];
var l3 = [0, 0, 0];
function P(t3, n5, r4, i3, o3, e6, P3, j2, b2) {
  N(t3, n5, r4, s3, a), void 0 !== s3[0] && (R2(c2, s3, r4), Z(c2, c2), R2(h, s3, i3), Z(h, h), R2(u3, s3, o3), Z(u3, u3), X2(m2, h, e6), Z(m2, m2), X2(f2, u3, P3), Z(f2, f2), X2(l3, c2, j2), Z(l3, l3), M(t3, m2, e6, h, c2, b2), M(t3, f2, P3, u3, h, b2), M(t3, l3, j2, c2, u3, b2)), void 0 !== a[0] && (R2(c2, a, r4), Z(c2, c2), R2(h, a, i3), Z(h, h), R2(u3, a, o3), Z(u3, u3), X2(m2, h, e6), Z(m2, m2), X2(f2, u3, P3), Z(f2, f2), X2(l3, c2, j2), Z(l3, l3), M(t3, m2, e6, h, c2, b2), M(t3, f2, P3, u3, h, b2), M(t3, l3, j2, c2, u3, b2));
}
function j(t3, n5, r4) {
  let i3 = tt(t3.maxVert[0], t3.minVert[0]), o3 = 0;
  for (let e6 = 1; e6 < 7; ++e6) {
    const n6 = tt(t3.maxVert[e6], t3.minVert[e6]);
    n6 > i3 && (i3 = n6, o3 = e6);
  }
  W2(n5, t3.minVert[o3]), W2(r4, t3.maxVert[o3]);
}
var b = [0, 0, 0];
function x(t3, n5, r4, i3) {
  const { data: o3, size: e6 } = t3;
  let s4 = Number.NEGATIVE_INFINITY, a2 = 0;
  for (let c3 = 0; c3 < o3.length; c3 += e6) {
    b[0] = o3[c3] - n5[0], b[1] = o3[c3 + 1] - n5[1], b[2] = o3[c3 + 2] - n5[2];
    const t4 = r4[0] * b[0] + r4[1] * b[1] + r4[2] * b[2], i4 = r4[0] * r4[0] + r4[1] * r4[1] + r4[2] * r4[2], e7 = b[0] * b[0] + b[1] * b[1] + b[2] * b[2] - t4 * t4 / i4;
    e7 > s4 && (s4 = e7, a2 = c3);
  }
  return W2(i3, o3, a2), s4;
}
var I = [0, 0];
function N(t3, r4, i3, o3, e6) {
  E2(t3, r4, I, e6, o3);
  const s4 = nt(i3, r4);
  I[1] - n4 <= s4 && (o3[0] = void 0), I[0] + n4 >= s4 && (e6[0] = void 0);
}
var V = [0, 0, 0];
var y = [0, 0, 0];
var w = [0, 0, 0];
var q2 = [0, 0, 0];
var A = [0, 0, 0];
var d = [0, 0, 0];
function M(t3, r4, i3, o3, e6, s4) {
  if ($(r4) < n4)
    return;
  X2(V, i3, r4), X2(y, o3, r4), X2(w, e6, r4), T(t3, r4, I), A[1] = I[0], q2[1] = I[1], d[1] = q2[1] - A[1];
  const a2 = [i3, o3, e6], c3 = [V, y, w];
  for (let n5 = 0; n5 < 3; ++n5) {
    T(t3, a2[n5], I), A[0] = I[0], q2[0] = I[1], T(t3, c3[n5], I), A[2] = I[0], q2[2] = I[1], d[0] = q2[0] - A[0], d[2] = q2[2] - A[2];
    const i4 = L(d);
    i4 < s4.quality && (W2(s4.b0, a2[n5]), W2(s4.b1, r4), W2(s4.b2, c3[n5]), s4.quality = i4);
  }
}
var F = [0, 0, 0];
function T(t3, n5, r4) {
  const { data: i3, size: o3 } = t3;
  r4[0] = Number.POSITIVE_INFINITY, r4[1] = Number.NEGATIVE_INFINITY;
  for (let e6 = 0; e6 < i3.length; e6 += o3) {
    const t4 = i3[e6] * n5[0] + i3[e6 + 1] * n5[1] + i3[e6 + 2] * n5[2];
    r4[0] = Math.min(r4[0], t4), r4[1] = Math.max(r4[1], t4);
  }
}
function E2(t3, n5, r4, i3, o3) {
  const { data: e6, size: s4 } = t3;
  W2(i3, e6), W2(o3, i3), r4[0] = nt(F, n5), r4[1] = r4[0];
  for (let a2 = s4; a2 < e6.length; a2 += s4) {
    const t4 = e6[a2] * n5[0] + e6[a2 + 1] * n5[1] + e6[a2 + 2] * n5[2];
    t4 < r4[0] && (r4[0] = t4, W2(i3, e6, a2)), t4 > r4[1] && (r4[1] = t4, W2(o3, e6, a2));
  }
}
function g2(t3, n5, r4) {
  W2(r4.center, t3), U(r4.halfSize, n5, 0.5), r4.quaternion[0] = 0, r4.quaternion[1] = 0, r4.quaternion[2] = 0, r4.quaternion[3] = 1;
}
var z = [0, 0, 0];
var v = [0, 0, 0];
var Y2 = [0, 0, 0];
var _ = [0, 0, 0];
var S2 = [0, 0, 0];
var G = [0, 0, 0];
function p2(t3, r4, i3) {
  W2(z, r4), Math.abs(r4[0]) > Math.abs(r4[1]) && Math.abs(r4[0]) > Math.abs(r4[2]) ? z[0] = 0 : Math.abs(r4[1]) > Math.abs(r4[2]) ? z[1] = 0 : z[2] = 0, $(z) < n4 && (z[0] = z[1] = z[2] = 1), X2(v, r4, z), Z(v, v), X2(Y2, r4, v), Z(Y2, Y2), O(t3, r4, v, Y2, _, S2), R2(G, S2, _), D(r4, v, Y2, _, S2, G, i3);
}
function O(t3, n5, r4, i3, o3, e6) {
  T(t3, n5, I), o3[0] = I[0], e6[0] = I[1], T(t3, r4, I), o3[1] = I[0], e6[1] = I[1], T(t3, i3, I), o3[2] = I[0], e6[2] = I[1];
}
var B2 = [0, 0, 0];
var k = [1, 0, 0, 0, 1, 0, 0, 0, 1];
var C = [0, 0, 0];
function D(t3, n5, r4, i3, o3, e6, s4) {
  k[0] = t3[0], k[1] = t3[1], k[2] = t3[2], k[3] = n5[0], k[4] = n5[1], k[5] = n5[2], k[6] = r4[0], k[7] = r4[1], k[8] = r4[2], rt(s4.quaternion, k), Q(C, i3, o3), U(C, C, 0.5), U(s4.center, t3, C[0]), U(B2, n5, C[1]), Q(s4.center, s4.center, B2), U(B2, r4, C[2]), Q(s4.center, s4.center, B2), U(s4.halfSize, e6, 0.5);
}
var H = 7;
var J2 = class {
  constructor(t3) {
    this.minVert = new Array(H), this.maxVert = new Array(H);
    const n5 = 64 * H;
    this.buffer = new ArrayBuffer(n5);
    let r4 = 0;
    this.minProj = new Float64Array(this.buffer, r4, H), r4 += 8 * H, this.maxProj = new Float64Array(this.buffer, r4, H), r4 += 8 * H;
    for (let a2 = 0; a2 < H; ++a2)
      this.minVert[a2] = new Float64Array(this.buffer, r4, 3), r4 += 24;
    for (let a2 = 0; a2 < H; ++a2)
      this.maxVert[a2] = new Float64Array(this.buffer, r4, 3), r4 += 24;
    for (let a2 = 0; a2 < H; ++a2)
      this.minProj[a2] = Number.POSITIVE_INFINITY, this.maxProj[a2] = Number.NEGATIVE_INFINITY;
    const i3 = new Array(H), o3 = new Array(H), { data: e6, size: s4 } = t3;
    for (let a2 = 0; a2 < e6.length; a2 += s4) {
      let t4 = e6[a2];
      t4 < this.minProj[0] && (this.minProj[0] = t4, i3[0] = a2), t4 > this.maxProj[0] && (this.maxProj[0] = t4, o3[0] = a2), t4 = e6[a2 + 1], t4 < this.minProj[1] && (this.minProj[1] = t4, i3[1] = a2), t4 > this.maxProj[1] && (this.maxProj[1] = t4, o3[1] = a2), t4 = e6[a2 + 2], t4 < this.minProj[2] && (this.minProj[2] = t4, i3[2] = a2), t4 > this.maxProj[2] && (this.maxProj[2] = t4, o3[2] = a2), t4 = e6[a2] + e6[a2 + 1] + e6[a2 + 2], t4 < this.minProj[3] && (this.minProj[3] = t4, i3[3] = a2), t4 > this.maxProj[3] && (this.maxProj[3] = t4, o3[3] = a2), t4 = e6[a2] + e6[a2 + 1] - e6[a2 + 2], t4 < this.minProj[4] && (this.minProj[4] = t4, i3[4] = a2), t4 > this.maxProj[4] && (this.maxProj[4] = t4, o3[4] = a2), t4 = e6[a2] - e6[a2 + 1] + e6[a2 + 2], t4 < this.minProj[5] && (this.minProj[5] = t4, i3[5] = a2), t4 > this.maxProj[5] && (this.maxProj[5] = t4, o3[5] = a2), t4 = e6[a2] - e6[a2 + 1] - e6[a2 + 2], t4 < this.minProj[6] && (this.minProj[6] = t4, i3[6] = a2), t4 > this.maxProj[6] && (this.maxProj[6] = t4, o3[6] = a2);
    }
    for (let a2 = 0; a2 < H; ++a2) {
      let t4 = i3[a2];
      W2(this.minVert[a2], e6, t4), t4 = o3[a2], W2(this.maxVert[a2], e6, t4);
    }
  }
};
var K = class {
  constructor() {
    this.b0 = [1, 0, 0], this.b1 = [0, 1, 0], this.b2 = [0, 0, 1], this.quality = 0;
  }
};
function L(t3) {
  return t3[0] * t3[1] + t3[0] * t3[2] + t3[1] * t3[2];
}
function Q(t3, n5, r4) {
  t3[0] = n5[0] + r4[0], t3[1] = n5[1] + r4[1], t3[2] = n5[2] + r4[2];
}
function R2(t3, n5, r4) {
  t3[0] = n5[0] - r4[0], t3[1] = n5[1] - r4[1], t3[2] = n5[2] - r4[2];
}
function U(t3, n5, r4) {
  t3[0] = n5[0] * r4, t3[1] = n5[1] * r4, t3[2] = n5[2] * r4;
}
function W2(t3, n5, r4 = 0) {
  t3[0] = n5[r4], t3[1] = n5[r4 + 1], t3[2] = n5[r4 + 2];
}
function X2(t3, n5, r4) {
  const i3 = n5[0], o3 = n5[1], e6 = n5[2], s4 = r4[0], a2 = r4[1], c3 = r4[2];
  t3[0] = o3 * c3 - e6 * a2, t3[1] = e6 * s4 - i3 * c3, t3[2] = i3 * a2 - o3 * s4;
}
function Z(t3, n5) {
  const r4 = n5[0] * n5[0] + n5[1] * n5[1] + n5[2] * n5[2];
  if (r4 > 0) {
    const i3 = 1 / Math.sqrt(r4);
    t3[0] = n5[0] * i3, t3[1] = n5[1] * i3, t3[2] = n5[2] * i3;
  }
}
function $(t3) {
  return t3[0] * t3[0] + t3[1] * t3[1] + t3[2] * t3[2];
}
function tt(t3, n5) {
  const r4 = n5[0] - t3[0], i3 = n5[1] - t3[1], o3 = n5[2] - t3[2];
  return r4 * r4 + i3 * i3 + o3 * o3;
}
function nt(t3, n5) {
  return t3[0] * n5[0] + t3[1] * n5[1] + t3[2] * n5[2];
}
function rt(t3, n5) {
  const r4 = n5[0] + n5[4] + n5[8];
  if (r4 > 0) {
    let i3 = Math.sqrt(r4 + 1);
    t3[3] = 0.5 * i3, i3 = 0.5 / i3, t3[0] = (n5[5] - n5[7]) * i3, t3[1] = (n5[6] - n5[2]) * i3, t3[2] = (n5[1] - n5[3]) * i3;
  } else {
    let r5 = 0;
    n5[4] > n5[0] && (r5 = 1), n5[8] > n5[3 * r5 + r5] && (r5 = 2);
    const i3 = (r5 + 1) % 3, o3 = (r5 + 2) % 3;
    let e6 = Math.sqrt(n5[3 * r5 + r5] - n5[3 * i3 + i3] - n5[3 * o3 + o3] + 1);
    t3[r5] = 0.5 * e6, e6 = 0.5 / e6, t3[3] = (n5[3 * i3 + o3] - n5[3 * o3 + i3]) * e6, t3[i3] = (n5[3 * i3 + r5] + n5[3 * r5 + i3]) * e6, t3[o3] = (n5[3 * o3 + r5] + n5[3 * r5 + o3]) * e6;
  }
}

// node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js
var F2 = e3();
var H2 = n();
var J3 = n();
var K2 = n2();
var L2 = e2();
var N2 = class {
  constructor(e6) {
    const t3 = 56, n5 = 0, a2 = 24, r4 = 36, i3 = e6 * t3;
    this.buffer = new ArrayBuffer(i3), this.obbs = new Array(e6);
    for (let f4 = 0; f4 < e6; f4++)
      this.obbs[f4] = { center: u(this.buffer, t3 * f4 + n5), halfSize: e4(this.buffer, t3 * f4 + a2), quaternion: n3(this.buffer, t3 * f4 + r4) };
  }
};
function O2(e6 = [0, 0, 0], t3 = [-1, -1, -1], n5 = e3()) {
  return { center: t(e6), halfSize: t2(t3), quaternion: r2(n5) };
}
function P2(e6) {
  return O2(e6.center, e6.halfSize, e6.quaternion);
}
function Q2(e6, t3) {
  r(t3.center, e6.center), r(t3.halfSize, e6.halfSize), B(t3.quaternion, e6.quaternion);
}
function R3(e6, t3) {
  return t3 = t3 || O2(), o2(e6, t3), t3;
}
function T2(e6, t3) {
  const n5 = R(t3, e6.center), a2 = ne(e6, W(t3));
  return n5 > a2 ? 1 : n5 < -a2 ? -1 : 0;
}
function U2(e6, t3) {
  return H2[0] = e6.center[0] - t3[0], H2[1] = e6.center[1] - t3[1], H2[2] = e6.center[2] - t3[2], S(F2, e6.quaternion), E(H2, H2, F2), f(H2, H2), m(J3, H2, e6.halfSize), X(J3, H2) < t3[3] * t3[3];
}
function W3(t3, n5) {
  n5 || (n5 = i());
  const a2 = p(L2, t3.quaternion), r4 = t3.halfSize[0] * Math.abs(a2[0]) + t3.halfSize[1] * Math.abs(a2[3]) + t3.halfSize[2] * Math.abs(a2[6]), s4 = t3.halfSize[0] * Math.abs(a2[1]) + t3.halfSize[1] * Math.abs(a2[4]) + t3.halfSize[2] * Math.abs(a2[7]), i3 = t3.halfSize[0] * Math.abs(a2[2]) + t3.halfSize[1] * Math.abs(a2[5]) + t3.halfSize[2] * Math.abs(a2[8]);
  return n5[0] = t3.center[0] - r4, n5[1] = t3.center[1] - s4, n5[2] = t3.center[2] - i3, n5[3] = t3.center[0] + r4, n5[4] = t3.center[1] + s4, n5[5] = t3.center[2] + i3, n5;
}
function X3(e6, t3) {
  return R(t3, e6.center) - ne(e6, W(t3));
}
function Y3(e6, t3) {
  return R(t3, e6.center) + ne(e6, W(t3));
}
function Z2(e6, t3) {
  return T2(e6, t3[0]) <= 0 && T2(e6, t3[1]) <= 0 && T2(e6, t3[2]) <= 0 && T2(e6, t3[3]) <= 0 && T2(e6, t3[4]) <= 0 && T2(e6, t3[5]) <= 0;
}
function $2(e6, t3, n5, a2 = 0) {
  S(F2, e6.quaternion), e(H2, t3, e6.center);
  const s4 = E(H2, H2, F2), i3 = E(J3, n5, F2);
  let f4 = -1 / 0, o3 = 1 / 0;
  for (let r4 = 0; r4 < 3; r4++)
    if (Math.abs(i3[r4]) > 1e-6) {
      const t4 = (a2 + e6.halfSize[r4] - s4[r4]) / i3[r4], n6 = (-a2 - e6.halfSize[r4] - s4[r4]) / i3[r4];
      f4 = Math.max(f4, Math.min(t4, n6)), o3 = Math.min(o3, Math.max(t4, n6));
    } else if (s4[r4] > e6.halfSize[r4] + a2 || s4[r4] < -e6.halfSize[r4] - a2)
      return false;
  return f4 <= o3;
}
var te = (() => {
  const e6 = new Int8Array(162);
  let t3 = 0;
  const n5 = (n6) => {
    for (let a2 = 0; a2 < n6.length; a2++)
      e6[t3 + a2] = n6[a2];
    t3 += 6;
  };
  return n5([6, 2, 3, 1, 5, 4]), n5([0, 2, 3, 1, 5, 4]), n5([0, 2, 3, 7, 5, 4]), n5([0, 1, 3, 2, 6, 4]), n5([0, 1, 3, 2, 0, 0]), n5([0, 1, 5, 7, 3, 2]), n5([0, 1, 3, 7, 6, 4]), n5([0, 1, 3, 7, 6, 2]), n5([0, 1, 5, 7, 6, 2]), n5([0, 1, 5, 4, 6, 2]), n5([0, 1, 5, 4, 0, 0]), n5([0, 1, 3, 7, 5, 4]), n5([0, 2, 6, 4, 0, 0]), n5([0, 0, 0, 0, 0, 0]), n5([1, 3, 7, 5, 0, 0]), n5([2, 3, 7, 6, 4, 0]), n5([2, 3, 7, 6, 0, 0]), n5([2, 3, 1, 5, 7, 6]), n5([0, 1, 5, 7, 6, 2]), n5([0, 1, 5, 7, 6, 4]), n5([0, 1, 3, 7, 6, 4]), n5([4, 5, 7, 6, 2, 0]), n5([4, 5, 7, 6, 0, 0]), n5([4, 5, 1, 3, 7, 6]), n5([0, 2, 3, 7, 5, 4]), n5([6, 2, 3, 7, 5, 4]), n5([6, 2, 3, 1, 5, 4]), e6;
})();
function ne(e6, t3) {
  S(F2, e6.quaternion), E(H2, t3, F2);
  const n5 = e6.halfSize;
  return Math.abs(H2[0] * n5[0]) + Math.abs(H2[1] * n5[1]) + Math.abs(H2[2] * n5[2]);
}
function ae(e6, t3) {
  for (let n5 = 0; n5 < 8; ++n5) {
    const a2 = t3[n5];
    a2[0] = 1 & n5 ? -e6.halfSize[0] : e6.halfSize[0], a2[1] = 2 & n5 ? -e6.halfSize[1] : e6.halfSize[1], a2[2] = 4 & n5 ? -e6.halfSize[2] : e6.halfSize[2], E(a2, a2, e6.quaternion), u2(a2, a2, e6.center);
  }
}
function re(e6) {
  return Y(e6.halfSize);
}
function se(e6, t3, n5, s4, i3) {
  if (B(i3.quaternion, e6.quaternion), s4 === l2.Global) {
    S(ce, e6.quaternion), E(ie, e6.center, ce), f(fe, ie), m(oe, fe, e6.halfSize), J(oe, fe, oe);
    const a2 = s(oe);
    u2(oe, fe, e6.halfSize);
    const s5 = s(oe);
    if (a2 < n5)
      r(i3.center, e6.center), o(ie, n5, n5, n5), u2(i3.halfSize, e6.halfSize, ie);
    else {
      const r4 = s5 > 0 ? 1 + t3 / s5 : 1, f4 = a2 > 0 ? 1 + n5 / a2 : 1, o3 = (f4 + r4) / 2, h2 = (f4 - r4) / 2;
      g(i3.halfSize, fe, h2), q(i3.halfSize, i3.halfSize, e6.halfSize, o3), g(i3.center, fe, o3), q(i3.center, i3.center, e6.halfSize, h2), l(ie, ie), c(i3.center, i3.center, ie), E(i3.center, i3.center, i3.quaternion);
    }
  } else {
    const a2 = o(ie, 0, 0, 1);
    q(i3.center, e6.center, a2, (n5 + t3) / 2), S(ce, e6.quaternion), E(a2, a2, ce), f(a2, a2), q(i3.halfSize, e6.halfSize, a2, (n5 - t3) / 2);
  }
  return i3;
}
var ie = n();
var fe = n();
var oe = n();
var ce = e3();

export {
  N2 as N,
  O2 as O,
  P2 as P,
  Q2 as Q,
  R3 as R,
  T2 as T,
  U2 as U,
  W3 as W,
  X3 as X,
  Y3 as Y,
  Z2 as Z,
  $2 as $,
  ne,
  ae,
  re,
  se
};
//# sourceMappingURL=chunk-GZTS5346.js.map
