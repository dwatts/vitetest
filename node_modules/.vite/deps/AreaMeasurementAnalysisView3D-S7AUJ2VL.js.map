{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/analysis/support/measurementUtils.js", "../../@arcgis/core/views/support/euclideanAreaMeasurementUtils.js", "../../@arcgis/core/views/3d/analysis/AreaMeasurement/support/MeasurementData.js", "../../@arcgis/core/views/3d/analysis/AreaMeasurement/support/AreaMeasurementController.js", "../../@arcgis/core/views/3d/analysis/AreaMeasurement/support/AreaMeasurementPathHelper.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/CheckerBoardTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/CheckerBoardTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/CheckerBoardMaterial.js", "../../@arcgis/core/views/3d/interactive/visualElements/MeasurementAreaVisualElement.js", "../../@arcgis/core/views/3d/analysis/AreaMeasurement/support/AreaMeasurementVisualization.js", "../../@arcgis/core/views/3d/analysis/AreaMeasurementAnalysisView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{s as t,a as e,g as r,d as n,e as o,i as s,c as i,n as f,f as u}from\"../../../../chunks/vec3.js\";import{c as a}from\"../../../../chunks/vec3f64.js\";import{geodesicArea as c}from\"../../../../geometry/geometryEngine.js\";import l from\"../../../../geometry/Polygon.js\";import{projectPointToVector as m,projectPointToWGS84ComparableLonLat as g,projectVectorToWGS84ComparableLonLat as p}from\"../../../../geometry/projection.js\";import h from\"../../../../geometry/SpatialReference.js\";import{InverseGeodeticSolverResult as j,inverseGeodeticSolver as y}from\"../../../../geometry/support/geodesicUtils.js\";import{planeFromPoints as d}from\"../../support/mathUtils.js\";function w(o,s){const i=s.center;t(i,0,0,0);for(let t=0;t<o.length;++t)e(i,i,o[t]);r(i,i,1/o.length);let f=0;for(let t=0;t<o.length;++t)f=Math.max(f,n(i,o[t]));s.radius=Math.sqrt(f)}function P(t,e){if(t.length<3)throw new Error(\"need at least 3 points to fit a plane\");d(t[0],t[1],t[2],e)}function M(t,e){return o(t,e)+t[3]}function b(t,e,r){return m(t,R,r)&&m(e,S,r)?s(R,S):0}function k(t,e){if(!g(t,R)||!g(e,S))return 0;const r=new j;return y(r,[R[0],R[1]],[S[0],S[1]]),r.distance}function q(t,e,r){const n=new j;return y(n,[t[0],t[1]],[e[0],e[1]],r),n.distance}function v(t,e,r,n){const o=G;return p(t,n,R)&&p(e,n,S)&&p(r,n,U)?(o.setPoint(0,0,R),o.setPoint(0,1,S),o.setPoint(0,2,U),Math.abs(c(o,\"square-meters\"))):0}function x(r,n=null,s=!0){const a=1e-6,c=(t,e)=>{if(0===e[0]&&0===e[1]&&0===e[2])return!1;for(let r=0;r<t.length;++r)if(o(e,t[r])<-a)return!1;return!0};if(0===r.length)return!1;if(1===r.length)return n&&i(n,r[0]),!0;t(T,0,0,0);for(let t=0;t<r.length;++t)e(T,T,r[t]);if(f(T,T),c(r,T))return n&&i(n,T),!0;if(!s)return!1;for(let t=0;t<r.length;++t)for(let e=0;e<r.length;++e)if(t!==e&&(u(T,r[t],r[e]),f(T,T),c(r,T)))return n&&i(n,T),!0;return!1}function E(t){return\"mouse\"!==t.pointerType||0===t.button}const R=a(),S=a(),U=a(),G=new l({rings:[[R,S,U]],spatialReference:h.WGS84}),T=a();export{P as bestFitPlane,w as boundingSphere,x as fitHemisphere,E as isPrimaryPointerAction,M as planePointDistance,b as segmentLengthEuclidean,k as segmentLengthGeodesic,q as segmentLengthGeodesicVector,v as triangleAreaGeodesic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{createArea as t}from\"../../core/quantityUtils.js\";import{areaUnitFromSpatialReference as o}from\"../../core/unitUtils.js\";import{e as r}from\"../../chunks/earcut.js\";import{s as n,A as e,p as s}from\"../../chunks/vec3.js\";import{c as i}from\"../../chunks/vec3f64.js\";import{projectVectorToVector as c}from\"../../geometry/projection.js\";import{fromPoints as u,wrap as f,normal as l,projectPointLocal as m}from\"../../geometry/support/plane.js\";import{areaPoints2d as p}from\"../../geometry/support/triangle.js\";import{computeEuclideanMeasurementSR as a}from\"./measurementUtils.js\";function g(t,o=k()){return j(t,o)}function h(t,o=k()){return j(t,o,!1)}function j(r,g,h=r.hasZ){const j=a(r.spatialReference),k=o(j);if(null==k)return null;const v=(t,o)=>!(o.length<2)&&(n(t,o[0],o[1],h&&o[2]||0),!0);let A=0;for(const t of r.rings){const o=t.length;if(o<3)continue;const{positionsWorldCoords:a}=g;for(;a.length<o;)a.push(i());const h=y,k=n(d,0,0,0),C=1/o;for(let n=0;n<o;n++){if(!v(h,t[n]))return null;if(!c(h,r.spatialReference,a[n],j))return null;e(k,k,a[n],C)}const R=u(a[0],a[1],k,f());if(0===s(l(R)))continue;for(let t=0;t<o;t++)m(R,k,a[t],a[t]);const W=U(a);for(let t=0;t<W.length;t+=3)A+=p(a[W[t]],a[W[t+1]],a[W[t+2]])}return t(A,k)}const y=i(),d=i();function k(){return{positionsWorldCoords:[]}}function U(t){return r(v(t),[],2)}function v(t){const o=new Float64Array(2*t.length);for(let r=0;r<t.length;++r){const n=t[r],e=2*r;o[e]=n[0],o[e+1]=n[1]}return o}export{j as computeEuclideanPlanarArea,k as createEuclideanPlanarAreaCache,h as euclideanHorizontalPlanarArea,g as euclideanPlanarArea,U as triangulate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../../../core/mathUtils.js\";import{createLength as t,createArea as s}from\"../../../../../core/quantityUtils.js\";import{s as i,d as o}from\"../../../../../chunks/vec2.js\";import{a as r}from\"../../../../../chunks/vec2f64.js\";import{n,i as h,c as a,f as d,o as l,b as g,e as p,g as c,a as m}from\"../../../../../chunks/vec3.js\";import{c as u}from\"../../../../../chunks/vec3f64.js\";import{c as _}from\"../../../../../chunks/vec4f64.js\";import{getReferenceEllipsoid as f}from\"../../../../../geometry/ellipsoidUtils.js\";import{canProjectWithoutEngine as C,canProjectToWGS84ComparableLonLat as S,projectPointToVector as L,projectPointToWGS84ComparableLonLat as P,projectDirection as R,projectVectorToVector as j}from\"../../../../../geometry/projection.js\";import M from\"../../../../../geometry/SpatialReference.js\";import{getSphericalPCPF as A}from\"../../../../../geometry/spatialReferenceEllipsoidUtils.js\";import{Axis as v}from\"../../../../../geometry/support/Axis.js\";import{compactIndices as W}from\"../../../../../geometry/support/Indices.js\";import{segmentIntersects as I}from\"../../../../../geometry/support/intersectsBase.js\";import{areaPoints2d as w}from\"../../../../../geometry/support/triangle.js\";import{MeasurementMode as z}from\"../../interfaces.js\";import{segmentLengthGeodesicVector as U,bestFitPlane as G,fitHemisphere as V,triangleAreaGeodesic as y,planePointDistance as T,boundingSphere as F,segmentLengthGeodesic as E,segmentLengthEuclidean as N}from\"../../support/measurementUtils.js\";import{midpoint as x}from\"../../support/viewUtils.js\";import{getElevationAtPoint as k}from\"../../../support/ElevationProvider.js\";import{makeOrthonormal as b,tangentFrame as q}from\"../../../support/mathUtils.js\";import{triangulate as D}from\"../../../../support/euclideanAreaMeasurementUtils.js\";class B{constructor(e,t){this.positionsWorldCoords=[],this.positionsRenderCoords=[],this.positionsProjectedWorldCoords=[],this.positionsFittedRenderCoords=[],this.positionsGeographic=[],this.positionsSpherical=[],this.positionsStereographic=[],this.pathSegmentLengths=[],this.geodesicPathSegmentLengths=[],this.perimeterSegmentLengths=[],this.intersectingSegments=new Set,this.geodesicIntersectingSegments=new Set,this.triangleIndices=null,this.geodesicTriangleIndices=null,this.areaCentroidWorldCoords=u(),this.areaCentroidRenderCoords=u(),this.geodesicAreaCentroidRenderCoords=u(),this.area=null,this.geodesicArea=null,this.pathLength=null,this.geodesicPathLength=null,this.perimeterLength=null,this._length=0,this._centroidRenderCoords=u(),this._planeWorldCoords=_(),this._worldUp=u(),this._worldTangent=u(),this._frame=[u(),u(),u()],this._pathVersion=-1,this._validMeasurement=!1,this._hasCursorPoint=!1,this._mode=null,this._tempU=u(),this._tempV=u(),this._tempVec3=u(),this._tempSphere={center:u(),radius:0},this._sceneView=e,this.unitNormalizer=t}update(e,s,i,o,r,h,a){const d=this.unitNormalizer,l=this._sceneView.renderSpatialReference,g=this.unitNormalizer.spatialReference,p=null!=s;if(this._pathVersion===e.version&&this._validMeasurement===o&&!a&&this._hasCursorPoint===p&&this._mode===h){return!e.isValidPolygon&&(this._updateCursorSegmentLength(e,s),!0)}this._pathVersion=e.version,this._validMeasurement=o,this._hasCursorPoint=p;const c=e.numVertices;this._resize(c);const m=A(i.spatialReference),u=C(i.spatialReference,m)&&S(i.spatialReference),{positionsGeographic:_,positionsWorldCoords:f,positionsRenderCoords:R,positionsSpherical:j}=this;e.forEachVertexPosition(((e,t)=>{H(i.elevationProvider,e),L(e,f[t],g),L(e,R[t],l),u&&(P(e,_[t]),L(e,j[t],m),n(j[t],j[t]))}));const M=this._updatePathLengths(o);if(this.pathLength=this._length>1?t(d.normalizeDistance(M),\"meters\"):null,u){const e=this._updateGeodesicPathLengths(o,g);this.geodesicPathLength=this._length>1?t(e,\"meters\"):null}else this.geodesicPathLength=null;return this._updateCursorSegmentLength(e,s),this._updateMode(e,h),o?(this._updateArea(i,d,l,g,r),u&&this._updateGeodesicArea(i),!0):(this.area=null,this.geodesicArea=null,this.perimeterLength=null,this.triangleIndices=null,this.geodesicTriangleIndices=null,this.intersectingSegments.clear(),this.geodesicIntersectingSegments.clear(),!0)}getData(){return{positionsWorldCoords:this.positionsWorldCoords,positionsRenderCoords:this.positionsRenderCoords,positionsProjectedWorldCoords:this.positionsProjectedWorldCoords,positionsFittedRenderCoords:this.positionsFittedRenderCoords,positionsGeographic:this.positionsGeographic,positionsSpherical:this.positionsSpherical,positionsStereographic:this.positionsStereographic,pathSegmentLengths:this.pathSegmentLengths,geodesicPathSegmentLengths:this.geodesicPathSegmentLengths,perimeterSegmentLengths:this.perimeterSegmentLengths,intersectingSegments:this.intersectingSegments,geodesicIntersectingSegments:this.geodesicIntersectingSegments,triangleIndices:this.triangleIndices,geodesicTriangleIndices:this.geodesicTriangleIndices,areaCentroidWorldCoords:this.areaCentroidWorldCoords,areaCentroidRenderCoords:this.areaCentroidRenderCoords,geodesicAreaCentroidRenderCoords:this.geodesicAreaCentroidRenderCoords,fittingMode:this.fittingMode,area:this.area,geodesicArea:this.geodesicArea,pathLength:this.pathLength,geodesicPathLength:this.geodesicPathLength,perimeterLength:this.perimeterLength,cursorSegmentLength:this.cursorSegmentLength,geodesicCursorSegmentLength:this.geodesicCursorSegmentLength,unitNormalizer:this.unitNormalizer,actualMeasurementMode:this.actualMeasurementMode}}_resize(e){for(e<this._length&&(this.positionsWorldCoords.length=e,this.positionsRenderCoords.length=e,this.positionsProjectedWorldCoords.length=e,this.positionsFittedRenderCoords.length=e,this.positionsGeographic.length=e,this.positionsSpherical.length=e,this.positionsStereographic.length=e,this.pathSegmentLengths.length=e,this.geodesicPathSegmentLengths.length=e,this.perimeterSegmentLengths.length=e,this._length=e);this._length<e;)this.positionsWorldCoords.push(u()),this.positionsRenderCoords.push(u()),this.positionsProjectedWorldCoords.push(r()),this.positionsFittedRenderCoords.push(u()),this.positionsGeographic.push(u()),this.positionsSpherical.push(u()),this.positionsStereographic.push(r()),this.pathSegmentLengths.push(0),this.geodesicPathSegmentLengths.push(0),this.perimeterSegmentLengths.push(0),++this._length}_updatePathLengths(e){const t=this.positionsWorldCoords,s=this.pathSegmentLengths;let i=0;for(let o=0;o<this._length;++o){const r=s[o]=h(t[o],t[(o+1)%this._length]);(o<this._length-1||e)&&(i+=r)}return i}_updateGeodesicPathLengths(e,t){const s=this.positionsGeographic,i=this.geodesicPathSegmentLengths;let o=0;for(let r=0;r<this._length;++r){const n=i[r]=U(s[r],s[(r+1)%this._length],t??void 0);(r<this._length-1||e)&&(o+=n)}return o}_updateArea(e,o,r,n,h){const u=e.renderCoordsHelper,_=this.positionsWorldCoords,f=this.positionsRenderCoords,C=this.positionsProjectedWorldCoords,S=this.positionsFittedRenderCoords,L=this._planeWorldCoords,P=this._centroidRenderCoords;x(f,P),u.worldUpAtPosition(P,this._worldUp),u.worldBasisAtPosition(P,v.X,this._worldTangent),R(P,this._worldUp,r,this._worldUp,n),R(P,this._worldTangent,r,this._worldTangent,n),_.length>2&&G(_,L),this.fittingMode=this._selectFittingMode(L,_,this._worldUp,h);let M=0;if(\"horizontal\"===this.fittingMode){let e=-1/0;f.forEach(((t,s)=>{const i=u.getAltitude(f[s]);i>e&&(e=i,M=s)}))}const A=_[M];let W=L,I=this._worldTangent;\"horizontal\"===this.fittingMode?W=this._worldUp:\"vertical\"===this.fittingMode&&(W=this._tempVec3,I=this._worldUp,b(L,this._worldUp,W)),a(this._frame[2],W),b(I,W,this._frame[0]),d(this._frame[1],this._frame[0],this._frame[2]),l(this._frame[1],this._frame[1]);const w=this._tempVec3,z=this._tempU,U=this._tempV;for(let t=0;t<this._length;++t){const e=C[t],s=S[t];g(w,_[t],A),i(e,p(this._frame[0],w),p(this._frame[1],w)),c(z,this._frame[0],e[0]),c(U,this._frame[1],e[1]),m(w,z,U),m(w,w,A),j(w,n,s,r)}this.perimeterLength=this._length>0?t(o.normalizeDistance(this._updatePerimeterLengths()),\"meters\"):null,x(S,this.areaCentroidRenderCoords),j(this.areaCentroidRenderCoords,r,this.areaCentroidWorldCoords,n),this._updateIntersectingSegments(),this.area=0===this.intersectingSegments.size?s(o.normalizeArea(this._computeArea()),\"square-meters\"):null}_updateGeodesicArea(e){const{renderCoordsHelper:t,spatialReference:o}=e,{positionsSpherical:r,positionsStereographic:n}=this,h=this._tempVec3,a=V(r,h);if(!a)return void(this.geodesicArea=null);const d=this._tempU,l=this._tempV;q(h,d,l);for(let s=0;s<this._length;++s){const e=p(r[s],d),t=p(r[s],l),o=p(r[s],h);i(n[s],e/o,t/o)}c(h,h,f(o).radius),t.toRenderCoords(h,A(o),this.geodesicAreaCentroidRenderCoords),this._updateGeodesicIntersectingSegments(),this.geodesicArea=a&&0===this.geodesicIntersectingSegments.size?s(this._computeGeodesicArea(),\"square-meters\"):null}_updatePerimeterLengths(){const e=this.positionsProjectedWorldCoords,t=this.perimeterSegmentLengths;let s=0;for(let i=0;i<this._length;++i){s+=t[i]=o(e[i],e[(i+1)%this._length])}return s}_updateIntersectingSegments(){const e=this.positionsProjectedWorldCoords,t=this.intersectingSegments;t.clear();for(let s=0;s<this._length;++s)for(let i=s+2;i<this._length;++i){if((i+1)%this._length===s)continue;const o=e[s],r=e[(s+1)%this._length],n=e[i],h=e[(i+1)%this._length];I(o,r,n,h)&&(t.add(s),t.add(i))}}_computeArea(){const e=this.positionsProjectedWorldCoords,t=this.triangleIndices=W(D(e));let s=0;for(let i=0;i<t.length;i+=3)s+=w(e[t[i]],e[t[i+1]],e[t[i+2]]);return s}_updateGeodesicIntersectingSegments(){const e=this.positionsStereographic,t=this.geodesicIntersectingSegments;t.clear();for(let s=0;s<this._length;++s)for(let i=s+2;i<this._length;++i){if((i+1)%this._length===s)continue;const o=e[s],r=e[(s+1)%this._length],n=e[i],h=e[(i+1)%this._length];I(o,r,n,h)&&(t.add(s),t.add(i))}}_computeGeodesicArea(){const e=this.positionsGeographic,t=this.positionsStereographic,s=this.geodesicTriangleIndices=W(D(t));let i=0;for(let o=0;o<s.length;o+=3)i+=y(e[s[o]],e[s[o+1]],e[s[o+2]],M.WGS84);return i}_selectFittingMode(t,s,i,o){const r=s.map((e=>Math.abs(T(t,e)))).reduce(((e,t)=>Math.max(e,t)),0);F(s,this._tempSphere);const n=r/(2*this._tempSphere.radius),h=n<o.maxRelativeErrorCoplanar,a=n<o.maxRelativeErrorAlmostCoplanar;let d=\"horizontal\";if(h)d=\"oblique\";else if(a){d=Math.abs(p(i,t))>Math.cos(e(o.verticalAngleThreshold))?\"horizontal\":\"vertical\"}return d}_updateCursorSegmentLength(e,s){const i=e.lastPoint;e.isValidPolygon||null==i||null==s?(this.geodesicCursorSegmentLength=null,this.cursorSegmentLength=null):(this.geodesicCursorSegmentLength=t(E(i,s),\"meters\"),this.cursorSegmentLength=t(this.unitNormalizer.normalizeDistance(N(i,s,this.unitNormalizer.spatialReference)),\"meters\"))}_updateMode(e,t){if(t===z.Auto){this.actualMeasurementMode=\"euclidean\";let t=0;null!=this.geodesicPathLength&&(t+=this.geodesicPathLength.value),e.isValidPolygon||null==this.geodesicCursorSegmentLength||(t+=this.geodesicCursorSegmentLength.value),t>X&&(this.actualMeasurementMode=\"geodesic\")}else this.actualMeasurementMode=t===z.Euclidean?\"euclidean\":\"geodesic\";null==this.geodesicPathLength&&(this.actualMeasurementMode=\"euclidean\"),this._mode=t}}function H(e,t){t.hasZ||(t.z=k(e,t,\"ground\")??0)}const X=1e5;export{B as MeasurementDataManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{watch as r,sync as s}from\"../../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{canProjectWithoutEngine as i}from\"../../../../../geometry/projection.js\";import{getSphericalPCPF as p,WGS84ECEFSpatialReference as n,SphericalECEFSpatialReference as m}from\"../../../../../geometry/spatialReferenceEllipsoidUtils.js\";import{MeasurementDataManager as c}from\"./MeasurementData.js\";import{UnitNormalizer as l}from\"../../support/UnitNormalizer.js\";let u=class extends t{constructor(e){super(e)}initialize(){const e=this.view.spatialReference,t=p(e),a=t===m?n:t,o=!e||i(e,a)?a:e,u=new l(o);this._measurementDataManager=new c(this.view,u),this.addHandles([this.analysisViewData.path.on(\"change\",(()=>this._update())),r((()=>this.analysisViewData.cursorPoint),(()=>this._update()),s),r((()=>this.analysisViewData.mode),(()=>this._update()),s)]),this._update()}_update(e=!1){const{analysisViewData:t,view:r}=this,s={maxRelativeErrorCoplanar:.005,maxRelativeErrorAlmostCoplanar:.01,verticalAngleThreshold:80};this._measurementDataManager.update(t.path,t.cursorPoint,r,t.validMeasurement,s,t.mode,e)&&(t.measurementData=this._measurementDataManager.getData())}};e([a({constructOnly:!0})],u.prototype,\"view\",void 0),e([a({constructOnly:!0})],u.prototype,\"analysis\",void 0),e([a({constructOnly:!0})],u.prototype,\"analysisViewData\",void 0),u=e([o(\"esri.views.3d.analysis.AreaMeasurement.support.AreaMeasurementController\")],u);export{u as AreaMeasurementController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Handles.js\";import o from\"../../../../../core/Logger.js\";import{destroyMaybe as i}from\"../../../../../core/maybe.js\";import{watch as s,syncAndInitial as n}from\"../../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as m}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import l from\"../../../../../geometry/Point.js\";import{tryProjectWithZConversion as h}from\"../../../../../geometry/projection.js\";import{empty as c,expandPointInPlace as u}from\"../../../../../geometry/support/aaBoundingRect.js\";import{logFailedGeometryProjectionError as d}from\"../../support/projectionUtils.js\";import{createCoordinateHelper as p}from\"../../../../interactive/coordinateHelper.js\";import{EditGeometry as y,Component as g}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as _}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";const G=\"esri.views.3d.analysis.AreaMeasurement.support.AreaMeasurement3DPathHelper\",f=o.getLogger(G);let v=class extends t.EventedAccessor{constructor(e={}){super(e),this._handles=new r,this._version=0,this._internalGeometryChange=!1,this._extent=c()}destroy(){this._handles=i(this._handles)}set areaMeasurement(e){this._set(\"areaMeasurement\",e),null!=e&&null!=this.view&&this._initialize(e,this.view)}set view(e){this._set(\"view\",e),null!=e&&null!=this.areaMeasurement&&this._initialize(this.areaMeasurement,e)}get constructed(){return null!=this.areaMeasurement&&null!=this.view}get version(){return this._version}get isValidPolygon(){return this.constructed&&this._editGeometry.components.length>0&&this._editGeometry.components[0].isClosed()}get extent(){if(this.constructed&&this._editGeometry.components.length>0&&this._editGeometry.components[0].vertices.length>0){const e=c(this._extent);return this.forEachVertex((t=>{u(e,t.pos)})),e}return null}get spatialReference(){return this.constructed?this._editGeometry.coordinateHelper.spatialReference:null}_initialize(e,t){this._handles.removeAll(),this._handles.add(s((()=>e.geometry),(()=>{this._updateEditGeometryFromModelGeometry(e,t)}),n)),this._makeDirty(!0)}_makeDirty(e=!1){this.notifyChange(\"isValidPolygon\"),this.notifyChange(\"initialized\"),this.notifyChange(\"extent\"),e&&this.notifyChange(\"numVertices\")}_updateEditGeometryFromModelGeometry(e,t){if(this._version++,this._internalGeometryChange)return;this._handles.remove(\"EditGeometry\");let r=e.geometry;if(null!=r){const o=h(r,t.spatialReference);null==o&&d(e,r.spatialReference,f),r=o}this._editGeometryOperations=null!=r?_.fromGeometry(r,t.state.viewingMode):new _(new y(\"polygon\",p(!0,!1,t.spatialReference))),this._makeDirty(!0),this.emit(\"change\"),this._handles.add(this._editGeometry.on(\"change\",(t=>{this._makeDirty(null!=t.addedVertices||null!=t.removedVertices),this._internalGeometryChange=!0,e.geometry=this.numVertices>0?this._editGeometry.geometry:null,this._internalGeometryChange=!1})),\"EditGeometry\")}get _editGeometry(){return this._editGeometryOperations.data}get vertices(){const e=[];return this.forEachVertex((t=>{e.push(t)})),e}get numVertices(){return this.constructed&&this._editGeometry.components.length>0?this._editGeometry.components[0].vertices.length:0}get lastPoint(){if(this.constructed&&this._editGeometry.components.length>0){const e=this._editGeometry.components[0].getLastVertex();if(null!=e)return this._editGeometry.coordinateHelper.vectorToPoint(e.pos)}return null}getVertex(e){if(!this.constructed||0===this._editGeometry.components.length||0===this._editGeometry.components[0].vertices.length)return null;const t=this._editGeometry.components[0].vertices[0];let r=t;do{if(r.index===e)return r;r=r.rightEdge.rightVertex}while(r!==t&&null!=r);return null}getVertexPositionAsPoint(e){return this._editGeometry.coordinateHelper.vectorToPoint(e.pos)}getVertexPositionAsPointFromIndex(e){return this._editGeometry.coordinateHelper.vectorToPoint(this.getVertex(e).pos)}forEachVertex(e){this.constructed&&this._editGeometry.components.length>0&&this._editGeometry.components[0].iterateVertices(e)}forEachVertexPosition(e){const t=this._editGeometry.coordinateHelper;this.forEachVertex(((r,o)=>{t.vectorToPoint(r.pos,V),e(V,o)}))}clear(){null!=this.areaMeasurement&&(this.areaMeasurement.geometry=null)}add(e){if(!this.constructed)return null;if(0===this._editGeometry.components.length){const e=this.view;this._editGeometry.components.push(new g(e.spatialReference,e.state.viewingMode))}const t=this._editGeometryOperations.appendVertex(this._editGeometry.coordinateHelper.pointToVector(e));return this.emit(\"change\"),t}close(){if(!this.constructed||0===this._editGeometry.components.length)return null;const e=this._editGeometryOperations.closeComponent(this._editGeometry.components[0]);return this.emit(\"change\"),e}ensureContains(e,t=\"\"){let r=!1;if(this._editGeometry.components.forEach((t=>{t.iterateVertices((t=>{t===e&&(r=!0)}))})),!r)throw new Error(`vertex doesnt exist ${t}`);return r}setVertexPosition(e,t){if(!this.constructed)return null;const r=this._editGeometryOperations.setVertexPosition(e,this._editGeometry.coordinateHelper.pointToVector(t));return this.emit(\"change\"),r}equals(e){if(this.numVertices!==e.numVertices)return!1;let t=!0;return this.forEachVertexPosition(((r,o)=>{const i=e.getVertexPositionAsPointFromIndex(o);r.equals(i)||(t=!1)})),!!t}};e([a({value:null})],v.prototype,\"areaMeasurement\",null),e([a({value:null})],v.prototype,\"view\",null),e([a()],v.prototype,\"isValidPolygon\",null),e([a()],v.prototype,\"extent\",null),e([a()],v.prototype,\"spatialReference\",null),e([a()],v.prototype,\"numVertices\",null),v=e([m(G)],v);const V=new l;export{v as AreaMeasurement3DPathHelper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../lib/DefaultVertexAttributeLocations.js\";import{oitBlending as i,oitDepthTest as n,oitDepthWrite as o}from\"../lib/OrderIndependentTransparency.js\";import{Program as s}from\"../lib/Program.js\";import{TransparencyPassType as a}from\"../lib/TransparencyPassType.js\";import{C as l}from\"../../../../chunks/CheckerBoard.glsl.js\";import{BlendFactor as p}from\"../../../webgl/enums.js\";import{separateBlendingParams as c,makePipelineState as m,defaultDepthWriteParams as u,defaultColorWriteParams as f}from\"../../../webgl/renderState.js\";class d extends r{initializeProgram(e){return new s(e.rctx,d.shader.get().build(this.configuration),t)}_setPipelineState(e){const r=this.configuration,t=e===a.NONE,s=e===a.FrontFace;return m({blending:r.transparent?t?g:i(e):null,depthTest:{func:n(e)},depthWrite:t?r.writeDepth?u:null:o(e),colorWrite:f,polygonOffset:t||s?r.polygonOffset?h:null:{factor:-1,units:-25}})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}d.shader=new e(l,(()=>import(\"./CheckerBoard.glsl.js\")));const h={factor:0,units:-25},g=c(p.SRC_ALPHA,p.ONE,p.ONE_MINUS_SRC_ALPHA,p.ONE_MINUS_SRC_ALPHA);export{d as CheckerBoardTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{TransparencyPassType as r}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as e}from\"../materials/DefaultTechniqueConfiguration.js\";class s extends e{constructor(){super(...arguments),this.transparencyPassType=r.NONE,this.transparent=!1,this.writeDepth=!0,this.polygonOffset=!1,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}t([o({count:r.COUNT})],s.prototype,\"transparencyPassType\",void 0),t([o()],s.prototype,\"transparent\",void 0),t([o()],s.prototype,\"writeDepth\",void 0),t([o()],s.prototype,\"polygonOffset\",void 0),t([o()],s.prototype,\"hasMultipassTerrain\",void 0),t([o()],s.prototype,\"cullAboveGround\",void 0);export{s as CheckerBoardTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as r}from\"../../../../chunks/vec2f64.js\";import{f as t}from\"../../../../chunks/vec4f64.js\";import{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import s from\"../lib/GLMaterial.js\";import{MaterialParameters as i}from\"../lib/Material.js\";import{RenderSlot as o}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as a}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as n}from\"./DefaultLayouts.js\";import{TriangleMaterial as u}from\"./TriangleMaterial.js\";import{CheckerBoardTechnique as p}from\"../shaders/CheckerBoardTechnique.js\";import{CheckerBoardTechniqueConfiguration as f}from\"../shaders/CheckerBoardTechniqueConfiguration.js\";class h extends u{constructor(r){super(r,new l),this._configuration=new f}dispose(){}getConfiguration(r,t){return this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}requiresSlot(r,t){if(t===e.Color||t===e.Alpha){return r===(this.parameters.transparent?this.parameters.writeDepth?o.TRANSPARENT_MATERIAL:o.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:o.OPAQUE_MATERIAL)||r===o.DRAPED_MATERIAL}return!1}createGLMaterial(r){return new c(r)}createBufferWriter(){return new a(n)}}class c extends s{beginSlot(r){return this.ensureTechnique(p,r)}}class l extends i{constructor(){super(...arguments),this.size=r(1,1),this.color1=t(.75,.75,.75,1),this.color2=t(.5,.5,.5,1),this.transparent=!1,this.writeDepth=!0,this.polygonOffset=!1}}export{h as CheckerBoardMaterial,l as Parameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{B as e}from\"../../../../chunks/mat4.js\";import{j as r}from\"../../../../chunks/vec2.js\";import{f as t}from\"../../../../chunks/vec2f64.js\";import{b as s}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{g as i,c}from\"../../../../chunks/vec4.js\";import{f as a}from\"../../../../chunks/vec4f64.js\";import{Object3DVisualElement as l}from\"./Object3DVisualElement.js\";import{Attribute as n}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as h}from\"../../webgl-engine/lib/Geometry.js\";import{RenderOccludedFlag as d}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as u}from\"../../webgl-engine/lib/VertexAttribute.js\";import{CheckerBoardMaterial as m}from\"../../webgl-engine/materials/CheckerBoardMaterial.js\";class _ extends l{constructor(e){super(e),this._checkerBoardMaterial=null,this._renderOccluded=d.OccludeAndTransparent,this._geometry=null,this._size=t(1,1),this._color1=a(1,.5,0,.5),this._color2=a(1,1,1,.5),this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this._geometryChanged()}get size(){return this._size}set size(e){r(this._size,e),this._updateMaterial()}get color1(){return this._color1}set color1(e){i(e,this._color1)||(c(this._color1,e),this._updateMaterial())}get color2(){return this._color2}set color2(e){i(e,this._color2)||(c(this._color2,e),this._updateMaterial())}_updateMaterial(){null!=this._checkerBoardMaterial&&this._checkerBoardMaterial.setParameters({size:this._size,color1:this._color1,color2:this._color2,renderOccluded:this._renderOccluded})}createExternalResources(){this._checkerBoardMaterial=new m({size:this._size,color1:this._color1,color2:this._color2,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:d.OccludeAndTransparent})}destroyExternalResources(){this._checkerBoardMaterial=null}forEachExternalMaterial(e){null!=this._checkerBoardMaterial&&e(this._checkerBoardMaterial)}createGeometries(r){if(null==this._geometry||null==this._checkerBoardMaterial)return;const t=p;e(t,this.transform);const i=this._geometry,c=[],a=o();i.position.forEach((e=>{s(a,e,t),c.push(a[0],a[1],a[2])}));const l=[];i.uv.forEach((e=>{l.push(e[0],e[1])}));const d=new h(this._checkerBoardMaterial,[[u.POSITION,new n(c,3,!0)],[u.UV0,new n(l,2,!0)]],[[u.POSITION,i.triangleIndices],[u.UV0,i.triangleIndices]]);r.addGeometry(d)}_geometryChanged(){this.recreateGeometry()}}const p=o();export{_ as MeasurementAreaVisualElement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../Color.js\";import\"../../../../../intl.js\";import i from\"../../../../../core/Accessor.js\";import{getAccentColor as s,getContrastColor as r,getTextHaloColor as n,getTextColor as a}from\"../../../../../core/analysisThemeUtils.js\";import\"../../../../../core/has.js\";import o from\"../../../../../core/Handles.js\";import{nextHighestPowerOfTen as l}from\"../../../../../core/mathUtils.js\";import{destroyMaybe as h}from\"../../../../../core/maybe.js\";import{formatDecimal as m}from\"../../../../../core/quantityFormatUtils.js\";import{toUnit as c}from\"../../../../../core/quantityUtils.js\";import{watch as p,syncAndInitial as d}from\"../../../../../core/reactiveUtils.js\";import{convertUnit as u,preferredImperialAreaUnit as g,preferredMetricAreaUnit as _,preferredImperialLengthUnit as L,preferredMetricLengthUnit as b}from\"../../../../../core/unitUtils.js\";import{property as v}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import{subclass as f}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{f as S}from\"../../../../../chunks/mat4.js\";import{c as w}from\"../../../../../chunks/mat4f64.js\";import{b as y}from\"../../../../../chunks/vec3.js\";import{c as j}from\"../../../../../chunks/vec3f64.js\";import{midpoint as C}from\"../../support/viewUtils.js\";import{LabelVisualElement as A}from\"../../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as P}from\"../../../interactive/visualElements/LineVisualElement.js\";import{MeasurementAreaVisualElement as D}from\"../../../interactive/visualElements/MeasurementAreaVisualElement.js\";import{GeodesicSegment as V,EuclideanSegment as M}from\"../../../interactive/visualElements/support/Segment.js\";import{RenderOccludedFlag as R}from\"../../../webgl-engine/lib/Material.js\";import{createStipplePatternSimple as U}from\"../../../webgl-engine/materials/lineStippleUtils.js\";import{onLocaleChange as I}from\"../../../../../intl/locale.js\";import{fetchMessageBundle as O}from\"../../../../../intl/messages.js\";let z=class extends i{get visible(){return this.analysisViewData.visible}get testData(){return{labels:{area:this._areaLabel,pathLength:this._pathLengthLabel,cursorSegmentLength:this._cursorSegmentLengthLabel,perimeterLength:this._perimeterLengthLabel}}}constructor(e){super(e),this._handles=new o,this._params={pathLineColor:t.toUnitRGBA(s()),pathLineWidth:3,intersectingLineColor:[1,.2,0,1],perimeterLineColor:t.toUnitRGBA(s()),perimeterLineWidth:2,projectionLineColor:t.toUnitRGBA(s()),projectionLineWidth:2,projectionLineStippleSize:5,areaColor1:t.toUnitRGBA(s(.5)),areaColor2:t.toUnitRGBA(r(.5)),labelDistance:25},this._path=null,this._intersectedPath=null,this._perimeter=null,this._intersectedPerimeter=null,this._projectionLines=null,this._measurementArea=null,this._areaLabel=null,this._pathLengthLabel=null,this._cursorSegmentLengthLabel=null,this._perimeterLengthLabel=null,this._pathSegments=[],this._perimeterSegments=[],this._cursorSegment=null,this._origin=j(),this._originTransform=w(),this._cursorPositionRenderSpace=j(),this.messages=null,this.viewData=q,this.areaLabel=null,this.perimeterLengthLabel=null,this.loadingMessages=!0}initialize(){const{analysisViewData:e,_params:t,view:i}=this;this._path=new P({view:i,attached:!0,width:t.pathLineWidth,color:t.pathLineColor,polygonOffset:!0,renderOccluded:R.OccludeAndTransparent}),this._intersectedPath=new P({view:i,attached:!0,width:t.pathLineWidth,color:t.intersectingLineColor,polygonOffset:!0,renderOccluded:R.OccludeAndTransparent}),this._perimeter=new P({view:i,attached:!0,width:t.perimeterLineWidth,color:t.perimeterLineColor,polygonOffset:!0,renderOccluded:R.OccludeAndTransparent}),this._intersectedPerimeter=new P({view:i,attached:!0,width:t.perimeterLineWidth,color:t.intersectingLineColor,polygonOffset:!0,renderOccluded:R.OccludeAndTransparent}),this._projectionLines=new P({view:i,attached:!0,width:t.projectionLineWidth,color:t.projectionLineColor,stipplePattern:U(t.projectionLineStippleSize),polygonOffset:!0,renderOccluded:R.OccludeAndTransparent}),this._measurementArea=new D({view:i,attached:!0,color1:t.areaColor1,color2:t.areaColor2});const s={attached:!0,backgroundColor:n(.6),calloutColor:n(.5),textColor:a(),view:i};this._areaLabel=new A({...s,fontSize:k.Large}),this._pathLengthLabel=new A({...s,fontSize:k.Small}),this._cursorSegmentLengthLabel=new A({...s,fontSize:k.Small}),this._perimeterLengthLabel=new A({...s,fontSize:k.Small}),this._handles.add([p((()=>[e.mode,this.visible,e.unit,e.measurementData,e.cursorPoint]),(()=>this._update()),d),p((()=>i.state?.camera),(()=>this._updateLabels()),d),I((()=>this._updateMessageBundle()))]),this._updateMessageBundle()}destroy(){this._measurementArea=h(this._measurementArea),this._path=h(this._path),this._intersectedPath=h(this._intersectedPath),this._perimeter=h(this._perimeter),this._intersectedPerimeter=h(this._intersectedPerimeter),this._areaLabel=h(this._areaLabel),this._pathLengthLabel=h(this._pathLengthLabel),this._cursorSegmentLengthLabel=h(this._cursorSegmentLengthLabel),this._perimeterLengthLabel=h(this._perimeterLengthLabel),this._projectionLines=h(this._projectionLines),this._handles=h(this._handles),this.set(\"view\",null)}_update(){if(this.destroyed||!this.view.ready||!this.view.renderCoordsHelper)return;const{analysisViewData:{measurementData:e},analysisViewData:t}=this;null!=e&&(this._updateViewData(e,t.path,t.cursorPoint),this._updateOrigin(),this._updatePathSegments(),this._updatePerimeterSegments(),this._updateArea(),this._updateProjectionLines(),this._updateLabels())}_updateViewData(e,t,i){const s=t.isValidPolygon,r=\"geodesic\"===e.actualMeasurementMode,n=r?e.geodesicArea:e.area;let a=1;if(n){const t=this._toPreferredAreaUnit(n,this.analysisViewData.unit);a=l(Math.sqrt(t.value)/Math.sqrt(300)),a*=Math.sqrt(u(1,t.unit,\"square-meters\")),a/=e.unitNormalizer.normalizeDistance(1)}const o={validMeasurement:s,path:t,pathVersion:t.version,cursorPoint:i,measurementData:e,mode:e.actualMeasurementMode,positionsGeographic:e.positionsGeographic,positionsRenderCoords:e.positionsRenderCoords,positionsProjected:e.positionsProjectedWorldCoords,positionsFittedRenderCoords:e.positionsFittedRenderCoords,intersectingSegments:r?e.geodesicIntersectingSegments:e.intersectingSegments,triangleIndices:r?e.geodesicTriangleIndices:e.triangleIndices,fittingMode:e.fittingMode,areaCentroid:r?e.geodesicAreaCentroidRenderCoords:e.areaCentroidRenderCoords,pathLengthLabelSegmentIndex:s?0:t.numVertices-2,perimeterLengthLabelSegmentIndex:0,checkerSize:a};this._set(\"viewData\",o)}_updateOrigin(){const e=this.viewData;C(e.positionsRenderCoords,this._origin),S(this._originTransform,this._origin),this._measurementArea.transform=this._originTransform,this._projectionLines.transform=this._originTransform}_createSegments(e){const t=this.viewData,i=t.path,s=this.view.renderCoordsHelper.spatialReference,r=t.mode,n=[],a=[],o=[],l=t.validMeasurement?i.numVertices:i.numVertices-1;for(let h=0;h<l;++h){const l=t[e][h],m=t[e][(h+1)%i.numVertices];let c=null;switch(r){case\"euclidean\":c=new M(l,m);break;case\"geodesic\":c=new V(l,m,s)}t.intersectingSegments.has(h)?o.push(c):a.push(c),n.push(c)}return{all:n,nonIntersecting:a,intersecting:o}}_updatePathSegments(){const{view:{renderCoordsHelper:e},viewData:t,visible:i}=this,s=this._createSegments(\"positionsRenderCoords\"),{cursorPoint:r,mode:n,path:a}=t,o=!a.isValidPolygon,l=e.spatialReference;if(this._cursorSegment=null,a.numVertices>0&&o&&null!=r){if(e.toRenderCoords(r,this._cursorPositionRenderSpace)){const e=t.positionsRenderCoords[a.numVertices-1],i=this._cursorPositionRenderSpace;let r=null;switch(n){case\"euclidean\":r=new M(e,i);break;case\"geodesic\":r=new V(e,i,l)}s.nonIntersecting.push(r),this._cursorSegment=r}}this._path.setGeometryFromSegments(s.nonIntersecting,this._origin),this._path.visible=i,this._intersectedPath.setGeometryFromSegments(s.intersecting,this._origin),this._intersectedPath.visible=i,this._pathSegments=s.all}_updatePerimeterSegments(){const e=this.visible&&\"euclidean\"===this.viewData.mode,t=this._createSegments(\"positionsFittedRenderCoords\");this._perimeter.setGeometryFromSegments(t.nonIntersecting,this._origin),this._perimeter.visible=e,this._intersectedPerimeter.setGeometryFromSegments(t.intersecting,this._origin),this._intersectedPerimeter.visible=e,this._perimeterSegments=t.all}_updateArea(){const e=this.viewData;switch(e.mode){case\"euclidean\":this._updateAreaEuclidean(e);break;case\"geodesic\":this._updateAreaGeodesic()}}_updateAreaEuclidean(e){const t=this.visible;e.validMeasurement&&0===e.intersectingSegments.size&&e.triangleIndices?(this._measurementArea.geometry={uv:e.positionsProjected,position:e.positionsFittedRenderCoords,triangleIndices:e.triangleIndices},this._measurementArea.size=[e.checkerSize,e.checkerSize],this._measurementArea.visible=t):this._measurementArea.visible=!1}_updateAreaGeodesic(){this._measurementArea.visible=!1}_updateProjectionLines(){const e=this.viewData,t=this.visible,i=e.path,s=e.mode;if(i.numVertices>0&&e.validMeasurement&&\"euclidean\"===s){const s=[];for(let t=0;t<i.numVertices;++t){const i=j();y(i,e.positionsRenderCoords[t],this._origin);const r=j();y(r,e.positionsFittedRenderCoords[t],this._origin),s.push([i,r])}this._projectionLines.geometry=s,this._projectionLines.visible=t}else this._projectionLines.geometry=null,this._projectionLines.visible=!1}_updateLabels(){if(this.destroyed)return;const{viewData:e}=this,{measurementData:t,mode:i,path:s}=e;if(!s)return;const r=!s.isValidPolygon,n=this.visible,a=this._formatAreaLabel(this.messages,\"geodesic\"===i?t.geodesicArea:t.area,this.analysisViewData.unit);null!=a?(this._areaLabel.geometry={type:\"point\",point:e.areaCentroid},this._areaLabel.text=a,this._areaLabel.visible=e.validMeasurement&&0===e.intersectingSegments.size&&n):this._areaLabel.visible=!1,this._set(\"areaLabel\",a);const o=this._formatLengthLabel(this.messages,\"geodesic\"===i?t.geodesicPathLength:t.pathLength,this.analysisViewData.unit);if(null!=o&&e.pathLengthLabelSegmentIndex>=0&&e.pathLengthLabelSegmentIndex<this._pathSegments.length){const t=this._pathSegments[e.pathLengthLabelSegmentIndex],i=null!=this._cursorSegment?this._cursorSegment:x;this._pathLengthLabel.distance=this._params.labelDistance,this._pathLengthLabel.geometry={type:\"corner\",left:t,right:i},this._pathLengthLabel.text=o,this._pathLengthLabel.visible=r&&s.numVertices>0&&n}else this._pathLengthLabel.visible=!1;const l=\"geodesic\"===i?e.measurementData.geodesicCursorSegmentLength:e.measurementData.cursorSegmentLength;if(null!=l){const e=this._formatLengthLabel(this.messages,l,this.analysisViewData.unit);this._cursorSegmentLengthLabel.distance=this._params.labelDistance,this._cursorSegmentLengthLabel.geometry=null!=this._cursorSegment?{type:\"segment\",segment:this._cursorSegment,sampleLocation:\"end\"}:null,this._cursorSegmentLengthLabel.anchor=\"bottom\",this._cursorSegmentLengthLabel.text=e,this._cursorSegmentLengthLabel.visible=r&&0!==l.value&&n}else this._cursorSegmentLengthLabel.visible=!1;this._cursorSegmentLengthLabel.overlaps(this._pathLengthLabel)&&(this._cursorSegmentLengthLabel.visible=!1),this._pathLengthLabel.overlaps(this._areaLabel)&&(this._pathLengthLabel.visible=!1);const h=\"geodesic\"===e.mode,m=h?t.geodesicPathLength:t.perimeterLength,c=this._formatLengthLabel(this.messages,m,this.analysisViewData.unit);if(this._set(\"perimeterLengthLabel\",c),e.validMeasurement&&0===e.intersectingSegments.size){this._perimeterLengthLabel.distance=this._params.labelDistance,this._perimeterLengthLabel.anchor=\"top\",this._perimeterLengthLabel.text=c,this._perimeterLengthLabel.visible=!0;let t=!0;for(let i=0;i<e.path.numVertices;++i){const s=(e.perimeterLengthLabelSegmentIndex+i)%e.path.numVertices,r=h?this._pathSegments[s]:this._perimeterSegments[s];if(t=!0,this._perimeterLengthLabel.geometry={type:\"segment\",segment:r,sampleLocation:\"center\"},!this._perimeterLengthLabel.overlaps(this._areaLabel))break;t=!1}this._perimeterLengthLabel.visible=t&&n}else this._perimeterLengthLabel.visible=!1}_toPreferredAreaUnit(e,t){return c(e,this._preferredAreaUnit(e,t))}_preferredAreaUnit(e,t){switch(t){case\"metric\":return _(e.value,e.unit);case\"imperial\":return g(e.value,e.unit);default:return t}}_preferredLengthUnit(e,t){const i=this._deriveLengthUnitFromAreaUnit(t);switch(i){case\"metric\":return b(e.value,e.unit);case\"imperial\":return L(e.value,e.unit);default:return i}}_deriveLengthUnitFromAreaUnit(e){switch(e){case\"metric\":case\"ares\":case\"hectares\":return\"metric\";case\"imperial\":case\"acres\":return\"imperial\";case\"square-inches\":return\"inches\";case\"square-feet\":return\"feet\";case\"square-yards\":return\"yards\";case\"square-miles\":return\"miles\";case\"square-us-feet\":return\"us-feet\";case\"square-millimeters\":return\"millimeters\";case\"square-centimeters\":return\"centimeters\";case\"square-decimeters\":return\"decimeters\";case\"square-meters\":return\"meters\";case\"square-kilometers\":return\"kilometers\"}throw new Error(\"unhandled area unit\")}_formatAreaLabel(e,t,i){return e&&t&&m(e,t,this._preferredAreaUnit(t,i))}_formatLengthLabel(e,t,i){return e&&t&&m(e,t,this._preferredLengthUnit(t,i))}_updateMessageBundle(){this.loadingMessages=!0,O(\"esri/core/t9n/Units\").then((e=>{this.messages=e,this.view&&this._update()})).finally((()=>{this.loadingMessages=!1}))}};var k;e([v()],z.prototype,\"view\",void 0),e([v()],z.prototype,\"messages\",void 0),e([v()],z.prototype,\"analysis\",void 0),e([v()],z.prototype,\"viewData\",void 0),e([v()],z.prototype,\"analysisViewData\",void 0),e([v({readOnly:!0})],z.prototype,\"areaLabel\",void 0),e([v({readOnly:!0})],z.prototype,\"perimeterLengthLabel\",void 0),e([v()],z.prototype,\"loadingMessages\",void 0),e([v()],z.prototype,\"visible\",null),z=e([f(\"esri.views.3d.analysis.AreaMeasurement.support.AreaMeasurementVisualization\")],z),function(e){e[e.Small=12]=\"Small\",e[e.Large=16]=\"Large\"}(k||(k={}));const q={validMeasurement:!1,path:null,pathVersion:-1,cursorPoint:null,measurementData:null,mode:null,positionsGeographic:null,positionsRenderCoords:null,positionsProjected:null,positionsFittedRenderCoords:null,intersectingSegments:null,triangleIndices:null,fittingMode:null,areaCentroid:null,pathLengthLabelSegmentIndex:null,perimeterLengthLabelSegmentIndex:null,checkerSize:null},x=new M(j(),j());export{z as AreaMeasurementVisualization};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as i}from\"../../../properties/defaultUnit.js\";import{AnalysisView3D as o}from\"./AnalysisView3D.js\";import{MeasurementMode as n}from\"./interfaces.js\";import{AreaMeasurementController as l}from\"./AreaMeasurement/support/AreaMeasurementController.js\";import{AreaMeasurement3DPathHelper as p}from\"./AreaMeasurement/support/AreaMeasurementPathHelper.js\";import{AreaMeasurementVisualization as u}from\"./AreaMeasurement/support/AreaMeasurementVisualization.js\";let m=class extends(o(t)){constructor(e){super(e),this.type=\"area-measurement-view-3d\",this.analysis=null,this.measurementData=null,this.lastDraggedVertex=null,this.cursorPoint=null,this.mode=n.Auto}initialize(){const{analysis:e,view:t}=this;this.path=new p({view:t,areaMeasurement:e}),this.analysisVisualization=new u({view:t,analysis:e,analysisViewData:this}),this.analysisController=new l({view:t,analysis:e,analysisViewData:this})}destroy(){this.analysisController=s(this.analysisController),this.analysisVisualization=s(this.analysisVisualization),this.path.destroy()}get updating(){return!!this.analysisVisualization?.loadingMessages}get result(){const{measurementData:e}=this;return null==e?{area:null,mode:null,perimeter:null}:\"euclidean\"===e.actualMeasurementMode?{area:e.area,perimeter:e.perimeterLength,mode:\"euclidean\"}:{area:e.geodesicArea,perimeter:e.pathLength,mode:\"geodesic\"}}get viewData(){return this.analysisVisualization.viewData}get validMeasurement(){return this.path.isValidPolygon}get unit(){return this.analysis.unit??this._defaultUnit}get testData(){return{visualization:this.analysisVisualization,controller:this.analysisController}}};e([a({readOnly:!0})],m.prototype,\"type\",void 0),e([a({constructOnly:!0,nonNullable:!0})],m.prototype,\"analysis\",void 0),e([a()],m.prototype,\"updating\",null),e([a()],m.prototype,\"analysisVisualization\",void 0),e([a()],m.prototype,\"analysisController\",void 0),e([a()],m.prototype,\"result\",null),e([a()],m.prototype,\"measurementData\",void 0),e([a()],m.prototype,\"viewData\",null),e([a()],m.prototype,\"validMeasurement\",null),e([a()],m.prototype,\"path\",void 0),e([a()],m.prototype,\"lastDraggedVertex\",void 0),e([a()],m.prototype,\"cursorPoint\",void 0),e([a()],m.prototype,\"mode\",void 0),e([a()],m.prototype,\"unit\",null),e([a(i)],m.prototype,\"_defaultUnit\",void 0),m=e([r(\"esri.views.3d.analysis.AreaMeasurementAnalysisView3D\")],m);const y=m;export{y as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIupB,SAASA,GAAEC,IAAEC,IAAE;AAAC,QAAMC,KAAED,GAAE;AAAO,IAAEC,IAAE,GAAE,GAAE,CAAC;AAAE,WAAQC,KAAE,GAAEA,KAAEH,GAAE,QAAO,EAAEG;AAAE,MAAED,IAAEA,IAAEF,GAAEG,EAAC,CAAC;AAAE,IAAED,IAAEA,IAAE,IAAEF,GAAE,MAAM;AAAE,MAAII,KAAE;AAAE,WAAQD,KAAE,GAAEA,KAAEH,GAAE,QAAO,EAAEG;AAAE,IAAAC,KAAE,KAAK,IAAIA,IAAE,EAAEF,IAAEF,GAAEG,EAAC,CAAC,CAAC;AAAE,EAAAF,GAAE,SAAO,KAAK,KAAKG,EAAC;AAAC;AAAC,SAASC,GAAEF,IAAEG,IAAE;AAAC,MAAGH,GAAE,SAAO;AAAE,UAAM,IAAI,MAAM,uCAAuC;AAAE,IAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEG,EAAC;AAAC;AAAC,SAASC,GAAEJ,IAAEG,IAAE;AAAC,SAAO,EAAEH,IAAEG,EAAC,IAAEH,GAAE,CAAC;AAAC;AAAC,SAASK,GAAEL,IAAEG,IAAEG,IAAE;AAAC,SAAO,GAAEN,IAAEO,IAAED,EAAC,KAAG,GAAEH,IAAEK,IAAEF,EAAC,IAAE,EAAEC,IAAEC,EAAC,IAAE;AAAC;AAAC,SAASC,GAAET,IAAEG,IAAE;AAAC,MAAG,CAAC,GAAEH,IAAEO,EAAC,KAAG,CAAC,GAAEJ,IAAEK,EAAC;AAAE,WAAO;AAAE,QAAMF,KAAE,IAAIC;AAAE,SAAOF,GAAEC,IAAE,CAACC,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,GAAE,CAACC,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,CAAC,GAAEF,GAAE;AAAQ;AAAC,SAASI,GAAEV,IAAEG,IAAEG,IAAE;AAAC,QAAMK,KAAE,IAAIJ;AAAE,SAAOF,GAAEM,IAAE,CAACX,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,GAAE,CAACG,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,GAAEG,EAAC,GAAEK,GAAE;AAAQ;AAAC,SAASC,GAAEZ,IAAEG,IAAEG,IAAEK,IAAE;AAAC,QAAMd,KAAEgB;AAAE,SAAO,GAAEb,IAAEW,IAAEJ,EAAC,KAAG,GAAEJ,IAAEQ,IAAEH,EAAC,KAAG,GAAEF,IAAEK,IAAEG,EAAC,KAAGjB,GAAE,SAAS,GAAE,GAAEU,EAAC,GAAEV,GAAE,SAAS,GAAE,GAAEW,EAAC,GAAEX,GAAE,SAAS,GAAE,GAAEiB,EAAC,GAAE,KAAK,IAAI,EAAEjB,IAAE,eAAe,CAAC,KAAG;AAAC;AAAC,SAASkB,GAAET,IAAEK,KAAE,MAAKb,KAAE,MAAG;AAAC,QAAMkB,KAAE,MAAKC,KAAE,CAACjB,IAAEG,OAAI;AAAC,QAAG,MAAIA,GAAE,CAAC,KAAG,MAAIA,GAAE,CAAC,KAAG,MAAIA,GAAE,CAAC;AAAE,aAAM;AAAG,aAAQG,KAAE,GAAEA,KAAEN,GAAE,QAAO,EAAEM;AAAE,UAAG,EAAEH,IAAEH,GAAEM,EAAC,CAAC,IAAE,CAACU;AAAE,eAAM;AAAG,WAAM;AAAA,EAAE;AAAE,MAAG,MAAIV,GAAE;AAAO,WAAM;AAAG,MAAG,MAAIA,GAAE;AAAO,WAAOK,MAAG,EAAEA,IAAEL,GAAE,CAAC,CAAC,GAAE;AAAG,IAAE,GAAE,GAAE,GAAE,CAAC;AAAE,WAAQN,KAAE,GAAEA,KAAEM,GAAE,QAAO,EAAEN;AAAE,MAAE,GAAE,GAAEM,GAAEN,EAAC,CAAC;AAAE,MAAG,EAAE,GAAE,CAAC,GAAEiB,GAAEX,IAAE,CAAC;AAAE,WAAOK,MAAG,EAAEA,IAAE,CAAC,GAAE;AAAG,MAAG,CAACb;AAAE,WAAM;AAAG,WAAQE,KAAE,GAAEA,KAAEM,GAAE,QAAO,EAAEN;AAAE,aAAQG,KAAE,GAAEA,KAAEG,GAAE,QAAO,EAAEH;AAAE,UAAGH,OAAIG,OAAI,EAAE,GAAEG,GAAEN,EAAC,GAAEM,GAAEH,EAAC,CAAC,GAAE,EAAE,GAAE,CAAC,GAAEc,GAAEX,IAAE,CAAC;AAAG,eAAOK,MAAG,EAAEA,IAAE,CAAC,GAAE;AAAG,SAAM;AAAE;AAA2D,IAAMO,KAAE,EAAE;AAAV,IAAYC,KAAE,EAAE;AAAhB,IAAkBC,KAAE,EAAE;AAAtB,IAAwBC,KAAE,IAAIC,GAAE,EAAC,OAAM,CAAC,CAACJ,IAAEC,IAAEC,EAAC,CAAC,GAAE,kBAAiBG,GAAE,MAAK,CAAC;AAA1E,IAA4E,IAAE,EAAE;;;ACAptB,IAAMC,KAAE,EAAE;AAAV,IAAYC,KAAE,EAAE;AAA+C,SAASC,GAAEC,IAAE;AAAC,SAAO,EAAEC,GAAED,EAAC,GAAE,CAAC,GAAE,CAAC;AAAC;AAAC,SAASC,GAAED,IAAE;AAAC,QAAME,KAAE,IAAI,aAAa,IAAEF,GAAE,MAAM;AAAE,WAAQG,KAAE,GAAEA,KAAEH,GAAE,QAAO,EAAEG,IAAE;AAAC,UAAMC,KAAEJ,GAAEG,EAAC,GAAEE,KAAE,IAAEF;AAAE,IAAAD,GAAEG,EAAC,IAAED,GAAE,CAAC,GAAEF,GAAEG,KAAE,CAAC,IAAED,GAAE,CAAC;AAAA,EAAC;AAAC,SAAOF;AAAC;;;ACAqW,IAAM,IAAN,MAAO;AAAA,EAAC,YAAYI,IAAEC,IAAE;AAAC,SAAK,uBAAqB,CAAC,GAAE,KAAK,wBAAsB,CAAC,GAAE,KAAK,gCAA8B,CAAC,GAAE,KAAK,8BAA4B,CAAC,GAAE,KAAK,sBAAoB,CAAC,GAAE,KAAK,qBAAmB,CAAC,GAAE,KAAK,yBAAuB,CAAC,GAAE,KAAK,qBAAmB,CAAC,GAAE,KAAK,6BAA2B,CAAC,GAAE,KAAK,0BAAwB,CAAC,GAAE,KAAK,uBAAqB,oBAAI,OAAI,KAAK,+BAA6B,oBAAI,OAAI,KAAK,kBAAgB,MAAK,KAAK,0BAAwB,MAAK,KAAK,0BAAwB,EAAE,GAAE,KAAK,2BAAyB,EAAE,GAAE,KAAK,mCAAiC,EAAE,GAAE,KAAK,OAAK,MAAK,KAAK,eAAa,MAAK,KAAK,aAAW,MAAK,KAAK,qBAAmB,MAAK,KAAK,kBAAgB,MAAK,KAAK,UAAQ,GAAE,KAAK,wBAAsB,EAAE,GAAE,KAAK,oBAAkBC,GAAE,GAAE,KAAK,WAAS,EAAE,GAAE,KAAK,gBAAc,EAAE,GAAE,KAAK,SAAO,CAAC,EAAE,GAAE,EAAE,GAAE,EAAE,CAAC,GAAE,KAAK,eAAa,IAAG,KAAK,oBAAkB,OAAG,KAAK,kBAAgB,OAAG,KAAK,QAAM,MAAK,KAAK,SAAO,EAAE,GAAE,KAAK,SAAO,EAAE,GAAE,KAAK,YAAU,EAAE,GAAE,KAAK,cAAY,EAAC,QAAO,EAAE,GAAE,QAAO,EAAC,GAAE,KAAK,aAAWF,IAAE,KAAK,iBAAeC;AAAA,EAAC;AAAA,EAAC,OAAOD,IAAEG,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAE;AAAC,UAAMC,KAAE,KAAK,gBAAeC,KAAE,KAAK,WAAW,wBAAuBC,KAAE,KAAK,eAAe,kBAAiBC,KAAE,QAAMT;AAAE,QAAG,KAAK,iBAAeH,GAAE,WAAS,KAAK,sBAAoBK,MAAG,CAACG,MAAG,KAAK,oBAAkBI,MAAG,KAAK,UAAQL,IAAE;AAAC,aAAM,CAACP,GAAE,mBAAiB,KAAK,2BAA2BA,IAAEG,EAAC,GAAE;AAAA,IAAG;AAAC,SAAK,eAAaH,GAAE,SAAQ,KAAK,oBAAkBK,IAAE,KAAK,kBAAgBO;AAAE,UAAMC,KAAEb,GAAE;AAAY,SAAK,QAAQa,EAAC;AAAE,UAAMC,KAAE,EAAEV,GAAE,gBAAgB,GAAEW,KAAE,GAAEX,GAAE,kBAAiBU,EAAC,KAAG,GAAEV,GAAE,gBAAgB,GAAE,EAAC,qBAAoBY,IAAE,sBAAqBC,IAAE,uBAAsBC,IAAE,oBAAmBC,GAAC,IAAE;AAAK,IAAAnB,GAAE,sBAAuB,CAACA,IAAEC,OAAI;AAAC,QAAEG,GAAE,mBAAkBJ,EAAC,GAAE,GAAEA,IAAEiB,GAAEhB,EAAC,GAAEU,EAAC,GAAE,GAAEX,IAAEkB,GAAEjB,EAAC,GAAES,EAAC,GAAEK,OAAI,GAAEf,IAAEgB,GAAEf,EAAC,CAAC,GAAE,GAAED,IAAEmB,GAAElB,EAAC,GAAEa,EAAC,GAAE,EAAEK,GAAElB,EAAC,GAAEkB,GAAElB,EAAC,CAAC;AAAA,IAAE,CAAE;AAAE,UAAMmB,KAAE,KAAK,mBAAmBf,EAAC;AAAE,QAAG,KAAK,aAAW,KAAK,UAAQ,IAAEC,GAAEG,GAAE,kBAAkBW,EAAC,GAAE,QAAQ,IAAE,MAAKL,IAAE;AAAC,YAAMf,KAAE,KAAK,2BAA2BK,IAAEM,EAAC;AAAE,WAAK,qBAAmB,KAAK,UAAQ,IAAEL,GAAEN,IAAE,QAAQ,IAAE;AAAA,IAAI;AAAM,WAAK,qBAAmB;AAAK,WAAO,KAAK,2BAA2BA,IAAEG,EAAC,GAAE,KAAK,YAAYH,IAAEO,EAAC,GAAEF,MAAG,KAAK,YAAYD,IAAEK,IAAEC,IAAEC,IAAEL,EAAC,GAAES,MAAG,KAAK,oBAAoBX,EAAC,GAAE,SAAK,KAAK,OAAK,MAAK,KAAK,eAAa,MAAK,KAAK,kBAAgB,MAAK,KAAK,kBAAgB,MAAK,KAAK,0BAAwB,MAAK,KAAK,qBAAqB,MAAM,GAAE,KAAK,6BAA6B,MAAM,GAAE;AAAA,EAAG;AAAA,EAAC,UAAS;AAAC,WAAM,EAAC,sBAAqB,KAAK,sBAAqB,uBAAsB,KAAK,uBAAsB,+BAA8B,KAAK,+BAA8B,6BAA4B,KAAK,6BAA4B,qBAAoB,KAAK,qBAAoB,oBAAmB,KAAK,oBAAmB,wBAAuB,KAAK,wBAAuB,oBAAmB,KAAK,oBAAmB,4BAA2B,KAAK,4BAA2B,yBAAwB,KAAK,yBAAwB,sBAAqB,KAAK,sBAAqB,8BAA6B,KAAK,8BAA6B,iBAAgB,KAAK,iBAAgB,yBAAwB,KAAK,yBAAwB,yBAAwB,KAAK,yBAAwB,0BAAyB,KAAK,0BAAyB,kCAAiC,KAAK,kCAAiC,aAAY,KAAK,aAAY,MAAK,KAAK,MAAK,cAAa,KAAK,cAAa,YAAW,KAAK,YAAW,oBAAmB,KAAK,oBAAmB,iBAAgB,KAAK,iBAAgB,qBAAoB,KAAK,qBAAoB,6BAA4B,KAAK,6BAA4B,gBAAe,KAAK,gBAAe,uBAAsB,KAAK,sBAAqB;AAAA,EAAC;AAAA,EAAC,QAAQJ,IAAE;AAAC,SAAIA,KAAE,KAAK,YAAU,KAAK,qBAAqB,SAAOA,IAAE,KAAK,sBAAsB,SAAOA,IAAE,KAAK,8BAA8B,SAAOA,IAAE,KAAK,4BAA4B,SAAOA,IAAE,KAAK,oBAAoB,SAAOA,IAAE,KAAK,mBAAmB,SAAOA,IAAE,KAAK,uBAAuB,SAAOA,IAAE,KAAK,mBAAmB,SAAOA,IAAE,KAAK,2BAA2B,SAAOA,IAAE,KAAK,wBAAwB,SAAOA,IAAE,KAAK,UAAQA,KAAG,KAAK,UAAQA;AAAG,WAAK,qBAAqB,KAAK,EAAE,CAAC,GAAE,KAAK,sBAAsB,KAAK,EAAE,CAAC,GAAE,KAAK,8BAA8B,KAAKE,GAAE,CAAC,GAAE,KAAK,4BAA4B,KAAK,EAAE,CAAC,GAAE,KAAK,oBAAoB,KAAK,EAAE,CAAC,GAAE,KAAK,mBAAmB,KAAK,EAAE,CAAC,GAAE,KAAK,uBAAuB,KAAKA,GAAE,CAAC,GAAE,KAAK,mBAAmB,KAAK,CAAC,GAAE,KAAK,2BAA2B,KAAK,CAAC,GAAE,KAAK,wBAAwB,KAAK,CAAC,GAAE,EAAE,KAAK;AAAA,EAAO;AAAA,EAAC,mBAAmBF,IAAE;AAAC,UAAMC,KAAE,KAAK,sBAAqBE,KAAE,KAAK;AAAmB,QAAIC,KAAE;AAAE,aAAQC,KAAE,GAAEA,KAAE,KAAK,SAAQ,EAAEA,IAAE;AAAC,YAAMC,KAAEH,GAAEE,EAAC,IAAE,EAAEJ,GAAEI,EAAC,GAAEJ,IAAGI,KAAE,KAAG,KAAK,OAAO,CAAC;AAAE,OAACA,KAAE,KAAK,UAAQ,KAAGL,QAAKI,MAAGE;AAAA,IAAE;AAAC,WAAOF;AAAA,EAAC;AAAA,EAAC,2BAA2BJ,IAAEC,IAAE;AAAC,UAAME,KAAE,KAAK,qBAAoBC,KAAE,KAAK;AAA2B,QAAIC,KAAE;AAAE,aAAQC,KAAE,GAAEA,KAAE,KAAK,SAAQ,EAAEA,IAAE;AAAC,YAAMJ,KAAEE,GAAEE,EAAC,IAAEe,GAAElB,GAAEG,EAAC,GAAEH,IAAGG,KAAE,KAAG,KAAK,OAAO,GAAEL,MAAG,MAAM;AAAE,OAACK,KAAE,KAAK,UAAQ,KAAGN,QAAKK,MAAGH;AAAA,IAAE;AAAC,WAAOG;AAAA,EAAC;AAAA,EAAC,YAAYL,IAAEK,IAAEC,IAAEJ,IAAEK,IAAE;AAAC,UAAMQ,KAAEf,GAAE,oBAAmBgB,KAAE,KAAK,sBAAqBC,KAAE,KAAK,uBAAsBK,KAAE,KAAK,+BAA8BC,KAAE,KAAK,6BAA4B,IAAE,KAAK,mBAAkBC,KAAE,KAAK;AAAsB,IAAAvB,GAAEgB,IAAEO,EAAC,GAAET,GAAE,kBAAkBS,IAAE,KAAK,QAAQ,GAAET,GAAE,qBAAqBS,IAAEtB,GAAE,GAAE,KAAK,aAAa,GAAE,GAAEsB,IAAE,KAAK,UAASlB,IAAE,KAAK,UAASJ,EAAC,GAAE,GAAEsB,IAAE,KAAK,eAAclB,IAAE,KAAK,eAAcJ,EAAC,GAAEc,GAAE,SAAO,KAAGQ,GAAER,IAAE,CAAC,GAAE,KAAK,cAAY,KAAK,mBAAmB,GAAEA,IAAE,KAAK,UAAST,EAAC;AAAE,QAAIa,KAAE;AAAE,QAAG,iBAAe,KAAK,aAAY;AAAC,UAAIpB,KAAE,KAAG;AAAE,MAAAiB,GAAE,QAAS,CAAChB,IAAEE,OAAI;AAAC,cAAMC,KAAEW,GAAE,YAAYE,GAAEd,EAAC,CAAC;AAAE,QAAAC,KAAEJ,OAAIA,KAAEI,IAAEgB,KAAEjB;AAAA,MAAE,CAAE;AAAA,IAAC;AAAC,UAAMsB,KAAET,GAAEI,EAAC;AAAE,QAAIM,KAAE,GAAEC,KAAE,KAAK;AAAc,qBAAe,KAAK,cAAYD,KAAE,KAAK,WAAS,eAAa,KAAK,gBAAcA,KAAE,KAAK,WAAUC,KAAE,KAAK,UAASN,GAAE,GAAE,KAAK,UAASK,EAAC,IAAG,EAAE,KAAK,OAAO,CAAC,GAAEA,EAAC,GAAEL,GAAEM,IAAED,IAAE,KAAK,OAAO,CAAC,CAAC,GAAE,EAAE,KAAK,OAAO,CAAC,GAAE,KAAK,OAAO,CAAC,GAAE,KAAK,OAAO,CAAC,CAAC,GAAE,EAAE,KAAK,OAAO,CAAC,GAAE,KAAK,OAAO,CAAC,CAAC;AAAE,UAAME,KAAE,KAAK,WAAUC,KAAE,KAAK,QAAOC,KAAE,KAAK;AAAO,aAAQ7B,KAAE,GAAEA,KAAE,KAAK,SAAQ,EAAEA,IAAE;AAAC,YAAMD,KAAEsB,GAAErB,EAAC,GAAEE,KAAEoB,GAAEtB,EAAC;AAAE,MAAAD,GAAE4B,IAAEZ,GAAEf,EAAC,GAAEwB,EAAC,GAAEnB,GAAEN,IAAE,EAAE,KAAK,OAAO,CAAC,GAAE4B,EAAC,GAAE,EAAE,KAAK,OAAO,CAAC,GAAEA,EAAC,CAAC,GAAE,EAAEC,IAAE,KAAK,OAAO,CAAC,GAAE7B,GAAE,CAAC,CAAC,GAAE,EAAE8B,IAAE,KAAK,OAAO,CAAC,GAAE9B,GAAE,CAAC,CAAC,GAAE,EAAE4B,IAAEC,IAAEC,EAAC,GAAE,EAAEF,IAAEA,IAAEH,EAAC,GAAE,GAAEG,IAAE1B,IAAEC,IAAEG,EAAC;AAAA,IAAC;AAAC,SAAK,kBAAgB,KAAK,UAAQ,IAAEA,GAAED,GAAE,kBAAkB,KAAK,wBAAwB,CAAC,GAAE,QAAQ,IAAE,MAAKJ,GAAEsB,IAAE,KAAK,wBAAwB,GAAE,GAAE,KAAK,0BAAyBjB,IAAE,KAAK,yBAAwBJ,EAAC,GAAE,KAAK,4BAA4B,GAAE,KAAK,OAAK,MAAI,KAAK,qBAAqB,OAAKQ,GAAEL,GAAE,cAAc,KAAK,aAAa,CAAC,GAAE,eAAe,IAAE;AAAA,EAAI;AAAA,EAAC,oBAAoBL,IAAE;AAAC,UAAK,EAAC,oBAAmBC,IAAE,kBAAiBI,GAAC,IAAEL,IAAE,EAAC,oBAAmBM,IAAE,wBAAuBJ,GAAC,IAAE,MAAKK,KAAE,KAAK,WAAUC,KAAEuB,GAAEzB,IAAEC,EAAC;AAAE,QAAG,CAACC;AAAE,aAAO,MAAK,KAAK,eAAa;AAAM,UAAMC,KAAE,KAAK,QAAOC,KAAE,KAAK;AAAO,MAAEH,IAAEE,IAAEC,EAAC;AAAE,aAAQP,KAAE,GAAEA,KAAE,KAAK,SAAQ,EAAEA,IAAE;AAAC,YAAMH,KAAE,EAAEM,GAAEH,EAAC,GAAEM,EAAC,GAAER,KAAE,EAAEK,GAAEH,EAAC,GAAEO,EAAC,GAAEL,KAAE,EAAEC,GAAEH,EAAC,GAAEI,EAAC;AAAE,MAAAD,GAAEJ,GAAEC,EAAC,GAAEH,KAAEK,IAAEJ,KAAEI,EAAC;AAAA,IAAC;AAAC,MAAEE,IAAEA,IAAE,EAAEF,EAAC,EAAE,MAAM,GAAEJ,GAAE,eAAeM,IAAE,EAAEF,EAAC,GAAE,KAAK,gCAAgC,GAAE,KAAK,oCAAoC,GAAE,KAAK,eAAaG,MAAG,MAAI,KAAK,6BAA6B,OAAKE,GAAE,KAAK,qBAAqB,GAAE,eAAe,IAAE;AAAA,EAAI;AAAA,EAAC,0BAAyB;AAAC,UAAMV,KAAE,KAAK,+BAA8BC,KAAE,KAAK;AAAwB,QAAIE,KAAE;AAAE,aAAQC,KAAE,GAAEA,KAAE,KAAK,SAAQ,EAAEA,IAAE;AAAC,MAAAD,MAAGF,GAAEG,EAAC,IAAEU,GAAEd,GAAEI,EAAC,GAAEJ,IAAGI,KAAE,KAAG,KAAK,OAAO,CAAC;AAAA,IAAC;AAAC,WAAOD;AAAA,EAAC;AAAA,EAAC,8BAA6B;AAAC,UAAMH,KAAE,KAAK,+BAA8BC,KAAE,KAAK;AAAqB,IAAAA,GAAE,MAAM;AAAE,aAAQE,KAAE,GAAEA,KAAE,KAAK,SAAQ,EAAEA;AAAE,eAAQC,KAAED,KAAE,GAAEC,KAAE,KAAK,SAAQ,EAAEA,IAAE;AAAC,aAAIA,KAAE,KAAG,KAAK,YAAUD;AAAE;AAAS,cAAME,KAAEL,GAAEG,EAAC,GAAEG,KAAEN,IAAGG,KAAE,KAAG,KAAK,OAAO,GAAED,KAAEF,GAAEI,EAAC,GAAEG,KAAEP,IAAGI,KAAE,KAAG,KAAK,OAAO;AAAE,UAAEC,IAAEC,IAAEJ,IAAEK,EAAC,MAAIN,GAAE,IAAIE,EAAC,GAAEF,GAAE,IAAIG,EAAC;AAAA,MAAE;AAAA,EAAC;AAAA,EAAC,eAAc;AAAC,UAAMJ,KAAE,KAAK,+BAA8BC,KAAE,KAAK,kBAAgBA,GAAE6B,GAAE9B,EAAC,CAAC;AAAE,QAAIG,KAAE;AAAE,aAAQC,KAAE,GAAEA,KAAEH,GAAE,QAAOG,MAAG;AAAE,MAAAD,MAAG,EAAEH,GAAEC,GAAEG,EAAC,CAAC,GAAEJ,GAAEC,GAAEG,KAAE,CAAC,CAAC,GAAEJ,GAAEC,GAAEG,KAAE,CAAC,CAAC,CAAC;AAAE,WAAOD;AAAA,EAAC;AAAA,EAAC,sCAAqC;AAAC,UAAMH,KAAE,KAAK,wBAAuBC,KAAE,KAAK;AAA6B,IAAAA,GAAE,MAAM;AAAE,aAAQE,KAAE,GAAEA,KAAE,KAAK,SAAQ,EAAEA;AAAE,eAAQC,KAAED,KAAE,GAAEC,KAAE,KAAK,SAAQ,EAAEA,IAAE;AAAC,aAAIA,KAAE,KAAG,KAAK,YAAUD;AAAE;AAAS,cAAME,KAAEL,GAAEG,EAAC,GAAEG,KAAEN,IAAGG,KAAE,KAAG,KAAK,OAAO,GAAED,KAAEF,GAAEI,EAAC,GAAEG,KAAEP,IAAGI,KAAE,KAAG,KAAK,OAAO;AAAE,UAAEC,IAAEC,IAAEJ,IAAEK,EAAC,MAAIN,GAAE,IAAIE,EAAC,GAAEF,GAAE,IAAIG,EAAC;AAAA,MAAE;AAAA,EAAC;AAAA,EAAC,uBAAsB;AAAC,UAAMJ,KAAE,KAAK,qBAAoBC,KAAE,KAAK,wBAAuBE,KAAE,KAAK,0BAAwBF,GAAE6B,GAAE7B,EAAC,CAAC;AAAE,QAAIG,KAAE;AAAE,aAAQC,KAAE,GAAEA,KAAEF,GAAE,QAAOE,MAAG;AAAE,MAAAD,MAAG4B,GAAEhC,GAAEG,GAAEE,EAAC,CAAC,GAAEL,GAAEG,GAAEE,KAAE,CAAC,CAAC,GAAEL,GAAEG,GAAEE,KAAE,CAAC,CAAC,GAAEY,GAAE,KAAK;AAAE,WAAOb;AAAA,EAAC;AAAA,EAAC,mBAAmBH,IAAEE,IAAEC,IAAEC,IAAE;AAAC,UAAMC,KAAEH,GAAE,IAAK,CAAAH,OAAG,KAAK,IAAIoB,GAAEnB,IAAED,EAAC,CAAC,CAAE,EAAE,OAAQ,CAACA,IAAEC,OAAI,KAAK,IAAID,IAAEC,EAAC,GAAG,CAAC;AAAE,IAAA2B,GAAEzB,IAAE,KAAK,WAAW;AAAE,UAAMD,KAAEI,MAAG,IAAE,KAAK,YAAY,SAAQC,KAAEL,KAAEG,GAAE,0BAAyBG,KAAEN,KAAEG,GAAE;AAA+B,QAAII,KAAE;AAAa,QAAGF;AAAE,MAAAE,KAAE;AAAA,aAAkBD,IAAE;AAAC,MAAAC,KAAE,KAAK,IAAI,EAAEL,IAAEH,EAAC,CAAC,IAAE,KAAK,IAAI,EAAEI,GAAE,sBAAsB,CAAC,IAAE,eAAa;AAAA,IAAU;AAAC,WAAOI;AAAA,EAAC;AAAA,EAAC,2BAA2BT,IAAEG,IAAE;AAAC,UAAMC,KAAEJ,GAAE;AAAU,IAAAA,GAAE,kBAAgB,QAAMI,MAAG,QAAMD,MAAG,KAAK,8BAA4B,MAAK,KAAK,sBAAoB,SAAO,KAAK,8BAA4BG,GAAE2B,GAAE7B,IAAED,EAAC,GAAE,QAAQ,GAAE,KAAK,sBAAoBG,GAAE,KAAK,eAAe,kBAAkB4B,GAAE9B,IAAED,IAAE,KAAK,eAAe,gBAAgB,CAAC,GAAE,QAAQ;AAAA,EAAE;AAAA,EAAC,YAAYH,IAAEC,IAAE;AAAC,QAAGA,OAAID,GAAE,MAAK;AAAC,WAAK,wBAAsB;AAAY,UAAIC,KAAE;AAAE,cAAM,KAAK,uBAAqBA,MAAG,KAAK,mBAAmB,QAAOD,GAAE,kBAAgB,QAAM,KAAK,gCAA8BC,MAAG,KAAK,4BAA4B,QAAOA,KAAE,MAAI,KAAK,wBAAsB;AAAA,IAAW;AAAM,WAAK,wBAAsBA,OAAID,GAAE,YAAU,cAAY;AAAW,YAAM,KAAK,uBAAqB,KAAK,wBAAsB,cAAa,KAAK,QAAMC;AAAA,EAAC;AAAC;AAAC,SAAS,EAAED,IAAEC,IAAE;AAAC,EAAAA,GAAE,SAAOA,GAAE,IAAEO,GAAER,IAAEC,IAAE,QAAQ,KAAG;AAAE;AAAC,IAAM,IAAE;;;ACAvnU,IAAIkC,KAAE,cAAc,EAAC;AAAA,EAAC,YAAYC,IAAE;AAAC,UAAMA,EAAC;AAAA,EAAC;AAAA,EAAC,aAAY;AAAC,UAAMA,KAAE,KAAK,KAAK,kBAAiBC,KAAE,EAAED,EAAC,GAAEE,KAAED,OAAIE,KAAED,KAAED,IAAEG,KAAE,CAACJ,MAAG,GAAEA,IAAEE,EAAC,IAAEA,KAAEF,IAAED,KAAE,IAAIE,GAAEG,EAAC;AAAE,SAAK,0BAAwB,IAAI,EAAE,KAAK,MAAKL,EAAC,GAAE,KAAK,WAAW,CAAC,KAAK,iBAAiB,KAAK,GAAG,UAAU,MAAI,KAAK,QAAQ,CAAE,GAAEM,GAAG,MAAI,KAAK,iBAAiB,aAAc,MAAI,KAAK,QAAQ,GAAG,CAAC,GAAEA,GAAG,MAAI,KAAK,iBAAiB,MAAO,MAAI,KAAK,QAAQ,GAAG,CAAC,CAAC,CAAC,GAAE,KAAK,QAAQ;AAAA,EAAC;AAAA,EAAC,QAAQL,KAAE,OAAG;AAAC,UAAK,EAAC,kBAAiBC,IAAE,MAAKK,GAAC,IAAE,MAAKC,KAAE,EAAC,0BAAyB,MAAK,gCAA+B,MAAI,wBAAuB,GAAE;AAAE,SAAK,wBAAwB,OAAON,GAAE,MAAKA,GAAE,aAAYK,IAAEL,GAAE,kBAAiBM,IAAEN,GAAE,MAAKD,EAAC,MAAIC,GAAE,kBAAgB,KAAK,wBAAwB,QAAQ;AAAA,EAAE;AAAC;AAAE,EAAE,CAAC,EAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAEF,GAAE,WAAU,QAAO,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,oBAAmB,MAAM,GAAEA,KAAE,EAAE,CAAC,EAAE,0EAA0E,CAAC,GAAEA,EAAC;;;ACA9jB,IAAMS,KAAE;AAAR,IAAqFC,KAAE,EAAE,UAAUD,EAAC;AAAE,IAAIE,KAAE,cAAcC,GAAE,gBAAe;AAAA,EAAC,YAAYC,KAAE,CAAC,GAAE;AAAC,UAAMA,EAAC,GAAE,KAAK,WAAS,IAAI,KAAE,KAAK,WAAS,GAAE,KAAK,0BAAwB,OAAG,KAAK,UAAQ,EAAE;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,WAAS,EAAE,KAAK,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAgBA,IAAE;AAAC,SAAK,KAAK,mBAAkBA,EAAC,GAAE,QAAMA,MAAG,QAAM,KAAK,QAAM,KAAK,YAAYA,IAAE,KAAK,IAAI;AAAA,EAAC;AAAA,EAAC,IAAI,KAAKA,IAAE;AAAC,SAAK,KAAK,QAAOA,EAAC,GAAE,QAAMA,MAAG,QAAM,KAAK,mBAAiB,KAAK,YAAY,KAAK,iBAAgBA,EAAC;AAAA,EAAC;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,QAAM,KAAK,mBAAiB,QAAM,KAAK;AAAA,EAAI;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK;AAAA,EAAQ;AAAA,EAAC,IAAI,iBAAgB;AAAC,WAAO,KAAK,eAAa,KAAK,cAAc,WAAW,SAAO,KAAG,KAAK,cAAc,WAAW,CAAC,EAAE,SAAS;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,QAAG,KAAK,eAAa,KAAK,cAAc,WAAW,SAAO,KAAG,KAAK,cAAc,WAAW,CAAC,EAAE,SAAS,SAAO,GAAE;AAAC,YAAMA,KAAE,EAAE,KAAK,OAAO;AAAE,aAAO,KAAK,cAAe,CAAAC,OAAG;AAAC,QAAAJ,GAAEG,IAAEC,GAAE,GAAG;AAAA,MAAC,CAAE,GAAED;AAAA,IAAC;AAAC,WAAO;AAAA,EAAI;AAAA,EAAC,IAAI,mBAAkB;AAAC,WAAO,KAAK,cAAY,KAAK,cAAc,iBAAiB,mBAAiB;AAAA,EAAI;AAAA,EAAC,YAAYA,IAAEC,IAAE;AAAC,SAAK,SAAS,UAAU,GAAE,KAAK,SAAS,IAAIC,GAAG,MAAIF,GAAE,UAAW,MAAI;AAAC,WAAK,qCAAqCA,IAAEC,EAAC;AAAA,IAAC,GAAG,CAAC,CAAC,GAAE,KAAK,WAAW,IAAE;AAAA,EAAC;AAAA,EAAC,WAAWD,KAAE,OAAG;AAAC,SAAK,aAAa,gBAAgB,GAAE,KAAK,aAAa,aAAa,GAAE,KAAK,aAAa,QAAQ,GAAEA,MAAG,KAAK,aAAa,aAAa;AAAA,EAAC;AAAA,EAAC,qCAAqCA,IAAEC,IAAE;AAAC,QAAG,KAAK,YAAW,KAAK;AAAwB;AAAO,SAAK,SAAS,OAAO,cAAc;AAAE,QAAIE,KAAEH,GAAE;AAAS,QAAG,QAAMG,IAAE;AAAC,YAAMC,KAAE,GAAED,IAAEF,GAAE,gBAAgB;AAAE,cAAMG,MAAGH,GAAED,IAAEG,GAAE,kBAAiBN,EAAC,GAAEM,KAAEC;AAAA,IAAC;AAAC,SAAK,0BAAwB,QAAMD,KAAEE,GAAE,aAAaF,IAAEF,GAAE,MAAM,WAAW,IAAE,IAAII,GAAE,IAAIC,GAAE,WAAUC,GAAE,MAAG,OAAGN,GAAE,gBAAgB,CAAC,CAAC,GAAE,KAAK,WAAW,IAAE,GAAE,KAAK,KAAK,QAAQ,GAAE,KAAK,SAAS,IAAI,KAAK,cAAc,GAAG,UAAU,CAAAA,OAAG;AAAC,WAAK,WAAW,QAAMA,GAAE,iBAAe,QAAMA,GAAE,eAAe,GAAE,KAAK,0BAAwB,MAAGD,GAAE,WAAS,KAAK,cAAY,IAAE,KAAK,cAAc,WAAS,MAAK,KAAK,0BAAwB;AAAA,IAAE,CAAE,GAAE,cAAc;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,KAAK,wBAAwB;AAAA,EAAI;AAAA,EAAC,IAAI,WAAU;AAAC,UAAMA,KAAE,CAAC;AAAE,WAAO,KAAK,cAAe,CAAAC,OAAG;AAAC,MAAAD,GAAE,KAAKC,EAAC;AAAA,IAAC,CAAE,GAAED;AAAA,EAAC;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,eAAa,KAAK,cAAc,WAAW,SAAO,IAAE,KAAK,cAAc,WAAW,CAAC,EAAE,SAAS,SAAO;AAAA,EAAC;AAAA,EAAC,IAAI,YAAW;AAAC,QAAG,KAAK,eAAa,KAAK,cAAc,WAAW,SAAO,GAAE;AAAC,YAAMA,KAAE,KAAK,cAAc,WAAW,CAAC,EAAE,cAAc;AAAE,UAAG,QAAMA;AAAE,eAAO,KAAK,cAAc,iBAAiB,cAAcA,GAAE,GAAG;AAAA,IAAC;AAAC,WAAO;AAAA,EAAI;AAAA,EAAC,UAAUA,IAAE;AAAC,QAAG,CAAC,KAAK,eAAa,MAAI,KAAK,cAAc,WAAW,UAAQ,MAAI,KAAK,cAAc,WAAW,CAAC,EAAE,SAAS;AAAO,aAAO;AAAK,UAAMC,KAAE,KAAK,cAAc,WAAW,CAAC,EAAE,SAAS,CAAC;AAAE,QAAIE,KAAEF;AAAE,OAAE;AAAC,UAAGE,GAAE,UAAQH;AAAE,eAAOG;AAAE,MAAAA,KAAEA,GAAE,UAAU;AAAA,IAAW,SAAOA,OAAIF,MAAG,QAAME;AAAG,WAAO;AAAA,EAAI;AAAA,EAAC,yBAAyBH,IAAE;AAAC,WAAO,KAAK,cAAc,iBAAiB,cAAcA,GAAE,GAAG;AAAA,EAAC;AAAA,EAAC,kCAAkCA,IAAE;AAAC,WAAO,KAAK,cAAc,iBAAiB,cAAc,KAAK,UAAUA,EAAC,EAAE,GAAG;AAAA,EAAC;AAAA,EAAC,cAAcA,IAAE;AAAC,SAAK,eAAa,KAAK,cAAc,WAAW,SAAO,KAAG,KAAK,cAAc,WAAW,CAAC,EAAE,gBAAgBA,EAAC;AAAA,EAAC;AAAA,EAAC,sBAAsBA,IAAE;AAAC,UAAMC,KAAE,KAAK,cAAc;AAAiB,SAAK,cAAe,CAACE,IAAEC,OAAI;AAAC,MAAAH,GAAE,cAAcE,GAAE,KAAI,CAAC,GAAEH,GAAE,GAAEI,EAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,QAAO;AAAC,YAAM,KAAK,oBAAkB,KAAK,gBAAgB,WAAS;AAAA,EAAK;AAAA,EAAC,IAAIJ,IAAE;AAAC,QAAG,CAAC,KAAK;AAAY,aAAO;AAAK,QAAG,MAAI,KAAK,cAAc,WAAW,QAAO;AAAC,YAAMA,KAAE,KAAK;AAAK,WAAK,cAAc,WAAW,KAAK,IAAIE,GAAEF,GAAE,kBAAiBA,GAAE,MAAM,WAAW,CAAC;AAAA,IAAC;AAAC,UAAMC,KAAE,KAAK,wBAAwB,aAAa,KAAK,cAAc,iBAAiB,cAAcD,EAAC,CAAC;AAAE,WAAO,KAAK,KAAK,QAAQ,GAAEC;AAAA,EAAC;AAAA,EAAC,QAAO;AAAC,QAAG,CAAC,KAAK,eAAa,MAAI,KAAK,cAAc,WAAW;AAAO,aAAO;AAAK,UAAMD,KAAE,KAAK,wBAAwB,eAAe,KAAK,cAAc,WAAW,CAAC,CAAC;AAAE,WAAO,KAAK,KAAK,QAAQ,GAAEA;AAAA,EAAC;AAAA,EAAC,eAAeA,IAAEC,KAAE,IAAG;AAAC,QAAIE,KAAE;AAAG,QAAG,KAAK,cAAc,WAAW,QAAS,CAAAF,OAAG;AAAC,MAAAA,GAAE,gBAAiB,CAAAA,QAAG;AAAC,QAAAA,QAAID,OAAIG,KAAE;AAAA,MAAG,CAAE;AAAA,IAAC,CAAE,GAAE,CAACA;AAAE,YAAM,IAAI,MAAM,uBAAuBF,EAAC,EAAE;AAAE,WAAOE;AAAA,EAAC;AAAA,EAAC,kBAAkBH,IAAEC,IAAE;AAAC,QAAG,CAAC,KAAK;AAAY,aAAO;AAAK,UAAME,KAAE,KAAK,wBAAwB,kBAAkBH,IAAE,KAAK,cAAc,iBAAiB,cAAcC,EAAC,CAAC;AAAE,WAAO,KAAK,KAAK,QAAQ,GAAEE;AAAA,EAAC;AAAA,EAAC,OAAOH,IAAE;AAAC,QAAG,KAAK,gBAAcA,GAAE;AAAY,aAAM;AAAG,QAAIC,KAAE;AAAG,WAAO,KAAK,sBAAuB,CAACE,IAAEC,OAAI;AAAC,YAAMI,KAAER,GAAE,kCAAkCI,EAAC;AAAE,MAAAD,GAAE,OAAOK,EAAC,MAAIP,KAAE;AAAA,IAAG,CAAE,GAAE,CAAC,CAACA;AAAA,EAAC;AAAC;AAAE,EAAE,CAAC,EAAE,EAAC,OAAM,KAAI,CAAC,CAAC,GAAEH,GAAE,WAAU,mBAAkB,IAAI,GAAE,EAAE,CAAC,EAAE,EAAC,OAAM,KAAI,CAAC,CAAC,GAAEA,GAAE,WAAU,QAAO,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,kBAAiB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,UAAS,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,oBAAmB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,eAAc,IAAI,GAAEA,KAAE,EAAE,CAAC,EAAEF,EAAC,CAAC,GAAEE,EAAC;AAAE,IAAM,IAAE,IAAIW;;;ACA/mK,IAAMC,KAAN,MAAM,WAAUC,GAAC;AAAA,EAAC,kBAAkBA,IAAE;AAAC,WAAO,IAAIC,GAAED,GAAE,MAAK,GAAE,OAAO,IAAI,EAAE,MAAM,KAAK,aAAa,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBA,IAAE;AAAC,UAAME,KAAE,KAAK,eAAcC,KAAEH,OAAII,GAAE,MAAKC,KAAEL,OAAII,GAAE;AAAU,WAAO,EAAE,EAAC,UAASF,GAAE,cAAYC,KAAEG,KAAEC,GAAEP,EAAC,IAAE,MAAK,WAAU,EAAC,MAAKQ,GAAER,EAAC,EAAC,GAAE,YAAWG,KAAED,GAAE,aAAWO,KAAE,OAAKC,GAAEV,EAAC,GAAE,YAAWW,IAAE,eAAcR,MAAGE,KAAEH,GAAE,gBAAcU,KAAE,OAAK,EAAC,QAAO,IAAG,OAAM,IAAG,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,KAAK,kBAAkB,KAAK,cAAc,oBAAoB;AAAA,EAAC;AAAC;AAACb,GAAE,SAAO,IAAII,GAAEU,IAAG,MAAI,OAAO,iCAAwB,CAAE;AAAE,IAAMD,KAAE,EAAC,QAAO,GAAE,OAAM,IAAG;AAA3B,IAA6BN,KAAEE,GAAE,EAAE,WAAU,EAAE,KAAI,EAAE,qBAAoB,EAAE,mBAAmB;;;ACA5gC,IAAMM,KAAN,cAAgBA,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,uBAAqBC,GAAE,MAAK,KAAK,cAAY,OAAG,KAAK,aAAW,MAAG,KAAK,gBAAc,OAAG,KAAK,sBAAoB,OAAG,KAAK,kBAAgB;AAAA,EAAE;AAAC;AAAC,EAAE,CAACC,GAAE,EAAC,OAAMD,GAAE,MAAK,CAAC,CAAC,GAAED,GAAE,WAAU,wBAAuB,MAAM,GAAE,EAAE,CAACE,GAAE,CAAC,GAAEF,GAAE,WAAU,eAAc,MAAM,GAAE,EAAE,CAACE,GAAE,CAAC,GAAEF,GAAE,WAAU,cAAa,MAAM,GAAE,EAAE,CAACE,GAAE,CAAC,GAAEF,GAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAACE,GAAE,CAAC,GAAEF,GAAE,WAAU,uBAAsB,MAAM,GAAE,EAAE,CAACE,GAAE,CAAC,GAAEF,GAAE,WAAU,mBAAkB,MAAM;;;ACA1H,IAAMG,KAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYC,IAAE;AAAC,UAAMA,IAAE,IAAIC,IAAC,GAAE,KAAK,iBAAe,IAAIC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAA,EAAC;AAAA,EAAC,iBAAiBF,IAAEG,IAAE;AAAC,WAAO,KAAK,eAAe,cAAY,KAAK,WAAW,aAAY,KAAK,eAAe,aAAW,KAAK,WAAW,YAAW,KAAK,eAAe,gBAAc,KAAK,WAAW,eAAc,KAAK,eAAe,uBAAqBA,GAAE,sBAAqB,KAAK,eAAe,sBAAoBA,GAAE,iBAAiB,SAAQ,KAAK,eAAe,kBAAgBA,GAAE,iBAAiB,iBAAgB,KAAK;AAAA,EAAc;AAAA,EAAC,aAAaH,IAAEG,IAAE;AAAC,QAAGA,OAAIL,GAAE,SAAOK,OAAIL,GAAE,OAAM;AAAC,aAAOE,QAAK,KAAK,WAAW,cAAY,KAAK,WAAW,aAAWI,GAAE,uBAAqBA,GAAE,4CAA0CA,GAAE,oBAAkBJ,OAAII,GAAE;AAAA,IAAe;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,iBAAiBJ,IAAE;AAAC,WAAO,IAAIK,GAAEL,EAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,IAAIA,GAAEK,EAAC;AAAA,EAAC;AAAC;AAAC,IAAMA,KAAN,cAAgBF,GAAC;AAAA,EAAC,UAAUH,IAAE;AAAC,WAAO,KAAK,gBAAgBM,IAAEN,EAAC;AAAA,EAAC;AAAC;AAAC,IAAMC,KAAN,cAAgBI,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,OAAKL,GAAE,GAAE,CAAC,GAAE,KAAK,SAAOA,GAAE,MAAI,MAAI,MAAI,CAAC,GAAE,KAAK,SAAOA,GAAE,KAAG,KAAG,KAAG,CAAC,GAAE,KAAK,cAAY,OAAG,KAAK,aAAW,MAAG,KAAK,gBAAc;AAAA,EAAE;AAAC;;;ACAr8B,IAAMO,KAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYC,IAAE;AAAC,UAAMA,EAAC,GAAE,KAAK,wBAAsB,MAAK,KAAK,kBAAgBC,GAAE,uBAAsB,KAAK,YAAU,MAAK,KAAK,QAAMC,GAAE,GAAE,CAAC,GAAE,KAAK,UAAQA,GAAE,GAAE,KAAG,GAAE,GAAE,GAAE,KAAK,UAAQA,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,KAAK,WAAWF,EAAC;AAAA,EAAC;AAAA,EAAC,IAAI,iBAAgB;AAAC,WAAO,KAAK;AAAA,EAAe;AAAA,EAAC,IAAI,eAAeA,IAAE;AAAC,IAAAA,OAAI,KAAK,oBAAkB,KAAK,kBAAgBA,IAAE,KAAK,gBAAgB;AAAA,EAAE;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK;AAAA,EAAS;AAAA,EAAC,IAAI,SAASA,IAAE;AAAC,SAAK,YAAUA,IAAE,KAAK,iBAAiB;AAAA,EAAC;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,KAAKA,IAAE;AAAC,IAAAD,GAAE,KAAK,OAAMC,EAAC,GAAE,KAAK,gBAAgB;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,OAAOA,IAAE;AAAC,MAAEA,IAAE,KAAK,OAAO,MAAID,GAAE,KAAK,SAAQC,EAAC,GAAE,KAAK,gBAAgB;AAAA,EAAE;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,OAAOA,IAAE;AAAC,MAAEA,IAAE,KAAK,OAAO,MAAID,GAAE,KAAK,SAAQC,EAAC,GAAE,KAAK,gBAAgB;AAAA,EAAE;AAAA,EAAC,kBAAiB;AAAC,YAAM,KAAK,yBAAuB,KAAK,sBAAsB,cAAc,EAAC,MAAK,KAAK,OAAM,QAAO,KAAK,SAAQ,QAAO,KAAK,SAAQ,gBAAe,KAAK,gBAAe,CAAC;AAAA,EAAC;AAAA,EAAC,0BAAyB;AAAC,SAAK,wBAAsB,IAAIG,GAAE,EAAC,MAAK,KAAK,OAAM,QAAO,KAAK,SAAQ,QAAO,KAAK,SAAQ,aAAY,MAAG,YAAW,OAAG,eAAc,MAAG,gBAAeF,GAAE,sBAAqB,CAAC;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,SAAK,wBAAsB;AAAA,EAAI;AAAA,EAAC,wBAAwBD,IAAE;AAAC,YAAM,KAAK,yBAAuBA,GAAE,KAAK,qBAAqB;AAAA,EAAC;AAAA,EAAC,iBAAiBE,IAAE;AAAC,QAAG,QAAM,KAAK,aAAW,QAAM,KAAK;AAAsB;AAAO,UAAME,KAAEC;AAAE,MAAED,IAAE,KAAK,SAAS;AAAE,UAAME,KAAE,KAAK,WAAUC,KAAE,CAAC,GAAER,KAAE,EAAE;AAAE,IAAAO,GAAE,SAAS,QAAS,CAAAN,OAAG;AAAC,MAAAA,GAAED,IAAEC,IAAEI,EAAC,GAAEG,GAAE,KAAKR,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC;AAAA,IAAC,CAAE;AAAE,UAAMS,KAAE,CAAC;AAAE,IAAAF,GAAE,GAAG,QAAS,CAAAN,OAAG;AAAC,MAAAQ,GAAE,KAAKR,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC;AAAA,IAAC,CAAE;AAAE,UAAMS,KAAE,IAAIC,GAAE,KAAK,uBAAsB,CAAC,CAAC,EAAE,UAAS,IAAIC,GAAEJ,IAAE,GAAE,IAAE,CAAC,GAAE,CAAC,EAAE,KAAI,IAAII,GAAEH,IAAE,GAAE,IAAE,CAAC,CAAC,GAAE,CAAC,CAAC,EAAE,UAASF,GAAE,eAAe,GAAE,CAAC,EAAE,KAAIA,GAAE,eAAe,CAAC,CAAC;AAAE,IAAAJ,GAAE,YAAYO,EAAC;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,SAAK,iBAAiB;AAAA,EAAC;AAAC;AAAC,IAAMJ,KAAE,EAAE;;;ACA7X,IAAIO,KAAE,cAAc,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK,iBAAiB;AAAA,EAAO;AAAA,EAAC,IAAI,WAAU;AAAC,WAAM,EAAC,QAAO,EAAC,MAAK,KAAK,YAAW,YAAW,KAAK,kBAAiB,qBAAoB,KAAK,2BAA0B,iBAAgB,KAAK,sBAAqB,EAAC;AAAA,EAAC;AAAA,EAAC,YAAYC,IAAE;AAAC,UAAMA,EAAC,GAAE,KAAK,WAAS,IAAI,KAAE,KAAK,UAAQ,EAAC,eAAcC,GAAE,WAAWC,GAAE,CAAC,GAAE,eAAc,GAAE,uBAAsB,CAAC,GAAE,KAAG,GAAE,CAAC,GAAE,oBAAmBD,GAAE,WAAWC,GAAE,CAAC,GAAE,oBAAmB,GAAE,qBAAoBD,GAAE,WAAWC,GAAE,CAAC,GAAE,qBAAoB,GAAE,2BAA0B,GAAE,YAAWD,GAAE,WAAWC,GAAE,GAAE,CAAC,GAAE,YAAWD,GAAE,WAAWE,GAAE,GAAE,CAAC,GAAE,eAAc,GAAE,GAAE,KAAK,QAAM,MAAK,KAAK,mBAAiB,MAAK,KAAK,aAAW,MAAK,KAAK,wBAAsB,MAAK,KAAK,mBAAiB,MAAK,KAAK,mBAAiB,MAAK,KAAK,aAAW,MAAK,KAAK,mBAAiB,MAAK,KAAK,4BAA0B,MAAK,KAAK,wBAAsB,MAAK,KAAK,gBAAc,CAAC,GAAE,KAAK,qBAAmB,CAAC,GAAE,KAAK,iBAAe,MAAK,KAAK,UAAQ,EAAE,GAAE,KAAK,mBAAiBH,GAAE,GAAE,KAAK,6BAA2B,EAAE,GAAE,KAAK,WAAS,MAAK,KAAK,WAASI,IAAE,KAAK,YAAU,MAAK,KAAK,uBAAqB,MAAK,KAAK,kBAAgB;AAAA,EAAE;AAAA,EAAC,aAAY;AAAC,UAAK,EAAC,kBAAiBJ,IAAE,SAAQK,IAAE,MAAKH,GAAC,IAAE;AAAK,SAAK,QAAM,IAAIC,GAAE,EAAC,MAAKD,IAAE,UAAS,MAAG,OAAMG,GAAE,eAAc,OAAMA,GAAE,eAAc,eAAc,MAAG,gBAAeC,GAAE,sBAAqB,CAAC,GAAE,KAAK,mBAAiB,IAAIH,GAAE,EAAC,MAAKD,IAAE,UAAS,MAAG,OAAMG,GAAE,eAAc,OAAMA,GAAE,uBAAsB,eAAc,MAAG,gBAAeC,GAAE,sBAAqB,CAAC,GAAE,KAAK,aAAW,IAAIH,GAAE,EAAC,MAAKD,IAAE,UAAS,MAAG,OAAMG,GAAE,oBAAmB,OAAMA,GAAE,oBAAmB,eAAc,MAAG,gBAAeC,GAAE,sBAAqB,CAAC,GAAE,KAAK,wBAAsB,IAAIH,GAAE,EAAC,MAAKD,IAAE,UAAS,MAAG,OAAMG,GAAE,oBAAmB,OAAMA,GAAE,uBAAsB,eAAc,MAAG,gBAAeC,GAAE,sBAAqB,CAAC,GAAE,KAAK,mBAAiB,IAAIH,GAAE,EAAC,MAAKD,IAAE,UAAS,MAAG,OAAMG,GAAE,qBAAoB,OAAMA,GAAE,qBAAoB,gBAAeJ,GAAEI,GAAE,yBAAyB,GAAE,eAAc,MAAG,gBAAeC,GAAE,sBAAqB,CAAC,GAAE,KAAK,mBAAiB,IAAIC,GAAE,EAAC,MAAKL,IAAE,UAAS,MAAG,QAAOG,GAAE,YAAW,QAAOA,GAAE,WAAU,CAAC;AAAE,UAAMG,KAAE,EAAC,UAAS,MAAG,iBAAgBA,GAAE,GAAE,GAAE,cAAaA,GAAE,GAAE,GAAE,WAAUC,GAAE,GAAE,MAAKP,GAAC;AAAE,SAAK,aAAW,IAAIQ,GAAE,EAAC,GAAGF,IAAE,UAASG,GAAE,MAAK,CAAC,GAAE,KAAK,mBAAiB,IAAID,GAAE,EAAC,GAAGF,IAAE,UAASG,GAAE,MAAK,CAAC,GAAE,KAAK,4BAA0B,IAAID,GAAE,EAAC,GAAGF,IAAE,UAASG,GAAE,MAAK,CAAC,GAAE,KAAK,wBAAsB,IAAID,GAAE,EAAC,GAAGF,IAAE,UAASG,GAAE,MAAK,CAAC,GAAE,KAAK,SAAS,IAAI,CAACC,GAAG,MAAI,CAACZ,GAAE,MAAK,KAAK,SAAQA,GAAE,MAAKA,GAAE,iBAAgBA,GAAE,WAAW,GAAI,MAAI,KAAK,QAAQ,GAAG,CAAC,GAAEY,GAAG,MAAE;AAJpnJ;AAIsnJ,mBAAAV,GAAE,UAAF,mBAAS;AAAA,OAAS,MAAI,KAAK,cAAc,GAAG,CAAC,GAAEM,GAAG,MAAI,KAAK,qBAAqB,CAAE,CAAC,CAAC,GAAE,KAAK,qBAAqB;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,mBAAiB,EAAE,KAAK,gBAAgB,GAAE,KAAK,QAAM,EAAE,KAAK,KAAK,GAAE,KAAK,mBAAiB,EAAE,KAAK,gBAAgB,GAAE,KAAK,aAAW,EAAE,KAAK,UAAU,GAAE,KAAK,wBAAsB,EAAE,KAAK,qBAAqB,GAAE,KAAK,aAAW,EAAE,KAAK,UAAU,GAAE,KAAK,mBAAiB,EAAE,KAAK,gBAAgB,GAAE,KAAK,4BAA0B,EAAE,KAAK,yBAAyB,GAAE,KAAK,wBAAsB,EAAE,KAAK,qBAAqB,GAAE,KAAK,mBAAiB,EAAE,KAAK,gBAAgB,GAAE,KAAK,WAAS,EAAE,KAAK,QAAQ,GAAE,KAAK,IAAI,QAAO,IAAI;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,QAAG,KAAK,aAAW,CAAC,KAAK,KAAK,SAAO,CAAC,KAAK,KAAK;AAAmB;AAAO,UAAK,EAAC,kBAAiB,EAAC,iBAAgBR,GAAC,GAAE,kBAAiBK,GAAC,IAAE;AAAK,YAAML,OAAI,KAAK,gBAAgBA,IAAEK,GAAE,MAAKA,GAAE,WAAW,GAAE,KAAK,cAAc,GAAE,KAAK,oBAAoB,GAAE,KAAK,yBAAyB,GAAE,KAAK,YAAY,GAAE,KAAK,uBAAuB,GAAE,KAAK,cAAc;AAAA,EAAE;AAAA,EAAC,gBAAgBL,IAAEK,IAAEH,IAAE;AAAC,UAAMM,KAAEH,GAAE,gBAAeQ,KAAE,eAAab,GAAE,uBAAsBc,KAAED,KAAEb,GAAE,eAAaA,GAAE;AAAK,QAAIS,KAAE;AAAE,QAAGK,IAAE;AAAC,YAAMT,KAAE,KAAK,qBAAqBS,IAAE,KAAK,iBAAiB,IAAI;AAAE,MAAAL,KAAE,EAAE,KAAK,KAAKJ,GAAE,KAAK,IAAE,KAAK,KAAK,GAAG,CAAC,GAAEI,MAAG,KAAK,KAAKM,GAAE,GAAEV,GAAE,MAAK,eAAe,CAAC,GAAEI,MAAGT,GAAE,eAAe,kBAAkB,CAAC;AAAA,IAAC;AAAC,UAAMM,KAAE,EAAC,kBAAiBE,IAAE,MAAKH,IAAE,aAAYA,GAAE,SAAQ,aAAYH,IAAE,iBAAgBF,IAAE,MAAKA,GAAE,uBAAsB,qBAAoBA,GAAE,qBAAoB,uBAAsBA,GAAE,uBAAsB,oBAAmBA,GAAE,+BAA8B,6BAA4BA,GAAE,6BAA4B,sBAAqBa,KAAEb,GAAE,+BAA6BA,GAAE,sBAAqB,iBAAgBa,KAAEb,GAAE,0BAAwBA,GAAE,iBAAgB,aAAYA,GAAE,aAAY,cAAaa,KAAEb,GAAE,mCAAiCA,GAAE,0BAAyB,6BAA4BQ,KAAE,IAAEH,GAAE,cAAY,GAAE,kCAAiC,GAAE,aAAYI,GAAC;AAAE,SAAK,KAAK,YAAWH,EAAC;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,UAAMN,KAAE,KAAK;AAAS,IAAAK,GAAEL,GAAE,uBAAsB,KAAK,OAAO,GAAE,EAAE,KAAK,kBAAiB,KAAK,OAAO,GAAE,KAAK,iBAAiB,YAAU,KAAK,kBAAiB,KAAK,iBAAiB,YAAU,KAAK;AAAA,EAAgB;AAAA,EAAC,gBAAgBA,IAAE;AAAC,UAAMK,KAAE,KAAK,UAASH,KAAEG,GAAE,MAAKG,KAAE,KAAK,KAAK,mBAAmB,kBAAiBK,KAAER,GAAE,MAAKS,KAAE,CAAC,GAAEL,KAAE,CAAC,GAAEH,KAAE,CAAC,GAAEM,KAAEP,GAAE,mBAAiBH,GAAE,cAAYA,GAAE,cAAY;AAAE,aAAQD,KAAE,GAAEA,KAAEW,IAAE,EAAEX,IAAE;AAAC,YAAMW,KAAEP,GAAEL,EAAC,EAAEC,EAAC,GAAEe,KAAEX,GAAEL,EAAC,GAAGC,KAAE,KAAGC,GAAE,WAAW;AAAE,UAAIe,KAAE;AAAK,cAAOJ,IAAE;AAAA,QAAC,KAAI;AAAY,UAAAI,KAAE,IAAIC,GAAEN,IAAEI,EAAC;AAAE;AAAA,QAAM,KAAI;AAAW,UAAAC,KAAE,IAAID,GAAEJ,IAAEI,IAAER,EAAC;AAAA,MAAC;AAAC,MAAAH,GAAE,qBAAqB,IAAIJ,EAAC,IAAEK,GAAE,KAAKW,EAAC,IAAER,GAAE,KAAKQ,EAAC,GAAEH,GAAE,KAAKG,EAAC;AAAA,IAAC;AAAC,WAAM,EAAC,KAAIH,IAAE,iBAAgBL,IAAE,cAAaH,GAAC;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,UAAK,EAAC,MAAK,EAAC,oBAAmBN,GAAC,GAAE,UAASK,IAAE,SAAQH,GAAC,IAAE,MAAKM,KAAE,KAAK,gBAAgB,uBAAuB,GAAE,EAAC,aAAYK,IAAE,MAAKC,IAAE,MAAKL,GAAC,IAAEJ,IAAEC,KAAE,CAACG,GAAE,gBAAeG,KAAEZ,GAAE;AAAiB,QAAG,KAAK,iBAAe,MAAKS,GAAE,cAAY,KAAGH,MAAG,QAAMO,IAAE;AAAC,UAAGb,GAAE,eAAea,IAAE,KAAK,0BAA0B,GAAE;AAAC,cAAMb,KAAEK,GAAE,sBAAsBI,GAAE,cAAY,CAAC,GAAEP,KAAE,KAAK;AAA2B,YAAIW,KAAE;AAAK,gBAAOC,IAAE;AAAA,UAAC,KAAI;AAAY,YAAAD,KAAE,IAAIK,GAAElB,IAAEE,EAAC;AAAE;AAAA,UAAM,KAAI;AAAW,YAAAW,KAAE,IAAIG,GAAEhB,IAAEE,IAAEU,EAAC;AAAA,QAAC;AAAC,QAAAJ,GAAE,gBAAgB,KAAKK,EAAC,GAAE,KAAK,iBAAeA;AAAA,MAAC;AAAA,IAAC;AAAC,SAAK,MAAM,wBAAwBL,GAAE,iBAAgB,KAAK,OAAO,GAAE,KAAK,MAAM,UAAQN,IAAE,KAAK,iBAAiB,wBAAwBM,GAAE,cAAa,KAAK,OAAO,GAAE,KAAK,iBAAiB,UAAQN,IAAE,KAAK,gBAAcM,GAAE;AAAA,EAAG;AAAA,EAAC,2BAA0B;AAAC,UAAMR,KAAE,KAAK,WAAS,gBAAc,KAAK,SAAS,MAAKK,KAAE,KAAK,gBAAgB,6BAA6B;AAAE,SAAK,WAAW,wBAAwBA,GAAE,iBAAgB,KAAK,OAAO,GAAE,KAAK,WAAW,UAAQL,IAAE,KAAK,sBAAsB,wBAAwBK,GAAE,cAAa,KAAK,OAAO,GAAE,KAAK,sBAAsB,UAAQL,IAAE,KAAK,qBAAmBK,GAAE;AAAA,EAAG;AAAA,EAAC,cAAa;AAAC,UAAML,KAAE,KAAK;AAAS,YAAOA,GAAE,MAAK;AAAA,MAAC,KAAI;AAAY,aAAK,qBAAqBA,EAAC;AAAE;AAAA,MAAM,KAAI;AAAW,aAAK,oBAAoB;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBA,IAAE;AAAC,UAAMK,KAAE,KAAK;AAAQ,IAAAL,GAAE,oBAAkB,MAAIA,GAAE,qBAAqB,QAAMA,GAAE,mBAAiB,KAAK,iBAAiB,WAAS,EAAC,IAAGA,GAAE,oBAAmB,UAASA,GAAE,6BAA4B,iBAAgBA,GAAE,gBAAe,GAAE,KAAK,iBAAiB,OAAK,CAACA,GAAE,aAAYA,GAAE,WAAW,GAAE,KAAK,iBAAiB,UAAQK,MAAG,KAAK,iBAAiB,UAAQ;AAAA,EAAE;AAAA,EAAC,sBAAqB;AAAC,SAAK,iBAAiB,UAAQ;AAAA,EAAE;AAAA,EAAC,yBAAwB;AAAC,UAAML,KAAE,KAAK,UAASK,KAAE,KAAK,SAAQH,KAAEF,GAAE,MAAKQ,KAAER,GAAE;AAAK,QAAGE,GAAE,cAAY,KAAGF,GAAE,oBAAkB,gBAAcQ,IAAE;AAAC,YAAMA,KAAE,CAAC;AAAE,eAAQH,KAAE,GAAEA,KAAEH,GAAE,aAAY,EAAEG,IAAE;AAAC,cAAMH,KAAE,EAAE;AAAE,QAAAF,GAAEE,IAAEF,GAAE,sBAAsBK,EAAC,GAAE,KAAK,OAAO;AAAE,cAAMQ,KAAE,EAAE;AAAE,QAAAb,GAAEa,IAAEb,GAAE,4BAA4BK,EAAC,GAAE,KAAK,OAAO,GAAEG,GAAE,KAAK,CAACN,IAAEW,EAAC,CAAC;AAAA,MAAC;AAAC,WAAK,iBAAiB,WAASL,IAAE,KAAK,iBAAiB,UAAQH;AAAA,IAAC;AAAM,WAAK,iBAAiB,WAAS,MAAK,KAAK,iBAAiB,UAAQ;AAAA,EAAE;AAAA,EAAC,gBAAe;AAAC,QAAG,KAAK;AAAU;AAAO,UAAK,EAAC,UAASL,GAAC,IAAE,MAAK,EAAC,iBAAgBK,IAAE,MAAKH,IAAE,MAAKM,GAAC,IAAER;AAAE,QAAG,CAACQ;AAAE;AAAO,UAAMK,KAAE,CAACL,GAAE,gBAAeM,KAAE,KAAK,SAAQL,KAAE,KAAK,iBAAiB,KAAK,UAAS,eAAaP,KAAEG,GAAE,eAAaA,GAAE,MAAK,KAAK,iBAAiB,IAAI;AAAE,YAAMI,MAAG,KAAK,WAAW,WAAS,EAAC,MAAK,SAAQ,OAAMT,GAAE,aAAY,GAAE,KAAK,WAAW,OAAKS,IAAE,KAAK,WAAW,UAAQT,GAAE,oBAAkB,MAAIA,GAAE,qBAAqB,QAAMc,MAAG,KAAK,WAAW,UAAQ,OAAG,KAAK,KAAK,aAAYL,EAAC;AAAE,UAAMH,KAAE,KAAK,mBAAmB,KAAK,UAAS,eAAaJ,KAAEG,GAAE,qBAAmBA,GAAE,YAAW,KAAK,iBAAiB,IAAI;AAAE,QAAG,QAAMC,MAAGN,GAAE,+BAA6B,KAAGA,GAAE,8BAA4B,KAAK,cAAc,QAAO;AAAC,YAAMK,KAAE,KAAK,cAAcL,GAAE,2BAA2B,GAAEE,KAAE,QAAM,KAAK,iBAAe,KAAK,iBAAeiB;AAAE,WAAK,iBAAiB,WAAS,KAAK,QAAQ,eAAc,KAAK,iBAAiB,WAAS,EAAC,MAAK,UAAS,MAAKd,IAAE,OAAMH,GAAC,GAAE,KAAK,iBAAiB,OAAKI,IAAE,KAAK,iBAAiB,UAAQO,MAAGL,GAAE,cAAY,KAAGM;AAAA,IAAC;AAAM,WAAK,iBAAiB,UAAQ;AAAG,UAAMF,KAAE,eAAaV,KAAEF,GAAE,gBAAgB,8BAA4BA,GAAE,gBAAgB;AAAoB,QAAG,QAAMY,IAAE;AAAC,YAAMZ,KAAE,KAAK,mBAAmB,KAAK,UAASY,IAAE,KAAK,iBAAiB,IAAI;AAAE,WAAK,0BAA0B,WAAS,KAAK,QAAQ,eAAc,KAAK,0BAA0B,WAAS,QAAM,KAAK,iBAAe,EAAC,MAAK,WAAU,SAAQ,KAAK,gBAAe,gBAAe,MAAK,IAAE,MAAK,KAAK,0BAA0B,SAAO,UAAS,KAAK,0BAA0B,OAAKZ,IAAE,KAAK,0BAA0B,UAAQa,MAAG,MAAID,GAAE,SAAOE;AAAA,IAAC;AAAM,WAAK,0BAA0B,UAAQ;AAAG,SAAK,0BAA0B,SAAS,KAAK,gBAAgB,MAAI,KAAK,0BAA0B,UAAQ,QAAI,KAAK,iBAAiB,SAAS,KAAK,UAAU,MAAI,KAAK,iBAAiB,UAAQ;AAAI,UAAMb,KAAE,eAAaD,GAAE,MAAKgB,KAAEf,KAAEI,GAAE,qBAAmBA,GAAE,iBAAgBY,KAAE,KAAK,mBAAmB,KAAK,UAASD,IAAE,KAAK,iBAAiB,IAAI;AAAE,QAAG,KAAK,KAAK,wBAAuBC,EAAC,GAAEjB,GAAE,oBAAkB,MAAIA,GAAE,qBAAqB,MAAK;AAAC,WAAK,sBAAsB,WAAS,KAAK,QAAQ,eAAc,KAAK,sBAAsB,SAAO,OAAM,KAAK,sBAAsB,OAAKiB,IAAE,KAAK,sBAAsB,UAAQ;AAAG,UAAIZ,KAAE;AAAG,eAAQH,KAAE,GAAEA,KAAEF,GAAE,KAAK,aAAY,EAAEE,IAAE;AAAC,cAAMM,MAAGR,GAAE,mCAAiCE,MAAGF,GAAE,KAAK,aAAYa,KAAEZ,KAAE,KAAK,cAAcO,EAAC,IAAE,KAAK,mBAAmBA,EAAC;AAAE,YAAGH,KAAE,MAAG,KAAK,sBAAsB,WAAS,EAAC,MAAK,WAAU,SAAQQ,IAAE,gBAAe,SAAQ,GAAE,CAAC,KAAK,sBAAsB,SAAS,KAAK,UAAU;AAAE;AAAM,QAAAR,KAAE;AAAA,MAAE;AAAC,WAAK,sBAAsB,UAAQA,MAAGS;AAAA,IAAC;AAAM,WAAK,sBAAsB,UAAQ;AAAA,EAAE;AAAA,EAAC,qBAAqBd,IAAEK,IAAE;AAAC,WAAOa,GAAElB,IAAE,KAAK,mBAAmBA,IAAEK,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBL,IAAEK,IAAE;AAAC,YAAOA,IAAE;AAAA,MAAC,KAAI;AAAS,eAAO,EAAEL,GAAE,OAAMA,GAAE,IAAI;AAAA,MAAE,KAAI;AAAW,eAAO,EAAEA,GAAE,OAAMA,GAAE,IAAI;AAAA,MAAE;AAAQ,eAAOK;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBL,IAAEK,IAAE;AAAC,UAAMH,KAAE,KAAK,8BAA8BG,EAAC;AAAE,YAAOH,IAAE;AAAA,MAAC,KAAI;AAAS,eAAO,EAAEF,GAAE,OAAMA,GAAE,IAAI;AAAA,MAAE,KAAI;AAAW,eAAO,EAAEA,GAAE,OAAMA,GAAE,IAAI;AAAA,MAAE;AAAQ,eAAOE;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,8BAA8BF,IAAE;AAAC,YAAOA,IAAE;AAAA,MAAC,KAAI;AAAA,MAAS,KAAI;AAAA,MAAO,KAAI;AAAW,eAAM;AAAA,MAAS,KAAI;AAAA,MAAW,KAAI;AAAQ,eAAM;AAAA,MAAW,KAAI;AAAgB,eAAM;AAAA,MAAS,KAAI;AAAc,eAAM;AAAA,MAAO,KAAI;AAAe,eAAM;AAAA,MAAQ,KAAI;AAAe,eAAM;AAAA,MAAQ,KAAI;AAAiB,eAAM;AAAA,MAAU,KAAI;AAAqB,eAAM;AAAA,MAAc,KAAI;AAAqB,eAAM;AAAA,MAAc,KAAI;AAAoB,eAAM;AAAA,MAAa,KAAI;AAAgB,eAAM;AAAA,MAAS,KAAI;AAAoB,eAAM;AAAA,IAAY;AAAC,UAAM,IAAI,MAAM,qBAAqB;AAAA,EAAC;AAAA,EAAC,iBAAiBA,IAAEK,IAAEH,IAAE;AAAC,WAAOF,MAAGK,MAAGJ,GAAED,IAAEK,IAAE,KAAK,mBAAmBA,IAAEH,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBF,IAAEK,IAAEH,IAAE;AAAC,WAAOF,MAAGK,MAAGJ,GAAED,IAAEK,IAAE,KAAK,qBAAqBA,IAAEH,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,uBAAsB;AAAC,SAAK,kBAAgB,MAAG,EAAE,qBAAqB,EAAE,KAAM,CAAAF,OAAG;AAAC,WAAK,WAASA,IAAE,KAAK,QAAM,KAAK,QAAQ;AAAA,IAAC,CAAE,EAAE,QAAS,MAAI;AAAC,WAAK,kBAAgB;AAAA,IAAE,CAAE;AAAA,EAAC;AAAC;AAAE,IAAIW;AAAE,EAAE,CAAC,EAAE,CAAC,GAAEZ,GAAE,WAAU,QAAO,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,oBAAmB,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,aAAY,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,wBAAuB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,WAAU,IAAI,GAAEA,KAAE,EAAE,CAAC,EAAE,6EAA6E,CAAC,GAAEA,EAAC,GAAE,SAASC,IAAE;AAAC,EAAAA,GAAEA,GAAE,QAAM,EAAE,IAAE,SAAQA,GAAEA,GAAE,QAAM,EAAE,IAAE;AAAO,EAAEW,OAAIA,KAAE,CAAC,EAAE;AAAE,IAAMP,KAAE,EAAC,kBAAiB,OAAG,MAAK,MAAK,aAAY,IAAG,aAAY,MAAK,iBAAgB,MAAK,MAAK,MAAK,qBAAoB,MAAK,uBAAsB,MAAK,oBAAmB,MAAK,6BAA4B,MAAK,sBAAqB,MAAK,iBAAgB,MAAK,aAAY,MAAK,cAAa,MAAK,6BAA4B,MAAK,kCAAiC,MAAK,aAAY,KAAI;AAA5X,IAA8Xe,KAAE,IAAID,GAAE,EAAE,GAAE,EAAE,CAAC;;;ACA9qa,IAAIE,KAAE,cAAcC,GAAE,CAAC,EAAE;AAAA,EAAC,YAAYC,IAAE;AAAC,UAAMA,EAAC,GAAE,KAAK,OAAK,4BAA2B,KAAK,WAAS,MAAK,KAAK,kBAAgB,MAAK,KAAK,oBAAkB,MAAK,KAAK,cAAY,MAAK,KAAK,OAAKA,GAAE;AAAA,EAAI;AAAA,EAAC,aAAY;AAAC,UAAK,EAAC,UAASA,IAAE,MAAKC,GAAC,IAAE;AAAK,SAAK,OAAK,IAAIC,GAAE,EAAC,MAAKD,IAAE,iBAAgBD,GAAC,CAAC,GAAE,KAAK,wBAAsB,IAAIG,GAAE,EAAC,MAAKF,IAAE,UAASD,IAAE,kBAAiB,KAAI,CAAC,GAAE,KAAK,qBAAmB,IAAII,GAAE,EAAC,MAAKH,IAAE,UAASD,IAAE,kBAAiB,KAAI,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,qBAAmB,EAAE,KAAK,kBAAkB,GAAE,KAAK,wBAAsB,EAAE,KAAK,qBAAqB,GAAE,KAAK,KAAK,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,WAAU;AAJz9C;AAI09C,WAAM,CAAC,GAAC,UAAK,0BAAL,mBAA4B;AAAA,EAAe;AAAA,EAAC,IAAI,SAAQ;AAAC,UAAK,EAAC,iBAAgBA,GAAC,IAAE;AAAK,WAAO,QAAMA,KAAE,EAAC,MAAK,MAAK,MAAK,MAAK,WAAU,KAAI,IAAE,gBAAcA,GAAE,wBAAsB,EAAC,MAAKA,GAAE,MAAK,WAAUA,GAAE,iBAAgB,MAAK,YAAW,IAAE,EAAC,MAAKA,GAAE,cAAa,WAAUA,GAAE,YAAW,MAAK,WAAU;AAAA,EAAC;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK,sBAAsB;AAAA,EAAQ;AAAA,EAAC,IAAI,mBAAkB;AAAC,WAAO,KAAK,KAAK;AAAA,EAAc;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK,SAAS,QAAM,KAAK;AAAA,EAAY;AAAA,EAAC,IAAI,WAAU;AAAC,WAAM,EAAC,eAAc,KAAK,uBAAsB,YAAW,KAAK,mBAAkB;AAAA,EAAC;AAAC;AAAE,EAAE,CAAC,EAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAEF,GAAE,WAAU,QAAO,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,eAAc,MAAG,aAAY,KAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,YAAW,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,yBAAwB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,sBAAqB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,UAAS,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,YAAW,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,oBAAmB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,QAAO,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,qBAAoB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,eAAc,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,QAAO,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,QAAO,IAAI,GAAE,EAAE,CAAC,EAAEE,EAAC,CAAC,GAAEF,GAAE,WAAU,gBAAe,MAAM,GAAEA,KAAE,EAAE,CAAC,EAAE,sDAAsD,CAAC,GAAEA,EAAC;AAAE,IAAMO,KAAEP;",
  "names": ["w", "o", "s", "i", "t", "f", "P", "e", "M", "b", "r", "R", "S", "k", "q", "n", "v", "G", "U", "x", "a", "c", "R", "S", "U", "G", "j", "f", "y", "d", "U", "t", "v", "o", "r", "n", "e", "e", "t", "n", "s", "i", "o", "r", "h", "a", "d", "l", "g", "p", "c", "m", "u", "_", "f", "R", "j", "M", "q", "C", "S", "P", "A", "W", "I", "w", "z", "U", "x", "v", "k", "b", "u", "e", "t", "a", "f", "o", "l", "r", "s", "G", "f", "v", "n", "e", "t", "l", "r", "o", "_", "p", "w", "i", "x", "d", "e", "i", "r", "t", "o", "s", "g", "A", "l", "a", "E", "_", "h", "c", "s", "o", "r", "h", "e", "r", "l", "s", "t", "E", "c", "d", "_", "a", "e", "o", "r", "h", "t", "p", "i", "c", "l", "d", "b", "s", "z", "e", "h", "i", "u", "q", "t", "o", "_", "s", "a", "g", "k", "l", "r", "n", "j", "m", "c", "f", "x", "m", "s", "e", "t", "v", "z", "u", "y"]
}
