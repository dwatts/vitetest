{
  "version": 3,
  "sources": ["../../@arcgis/core/support/elevationInfoUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnit as e}from\"../symbols/support/unitConversionUtils.js\";function n(e){return e?b:p}function t(e,t){return null!=t&&t.mode?t.mode:n(e).mode}function o(e,t){return null!=t?t:n(e)}function r(e,n){return t(null!=e&&e.hasZ,n)}function u(e,n){return o(null!=e&&!!e.hasZ,n)}function l(e){const n=a(e);return r(e.geometry,n)}function s(n){const t=a(n),o=r(n.geometry,t);return{mode:o,offset:null!=t&&\"on-the-ground\"!==o?(t.offset??0)*e(t.unit??\"meters\"):0}}function i(e){if(\"on-the-ground\"===l(e))return!1;const n=a(e),t=null!=n&&n.featureExpressionInfo?n.featureExpressionInfo.expression:null;return!(!t||\"0\"===t)}function a(e){return e.layer&&\"elevationInfo\"in e.layer?e.layer.elevationInfo:null}function f(e,n,t){if(null==t||!t.mode)return;const o=e.hasZ?e.z:0,r=null!=t.offset?t.offset:0;switch(t.mode){case\"absolute-height\":return o-r;case\"on-the-ground\":return 0;case\"relative-to-ground\":return o-((n.elevationProvider.getElevation(e.x,e.y,o,e.spatialReference,\"ground\")??0)+r);case\"relative-to-scene\":return o-((n.elevationProvider.getElevation(e.x,e.y,o,e.spatialReference,\"scene\")??0)+r)}}function c(e,n,t,o=null){return d(e,n.x,n.y,n.hasZ?n.z:0,n.spatialReference,t,o)}function v(e,n,t,o,r=null){return d(e,n[0],n[1],n.length>2?n[2]:0,t,o,r)}function d(e,n,t,o,r,u,l=null){if(null==u)return;const s=null!=l?l.mode:\"absolute-height\";if(\"on-the-ground\"===s)return 0;const{absoluteZ:i}=g(n,t,o,r,e,u);return h(i,n,t,o,r,e,l,s)}function g(e,n,t,o,r,u){const l=null!=u.offset?u.offset:0;switch(u.mode){case\"absolute-height\":return{absoluteZ:t+l,elevation:0};case\"on-the-ground\":{const t=r.elevationProvider.getElevation(e,n,0,o,\"ground\")??0;return{absoluteZ:t,elevation:t}}case\"relative-to-ground\":{const u=r.elevationProvider.getElevation(e,n,t,o,\"ground\")??0;return{absoluteZ:t+u+l,elevation:u}}case\"relative-to-scene\":{const u=r.elevationProvider.getElevation(e,n,t,o,\"scene\")??0;return{absoluteZ:t+u+l,elevation:u}}}}function h(e,n,t,o,r,u,l,s){const i=null!=l&&null!=l.offset?l.offset:0;switch(s){case\"absolute-height\":return e-i;case\"relative-to-ground\":return e-((u.elevationProvider.getElevation(n,t,o,r,\"ground\")??0)+i);case\"relative-to-scene\":return e-((u.elevationProvider.getElevation(n,t,o,r,\"scene\")??0)+i)}}function m(e,n){if(null==n)return!1;const{mode:t}=n;return null!=t&&(\"scene\"===e&&\"relative-to-scene\"===t||\"ground\"===e&&\"absolute-height\"!==t)}const b={mode:\"absolute-height\",offset:0},p={mode:\"on-the-ground\",offset:null};function y(e,n){return e===n||null!=e&&null!=n&&e.mode===n.mode&&e.offset===n.offset}export{b as absoluteHeightElevationInfo,m as elevationContextAffectsAlignment,y as elevationInfoLikeEquals,c as getConvertedElevation,v as getConvertedElevationFromVector,o as getEffectiveElevationInfo,t as getEffectiveElevationMode,u as getGeometryEffectiveElevationInfo,r as getGeometryEffectiveElevationMode,s as getGraphicEffectiveElevationInfo,l as getGraphicEffectiveElevationMode,f as getZForElevationMode,i as hasGraphicFeatureExpressionInfo,p as onTheGroundElevationInfo,g as zValueInAbsoluteHeightMode};\n"],
  "mappings": "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",
  "names": ["t", "r", "n", "n", "t", "o", "r", "n", "t", "o", "r", "u", "s"]
}
