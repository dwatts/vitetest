{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/graphics/ElevationQuery.js", "../../@arcgis/core/views/3d/layers/graphics/enums.js", "../../@arcgis/core/views/3d/webgl-engine/lib/GeometryWithMapPositions.js", "../../@arcgis/core/views/3d/layers/graphics/ElevationAligners.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicCreationContext.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObject3DGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectMetadata.js", "../../@arcgis/core/views/3d/layers/graphics/interfaces.js", "../../@arcgis/core/views/3d/layers/graphics/Loadable.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPathSymbolLayerConstants.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodResources.js", "../../@arcgis/core/views/3d/layers/graphics/primitiveObjectSymbolUtils.js", "../../@arcgis/core/views/3d/layers/graphics/symbolComplexity.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/pointUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineCalloutTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LineCalloutTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/materials/LineCalloutMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLineCalloutSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DCalloutSymbolLayerFactory.js", "../../@arcgis/core/renderers/support/renderingInfoUtils.js", "../../@arcgis/core/views/3d/layers/graphics/constants.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextRenderer.js", "../../@arcgis/core/views/3d/layers/graphics/placementUtils.js", "../../@arcgis/core/views/3d/layers/graphics/CreateLabelParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextRenderParameters.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolCreationContext.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DGraphic.js", "../../@arcgis/core/views/3d/layers/graphics/polygonUtils.js", "../../@arcgis/core/views/3d/support/renderInfoUtils/polygon.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Normals.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DExtrudeSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DDrapedGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DIconSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/lineUtils.js", "../../@arcgis/core/views/3d/support/renderInfoUtils/line.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLineSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DMeshObject3DGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/MeshFastUpdateProcessor.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DMeshFillSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DLodInstanceGraphicLayer.js", "../../@arcgis/core/views/3d/layers/graphics/lodResourceUtils.js", "../../@arcgis/core/views/3d/layers/graphics/webStyleUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/BackedBufferObject.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/RenderInstanceData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceOctree.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LevelSelector.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js", "../../@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodRenderer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Path.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathBuilder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathCapBuilder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathExtruder.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathGeometry.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathGeometryData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/pathGeometryUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathProfile.js", "../../@arcgis/core/chunks/mat2.js", "../../@arcgis/core/chunks/mat2f64.js", "../../@arcgis/core/views/3d/webgl-engine/lib/PathVertex.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PathMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPathSymbolLayer.js", "../../@arcgis/core/views/3d/layers/support/uvUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PatternTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/PatternMaterial.js", "../../@arcgis/core/views/3d/layers/support/patternUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPolygonFillSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextTextureFactory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DTextSymbolLayer.js", "../../@arcgis/core/views/3d/webgl-engine/materials/internal/waterMaterialUtils.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DWaterSymbolLayer.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayerFactory.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DWebStyleSymbol.js", "../../@arcgis/core/views/3d/support/intersectionUtils.js", "../../@arcgis/core/views/3d/support/FrustumExtentIntersection.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{remove as e}from\"../../../../core/arrayUtils.js\";import{createResolver as t,onAbort as r,createAbortError as s}from\"../../../../core/promiseUtils.js\";import{TaskPriority as i,noBudget as n}from\"../../../support/Scheduler.js\";import o from\"../../../../geometry/Multipoint.js\";class a{constructor(e,t){this.spatialReference=e,this._view=t}getElevation(e,t,r){return this._view.elevationProvider.getElevation(e,t,0,this.spatialReference,r)}async queryElevation(e,t,r,s,i){return this._view.elevationProvider.queryElevation(e,t,0,this.spatialReference,i,r,s)}}class l{constructor(e,t,r,s){this.spatialReference=t,this._getElevationQueryProvider=r,this._queries=new Array,this._queryOptions={...s,ignoreInvisibleLayers:!0},this._frameTask=e.registerTask(i.ELEVATION_QUERY,this)}destroy(){this._frameTask.remove()}queryElevation(i,n,o,a=0){const l=t(),u={x:i,y:n,minDemResolution:a,result:l,signal:o};return this._queries.push(u),r(o,(()=>{e(this._queries,u),l.reject(s())})),l.promise}get running(){return this._queries.length>0}runTask(e){const t=this._queries;this._queries=[];const i=this._getElevationQueryProvider();if(!i)return t.forEach((e=>e.result.reject())),void e.madeProgress();const n=t.map((e=>[e.x,e.y])),a=t.reduce(((e,t)=>Math.min(e,t.minDemResolution)),1/0),l=new o({points:n,spatialReference:this.spatialReference}),u=t.length>1&&t.some((e=>!!e.signal))?new AbortController:null,h=null!=u?u.signal:t[0].signal;if(null!=u){let e=0;t.forEach((i=>r(i.signal,(()=>{e++,i.result.reject(s()),e===t.length&&u.abort()}))))}const c={...this._queryOptions,minDemResolution:a,signal:h};i.queryElevation(l,c).then((e=>{t.forEach(((t,r)=>{null!=t.signal&&t.signal.aborted?t.result.reject(s()):t.result.resolve(e.geometry.points[r][2])}))})).catch((e=>{t.forEach((t=>t.result.reject(e)))})),e.madeProgress()}get test(){const e=this;return{update:()=>e._queries.length>0&&e.runTask(n)}}}export{l as ElevationQuery,a as ViewElevationProvider};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar L,A;!function(L){L[L.USER=1]=\"USER\",L[L.SCALE_RANGE=2]=\"SCALE_RANGE\",L[L.FILTER=4]=\"FILTER\",L[L.DECONFLICTION=8]=\"DECONFLICTION\",L[L.ALL_GRAPHIC=15]=\"ALL_GRAPHIC\",L[L.ALL_LABEL=255]=\"ALL_LABEL\"}(L||(L={})),function(L){L[L.GRAPHIC=1]=\"GRAPHIC\",L[L.LABEL=16]=\"LABEL\"}(A||(A={}));export{L as VisibilityFlag,A as VisibilityGroup};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{Geometry as o}from\"./Geometry.js\";class t extends o{}function e(o){return null!=o.mapPositions}export{t as GeometryWithMapPositions,e as isGeometryWithMapPositions};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../chunks/mat4.js\";import{c as e}from\"../../../../chunks/mat4f64.js\";import{s as n}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{computeTranslationToOriginAndRotation as a,projectBuffer as r}from\"../../../../geometry/projection.js\";import{SampleElevationInfo as s}from\"./elevationAlignmentUtils.js\";import{updateVertexAttributeAuxpos1w as i}from\"./graphicUtils.js\";import l from\"../../support/debugFlags.js\";import{SamplePosition as c}from\"../../support/ElevationProvider.js\";import{isGeometryWithMapPositions as m}from\"../../webgl-engine/lib/GeometryWithMapPositions.js\";import{VertexAttribute as f}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(t,e,n,o,a){const r=t.stageObject,s=r.geometries;let i=0;for(const l of s){if(!m(l))continue;const{update:t,averageGeometrySampledElevation:s}=A(l,e,n,o,a);i+=s,t&&r.geometryVertexAttrsUpdated(l)}return i/s.length}function p(e,o,r,s,c,m){const f=e.stageObject,u=o.centerPointInElevationSR;let p=0;if(f.usesVerticalDistanceToGround)s(u,M),i(f,M.verticalDistanceToGround),p=M.sampledElevation;else{s(u,M);\"absolute-height\"!==o.mode&&(p=M.sampledElevation)}const g=t(d,m??f.transformation),I=n(E,g[12],g[13],g[14]);l.TESTS_DISABLE_OPTIMIZATIONS?(T[0]=u.x,T[1]=u.y,T[2]=M.z,a(u.spatialReference,T,g,c.spatialReference)&&(m?t(m,g):f.transformation=g)):c.setAltitudeOfTransformation(M.z,g);const h=b/c.unitInMeters;return(Math.abs(g[12]-I[0])>=h||Math.abs(g[13]-I[1])>=h||Math.abs(g[14]-I[2])>=h)&&(m?t(m,g):f.transformation=g),p}const d=e();function g(t,e,o,r,s){const i=t.graphics3DSymbolLayer.lodRenderer;if(null==i)return 0;const c=e.centerPointInElevationSR;r(c,M);const m=\"absolute-height\"!==e.mode?M.sampledElevation:0,f=i.instanceData,u=t.instanceIndex,p=v;f.getGlobalTransform(u,p);const d=n(E,p[12],p[13],p[14]);l.TESTS_DISABLE_OPTIMIZATIONS?(T[0]=c.x,T[1]=c.y,T[2]=M.z,a(c.spatialReference,T,p,s.spatialReference)&&f.setGlobalTransform(u,p)):s.setAltitudeOfTransformation(M.z,p);const g=b/s.unitInMeters;return(l.TESTS_DISABLE_OPTIMIZATIONS||Math.abs(p[12]-d[0])>=g||Math.abs(p[13]-d[1])>=g||Math.abs(p[14]-d[2])>=g)&&f.setGlobalTransform(u,p),m}function I(t,e,n,o,a){const r=t.stageObject,s=r.geometries;if(0===s.length)return 0;let i=0,l=null,c=0,u=!1;for(const p of s){if(!m(p))continue;const t=p.vertexAttributes.get(f.POSITION);if(t!==l){const{update:r,averageGeometrySampledElevation:s}=A(p,e,n,o,a);c=s,l=t,u=r}u&&r.geometryVertexAttrsUpdated(p),i+=c}return i/s.length}const b=.01,T=o(),h=o(),S=o(),v=e(),E=o(),M=new s;function A(t,e,n,o,a){let s=!1;const i=t.shaderTransformation,m=e.requiresSampledElevationInfo;h[0]=i[12],h[1]=i[13],h[2]=i[14],t.invalidateBoundingInfo();const u=t.getMutableAttribute(f.POSITION),p=u.data,d=u.size,g=p.length/d,I=new c(t.mapPositions,n);let v=0,E=0;for(let c=0;c<g;c++){if(S[0]=p[v],S[1]=p[v+1],S[2]=p[v+2],o(I,M),m&&(E+=M.sampledElevation),l.TESTS_DISABLE_OPTIMIZATIONS)p[v]=I.array[I.offset],p[v+1]=I.array[I.offset+1],p[v+2]=M.z,r(p,n,v,p,a.spatialReference,v,1),p[v]-=h[0],p[v+1]-=h[1],p[v+2]-=h[2],s=!0;else{T[0]=p[v]+h[0],T[1]=p[v+1]+h[1],T[2]=p[v+2]+h[2],a.setAltitude(T,M.z),p[v]=T[0]-h[0],p[v+1]=T[1]-h[1],p[v+2]=T[2]-h[2];const t=b/a.unitInMeters;(Math.abs(S[0]-p[v])>=t||Math.abs(S[1]-p[v+1])>=t||Math.abs(S[2]-p[v+2])>=t)&&(s=!0)}v+=d,I.offset+=3}return E/=g,{update:s,averageGeometrySampledElevation:E}}export{g as perLodInstanceElevationAligner,p as perObjectElevationAligner,u as perVertexElevationAligner,I as sharedGeometryElevationAligner};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass r{constructor(r,s,t){this.graphic=r,this.renderingInfo=s,this.layer=t}}export{r as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as e,m as t,a as s}from\"../../../../chunks/vec3.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{setMin as a,setMax as n,create as r,isPoint as o,empty as c,center as l,offset as h}from\"../../../../geometry/support/aaBoundingBox.js\";import{g}from\"../../../../chunks/sphere.js\";import{evaluateElevationInfoAtPoint as d}from\"./elevationAlignmentUtils.js\";import{setContextFeature as u}from\"./featureExpressionInfoUtils.js\";import{demResolutionForBoundingBox as b}from\"./graphicUtils.js\";import{Object3DState as O}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Transparency as j}from\"../../webgl-engine/lib/edgeRendering/interfaces.js\";class m{constructor(e,t,s){this.baseMaterial=e,this.edgeMaterials=t,this.properties=s}}class p{get isElevationSource(){return!!this.stageObject.lastValidElevationBB}constructor(e,t,s,i,a,n,r,o=null){this.graphics3DSymbolLayer=e,this.stageObject=t,this._uniqueGeometries=s,this._uniqueMaterials=i,this._sharedResource=a,this.elevationAligner=n,this.elevationContext=r,this._edgeState=o,this.type=\"object3d\",this._stageLayer=null,this._visible=!1,this._addedToStage=!1,this.alignedSampledElevation=0,this.needsElevationUpdates=!1,this.useObjectOriginAsAttachmentOrigin=!1}initialize(e){this._stageLayer=e;const t=e.stage;t.addMany(this._uniqueMaterials),t.addMany(this._uniqueGeometries),t.add(this.stageObject)}destroy(){if(!this._stageLayer)return;const e=this._stageLayer.stage;e.removeMany(this._uniqueMaterials),e.removeMany(this._uniqueGeometries),e.remove(this.stageObject),this._addedToStage&&(this._stageLayer.remove(this.stageObject),this._addedToStage=!1);const t=e.renderer.ensureEdgeView();t.hasObject(this.stageObject)&&t.removeObject(this.stageObject),this.stageObject.dispose(),null!=this._sharedResource&&this._sharedResource.release(),this._visible=!1,this._stageLayer=null}layerOpacityChanged(e,t){if(null==this._edgeState)return;const s=v(this._edgeState.baseMaterial);let i=!1;for(const a of this._edgeState.edgeMaterials)a.objectTransparency!==s&&(a.objectTransparency=s,i=!0);i&&this.resetEdgeObject(t);this._stageLayer.stage.renderer.ensureEdgeView().updateAllComponentOpacities(this.stageObject,[e])}slicePlaneEnabledChanged(e,t){if(null==this._edgeState)return;this._stageLayer.stage.renderer.ensureEdgeView().updateAllComponentMaterials(this.stageObject,this._edgeState.edgeMaterials,{hasSlicePlane:e},!t),this._edgeState.properties.hasSlicePlane=e}setVisibility(e){if(null!=this._stageLayer&&this._visible!==e&&(this._visible=e,this.stageObject.visible=e,this._visible&&!this._addedToStage&&(this._stageLayer.add(this.stageObject),this._addedToStage=!0),this._edgeState)){const t=this._stageLayer.stage.renderer.ensureEdgeView();t.hasObject(this.stageObject)?t.updateObjectVisibility(this.stageObject,e):e&&this._addOrUpdateEdgeObject(t,!1)}}get visible(){return this._visible}alignWithElevation(e,t,s,i){if(null==this.elevationAligner)return;null!=s&&u(this.elevationContext.featureExpressionInfoContext,s);const a=(s,i)=>d(s,e,this.elevationContext,t,i);this.alignedSampledElevation=this.elevationAligner(this,this.elevationContext,e.spatialReference,a,t),this.resetEdgeObject(i)}alignWithAbsoluteElevation(e,t,s){const i=(t,s)=>{s.sampledElevation=e,s.verticalDistanceToGround=0,s.z=e};this.alignedSampledElevation=this.elevationAligner(this,this.elevationContext,null,i,t),this.resetEdgeObject(s)}getCenterObjectSpace(t=i()){return e(t,g(this.stageObject.boundingVolumeObjectSpace.bounds))}getBoundingBoxObjectSpace(e=r()){const t=this.stageObject.boundingVolumeObjectSpace;return a(e,t.min),n(e,t.max),e}computeAttachmentOrigin(e){if(this.useObjectOriginAsAttachmentOrigin){const t=this.stageObject.shaderTransformation;e.render.origin[0]+=t[12],e.render.origin[1]+=t[13],e.render.origin[2]+=t[14],e.render.num++}else for(const i of this.stageObject.geometries)i.computeAttachmentOrigin(S)&&(t(S,S,this.stageObject.shaderTransformation),s(e.render.origin,e.render.origin,S),e.render.num++)}async getProjectedBoundingBox(e,s,i,a,n){const r=this.getBoundingBoxObjectSpace(n),g=y,d=o(r)?1:g.length;for(let o=0;o<d;o++){const e=g[o];f[0]=r[e[0]],f[1]=r[e[1]],f[2]=r[e[2]],t(f,f,this.stageObject.transformation),_[3*o]=f[0],_[3*o+1]=f[1],_[3*o+2]=f[2]}if(!e(_,0,d))return null;c(r);let u=null;this.calculateRelativeScreenBounds&&(u=this.calculateRelativeScreenBounds());for(let t=0;t<3*d;t+=3){for(let e=0;e<3;e++)r[e]=Math.min(r[e],_[t+e]),r[e+3]=Math.max(r[e+3],_[t+e]);u&&i.push({location:_.slice(t,t+3),screenSpaceBoundingRect:u})}if(s&&s.service&&\"absolute-height\"!==this.elevationContext.mode){l(r,S);const e=\"relative-to-scene\"===this.elevationContext.mode?\"scene\":\"ground\";let t=0;if(s.useViewElevation)t=s.service.getElevation(S[0],S[1],e)??0;else try{const i=b(r,s.service.spatialReference,s);t=await s.service.queryElevation(S[0],S[1],a,i,e)??0}catch(O){}h(r,0,0,-this.alignedSampledElevation+t)}return r}addObjectState(e,t){e===O.Highlight&&t.addObject(this.stageObject,this.stageObject.highlight()),e===O.MaskOccludee&&t.addObject(this.stageObject,this.stageObject.maskOccludee())}removeObjectState(e){e.removeObject(this.stageObject)}resetEdgeObject(e){if(null==this._edgeState)return;const t=this._stageLayer.stage.renderer.ensureEdgeView();this._visible?this._addOrUpdateEdgeObject(t,e):t.removeObject(this.stageObject)}_addOrUpdateEdgeObject(e,t){const s=this._edgeState;if(null==s)return;const i=v(s.baseMaterial);for(const a of s.edgeMaterials)a.objectTransparency=i;e.addOrUpdateObject3D(this.stageObject,s.edgeMaterials,s.properties,!t).then((()=>this._stageLayer?.sync()))}}function v(e){return e.isVisible()?e.parameters.transparent?j.TRANSPARENT:j.OPAQUE:j.INVISIBLE}const _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=i(),S=i(),y=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]];export{p as Graphics3DObject3DGraphicLayer,m as Object3DEdgeState};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e=null){this.labelText=e,this.elevationOffset=t??0}}export{t as Graphics3DObjectMetadata};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.RecreateSymbol=0]=\"RecreateSymbol\",e[e.RecreateGraphics=1]=\"RecreateGraphics\",e[e.FastUpdate=2]=\"FastUpdate\"}(e||(e={}));export{e as ApplyRendererDiffResult};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{abortMaybe as t}from\"../../../../core/maybe.js\";import{isAbortError as o}from\"../../../../core/promiseUtils.js\";class r{constructor(t){this.schedule=t,this._abortController=null,this._loadStatus=l.LOADING,this._loadError=null,this._loader=null,this.logger=null}destroy(){this.abortLoad()}get loadStatus(){return this._loadStatus}load(t,r){return this._loadStatus===l.LOADED?(t&&t(),this._loader??Promise.resolve()):this._loadStatus===l.FAILED?(r&&r(this._loadError),this._loader??Promise.resolve()):(null==this._loader&&(this._abortController=new AbortController,this._loader=this.doLoad(this._abortController.signal).then((()=>{this._abortController=null,this._loadStatus=l.LOADED}),(t=>{throw this._loadError=t,this._abortController=null,this._loadStatus=l.FAILED,!o(t)&&this.logger&&t.message&&this.logger.warn(t.message),t}))),this._loader.then(t,r).catch((()=>{})),this._loader)}abortLoad(){null!=this._abortController?this._abortController=t(this._abortController):this._loadStatus===l.LOADING&&(this._loadStatus=l.FAILED),this._loader=null}}var l;!function(t){t[t.LOADING=0]=\"LOADING\",t[t.LOADED=1]=\"LOADED\",t[t.FAILED=2]=\"FAILED\"}(l||(l={}));export{l as LoadStatus,r as Loadable};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nconst o=3,t=3,c=10;export{c as PATH_NUM_CIRCLE_PROFILE_SUBDIVISIONS,t as PATH_NUM_ROUND_CAP_EXTRUSION_SUBDIVISIONS,o as PATH_NUM_ROUND_JOIN_SUBDIVISIONS};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{unique as t}from\"../../../../../core/arrayUtils.js\";class e{constructor(t,e=null){this.geometry=t,this.textures=e}}function o(e){const o=[];return e.levels.forEach((t=>t.components.forEach((t=>o.push(t.geometry.material))))),t(o)}function r(e){const o=new Array;return e.levels.forEach((t=>{t.components.forEach((t=>{null!=t.textures&&o.push(...t.textures)}))})),t(o)}function n(e){const o=e.components.map((t=>t.geometry));return t(o)}function s(e){const o=[];return e.levels.forEach((t=>{t.components.forEach((t=>{o.push(t.geometry)}))})),t(o)}export{e as LodComponentResources,n as geometriesFromLodLevelResources,s as geometriesFromLodResources,o as materialsFromLodResources,r as texturesFromLodResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{cgToGIS as e,createDiamondGeometry as n,createTetrahedronGeometry as s,createCylinderGeometry as a,createConeGeometry as c,createBoxGeometry as i,createPolySphereGeometry as t}from\"../../webgl-engine/lib/GeometryUtil.js\";import{LodComponentResources as r}from\"../../webgl-engine/lib/lodRendering/LodResources.js\";function o(e){switch(e){case\"sphere\":case\"cube\":case\"diamond\":case\"cylinder\":case\"cone\":case\"inverted-cone\":case\"tetrahedron\":return!0}return!1}function u(o,u){const S=(n,s,a=!1)=>({levels:n.map((n=>{const c=s(n.tesselation);return a&&e(c),{components:[new r(c)],faceCount:c.indexCount/3,minScreenSpaceRadius:n.minScreenSpaceRadius}}))});switch(o){case\"sphere\":return S([{tesselation:0,minScreenSpaceRadius:0},{tesselation:1,minScreenSpaceRadius:8},{tesselation:2,minScreenSpaceRadius:16},{tesselation:3,minScreenSpaceRadius:50},{tesselation:4,minScreenSpaceRadius:250}],(e=>t(u,.5,e,!0)));case\"cube\":return S([{tesselation:0,minScreenSpaceRadius:0}],(()=>i(u,1)));case\"cone\":return S(d,(e=>c(u,1,.5,e,!1)),!0);case\"inverted-cone\":return S(d,(e=>c(u,1,.5,e,!0)),!0);case\"cylinder\":return S(d,(e=>a(u,1,.5,e,[0,0,1],[0,0,.5])));case\"tetrahedron\":return S([{tesselation:0,minScreenSpaceRadius:0}],(()=>s(u,1)),!0);case\"diamond\":return S([{tesselation:0,minScreenSpaceRadius:0}],(()=>n(u,1)),!0);default:return}}const d=[{tesselation:6,minScreenSpaceRadius:0},{tesselation:18,minScreenSpaceRadius:7},{tesselation:64,minScreenSpaceRadius:65}];export{o as isValidPrimitive,u as primitiveLodResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{defaultPrimitive as r}from\"../../../../symbols/support/ObjectSymbol3DLayerResource.js\";import{PATH_NUM_ROUND_CAP_EXTRUSION_SUBDIVISIONS as t,PATH_NUM_CIRCLE_PROFILE_SUBDIVISIONS as a,PATH_NUM_ROUND_JOIN_SUBDIVISIONS as s}from\"./Graphics3DPathSymbolLayerConstants.js\";import{primitiveLodResources as i}from\"./primitiveObjectSymbolUtils.js\";import{hasEdges as o}from\"../support/edgeUtils.js\";import{VertexAttribute as u}from\"../../webgl-engine/lib/VertexAttribute.js\";import{geometriesFromLodLevelResources as b}from\"../../webgl-engine/lib/lodRendering/LodResources.js\";const y={primitivesPerFeature:0,primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!0,memory:{bytesPerFeature:0,bytesPerCoordinate:0,bytesPerFeatureLabel:0,resourceBytes:0,draped:{bytesPerFeature:0,bytesPerFeatureLabel:0,bytesPerCoordinate:0}}};function P(e){if(\"web-style\"===e.type)return y;return d(e.symbolLayers.toArray().map((r=>l(e,r))))}function d(e){let r=0,t=0,a=0,s=!1,i=0;const o={bytesPerFeature:0,bytesPerFeatureLabel:0,bytesPerCoordinate:0,resourceBytes:0,draped:{bytesPerFeature:0,bytesPerFeatureLabel:0,bytesPerCoordinate:0}};for(const u of e)null!=u&&(r+=u.primitivesPerFeature,t+=u.primitivesPerCoordinate,a+=u.drawCallsPerFeature,o.bytesPerFeature+=u.memory.bytesPerFeature,o.bytesPerFeatureLabel+=u.memory.bytesPerFeatureLabel,o.bytesPerCoordinate+=u.memory.bytesPerCoordinate,o.resourceBytes+=u.memory.resourceBytes,o.draped.bytesPerFeature+=u.memory.bytesPerFeature,o.draped.bytesPerFeatureLabel+=u.memory.bytesPerFeatureLabel,o.draped.bytesPerCoordinate+=u.memory.bytesPerCoordinate,s=s||u.estimated,++i);return{primitivesPerFeature:r,primitivesPerCoordinate:t,drawCallsPerFeature:a,estimated:s,memory:o,numComplexities:i}}function n(e){const r=d(e);return r.numComplexities>0&&(r.primitivesPerFeature/=r.numComplexities,r.primitivesPerCoordinate/=r.numComplexities,r.drawCallsPerFeature/=r.numComplexities,r.memory.bytesPerFeature/=r.numComplexities,r.memory.bytesPerFeatureLabel/=r.numComplexities,r.memory.bytesPerCoordinate/=r.numComplexities,r.memory.resourceBytes/=r.numComplexities,r.memory.draped.bytesPerFeature/=r.numComplexities,r.memory.draped.bytesPerFeatureLabel/=r.numComplexities,r.memory.draped.bytesPerCoordinate/=r.numComplexities),r}const m={};function l(i,u){const b=F(i,u),y=o(u)?2:0;switch(u.type){case\"extrude\":return{primitivesPerFeature:-4,primitivesPerCoordinate:4,drawCallsPerFeature:y,estimated:!1,memory:b};case\"fill\":return\"mesh-3d\"===i.type?{primitivesPerFeature:0,primitivesPerCoordinate:0,drawCallsPerFeature:y,estimated:!1,memory:b}:null!=u.outline&&u.outline.size>0?{primitivesPerFeature:-4,primitivesPerCoordinate:3,drawCallsPerFeature:0,estimated:!1,memory:b}:{primitivesPerFeature:-2,primitivesPerCoordinate:1,drawCallsPerFeature:0,estimated:!1,memory:b};case\"water\":return{primitivesPerFeature:-2,primitivesPerCoordinate:1,drawCallsPerFeature:0,estimated:!1,memory:b};case\"line\":return{primitivesPerFeature:-2,primitivesPerCoordinate:2,drawCallsPerFeature:0,estimated:!1,memory:b};case\"object\":if(u.resource?.href)return{primitivesPerFeature:16,primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!0,memory:b};return{...c(u.resource&&u.resource.primitive||r),memory:b};case\"path\":{let r=0,i=0;switch(u.profile){case\"circle\":r=a;break;case\"quad\":r=4;break;default:return void e(u.profile)}switch(u.join??\"simple\"){case\"round\":i=s;break;case\"miter\":case\"bevel\":i=1;break;default:return}const o=2*r,y=r*i*2;let P=-2*y-o;switch(u.cap){case\"none\":break;case\"butt\":case\"square\":P+=2*(r-1);break;case\"round\":P+=2*(r*(t-1)*2+r);break;default:return}return{primitivesPerFeature:P,primitivesPerCoordinate:y+o,drawCallsPerFeature:0,estimated:!1,memory:b}}case\"text\":case\"icon\":return{primitivesPerFeature:2,primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!1,memory:b};default:return}}function F(r,t){const a=\"point-3d\"===r.type;switch(t.type){case\"extrude\":return t.edges&&t.edges.size>0?p.EXTRUDE_EDGES:p.EXTRUDE;case\"fill\":return null!=t.outline&&t.outline.size>0?p.FILL_OUTLINE:p.FILL;case\"water\":return p.FILL;case\"line\":return\"round\"===t.join?p.LINE_ROUND:p.LINE_MITER;case\"path\":switch(t.join){case\"round\":switch(t.profile){case\"circle\":return p.PATH_ROUND_CIRCLE;case\"quad\":return p.PATH_ROUND_QUAD;default:return void e(t.profile)}case\"miter\":case\"bevel\":switch(t.profile){case\"circle\":return p.PATH_MITER_CIRCLE;case\"quad\":return p.PATH_MITER_QUAD;default:return void e(t.profile)}default:return}case\"object\":return a?p.OBJECT_POINT:p.OBJECT_POLYGON;case\"icon\":case\"text\":return a?p.ICON_POINT:p.ICON_POLYGON;default:return}}function c(e){let r=m[e];if(r)return r;const t=i(e,null);return r={primitivesPerFeature:b(t.levels[0]).reduce(((e,r)=>e+r.indices.get(u.POSITION).length/3),0),primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!1},m[e]=r,r}const p={ICON_POINT:{bytesPerFeature:2321.5204640676384,bytesPerFeatureLabel:990.45722,bytesPerCoordinate:0,resourceBytes:0,draped:{bytesPerFeature:2169.5155951150787,bytesPerFeatureLabel:999.2598599999999,bytesPerCoordinate:0}},ICON_POLYGON:{bytesPerFeature:3822.4566594216512,bytesPerFeatureLabel:1004.4288266666666,bytesPerCoordinate:3.8232947206245864,resourceBytes:0,draped:{bytesPerFeature:3656.161389156324,bytesPerFeatureLabel:994.9227800000001,bytesPerCoordinate:3.836714603517761}},OBJECT_POINT:{bytesPerFeature:1286.2669145138564,bytesPerFeatureLabel:1011.4901900000001,bytesPerCoordinate:0,resourceBytes:0,draped:{bytesPerFeature:1286.2669145138564,bytesPerFeatureLabel:1011.4901900000001,bytesPerCoordinate:0}},OBJECT_POLYGON:{bytesPerFeature:2796.828455517831,bytesPerFeatureLabel:1012.9951500000002,bytesPerCoordinate:4.051546356517487,resourceBytes:0,draped:{bytesPerFeature:2796.828455517831,bytesPerFeatureLabel:1012.9951500000002,bytesPerCoordinate:4.051546356517487}},LINE_MITER:{bytesPerFeature:4906.045480276492,bytesPerFeatureLabel:1002.8815266666666,bytesPerCoordinate:24.04850207798191,resourceBytes:0,draped:{bytesPerFeature:4315.785832179941,bytesPerFeatureLabel:998.7028333333334,bytesPerCoordinate:19.457038722015074}},LINE_ROUND:{bytesPerFeature:4893.576398024015,bytesPerFeatureLabel:1015.8812866666666,bytesPerCoordinate:24.039686621147293,resourceBytes:0,draped:{bytesPerFeature:4321.076505943878,bytesPerFeatureLabel:1008.7058400000001,bytesPerCoordinate:19.522527447599565}},PATH_MITER_CIRCLE:{bytesPerFeature:27475.37385725739,bytesPerFeatureLabel:945.1915,bytesPerCoordinate:1936.190695268645,resourceBytes:0,draped:{bytesPerFeature:27475.37385725739,bytesPerFeatureLabel:945.1915,bytesPerCoordinate:1936.190695268645}},PATH_ROUND_CIRCLE:{bytesPerFeature:13432.532036888486,bytesPerFeatureLabel:949.8167000000001,bytesPerCoordinate:4250.913048917402,resourceBytes:0,draped:{bytesPerFeature:13432.532036888486,bytesPerFeatureLabel:949.8167000000001,bytesPerCoordinate:4250.913048917402}},PATH_MITER_QUAD:{bytesPerFeature:17083.041162790672,bytesPerFeatureLabel:1006.4104,bytesPerCoordinate:1543.9135284683243,resourceBytes:0,draped:{bytesPerFeature:17083.041162790672,bytesPerFeatureLabel:1006.4104,bytesPerCoordinate:1543.9135284683243}},PATH_ROUND_QUAD:{bytesPerFeature:24054.406240577355,bytesPerFeatureLabel:976.0122999999999,bytesPerCoordinate:2683.863857257418,resourceBytes:0,draped:{bytesPerFeature:24054.406240577355,bytesPerFeatureLabel:976.0122999999999,bytesPerCoordinate:2683.863857257418}},FILL:{bytesPerFeature:5336.950602511737,bytesPerFeatureLabel:993.6785799999999,bytesPerCoordinate:9.558162275921951,resourceBytes:0,draped:{bytesPerFeature:4643.732435264264,bytesPerFeatureLabel:1003.6394400000001,bytesPerCoordinate:8.123952159573538}},FILL_OUTLINE:{bytesPerFeature:8210.8457089066,bytesPerFeatureLabel:1006.2871066666667,bytesPerCoordinate:14.496686428135353,resourceBytes:0,draped:{bytesPerFeature:6982.149803527473,bytesPerFeatureLabel:1005.1158800000001,bytesPerCoordinate:11.034666572000932}},EXTRUDE:{bytesPerFeature:16336.386002724352,bytesPerFeatureLabel:1013.2957066666665,bytesPerCoordinate:40.50904192903909,resourceBytes:0,draped:{bytesPerFeature:16336.386002724352,bytesPerFeatureLabel:1013.2957066666665,bytesPerCoordinate:40.50904192903909}},EXTRUDE_EDGES:{bytesPerFeature:18251.260762353977,bytesPerFeatureLabel:1044.1864133333333,bytesPerCoordinate:40.594518397678755,resourceBytes:0,draped:{bytesPerFeature:18251.260762353977,bytesPerFeatureLabel:1044.1864133333333,bytesPerCoordinate:40.594518397678755}}};export{n as averageSymbolComplexities,P as defaultSymbolComplexity,l as defaultSymbolLayerComplexity,F as defaultSymbolLayerMemoryComplexity,y as emptySymbolComplexity,p as memoryEstimators,d as totalSymbolComplexities};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{O as i}from\"../../../../chunks/vec3f64.js\";import{f as o}from\"../../../../chunks/vec4f64.js\";import{SymbolUpdateType as r}from\"./elevationAlignmentUtils.js\";import{ElevationContext as n}from\"./ElevationContext.js\";import{zeroContext as s}from\"./featureExpressionInfoUtils.js\";import{mixinColorAndOpacity as a}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as l}from\"./interfaces.js\";import{Loadable as p}from\"./Loadable.js\";import{defaultSymbolLayerComplexity as d}from\"./symbolComplexity.js\";import{getAttributeValue as c}from\"../support/FastSymbolUpdates.js\";const u=t.getLogger(\"esri.views.3d.layers.graphics.Graphics3DSymbolLayer\");class h extends p{constructor(e,t,i,o){super(i.schedule),this.symbol=e,this.symbolLayer=t,this._context=i,this._elevationInfoOverride=null,this.ignoreDrivers=!1,this._drivenProperties={color:!1,opacity:!1,opacityAlwaysOpaque:!0,size:!1},this.complexity=null,this.logger=u,this._elevationOptions={supportsOffsetAdjustment:!1,supportsOnTheGround:!0},this.skipHighSymbolLodsChanged=!0,this._renderPriority=o.renderPriority,this._renderPriorityStep=o.renderPriorityStep,this._elevationContext=new n,this.complexity=this.computeComplexity(),this.ignoreDrivers=o.ignoreDrivers,this.ignoreDrivers||(this._drivenProperties=f(this._context.renderer)),this._updateElevationContext()}getCachedSize(){return null}get extentPadding(){return 0}_drivenPropertiesChanged(e){if(this.ignoreDrivers)return!1;const t=this._drivenProperties,i=f(e);return i.color!==t.color||i.opacity!==t.opacity||i.opacityAlwaysOpaque!==t.opacityAlwaysOpaque||i.size!==t.size}get needsDrivenTransparentPass(){return this._drivenProperties.opacity&&!this._drivenProperties.opacityAlwaysOpaque}_logGeometryCreationWarnings(e,t,i,o){const r=e.projectionSuccess,n=\"polygons\"in e?e.polygons:null,s=`${o} geometry failed to be created`;let a=null;r?!this._logGeometryValidationWarnings(t,i,o)&&n&&0===n.length&&\"rings\"===i&&t.length>0&&t[0].length>2&&(a=`${s} (filled rings should use clockwise winding - try reversing the order of vertices)`):a=`${s} (failed to project geometry to view spatial reference)`,a&&u.warnOncePerTick(a)}_logGeometryValidationWarnings(e,t,i){const o=`${i} geometry failed to be created`;return!e.length||1===e.length&&!e[0].length?(u.warnOncePerTick(`${o} (no ${t} were defined)`),!0):(!Array.isArray(e)||!Array.isArray(e[0]))&&(u.warnOncePerTick(`${o} (${t} should be defined as a 2D array)`),!0)}_validateGeometry(e,t=null,i=null){if(null!=t&&!t.includes(e.type))return this.logger.warn(\"unsupported geometry type for \"+i+` symbol: ${e.type}`),!1;if(\"point\"===e.type){const t=e;if(!isFinite(t.x)||!isFinite(t.y))return u.warn(\"point coordinate is not a valid number, graphic skipped\"),!1}return!0}_defaultElevationInfoNoZ(){return y}_defaultElevationInfoZ(){return v}_updateElevationContext(){null!=this._elevationInfoOverride?(this._elevationContext.setFromElevationInfo(this._elevationInfoOverride),this._elevationContext.updateFeatureExpressionInfoContext(null)):this._context.layer.elevationInfo?(this._elevationContext.setFromElevationInfo(this._context.layer.elevationInfo),this._elevationContext.updateFeatureExpressionInfoContext(this._context.featureExpressionInfoContext)):this._elevationContext.reset()}getDefaultElevationInfo(e){return e.hasZ?this._defaultElevationInfoZ():this._defaultElevationInfoNoZ()}getGeometryElevationMode(e,t=this.getDefaultElevationInfo(e)){return this._elevationContext.mode||t.mode}setElevationInfoOverride(e){this._elevationInfoOverride=e,this._updateElevationContext()}setGraphicElevationContext(e,t){const i=e.geometry,o=this.getDefaultElevationInfo(i);t.unit=null!=this._elevationContext.unit?this._elevationContext.unit:o.unit,t.mode=this.getGeometryElevationMode(i,o),t.offsetMeters=this._elevationContext.meterUnitOffset??o.offset??0;const r=!this._elevationOptions.supportsOnTheGround&&\"on-the-ground\"===t.mode;r&&(t.mode=\"relative-to-ground\",t.offsetMeters=0);const n=r?s:this._elevationContext.featureExpressionInfoContext;return t.updateFeatureExpressionInfoContext(n,e,this._context.layer),t}prepareSymbolLayerPatch(e){}updateGeometry(e,t){return!1}updateTransform(e,t,i,o){return!1}onRemoveGraphic(e){}_getLayerOpacity(){if(this._context.graphicsCoreOwner&&\"fullOpacity\"in this._context.graphicsCoreOwner)return this._context.graphicsCoreOwner.fullOpacity??0;const e=this._context.layer.opacity;return e??1}_getCombinedOpacity(e,t=g){let i=1;return this.draped||(i*=this._getLayerOpacity()),this._drivenProperties.opacity||(null!=e?i*=e.a:t.hasIntrinsicColor||(i=0)),i}_getCombinedOpacityAndColor(t,o=g){const r=this._getCombinedOpacity(t,o);if(this._drivenProperties.color)return a(null,r);const n=null!=t?e.toUnitRGB(t):i;return a(n,r)}_getVertexOpacityAndColor(e,t=null){const i=this._drivenProperties.color?e.color:null,o=this._drivenProperties.opacity?e.opacity:null,r=a(i,o);return t&&(r[0]*=t,r[1]*=t,r[2]*=t,r[3]*=t),r}isFastUpdatesEnabled(){return null!=this._fastUpdates}computeComplexity(){return d(this.symbol,this.symbolLayer)}globalPropertyChanged(e,t,i){switch(e){case\"opacity\":return this.layerOpacityChanged(t,i),!0;case\"elevationInfo\":{const e=this._elevationContext.mode;this._updateElevationContext();return this.layerElevationInfoChanged(t,i,e)!==r.RECREATE}case\"slicePlaneEnabled\":return this.slicePlaneEnabledChanged(t,i);case\"physicalBasedRenderingEnabled\":return this.physicalBasedRenderingChanged();case\"pixelRatio\":return this.pixelRatioChanged;case\"skipHighSymbolLods\":return this.skipHighSymbolLodsChanged;default:return!1}}get pixelRatioChanged(){return!0}updateGraphics3DGraphicElevationInfo(e,t,i){let o=r.UPDATE;return e.forEach((e=>{const n=t(e);if(null!=n){const t=e.graphic;this.setGraphicElevationContext(t,n.elevationContext),n.needsElevationUpdates=i(n.elevationContext.mode)}else o=r.RECREATE})),o}applyRendererDiff(e,t){return l.RecreateSymbol}getFastUpdateAttrValues(e){if(!this._fastUpdates)return null;const t=this._fastUpdates.visualVariables,i=t.size?c(t.size.field,e):0,r=t.color?c(t.color.field,e):0,n=t.opacity?c(t.opacity.field,e):0;return o(i,r,n,0)}get draped(){return this._draped}ensureDrapedStatus(e){return null==this._draped?(this._draped=e,!0):(e!==this.draped&&u.warnOnce(\"A symbol can only produce either draped or non-draped visualizations. Use two separate symbol instances for draped and non-draped graphics if necessary.\"),!1)}test(){const e=()=>({size:this._fastUpdates?.visualVariables.size?.field??null,color:this._fastUpdates?.visualVariables.color?.field??null,opacity:this._fastUpdates?.visualVariables.opacity?.field??null,rotation:this._fastUpdates?.visualVariables.rotation?.field??null});return{drivenProperties:this._drivenProperties,getVisVarFields:e}}}function f(e){const t={color:!1,opacity:!1,opacityAlwaysOpaque:!0,size:!1};return e&&\"visualVariables\"in e&&e.visualVariables&&e.visualVariables.forEach((e=>{switch(e.type){case\"color\":if(t.color=!0,e.stops)for(let i=0;i<e.stops.length;i++){const o=e.stops[i].color;o&&(t.opacity=!0,o.a<1&&(t.opacityAlwaysOpaque=!1))}break;case\"opacity\":t.opacity=!0,t.opacityAlwaysOpaque=!1;break;case\"size\":t.size=!0}})),t}const y={mode:\"on-the-ground\",offset:0,unit:\"meters\"},v={mode:\"absolute-height\",offset:0,unit:\"meters\"},g={hasIntrinsicColor:!1};export{h as Graphics3DSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as r}from\"../../../../geometry/projection.js\";import{containsPoint as t}from\"../../../../geometry/support/aaBoundingBox.js\";import{getPointOnPath as n,getPathLength as o}from\"../../../../geometry/support/coordsUtils.js\";import{makeDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{applyElevationAlignmentForHUD as s}from\"./elevationAlignmentUtils.js\";import{computeCentroid as l}from\"./graphicUtils.js\";import{Object3D as a}from\"../../webgl-engine/lib/Object3D.js\";function c(e,n,o,i,l,c){const p=e.clippingExtent;if(r(n,m,e.elevationProvider.spatialReference),null!=p&&!t(p,m))return null;r(n,m,e.renderCoordsHelper.spatialReference),o.shaderTransformer=c,o.localOrigin=e.localOriginFactory.getOrigin(m);const u=new a({geometries:[o],castShadow:!1,layerUid:e.layer.uid,graphicUid:l,usesVerticalDistanceToGround:!0});return{object:u,sampledElevation:s(u,n,e.elevationProvider,e.renderCoordsHelper,i)}}function p(e,t,n){const o=e.elevationContext,s=n.spatialReference;r(t,m,s),o.centerPointInElevationSR=i(m[0],m[1],t.hasZ?m[2]:0,null!=s?s:null)}function u(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return l(e);case\"polyline\":{const r=e.paths[0];if(!r||0===r.length)return null;const t=n(r,o(r)/2);return i(t[0],t[1],t[2],e.spatialReference)}case\"mesh\":return e.origin}return null}const m=e();export{c as createStageObject,p as extendPointGraphicElevationContext,u as placePointOnGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ViewingMode as e}from\"../../../ViewingMode.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as r}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{L as n}from\"../../../../chunks/LineCallout.glsl.js\";import{CompareFunction as s,BlendFactor as a}from\"../../../webgl/enums.js\";import{makePipelineState as l,defaultDepthWriteParams as u,separateBlendingParams as m,defaultColorWriteParams as d}from\"../../../webgl/renderState.js\";class h extends t{initializeConfiguration(i,t){t.spherical=i.viewingMode===e.Global}initializeProgram(e){return new o(e.rctx,h.shader.get().build(this.configuration),r)}setPipelineState(e){const i=e?s.ALWAYS:s.LESS;return this.configuration.depthHudEnabled?l({depthTest:{func:i},depthWrite:u}):l({blending:m(a.ONE,a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA),depthTest:{func:i},colorWrite:d})}initializePipeline(){return this.setPipelineState(this.configuration.hasMultipassGeometry)}}h.shader=new i(n,(()=>import(\"./LineCallout.glsl.js\")));export{h as LineCalloutTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{HUDSpace as t}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends s{constructor(){super(...arguments),this.screenCenterOffsetUnitsEnabled=t.World,this.spherical=!1,this.occlusionTestEnabled=!0,this.hasVerticalOffset=!1,this.hasScreenSizePerspective=!1,this.depthHudEnabled=!1,this.depthHudAlignStartEnabled=!1,this.hasSlicePlane=!1,this.hasMultipassGeometry=!1}}e([o({count:t.COUNT})],r.prototype,\"screenCenterOffsetUnitsEnabled\",void 0),e([o()],r.prototype,\"spherical\",void 0),e([o()],r.prototype,\"occlusionTestEnabled\",void 0),e([o()],r.prototype,\"hasVerticalOffset\",void 0),e([o()],r.prototype,\"hasScreenSizePerspective\",void 0),e([o()],r.prototype,\"depthHudEnabled\",void 0),e([o()],r.prototype,\"depthHudAlignStartEnabled\",void 0),e([o()],r.prototype,\"hasSlicePlane\",void 0),e([o()],r.prototype,\"hasMultipassGeometry\",void 0),e([o({constValue:!0})],r.prototype,\"hasSliceInVertexProgram\",void 0),e([o({constValue:!1})],r.prototype,\"draped\",void 0);export{r as LineCalloutTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../chunks/vec2f32.js\";import{Z as t}from\"../../../../chunks/vec2f64.js\";import{newLayout as r}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as i}from\"../core/shaderLibrary/ShaderOutput.js\";import{HUDSpace as s}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import n from\"../lib/GLMaterial.js\";import{Material as a,MaterialParameters as o}from\"../lib/Material.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{writePosition as f,writeNormal as l,writeBufferVec4 as h}from\"./internal/bufferWriterUtils.js\";import{LineCalloutTechnique as d}from\"../shaders/LineCalloutTechnique.js\";import{LineCalloutTechniqueConfiguration as m}from\"../shaders/LineCalloutTechniqueConfiguration.js\";class p extends a{get uniqueMaterialIdentifier(){return this._uniqueMaterialIdentifier}constructor(e){super(e,new O),this._configuration=new m,this._uniqueMaterialIdentifier=p.uniqueMaterialIdentifier(this.parameters)}getPassParameters(){return this.parameters}getConfiguration(e,t){const r=t?.slot!==u.LINE_CALLOUTS;return this._configuration.occlusionTestEnabled=this.parameters.occlusionTest,this._configuration.hasVerticalOffset=null!=this.parameters.verticalOffset,this._configuration.hasScreenSizePerspective=null!=this.parameters.screenSizePerspective,this._configuration.depthHudEnabled=r,this._configuration.depthHudAlignStartEnabled=!!this.parameters.depthHUDAlignStart,this._configuration.screenCenterOffsetUnitsEnabled=\"screen\"===this.parameters.centerOffsetUnits?s.Screen:s.World,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasMultipassGeometry=t.multipassGeometry.enabled,this._configuration}intersect(){}requiresSlot(e,t){if(t===i.Color)switch(e){case u.LINE_CALLOUTS:case u.LINE_CALLOUTS_HUD_DEPTH:return!0}return!1}createGLMaterial(e){return new g(e)}createBufferWriter(){return new L}validateParameters(e){const t=p.uniqueMaterialIdentifier(e);t!==this._uniqueMaterialIdentifier&&(this._uniqueMaterialIdentifier=t)}static uniqueMaterialIdentifier(e){return JSON.stringify({screenOffset:e.screenOffset||[0,0],centerOffsetUnits:e.centerOffsetUnits||\"world\"})}}class g extends n{beginSlot(e){return this.ensureTechnique(d,e)}}class O extends o{constructor(){super(...arguments),this.screenOffset=t,this.color=[0,0,0,1],this.size=1,this.occlusionTest=!1,this.shaderPolygonOffset=1e-5,this.depthHUDAlignStart=!1,this.centerOffsetUnits=\"world\",this.hasSlicePlane=!1}}const S=r().vec3f(c.POSITION).vec3f(c.NORMAL).vec2f(c.UV0).vec4f(c.AUXPOS1),I=[e(0,0),e(1,0),e(0,1),e(1,0),e(1,1),e(0,1)];class L{constructor(){this.vertexBufferLayout=S}elementCount(e){return 6*e.indices.get(c.POSITION).length}write(e,t,r,i,s){f(r.indices.get(c.POSITION),r.vertexAttributes.get(c.POSITION).data,e,i.position,s,6),l(r.indices.get(c.NORMAL),r.vertexAttributes.get(c.NORMAL).data,t,i.normal,s,6),h(r.indices.get(c.AUXPOS1),r.vertexAttributes.get(c.AUXPOS1).data,i.auxpos1,s,6);for(let n=0;n<I.length;++n)i.uv0.setVec(s+n,I[n])}}export{p as LineCalloutMaterial,O as Parameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{pt2px as t}from\"../../../../core/screenUtils.js\";import{Z as r,a as i}from\"../../../../chunks/vec2f64.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{c as a}from\"../../../../chunks/vec4f64.js\";import{textSymbolLayerSupportsVerticalOffset as s}from\"../../../../symbols/callouts/calloutUtils.js\";import{perObjectElevationAligner as o}from\"./ElevationAligners.js\";import{SymbolUpdateType as l,elevationModeChangeUpdateType as c,needsElevationUpdates2D as m}from\"./elevationAlignmentUtils.js\";import{ElevationContext as h}from\"./ElevationContext.js\";import d from\"./Graphics3DGraphicCreationContext.js\";import{Graphics3DObject3DGraphicLayer as p}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DObjectMetadata as u}from\"./Graphics3DObjectMetadata.js\";import{Graphics3DSymbolLayer as f}from\"./Graphics3DSymbolLayer.js\";import{computeCentroid as g}from\"./graphicUtils.js\";import{createStageObject as y,extendPointGraphicElevationContext as v}from\"./pointUtils.js\";import{emptySymbolComplexity as b}from\"./symbolComplexity.js\";import{Attribute as C}from\"../../webgl-engine/lib/Attribute.js\";import{ContentObjectType as O}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as _}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as x}from\"../../webgl-engine/lib/VertexAttribute.js\";import{LineCalloutMaterial as P,Parameters as j}from\"../../webgl-engine/materials/LineCalloutMaterial.js\";class E extends f{constructor(e,t){super(e,null,t,A),this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!1},this.ensureDrapedStatus(!1)}async doLoad(){this._material=new P(this._materialParameters),this._context.stage.add(this._material)}destroy(){super.destroy(),this._context.stage.remove(this._material),this._material=null}_perInstanceMaterialParameters(e){const t=this._materialParameters;return t.screenOffset=e.screenOffset||r,t.centerOffsetUnits=e.centerOffsetUnits||\"world\",t}get _materialParameters(){const r=new j,i=this.symbol,n=i.callout;if(r.color=null!=n.color?e.toUnitRGBA(n.color):[0,0,0,0],r.color[3]*=this._getLayerOpacity(),r.size=t(n.size||0),i.verticalOffset){const{screenLength:e,minWorldLength:n,maxWorldLength:a}=i.verticalOffset;r.verticalOffset={screenLength:t(e),minWorldLength:n||0,maxWorldLength:null!=a?a:1/0}}r.borderColor=null!=n.border&&null!=n.border.color?e.toUnitRGBA(n.border.color):null;const a=\"object\"===i.symbolLayers.at(0).type,s=\"label-3d\"===i.type;return r.occlusionTest=!a,r.shaderPolygonOffset=a?0:void 0,r.depthHUDAlignStart=s,r.hasSlicePlane=this._context.slicePlaneEnabled,r.screenSizePerspective=this._context.screenSizePerspectiveEnabled?this._context.sharedResources.screenSizePerspectiveSettings:null,r}_defaultElevationInfoNoZ(){return G}createGraphics3DGraphic(e){const t=e.renderingInfo,r=e.graphic,i=this.setGraphicElevationContext(r,new h,t.elevationOffset||0),n=t.symbol,a=\"on-the-ground\"===this._elevationContext.mode&&(\"cim\"===n.type||!n.symbolLayers.some((e=>\"object\"===e.type||\"text\"===e.type)));if(\"label-3d\"!==n.type&&a)return null;if(\"point-3d\"===n.type&&n.symbolLayers.every((e=>\"text\"===e.type&&!s(e))))return null;const o=g(r.geometry);return null==o?null:this._createAs3DShape(o,i,t,r.uid)}layerOpacityChanged(){this._material?.setParameters(this._materialParameters)}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,n=c(E.elevationModeChangeTypes,r,i);return n!==l.UPDATE||e.forEach((e=>{const r=t(e);null!=r&&this.updateGraphicElevationContext(e.graphic,r)})),n}slicePlaneEnabledChanged(){return this._material?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return!0}setGraphicElevationContext(e,t,r=0){const i=super.setGraphicElevationContext(e,t);return i.addOffsetRenderUnits(r),i}updateGraphicElevationContext(e,t){this.setGraphicElevationContext(e,t.elevationContext,null!=t.metadata?t.metadata.elevationOffset:0),t.needsElevationUpdates=m(t.elevationContext.mode)}computeComplexity(){return{primitivesPerFeature:2,primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!1,memory:b.memory}}_createVertexData(e){const{translation:t,centerOffset:r}=e,i=new C(t?[t[0],t[1],t[2]]:[0,0,0],3,!0),n=new C(r?[r[0],r[1],r[2],r[3]]:[0,0,0,1],4,!0);return[[x.POSITION,i],[x.NORMAL,new C([0,0,1],3,!0)],[x.AUXPOS1,n]]}_getOrCreateMaterial(e){const t=this._perInstanceMaterialParameters(e),r=P.uniqueMaterialIdentifier(t);if(this._material&&r===this._material.uniqueMaterialIdentifier)return{material:this._material,isUnique:!1};if(null!=e.materialCollection){let i=e.materialCollection.get(r);return null==i&&(i=new P(t),e.materialCollection.add(r,i)),{material:i,isUnique:!1}}return{material:new P(t),isUnique:!0}}_createAs3DShape(e,t,r,i){const n=this._context.layer.uid,a=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:i,layerUid:n}),s=this._getOrCreateMaterial(r),l=new _(s.material,this._createVertexData(r),w,null,O.Point,a),c=y(this._context,e,l,t,i);if(null==c)return null;const h=new p(this,c.object,[l],s.isUnique?[s.material]:null,null,o,t);return h.metadata=new u(r.elevationOffset),h.alignedSampledElevation=c.sampledElevation,h.needsElevationUpdates=m(t.mode),v(h,e,this._context.elevationProvider),h}}E.elevationModeChangeTypes={definedChanged:l.UPDATE,staysOnTheGround:l.UPDATE,onTheGroundChanged:l.RECREATE};const U=[0],w=[[x.POSITION,U],[x.NORMAL,U],[x.AUXPOS1,U]],G={mode:\"relative-to-ground\",offset:0},A={ignoreDrivers:!0,renderPriority:0,renderPriorityStep:1};class L{constructor(e,t,r=n(),s=a(),o=i(),l=\"world\",c=0,m=null){this.renderer=e,this.symbol=t,this.translation=r,this.centerOffset=s,this.screenOffset=o,this.centerOffsetUnits=l,this.elevationOffset=c,this.materialCollection=m}}class S extends d{}export{E as Graphics3DLineCalloutSymbolLayer,S as LineCalloutCreationContext,L as LineCalloutSymbolLayerRenderingInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport o from\"../../../../core/Logger.js\";import{hasCalloutSupport as r}from\"../../../../symbols/callouts/calloutUtils.js\";import{Graphics3DLineCalloutSymbolLayer as l}from\"./Graphics3DLineCalloutSymbolLayer.js\";const t=o.getLogger(\"esri.views.3d.layers.graphics.Graphics3DCalloutSymbolLayerFactory\");function e(o,l){if(!r(o))return t.error(\"Graphics3DCalloutSymbolLayerFactory#make\",`symbol of type '${o.type}' does not support callouts`),null;if(!o.callout)return null;const e=a[o.callout.type];return e?new e(o,l):(t.error(\"Graphics3DCalloutSymbolLayerFactory#make\",`unknown or unsupported callout type ${o.callout.type}`),null)}const a={line:l};export{e as make};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{getVisualVariableValues as e}from\"../visualVariables/support/visualVariableUtils.js\";function o(t,e){if(!t||t.symbol)return null;const o=e&&e.renderer;return t&&null!=o&&o.getObservationRenderer?o.getObservationRenderer(t):o}function r(t,e){if(null!=t.symbol)return t.symbol;const r=o(t,e);return null!=r&&\"dot-density\"!==r.type?r.getSymbol(t,e):null}function i(t,i){const n=o(t,i),l=r(t,i);if(null==l)return null;const a={renderer:n,symbol:l};if(null==n||!(\"visualVariables\"in n)||!n.visualVariables)return a;const s=e(n,t,i)??[],u=[\"proportional\",\"proportional\",\"proportional\"];for(const{variable:e,value:o}of s)switch(e.type){case\"color\":a.color=o.toRgba();break;case\"size\":if(\"outline\"===e.target)a.outlineSize=o;else{const t=e.axis,r=e.useSymbolValue?\"symbol-value\":o;switch(t){case\"width\":u[0]=r;break;case\"depth\":u[1]=r;break;case\"height\":u[2]=r;break;case\"width-and-depth\":u[0]=u[1]=r;break;default:u[0]=u[1]=u[2]=r}}break;case\"opacity\":a.opacity=o;break;case\"rotation\":switch(e.axis){case\"tilt\":a.tilt=o;break;case\"roll\":a.roll=o;break;default:a.heading=o}}return\"proportional\"===u[0]&&\"proportional\"===u[1]&&\"proportional\"===u[2]||(a.size=u),a}async function n(t,e){if(null!=t.symbol)return t.symbol;const r=o(t,e);return null!=r?r.getSymbolAsync(t,e):null}async function l(r,i){const l=o(r,i),a=await n(r,i);if(!a)return null;const s={renderer:l,symbol:a};if(!l||!(\"visualVariables\"in l)||!l.visualVariables)return s;const u=e(l,r,i)??[],c=[\"proportional\",\"proportional\",\"proportional\"];for(const{variable:e,value:o}of u)if(\"color\"===e.type)s.color=t.toUnitRGBA(o);else if(\"size\"===e.type)if(\"outline\"===e.target)s.outlineSize=o;else{const t=e.axis,r=e.useSymbolValue?\"symbol-value\":o;\"width\"===t?c[0]=r:\"depth\"===t?c[1]=r:\"height\"===t?c[2]=r:c[0]=c[1]=\"width-and-depth\"===t?r:c[2]=r}else\"opacity\"===e.type?s.opacity=o:\"rotation\"===e.type&&\"tilt\"===e.axis?s.tilt=o:\"rotation\"===e.type&&\"roll\"===e.axis?s.roll=o:\"rotation\"===e.type&&(s.heading=o);return(isFinite(c[0])||isFinite(c[1])||isFinite(c[2]))&&(s.size=c),s}function a(t,e=0){const o=t[e];return\"number\"==typeof o&&isFinite(o)?o:null}function s(t){for(let e=0;e<3;e++){const o=t[e];if(\"number\"==typeof o)return isFinite(o)?o:0}return 0}export{a as getDriverAxisSizeValue,s as getDriverAxisSizeValueAny,o as getRenderer,i as getRenderingInfo,l as getRenderingInfoAsync,n as getSymbolAsync};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{Z as o}from\"../../../../chunks/vec4f64.js\";const s=1.2,c=o;export{s as SUSPEND_RESUME_EXTENT_OPTIMISM,c as TRANSPARENT_UNIT};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import e from\"../../support/debugFlags.js\";class i{constructor(t,e,i,n=2048){this.text=t,this._alignment=e,this._parameters=i,this._maxSize=n,this._textWidths=[],this._lineWidths=[],this._renderPixelRatio=null,this._metricsCached=null,this.key=`TextRenderer-${this._parameters.key}-${this._alignment}--${t}`,this._lines=t.split(/\\r?\\n/)}get displayWidth(){return Math.ceil(this._displayWidth+2*this._backgroundHorizontalPadding)}get displayHeight(){const t=this._lineSpacing*(this._lines.length-1),e=this._lineHeight;return Math.ceil(t+e+2*this._haloSize+this._backgroundTopPadding+this._backgroundBottomPadding)}get renderedWidth(){return Math.ceil(this._toRenderUnit(this.displayWidth))}get renderedHeight(){return Math.ceil(this._toRenderUnit(this.displayHeight))}get firstRenderedBaselinePosition(){return this._toRenderUnit(this._firstLineYOffset+this._baselinePosition)}get _firstLineYOffset(){return this._backgroundTopPadding+this._haloSize}get _metrics(){if(null==this._metricsCached){const t=r(o,a,a).getContext(\"2d\");this._setFontProperties(t,this._fontSize);let e=2*this._haloSize;const i=this._parameters.definition.font;\"italic\"!==i.style&&\"oblique\"!==i.style&&\"bold\"!==i.weight&&\"bolder\"!==i.weight||(e+=.3*t.measureText(\"A\").width),this._textWidths.length=0,this._lineWidths.length=0;let n,s,h=0,d=0,u=0;this._lines.forEach(((i,r)=>{const o=t.measureText(i),a=o.width,l=a+e;this._textWidths.push(a),this._lineWidths.push(l),h=Math.max(h,l),d=Math.max(d,o.actualBoundingBoxAscent),u=Math.max(u,o.actualBoundingBoxDescent),0===r&&(n=o),r===this._lines.length-1&&(s=o)}));const f=t.font;let p=g.get(f);if(!p){const e=t.measureText(l);p=new c(e.actualBoundingBoxAscent,e.actualBoundingBoxDescent),g.set(f,p)}d=Math.max(d,p.actualBoundingBoxAscent),u=Math.max(u,p.actualBoundingBoxDescent);const m=d+u,x=this._hasBackground?n.actualBoundingBoxAscent:d,R=this._hasBackground?s.actualBoundingBoxDescent:u;this._metricsCached=new _(d-x,u-R,m,h,d)}return this._metricsCached}get _lineSpacing(){return(this._lineHeight+this._linePadding)*this._parameters.definition.lineSpacingFactor}get _lineHeight(){return this._metrics.lineHeight}get _linePadding(){return this._lineHeight*h}get _baselinePosition(){return this._metrics.baselinePosition}get _renderedFontSize(){return this._toRenderUnit(this._fontSize)}get _fontSize(){return this._parameters.definition.size}get _renderedHaloSize(){return this._toRenderUnit(this._haloSize)}get _haloSize(){return this._parameters.haloSize}get _backgroundHorizontalPadding(){return this._hasBackground?this._parameters.definition.background.padding[0]:0}get _backgroundVerticalPadding(){return this._hasBackground?this._parameters.definition.background.padding[1]:0}get _backgroundTopPadding(){return Math.max(0,this._backgroundVerticalPadding-this._metrics.paddingTop)}get _backgroundBottomPadding(){return Math.max(0,this._backgroundVerticalPadding-this._metrics.paddingBottom)}get _hasBackground(){return!!this._parameters.backgroundStyle}get renderPixelRatio(){if(null==this._renderPixelRatio){const t=this._parameters.definition.pixelRatio;this._maxSize>0?this._renderPixelRatio=Math.min(t,Math.min(this._maxSize/this.displayWidth,this._maxSize/this.displayHeight)):this._renderPixelRatio=t}return this._renderPixelRatio}_getLineXOffset(t){switch(this._alignment){case s.Left:return this._backgroundHorizontalPadding;case s.Center:return(this.displayWidth-this._lineWidths[t])/2;case s.Right:return this.displayWidth-this._backgroundHorizontalPadding-this._lineWidths[t]}}render(t,i=0,n=0){t.save();const s=i/=this.renderPixelRatio,r=n/=this.renderPixelRatio,o=this._haloSize,h=this._firstLineYOffset;i+=o,n+=h+this._baselinePosition;const a=this._haloSize>0;a&&this._renderHalo(t,s,r,o,h),this._setFontProperties(t,this._renderedFontSize);for(let e=0;e<this._lines.length;++e){const s=this._lines[e],r=this._getLineXOffset(e);a&&(t.globalCompositeOperation=\"destination-out\",t.fillStyle=\"rgb(0, 0, 0)\",this._fillText(t,s,i+r,n),this._renderLineDecoration(t,i+r,n,this._textWidths[e])),t.globalCompositeOperation=\"source-over\",t.fillStyle=this._parameters.textStyle,this._fillText(t,s,i+this._getLineXOffset(e),n),this._renderLineDecoration(t,i+r,n,this._textWidths[e]),n+=this._lineSpacing}if(e.TEXT_SHOW_BASELINE){t.strokeStyle=d,t.setLineDash([2,2]),t.lineWidth=1;let e=r+h;for(let i=0;i<this._lines.length;++i){const i=e+this._baselinePosition;this._drawLine(t,[s,i],[s+this.displayWidth,i]),e+=this._lineSpacing}}if(e.TEXT_SHOW_BORDER&&(t.strokeStyle=d,t.setLineDash([]),t.lineWidth=1,this._drawBox(t,[s,r],[this.displayWidth,this.displayHeight])),this._hasBackground){const e=this._parameters.definition.background.borderRadius*this.renderPixelRatio;this._roundedRect(t,s,r,e),t.globalCompositeOperation=\"destination-over\",t.fillStyle=this._parameters.backgroundStyle,t.fill()}t.restore()}_renderLineDecoration(t,e,i,n,s=!1){if(\"none\"===this._parameters.definition.font.decoration||0===n)return;const r=1,o=Math.max(this._parameters.definition.size/16,r);switch(this._parameters.definition.font.decoration){case\"underline\":i+=2*o;break;case\"line-through\":i-=.33*this._baselinePosition}const h=s?this._haloSize:0;t.strokeStyle=s?this._parameters.haloStyle:this._parameters.textStyle,t.lineWidth=this._toRenderUnit(o+2*h),t.beginPath(),t.moveTo(this._toRenderUnit(e-h),this._toRenderUnit(i)),t.lineTo(this._toRenderUnit(e+n+h),this._toRenderUnit(i)),t.stroke()}_roundedRect(e,i,n,s){i=this._toRenderUnit(i),n=this._toRenderUnit(n);const r=this.renderedWidth,o=this.renderedHeight;0!==s?(s=t(s,0,Math.floor(o/2)),e.beginPath(),e.moveTo(i,n+s),e.arcTo(i,n,i+s,n,s),e.lineTo(i+r-s,n),e.arcTo(i+r,n,i+r,n+s,s),e.lineTo(i+r,n+o-s),e.arcTo(i+r,n+o,i+r-s,n+o,s),e.lineTo(i+s,n+o),e.arcTo(i,n+o,i,n+o-s,s),e.closePath()):e.rect(i,n,r,o)}_renderHalo(t,e,i,n,s){const h=this.renderedWidth,d=this.renderedHeight,l=r(o,Math.max(h,a),Math.max(d,a)),_=l.getContext(\"2d\");_.clearRect(0,0,h,d),this._setFontProperties(_,this._renderedFontSize),_.fillStyle=this._parameters.haloStyle,_.strokeStyle=this._parameters.haloStyle;const c=this._renderedHaloSize<3;_.lineJoin=c?\"miter\":\"round\",c?this._renderHaloEmulated(_,n,s):this._renderHaloNative(_,n,s);let g=s+this._baselinePosition;for(let r=0;r<this._lines.length;++r){const t=this._getLineXOffset(r);this._renderLineDecoration(_,n+t,g,this._textWidths[r],!0),g+=this._lineSpacing}t.globalAlpha=this._parameters.definition.halo.color[3],t.drawImage(l,0,0,h,d,this._toRenderUnit(e),this._toRenderUnit(i),h,d),t.globalAlpha=1}_renderHaloEmulated(t,e,i){i+=this._baselinePosition;for(let s=0;s<this._lines.length;++s){const r=this._lines[s],o=this._getLineXOffset(s);for(const[s,h]of n)this._fillText(t,r,e+o+this._haloSize*s,i+this._haloSize*h);i+=this._lineSpacing}}_renderHaloNative(t,e,i){const n=2*this._haloSize;i+=this._baselinePosition;for(let s=0;s<this._lines.length;++s){const r=this._lines[s],o=this._getLineXOffset(s),h=5,a=.1;for(let s=0;s<h;s++){const d=1-(h-1)*a+s*a;t.lineWidth=this._toRenderUnit(d*n),this._strokeText(t,r,e+o,i)}i+=this._lineSpacing}}_setFontProperties(t,e){t.font=this._parameters.fontString(e),t.textAlign=\"left\",t.textBaseline=\"alphabetic\"}get _displayWidth(){return this._metrics.displayWidth}_toRenderUnit(t){return t*this.renderPixelRatio}_toRoundedRenderUnit(t){return Math.round(t*this.renderPixelRatio)}_fillText(t,e,i,n){t.fillText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_strokeText(t,e,i,n){t.strokeText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_drawLine(t,e,i){t.beginPath(),t.moveTo(this._toRoundedRenderUnit(e[0])+.5,this._toRoundedRenderUnit(e[1])+.5),t.lineTo(this._toRoundedRenderUnit(i[0])+.5,this._toRoundedRenderUnit(i[1])+.5),t.stroke()}_drawBox(t,e,i){const n=this._toRenderUnit(e[0]),s=this._toRenderUnit(e[1]),r=this._toRenderUnit(i[0]),o=this._toRenderUnit(i[1]),h=Math.floor(n)+.5,a=Math.ceil(n+r)-.5,d=Math.floor(s)+.5,l=Math.ceil(s+o)-.5;t.beginPath(),t.moveTo(h,d),t.lineTo(a,d),t.lineTo(a,l),t.lineTo(h,l),t.lineTo(h,d),t.stroke()}}const n=[];{const t=16;for(let e=0;e<360;e+=360/t)n.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var s;function r(t,e,i){return t.canvas||(t.canvas=document.createElement(\"canvas\")),t.canvas.width=e,t.canvas.height=i,t.canvas}!function(t){t[t.Left=0]=\"Left\",t[t.Center=1]=\"Center\",t[t.Right=2]=\"Right\"}(s||(s={}));const o={canvas:null},h=.2,a=512,d=\"rgb(255, 0, 255, 0.5)\",l=(()=>{let t=\"\";for(let e=32;e<127;e++)t+=String.fromCharCode(e);return t})();class _{constructor(t,e,i,n,s){this.paddingTop=t,this.paddingBottom=e,this.lineHeight=i,this.displayWidth=n,this.baselinePosition=s}}class c{constructor(t,e){this.actualBoundingBoxAscent=t,this.actualBoundingBoxDescent=e}}const g=new Map;export{s as TextRenderAlignment,i as TextRenderer,r as getTextHelperCanvas};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as t}from\"../../../../chunks/vec2f64.js\";import{TextRenderAlignment as e}from\"../../webgl-engine/lib/TextRenderer.js\";const r=Object.freeze({left:0,center:.5,right:1}),o=Object.freeze({\"bottom-left\":t(0,0),bottom:t(.5,0),\"bottom-right\":t(1,0),left:t(0,.5),center:t(.5,.5),right:t(1,.5),\"top-left\":t(0,1),top:t(.5,1),\"top-right\":t(1,1)});function c(t){switch(t){case\"left\":return e.Left;case\"right\":return e.Right;default:return e.Center}}function n(t){switch(t){case\"bottom-left\":case\"left\":case\"top-left\":return\"left\";case\"bottom\":case\"center\":case\"top\":return\"center\";case\"bottom-right\":case\"right\":case\"top-right\":return\"right\"}}function s(t){switch(t){case\"bottom-left\":case\"bottom\":case\"bottom-right\":return\"bottom\";case\"left\":case\"center\":case\"right\":return\"center\";case\"top-left\":case\"top\":case\"top-right\":return\"top\"}}function i(t,e){switch(e){case\"bottom\":return\"left\"===t?\"bottom-left\":\"right\"===t?\"bottom-right\":\"bottom\";case\"center\":return t;case\"top\":return\"left\"===t?\"top-left\":\"right\"===t?\"top-right\":\"top\"}}function f(t){return\"middle\"===t?\"center\":t}export{i as anchorFromPlacements,n as horizontalPlacementFromAnchor,r as horizontalPlacementToAnchorX,o as namedAnchorToHUDMaterialAnchorPos,c as textRenderAlignmentFromHorizontalPlacement,f as verticalPlacementFromAlignment,s as verticalPlacementFromAnchor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass t{constructor(t=null,e=\"center\",s=\"center\",i=null,l=[0,0,0],n=0,h=[0,0,0,1],r=[0,0],c=\"world\",a=0,f=0){this.verticalOffset=t,this.horizontalPlacement=e,this.verticalPlacement=s,this.text=i,this.translation=l,this.elevationOffset=n,this.centerOffset=h,this.screenOffset=r,this.centerOffsetUnits=c,this.displayWidth=a,this.displayHeight=f}}export{t as CreateLabelParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{isCachedFontFace as t,loadFont as r}from\"../../../../core/fontUtils.js\";import e from\"../../../../core/Logger.js\";import{pt2px as i}from\"../../../../core/screenUtils.js\";import{Z as n}from\"../../../../chunks/vec4f64.js\";class s{constructor(o){this.definition=o,this.key=JSON.stringify(o),this.haloSize=Math.round(o.halo.size),this.textStyle=this._colorToRGBA(o.color),this.haloStyle=this._colorToRGB(o.halo.color),this.backgroundStyle=0!==o.background.color[3]?this._colorToRGBA(o.background.color):null}fontString(o){const t=this.definition.font;return`${t.style} ${t.weight} ${o}px ${t.family}, sans-serif`}_colorToRGB(o){return`rgb(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()})`}_colorToRGBA(o){return`rgba(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()},${o[3]})`}static async fromSymbol(a,c){const f=a?.material?.color,m=o.toUnitRGBA(f)??n,u=null!=a.size?i(a.size):12,g=a.lineHeight,h=null!=a.background?o.toUnitRGBA(a.background.color):n,d={family:a.font?.family??\"sans-serif\",decoration:a.font?.decoration??\"none\",weight:a.font?.weight??\"normal\",style:a.font?.style??\"normal\"},y=a.halo,b=null!=y&&null!=y.color&&y.size>0?{size:i(y.size),color:o.toUnitRGBA(y.color)}:{size:0,color:n},p=new s({color:m,size:u,background:{color:h,padding:null!=a.background?[.65*u,.5*u]:[0,0],borderRadius:null!=a.background?u*(6/16):0},lineSpacingFactor:g,font:d,halo:b,pixelRatio:c});if(a.font){let o=!1;const i=p.fontString(u);try{o=(await document.fonts.load(i)).some((o=>!t(o)))}catch(w){e.getLogger(\"esri.views.3d.webgl-engine.lib.TextRenderParameters\").warnOnce(`Failed to preload font '${i}'. Some text symbology may be rendered using the default browser font.`)}if(!o&&!l.has(a.font.family))try{await r(a.font)}catch(w){}}return p}}const l=new Set([\"Arial\",\"Times New Roman\",\"Courier New\",\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\",\"ui-serif\",\"ui-sans-serif\",\"ui-monospace\",\"ui-rounded\",\"math\",\"emoji\",\"fangsong\"]);export{s as TextRenderParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass e{constructor(e,s){this.scheduler=e,this.schedule=s,this.sharedResources=null,this.streamDataRequester=null,this.elevationProvider=null,this.renderer=null,this.stage=null,this.clippingExtent=null,this.renderCoordsHelper=null,this.overlaySR=null,this.layer=null,this.drapeSourceRenderer=null,this.graphicsCoreOwner=null,this.localOriginFactory=null,this.featureExpressionInfoContext=null,this.screenSizePerspectiveEnabled=!0,this.slicePlaneEnabled=!1,this.physicalBasedRenderingEnabled=!1,this.skipHighSymbolLods=!1,this.isAsync=!1}}class s{constructor(){this.renderPriority=0,this.renderPriorityStep=1,this.ignoreDrivers=!1}}export{e as Graphics3DSymbolCreationContext,s as Graphics3DSymbolLayerCreationContext};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{EmptyArray as e}from\"../../../../core/arrayUtils.js\";import{forEach as t}from\"../../../../core/asyncUtils.js\";import{estimateAttributesObjectSize as i}from\"../../../../core/byteSizeEstimations.js\";import r from\"../../../../core/ObjectPool.js\";import{a as s}from\"../../../../chunks/vec2.js\";import{a}from\"../../../../chunks/vec2f64.js\";import{g as o}from\"../../../../chunks/vec3.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import l from\"../../../../geometry/Polygon.js\";import{projectBoundingRect as h}from\"../../../../geometry/projection.js\";import{set as c,ZERO as y,empty as p,expandWithAABB as u,allFinite as m,toRect as d}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as b,allFinite as f}from\"../../../../geometry/support/aaBoundingRect.js\";import{equals as g}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{computeAABR as L,numVertices as _}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromGeometry as E}from\"../../../../layers/graphics/featureConversionUtils.js\";import{VisibilityFlag as G,VisibilityGroup as j}from\"./enums.js\";import{createFeature as v}from\"./featureExpressionInfoUtils.js\";const x=new r(Array,(e=>c(e,y)),null,10,5),A=b();class S{get labelLayers(){return this._labelLayers||e}get extent(){return this._extent}get isElevationSource(){return this.layers.some((e=>e?.isElevationSource))}constructor(e,t,i,r,s){this.graphic=e,this.graphics3DSymbol=t,this.layers=i,this._visibleFlags=G.ALL_LABEL,this.deconflictionPriority=0,++t.referenced,this._featureExpressionFeature=s?v(s,e,r):null}initialize(e){this._layer=e,this._forEachSymbolLayerGraphic((t=>{t.initialize(e),t.setVisibility(this.isVisible())}))}destroy(){this._forEachSymbolLayerGraphic((e=>e.destroy())),this._calloutLayer=null,--this.graphics3DSymbol.referenced,this.graphics3DSymbol=null}get destroyed(){return null==this.layers}clearLabelGraphics(){this._forEachLabelGraphic((e=>e.destroy())),this._labelLayers=null}addLabelGraphic(e,t){this._labelLayers||(this._labelLayers=new Array),this._labelLayers.push(e),e.initialize(t),e.setVisibility(this.isVisible(j.LABEL))}setCalloutGraphic(e){this._calloutLayer=e,this._layer&&(e.initialize(this._layer),e.setVisibility(this.isVisible()))}get calloutLayer(){return this._calloutLayer}get isDraped(){let e=!1;return this._forEachSymbolLayerGraphic((t=>{\"draped\"===t.type&&(e=!0)})),e}isVisible(e=j.GRAPHIC,t){const i=t?this._visibleFlags|t|j.LABEL*t:this._visibleFlags;return e===j.GRAPHIC?(i&G.ALL_GRAPHIC)===G.ALL_GRAPHIC:(i&G.ALL_LABEL)===G.ALL_LABEL}setVisibilityFlag(e,t,i){const r=this.isVisible(e);i?this._visibleFlags|=e*t:this._visibleFlags&=~(e*t);const s=this.isVisible(e);if(r===s)return!1;if(e===j.LABEL)this._forEachLabelGraphic((e=>e.setVisibility(s)));else{this._forEachSymbolLayerGraphic((e=>e.setVisibility(s)));const e=this.isVisible(j.LABEL);this._forEachLabelGraphic((t=>t.setVisibility(e)))}return!0}getVisibilityFlag(e,t){return 0!=(this._visibleFlags&e*t)}computeExtent(e){if(!this._extent){const t=this.graphic.geometry;if(null==t)return!1;this._extent=b(),L(t,this._extent);const i=t.spatialReference;if(!g(i,e)&&!h(this._extent,i,this._extent,e))return this._extent=null,!1}return!0}getAsOptimizedGeometry(e,t){return this._optimizedGeometry||(this._optimizedGeometry=this._convertGraphicToOptimizedGeometry(this.graphic,e,t)),this._optimizedGeometry}_convertGraphicToOptimizedGeometry(e,t,i){let r=e.geometry;return\"mesh\"!==r.type&&\"extent\"!==r.type||(r=l.fromExtent(\"mesh\"===r.type?r.extent:r)),E(r,t,i)}get usedMemory(){let e=i(this.graphic.attributes);return this._forEachSymbolLayerGraphic((t=>{const i=t.graphics3DSymbolLayer.complexity;if(null==i)return;const r=\"draped\"===t.type?i.memory.draped:i.memory;e+=r.bytesPerFeature,r.bytesPerCoordinate&&(e+=_(this.graphic.geometry)*r.bytesPerCoordinate)})),e}computeAttachmentOrigin(){const e={render:{origin:n(),num:0},draped:{origin:a(),num:0}};for(const t of this.layers)null!=t&&t.computeAttachmentOrigin(e);return e.render.num>1&&o(e.render.origin,e.render.origin,1/e.render.num),e.draped.num>1&&s(e.draped.origin,e.draped.origin,1/e.draped.num),e}async getProjectedBoundingBox(e,i,r,s,a){return a||(a={boundingBox:null,requiresDrapedElevation:!1,screenSpaceObjects:[]}),a.boundingBox?p(a.boundingBox):a.boundingBox=p(),a.requiresDrapedElevation=!1,await t(this.layers,(async t=>{if(null==t)return;const o=\"draped\"===t.type?i:e,n=x.acquire(),l=await t.getProjectedBoundingBox(o,r,a.screenSpaceObjects,s,n);isFinite(l[2])&&isFinite(l[5])||(a.requiresDrapedElevation=!0),l&&u(a.boundingBox,n),x.release(n)})),m(a.boundingBox)||f(d(a.boundingBox,A))?a:null}needsElevationUpdates(){for(const e of this.layers)if(null!=e&&(\"object3d\"===e.type||\"lod-instance\"===e.type)&&e.needsElevationUpdates)return!0;return this._labelLayers?.some((e=>e?.needsElevationUpdates??!1))??!1}alignWithElevation(e,t,i){this._forEachRenderedGraphic((r=>{\"object3d\"!==r.type&&\"lod-instance\"!==r.type||r.alignWithElevation(e,t,this._featureExpressionFeature,i)}))}alignWithAbsoluteElevation(e,t,i){this._forEachRenderedGraphic((r=>{\"object3d\"===r.type&&r.alignWithAbsoluteElevation(e,t,i)}))}addObjectStateSet(e,t){this._forEachSymbolLayerGraphic((i=>i.addObjectState(e,t)))}removeObjectState(e){this._forEachSymbolLayerGraphic((t=>t.removeObjectState(e)))}_forEachGraphicList(e,t){e?.forEach((e=>e&&t(e)))}_forEachSymbolLayerGraphic(e){this._forEachGraphicList(this.layers,e),this._calloutLayer&&e(this._calloutLayer)}_forEachLabelGraphic(e){this._forEachGraphicList(this._labelLayers,e)}_forEachRenderedGraphic(e){this._forEachSymbolLayerGraphic(e),this._forEachLabelGraphic(e)}get test(){const e=this;return{addLabelLayer:t=>{e._labelLayers||(e._labelLayers=new Array),e._labelLayers.push(t)}}}}export{S as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{getZeroIndexArray as t}from\"../../../../geometry/support/Indices.js\";import{Attribute as e}from\"../../webgl-engine/lib/Attribute.js\";import{ContentObjectType as i}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as r}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as n}from\"../../webgl-engine/lib/VertexAttribute.js\";import a from\"../../../../geometry/Extent.js\";import o from\"../../../../geometry/Polygon.js\";function s(a){const o=[[n.POSITION,a.indices]],s=[[n.POSITION,new e(a.attributeData.position,3,!0)]];return null!=a.attributeData.colorFeature?(s.push([n.COLORFEATUREATTRIBUTE,new e([a.attributeData.colorFeature],1,!0)]),o.push([n.COLORFEATUREATTRIBUTE,new Array(a.indices.length).fill(0)])):a.attributeData.color&&(s.push([n.COLOR,new e(a.attributeData.color,4,!0)]),o.push([n.COLOR,t(a.indices.length)])),a.attributeData.uvMapSpace&&(s.push([n.UVMAPSPACE,new e(a.attributeData.uvMapSpace,4,!0)]),o.push([n.UVMAPSPACE,a.indices])),a.attributeData.boundingRect&&(s.push([n.BOUNDINGRECT,new e(a.attributeData.boundingRect,9,!0)]),o.push([n.BOUNDINGRECT,a.indices])),new r(a.material,s,o,a.mapPositions,i.Mesh,a.attributeData.objectAndLayerIdColor)}function u(t,a=null){const o=[[n.POSITION,t.indices],[n.UV0,t.indices]],s=[[n.POSITION,new e(t.attributeData.position,3,!0)],[n.UV0,new e(t.attributeData.uv0,2,!0)]];return new r(t.material,s,o,t.mapPositions,i.Mesh,a)}function c(t){switch(t.type){case\"extent\":if(t instanceof a)return o.fromExtent(t);break;case\"polygon\":return t}return null}class p{constructor(t,e,i){this.renderData=t,this.layerUid=e,this.graphicUid=i,this.outGeometries=new Array}}export{p as PolygonCreationDataBase,s as createColorGeometry,u as createWaterGeometry,c as geometryAsPolygon};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{projectBuffer as o}from\"../../../../geometry/projection.js\";import{newDoubleArray as t,doubleSubArray as n}from\"../../../../geometry/support/DoubleArray.js\";import{pathsToTriangulationInfo as s,CounterClockwiseMode as i}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as e}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{DRAPED_Z as r}from\"../../terrain/OverlayRenderer.js\";function p(o,n,r,p){const l=s(o.rings,!!o.hasZ,i.CCW_IS_HOLE),h=t(l.position.length),a=e(l.position,o.spatialReference,0,h,0,l.position,0,l.position.length/3,n,r,p),g=null!=a;return new f(l.position,h,u(l.polygons,l.position,h),c(l.outlines,l.position,h),g,a)}function l(t,n){const e=s(t.rings,!1,i.CCW_IS_HOLE),p=o(e.position,t.spatialReference,0,e.position,n,0,e.position.length/3);for(let o=2;o<e.position.length;o+=3)e.position[o]=r;return{position:e.position,polygons:u(e.polygons,e.position),outlines:c(e.outlines,e.position),projectionSuccess:p}}function c(o,t,s=null){return o.filter((({count:o})=>o>1)).map((({index:o,count:i})=>{const e=3*o,r=3*i;return null!=s?new a(o,i,n(t,e,r),n(s,e,r)):new h(o,i,n(t,e,r))}))}function u(o,t,s=null){const i=new Array;for(const{index:e,count:r,holeIndices:p,pathLengths:l}of o){if(r<=1)continue;const o=3*e,c=3*r,u=p.map((o=>o-e)),h=null!=s?new g(e,r,n(t,3*e,3*r),n(s,o,c),u,l):new m(e,r,n(t,3*e,3*r),u,l);i.push(h)}return i}class h{constructor(o,t,n){this.index=o,this.count=t,this.position=n}}class a extends h{constructor(o,t,n,s){super(o,t,n),this.mapPositions=s}}class g extends a{constructor(o,t,n,s,i,e){super(o,t,n,s),this.holeIndices=i,this.pathLengths=e}}class m extends h{constructor(o,t,n,s,i){super(o,t,n),this.holeIndices=s,this.pathLengths=i}}class f{constructor(o,t,n,s,i,e){this.position=o,this.mapPositions=t,this.polygons=n,this.outlines=s,this.projectionSuccess=i,this.sampledElevation=e}}export{f as PolygonRenderInfo,g as PolygonVertexData,m as PolygonVertexDataDraped,p as geometryToRenderInfo,l as geometryToRenderInfoDraped};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{n as a}from\"../../../../chunks/vec3.js\";function n(t,a,n,s,o,h=2){const c=1/(Math.abs(n)+Math.abs(s)+Math.abs(o)),e=n*c,u=s*c,M=o<=0?(e>=0?1:-1)*(1-Math.abs(u)):e,b=o<=0?(u>=0?1:-1)*(1-Math.abs(e)):u,f=a*h;t[f]=r(M),t[f+1]=r(b)}function s(t){const a=t.length/3,s=new Int16Array(2*a);let o=0;for(let r=0;r<a;++r)n(s,r,t[o++],t[o++],t[o++]);return s}function o(t,n,s,o=2){const r=s*o,c=h(n[r]),e=h(n[r+1]),u=1-Math.abs(c)-Math.abs(e);t[2]=u,u<0?(t[0]=(c>=0?1:-1)*(1-Math.abs(e)),t[1]=(e>=0?1:-1)*(1-Math.abs(c))):(t[0]=c,t[1]=e),a(t,t)}function r(a){return t(Math.round(32767*a),-32767,32767)}function h(a){return t(a/32767,-1,1)}export{n as compressNormal,s as compressNormals,h as decodeInt16,o as decompressNormal,r as encodeInt16};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Error.js\";import{clone as t}from\"../../../../core/lang.js\";import{getMetersPerVerticalUnitForSR as s}from\"../../../../core/unitUtils.js\";import{e as r}from\"../../../../chunks/earcut.js\";import{b as n}from\"../../../../chunks/mat3.js\";import{c as i}from\"../../../../chunks/mat3f64.js\";import{a as o,p as a}from\"../../../../chunks/mat4.js\";import{c as l}from\"../../../../chunks/mat4f64.js\";import{c,n as h,s as m,b as p,f as g,m as d}from\"../../../../chunks/vec3.js\";import{g as u,c as f}from\"../../../../chunks/vec3f64.js\";import{computeTranslationToOriginAndRotation as y}from\"../../../../geometry/projection.js\";import{create as b,empty as _,expandWithBuffer as x,intersectsClippingArea as j}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as S}from\"../../../../geometry/support/DoubleArray.js\";import{newIndexArray as P,getZeroIndexArray as E}from\"../../../../geometry/support/Indices.js\";import{t as w}from\"../../../../chunks/vec32.js\";import{makeVertexCandidate as v,makeEdgeCandidate as C}from\"../../../../layers/graphics/data/SnappingCandidate.js\";import{getDriverAxisSizeValue as L}from\"../../../../renderers/support/renderingInfoUtils.js\";import{ViewingMode as O}from\"../../../ViewingMode.js\";import{needsElevationUpdates3D as I,SampleElevationInfo as M}from\"./elevationAlignmentUtils.js\";import{ElevationContext as A}from\"./ElevationContext.js\";import{Graphics3DObject3DGraphicLayer as z}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as D}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as R,computeCentroid as G}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as B}from\"./interfaces.js\";import{geometryAsPolygon as U}from\"./polygonUtils.js\";import{createMaterial as T}from\"../support/edgeUtils.js\";import k from\"../../support/debugFlags.js\";import{SamplePosition as N}from\"../../support/ElevationProvider.js\";import{geometryToRenderInfo as V}from\"../../support/renderInfoUtils/polygon.js\";import{NormalType as H}from\"../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{Attribute as F}from\"../../webgl-engine/lib/Attribute.js\";import{CullFaceOptions as W}from\"../../webgl-engine/lib/basicInterfaces.js\";import{ContentObjectType as q}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as Z}from\"../../webgl-engine/lib/Geometry.js\";import{isGeometryWithMapPositions as J}from\"../../webgl-engine/lib/GeometryWithMapPositions.js\";import{compressNormals as K}from\"../../webgl-engine/lib/Normals.js\";import{Object3D as Q}from\"../../webgl-engine/lib/Object3D.js\";import{VertexAttribute as X}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as Y}from\"../../webgl-engine/materials/DefaultMaterial.js\";const $=[\"polygon\",\"extent\"];class ee extends D{constructor(e,t,s,r){super(e,t,s,r),this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const t=R(this._getSymbolSize());if(t)throw new e(\"graphics3dextrudesymbollayer:invalid-size\",t)}const t=this.symbolLayer?.material?.color,s=this._getCombinedOpacityAndColor(t),r=u(s),n=s[3],i=n<1||this.needsDrivenTransparentPass,o={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,diffuse:r,ambient:r,opacity:n,transparent:i,cullFace:i?W.None:W.Back,hasVertexColors:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,offsetTransparentBackfaces:!0,normalType:H.Compressed};this._material=new Y(o),this._bottomMaterial=new Y({...o,cullFace:W.Back}),this._context.stage.add(this._material),this._context.stage.add(this._bottomMaterial)}destroy(){super.destroy(),this._material&&(this._context.stage.remove(this._material),this._context.stage.remove(this._bottomMaterial))}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,$,this.symbolLayer.type))return null;const s=this._getVertexOpacityAndColor(e.renderingInfo,255),r=this.setGraphicElevationContext(t,new A);return this._createAs3DShape(t,e.renderingInfo,s,r,t.uid)}layerOpacityChanged(e,t){const s=this.symbolLayer?.material?.color,r=this._getCombinedOpacity(s),n=r<1||this.needsDrivenTransparentPass;this._material.setParameters({opacity:r,transparent:n}),this._bottomMaterial.setParameters({opacity:r,transparent:n});const i=this._getLayerOpacity();e.forEach((e=>{const s=t(e);null!=s&&s.layerOpacityChanged(i,this._context.isAsync)}))}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,I)}slicePlaneEnabledChanged(e,t){return this._material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._bottomMaterial.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),e.forEach((e=>{const s=t(e);null!=s&&s.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync)})),!0}physicalBasedRenderingChanged(){return this._material.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),this._bottomMaterial.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),!0}_getExtrusionSize(e){let t;return t=e.size&&this._drivenProperties.size?L(e.size,2)??0:this._getSymbolSize(),t/=this._context.renderCoordsHelper.unitInMeters,t}applyRendererDiff(e,t){return this._drivenPropertiesChanged(t)?B.RecreateSymbol:B.RecreateGraphics}async queryForSnapping(e,r,n,i){const o=this._getExtrusionSize(n)*this._context.renderCoordsHelper.unitInMeters/s(r),{objectId:a,target:l}=e,c=t(l);switch(c.z=(c.z??0)+o,e.type){case\"edge\":{const{start:s,end:r}=e,n=t(s),i=t(r);return n.z=(n.z??0)+o,i.z=(i.z??0)+o,[C(a,c,1/0,n,i)]}case\"vertex\":return[v(a,c,1/0),C(a,l,1/0,l,c)];default:return[]}}_getSymbolSize(){return this.symbolLayer.size??1}_createAs3DShape(e,t,s,a,c){const h=U(e.geometry);if(null==h)return null;if(0===h.rings.length||!h.rings.some((e=>e.length>0)))return this._logGeometryValidationWarnings(h.rings,\"rings\",\"ExtrudeSymbol3DLayer\"),null;const m=V(h,this._context.elevationProvider,this._context.renderCoordsHelper,a);this._logGeometryCreationWarnings(m,h.rings,\"rings\",\"ExtrudeSymbol3DLayer\");const p=G(h);if(null==p)return null;const g=new Array,d=new Array,u=b(),E=l(),v=f(),C=this._context.renderCoordsHelper.viewingMode===O.Global;C||this._context.renderCoordsHelper.worldUpAtPosition(null,v),y(h.spatialReference,[p.x,p.y,0],E,this._context.renderCoordsHelper.spatialReference);const L=l();o(L,E);const M=i();n(M,L);const{polygons:A,mapPositions:D,position:R}=m;for(const n of A){const e=n.count;if(this._context.clippingExtent&&(_(u),x(u,n.mapPositions),!j(u,this._context.clippingExtent)))continue;const i=r(n.mapPositions,n.holeIndices,3);if(0===i.length)continue;const o=i.length,a=6*e,l=P(a+o),h=P(o),m=S(3*a),p=S(3*a),f=S(3*a),y=S(a);se(R,D,i,n,m,f,p,y,l,h,this._getExtrusionSize(t),v,C),w(m,m,L);const b=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:c,layerUid:this._context.layer.uid}),E=new je(m,f,K(p),y);g.push(te(this._material,l,l.length-h.length,E,s,b),te(this._bottomMaterial,h,0,E,s,b)),d.push(E.heights)}if(0===g.length)return null;const B=new Q({geometries:g,layerUid:this._context.layer.uid,graphicUid:c,isElevationSource:!0});B.transformation=E;const k=T(this.symbolLayer,{opacity:this._getLayerOpacity()}),N=null!=k?{baseMaterial:this._material,edgeMaterials:[k],properties:{mergeGeometries:!0,hasSlicePlane:this._context.slicePlaneEnabled}}:null,H=new z(this,B,g,null,null,((e,t,s,r,n)=>de(e,t,s,r,n,d)),a,N);return H.alignedSampledElevation=m.sampledElevation,H.needsElevationUpdates=I(a.mode),H}}function te(e,t,s,r,n,i){const o=E(t.length),a=[[X.POSITION,new F(r.positions,3,!0)],[X.NORMALCOMPRESSED,new F(r.normals,2,!0)],[X.COLOR,new F(n,4,!0)]],l=[[X.POSITION,t],[X.NORMALCOMPRESSED,t],[X.COLOR,o]];return new Z(e,a,l,r.elevation,q.Mesh,i,s)}function se(e,t,s,r,n,i,o,a,l,c,h,m,p){const g=s.length/3;let d=0,u=2*r.count;re(e,t,r.index,r.count,s,0,g,n,i,o,a,l,c,u,h,m,p);let f=2*r.count;u=0,oe(n,i,a,o,d,r.pathLengths[0],r.count,f,l,u,h),f+=4*r.pathLengths[0],u+=2*r.pathLengths[0],d+=r.pathLengths[0];for(let y=1;y<r.pathLengths.length;++y)oe(n,i,a,o,d,r.pathLengths[y],r.count,f,l,u,h),f+=4*r.pathLengths[y],u+=2*r.pathLengths[y],d+=r.pathLengths[y]}function re(e,t,s,r,n,i,o,a,l,m,p,g,d,u,f,y,b){c(fe,y);const _=f>0?1:-1;let x=3*s,j=0,S=3*j,P=r,E=3*P;for(let c=0;c<r;++c)b&&(fe[0]=e[x],fe[1]=e[x+1],fe[2]=e[x+2],h(fe,fe)),a[S]=e[x],a[S+1]=e[x+1],a[S+2]=e[x+2],l[S]=t[x],l[S+1]=t[x+1],l[S+2]=t[x+2],m[S]=-_*fe[0],m[S+1]=-_*fe[1],m[S+2]=-_*fe[2],p[j]=0,a[E]=e[x]+f*fe[0],a[E+1]=e[x+1]+f*fe[1],a[E+2]=e[x+2]+f*fe[2],l[E]=t[x],l[E+1]=t[x+1],l[E+2]=t[x+2],m[E]=_*fe[0],m[E+1]=_*fe[1],m[E+2]=_*fe[2],p[P]=f,S+=3,E+=3,x+=3,j+=1,P+=1;x=3*i,S=0,E=3*u;const w=f<0?_e:be,v=f<0?be:_e;for(let c=0;c<o;++c)d[S]=n[x+w[0]],d[S+1]=n[x+w[1]],d[S+2]=n[x+w[2]],g[E]=n[x+v[0]]+r,g[E+1]=n[x+v[1]]+r,g[E+2]=n[x+v[2]]+r,S+=3,E+=3,x+=3}function ne(e,t,s,r,n,i,o){r[i]=r[o],o*=3,e[i*=3]=e[o],e[i+1]=e[o+1],e[i+2]=e[o+2],t[i]=t[o],t[i+1]=t[o+1],t[i+2]=t[o+2],s[i]=n[0],s[i+1]=n[1],s[i+2]=n[2]}const ie=f();function oe(e,t,s,r,n,i,o,a,l,c,h){let m=n,p=n+1,g=n+o,d=n+o+1,u=a,f=a+1,y=a+2*i,b=a+2*i+1;h<0&&(m=n+o+1,d=n),c*=3;for(let _=0;_<i;++_)_===i-1&&(h>0?(p=n,d=n+o):(p=n,m=n+o)),pe(e,m,p,g,ie),ne(e,t,r,s,ie,u,m),ne(e,t,r,s,ie,f,p),ne(e,t,r,s,ie,y,g),ne(e,t,r,s,ie,b,d),l[c++]=u,l[c++]=y,l[c++]=b,l[c++]=u,l[c++]=b,l[c++]=f,m++,p++,g++,d++,u+=2,f+=2,y+=2,b+=2}const ae=f(),le=f(),ce=f(),he=f(),me=f();function pe(e,t,s,r,n){t*=3,s*=3,r*=3,m(ae,e[t++],e[t++],e[t++]),m(le,e[s++],e[s++],e[s++]),m(ce,e[r++],e[r++],e[r++]),p(he,le,ae),p(me,ce,ae),g(n,me,he),h(n,n)}const ge=f();function de(e,t,s,r,n,i){const o=e.stageObject,c=o.geometries,h=c.length,p=\"absolute-height\"!==t.mode;let g=0;const u=o.transformation,f=a(l(),u);for(let a=0;a<h;a+=2){const e=c[a];if(!J(e))continue;const t=e.getMutableAttribute(X.POSITION).data,l=i[a/2],h=new N(e.mapPositions),y=t.length/3;let b=0,_=!1,x=0;for(let i=0;i<y;i++){ge[0]=t[b],ge[1]=t[b+1],ge[2]=t[b+2],r(h,ye),p&&(x+=ye.sampledElevation),k.TESTS_DISABLE_OPTIMIZATIONS?(m(ue,h.array[h.offset],h.array[h.offset+1],ye.z+l[b/3]),null!=s&&n.toRenderCoords(ue,s,ue),d(ue,ue,f)):(m(ue,t[b],t[b+1],t[b+2]),d(ue,ue,u),n.setAltitude(ue,ye.z+l[b/3]),d(ue,ue,f)),t[b]=ue[0],t[b+1]=ue[1],t[b+2]=ue[2];const e=xe/n.unitInMeters;(Math.abs(ge[0]-t[b])>=e||Math.abs(ge[1]-t[b+1])>=e||Math.abs(ge[2]-t[b+2])>=e)&&(_=!0),h.offset+=3,b+=3}_&&(e.invalidateBoundingInfo(),o.geometryVertexAttrsUpdated(c[a]),c[a+1].invalidateBoundingInfo(),o.geometryVertexAttrsUpdated(c[a+1])),g+=x/y}return g/h}const ue=f(),fe=f(),ye=new M,be=[0,2,1],_e=[0,1,2],xe=.01;class je{constructor(e,t,s,r){this.positions=e,this.elevation=t,this.normals=s,this.heights=r}}export{ee as Graphics3DExtrudeSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{s as e}from\"../../../../chunks/vec3.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{create as r,empty as i,expandWithRect as s,center as o,set as d,toRect as n}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as a}from\"../../../../geometry/support/aaBoundingRect.js\";import{demResolutionForBoundingBox as h}from\"./graphicUtils.js\";import{Object3DState as c}from\"../../webgl-engine/lib/basicInterfaces.js\";import{DirtyOperation as m,DirtyState as g}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";class u{constructor(e,t,r,i){this.graphics3DSymbolLayer=e,this.renderGeometries=t,this.boundingBox=r,this._drapeSourceRenderer=i,this.type=\"draped\",this.stage=null,this._visible=!1,this._addedToStage=!1,this.isElevationSource=!1}initialize(e){this.stage=e.stage}setVisibility(e){if(null!=this.stage&&this._visible!==e){if(this._visible=e,e&&!this._addedToStage)return this._addedToStage=!0,void this._drapeSourceRenderer.addGeometries(this.renderGeometries,m.ADD);if(e||this._addedToStage){for(const e of this.renderGeometries)e.visible=this._visible;this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,g.VISIBILITY)}}}destroy(){this.stage&&this._addedToStage&&this._drapeSourceRenderer.removeGeometries(this.renderGeometries,m.REMOVE),this._addedToStage=!1,this._visible=!1,this.stage=null}getCenterObjectSpace(r=t()){return e(r,0,0,0)}getBoundingBoxObjectSpace(e=r()){return i(e)}addObjectState(e,t){e===c.Highlight&&(this.renderGeometries.forEach((e=>{const r=e.geometry.addHighlight();t.addRenderGeometry(e,r,this)})),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,g.HIGHLIGHT))}removeObjectState(e){this.renderGeometries.forEach((t=>{e.removeRenderGeometry(t)}))}removeRenderGeometryObjectState(e,t){e.geometry.removeHighlight(t),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,g.HIGHLIGHT)}computeAttachmentOrigin(e){for(const t of this.renderGeometries)t.geometry.computeAttachmentOrigin(f)&&(e.draped.origin[0]+=f[0],e.draped.origin[1]+=f[1],e.draped.num++)}async getProjectedBoundingBox(e,t,r,d,n){i(n);for(let i=0;i<this.renderGeometries.length;i++){const t=this.renderGeometries[i];this._getRenderGeometryProjectedBoundingRect(t,e,l,r),s(n,l)}if(t){let e;o(n,f);const r=h(n,t.service.spatialReference,t);try{e=await t.service.queryElevation(f[0],f[1],d,r,\"ground\")}catch(a){}null!=e&&(n[2]=Math.min(n[2],e),n[5]=Math.max(n[5],e))}return n}_getRenderGeometryProjectedBoundingRect(e,t,r,i){if(this.boundingBox)d(p,this.boundingBox);else{const t=e.boundingSphere,r=t[3];p[0]=t[0]-r,p[1]=t[1]-r,p[2]=t[2]-r,p[3]=t[0]+r,p[4]=t[1]+r,p[5]=t[2]+r}return t(p,0,2),this.calculateRelativeScreenBounds&&i.push({location:o(p),screenSpaceBoundingRect:this.calculateRelativeScreenBounds()}),n(p,r)}}const l=a(),p=r(),f=t();export{u as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import\"../../../../symbols.js\";import{result as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/Error.js\";import{releaseMaybe as i}from\"../../../../core/maybe.js\";import{throwIfAbortError as s,throwIfAborted as a}from\"../../../../core/promiseUtils.js\";import{pt2px as o,px2pt as n}from\"../../../../core/screenUtils.js\";import{dataComponents as l}from\"../../../../core/urlUtils.js\";import{c}from\"../../../../chunks/mat4f64.js\";import{f as h,a as m}from\"../../../../chunks/vec2f64.js\";import{f as u}from\"../../../../chunks/vec3f64.js\";import{f as d,c as _}from\"../../../../chunks/vec4f64.js\";import{projectPointToVector as p}from\"../../../../geometry/projection.js\";import{containsPoint as f}from\"../../../../geometry/support/aaBoundingBox.js\";import{createRendererExpression as y}from\"../../../../support/arcadeOnDemand.js\";import{defaultPrimitive as g}from\"../../../../symbols/support/IconSymbol3DLayerResource.js\";import{getIconHref as x}from\"../../../../symbols/support/utils.js\";import S from\"../../../2d/arcade/callExpressionWithFeature.js\";import{TRANSPARENT_UNIT as b}from\"./constants.js\";import{perObjectElevationAligner as v}from\"./ElevationAligners.js\";import{SymbolUpdateType as z,elevationModeChangeUpdateType as P,needsElevationUpdates2D as R}from\"./elevationAlignmentUtils.js\";import{ElevationContext as C}from\"./ElevationContext.js\";import M from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as j}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as I}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as w}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as O}from\"./interfaces.js\";import{namedAnchorToHUDMaterialAnchorPos as T}from\"./placementUtils.js\";import{placePointOnGeometry as U,createStageObject as E,extendPointGraphicElevationContext as L}from\"./pointUtils.js\";import{initFastSymbolUpdatesState as D,updateFastSymbolUpdatesState as F,evaluateModelTransform as A,ConvertOptions as G}from\"../support/FastSymbolUpdates.js\";import{createTexture as V,DEFAULT_SYMBOL_SIZE_RATIO as B,DEFAULT_TEX_SIZE as N}from\"../../support/engineContent/sdfPrimitives.js\";import{DRAPED_Z as q}from\"../../terrain/OverlayRenderer.js\";import{createPointGeometry as H}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderGeometry as k}from\"../../webgl-engine/lib/RenderGeometry.js\";import{Texture as W}from\"../../webgl-engine/lib/Texture.js\";import{HUDMaterial as $}from\"../../webgl-engine/materials/HUDMaterial.js\";import J from\"../../../../symbols/CIMSymbol.js\";const Z=c(),K=u(0,0,1),Q=16,X=1.5,Y=B,ee=[Y/2,Y/2,1-Y/2,1-Y/2],te=[N*Y,N*Y];class re extends I{getCachedSize(){return{size:this._getIconSize()}}constructor(e,t,r,i){super(e,t,r,i),this._cimLayers=null,this._cimSymbolMaterials=new Map,this._cimSymbolTextures=new Map,this._cimMaterialParametersInfo=null,this._cimRequiredFields=null,this._cimScaleFactorOrFunction=null,this._size=null,this._symbolTextureRatio=1,this._outlineSize=0,this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!0}}async doLoad(e){this._validateOrThrow();const t=this._prepareMaterialParameters(),r=this._getPrimitive();if(null!=r)this._prepareResourcesPrimitive(t,r);else{const r=x(this.symbolLayer),i=l(r);i&&\"application/json\"===i.mediaType?await this._prepareResourcesCIM(t,JSON.parse(i.data),e):await this._prepareResourcesHref(t,r,e)}}_validateOrThrow(){if(this._drivenProperties.size)return;const e=w(this._getIconSize());if(e)throw new r(\"graphics3diconsymbollayer:invalid-size\",e)}_getIconSize(){const e=this.symbolLayer,t=Math.round(null!=e.size?o(e.size):Q);return this._drivenProperties.size?Math.max(t,64):t}_generateTextureCIM(e){const t=this._getGraphicHash(e);let r=\"\"===t?null:this._cimSymbolTextures.get(t);if(!r){const i={scaleFactor:this._cimScaleFactorOrFunction},s=this._context.sharedResources.cimSymbolRasterizer.rasterizeCIMSymbol3D(this._cimLayers,e,\"esriGeometryPoint\",i,void 0,void 0);this._cimMaterialParametersInfo.anchorPosition=this._getAnchorPos(\"relative\",s.anchorPosition);const a={width:s.imageData.width,height:s.imageData.height};r=new W(s.imageData,a),this._cimSymbolTextures.set(t,r),this._context.stage.add(r)}return r}_prepareMaterialParameters(){const e={anchorPosition:this._getAnchorPos(this.symbolLayer.anchor,this.symbolLayer.anchorPosition)},t=this.symbol;if(ie(t)){const{screenLength:r,minWorldLength:i,maxWorldLength:s}=t.verticalOffset;e.verticalOffset={screenLength:o(r),minWorldLength:i||0,maxWorldLength:null!=s?s:1/0}}return this._context.screenSizePerspectiveEnabled&&(e.screenSizePerspective=this._context.sharedResources.screenSizePerspectiveSettings),e.occlusionTest=!0,e.hasSlicePlane=this._context.slicePlaneEnabled,e}_prepareResourcesPrimitive(e,t){const r=this._getOutlineSize();if(se(t)&&0===r)throw new Error(\"Nothing to render\");if(this._outlineSize=r,e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,null!=this._context.sharedResources.textures){const r=this._context.sharedResources.textures.fromData(`${t}-icon`,(()=>V(t)));this._texture=r.texture,this._releaseTexture=r,e.textureId=this._texture.id}e.textureIsSignedDistanceField=!0,e.distanceFieldBoundingBox=ee;const i=this._getIconSize();this._size=[i,i],this._symbolTextureRatio=1/Y,this._createMaterialAndAddToStage(e,this._context.stage)}async _prepareResourcesHref(e,i,a){this._outlineSize=this._getOutlineSize(),e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,e.textureIsSignedDistanceField=!1;const o=this._getIconSize(),n=o*this._context.graphicsCoreOwner.view.state.rasterPixelRatio;if(null!=this._context.sharedResources.textures){const l=await t(this._context.sharedResources.textures.fromUrl(i,n,{signal:a}));if(!1===l.ok){s(l.error);throw new r(\"graphics3diconsymbollayer:request-failed\",`Failed to load (Request for icon resource failed: ${i})`)}this._releaseTexture=l.value;const c=l.value.texture,h=c.parameters.width/c.parameters.height;this._size=h>1?[o,Math.round(o/h)]:[Math.round(o*h),o],e.textureId=c.id}this._createMaterialAndAddToStage(e,this._context.stage)}async _prepareResourcesCIM(e,t,r){const i=new J({data:t});if(!this._context.sharedResources.cimSymbolRasterizer){const e=(await import(\"../../../../symbols/cim/CIMSymbolRasterizer.js\")).CIMSymbolRasterizer;a(r),this._context.sharedResources.cimSymbolRasterizer||(this._context.sharedResources.cimSymbolRasterizer=new e(this._context.renderCoordsHelper.spatialReference,!0))}const s=this._context.layer.fields?this._context.layer.fields.map((e=>e.toJSON())):null;let o,n;if(this._cimLayers=await this._context.sharedResources.cimSymbolRasterizer.analyzeCIMSymbol3D(i,s,this._context.renderer&&\"dictionary\"===this._context.renderer.type?this._context.renderer.fieldMap:null,\"esriGeometryPoint\",{signal:r}),this._context.renderer&&\"dictionary\"===this._context.renderer.type&&this._context.renderer.scaleExpression){const e=this._context.renderer;if(isNaN(e.scaleExpression)){const t=e.scaleExpression,r=await y(t,this._context.layer.spatialReference,s);n=(e,t,i)=>{const s=S(r,e,{$view:i},\"esriGeometryPoint\",t);return null!==s?s:1}}else o=Number(e.scaleExpression)}this._cimScaleFactorOrFunction=o||n||1;const l=this._context.renderer?await this._context.renderer.getRequiredFields(this._context.layer.fieldsIndex):[];a(r);const c=this._context.layer.fieldsIndex;this._cimRequiredFields=l.map((e=>c.get(e).name)),this._cimMaterialParametersInfo=e,this._cimMaterialParametersInfo.color=this._getFillColor(),this._cimMaterialParametersInfo.outlineColor=[0,0,0,0],this._cimMaterialParametersInfo.outlineSize=0,this._cimMaterialParametersInfo.textureIsSignedDistanceField=!1}_getPrimitive(){return this.symbolLayer.resource&&this.symbolLayer.resource.href?null:this.symbolLayer.resource&&this.symbolLayer.resource.primitive||g}_getOutlineSize(){let e=0;const t=this.symbolLayer;if(null!=t.outline&&null!=t.outline.size)return Math.max(o(t.outline.size),0);return e=se(this._getPrimitive())?X:0,Math.max(e,0)}_getOutlineColor(){const t=this._getLayerOpacity(),r=this.symbolLayer,i=r?.outline?.color;if(null!=i){const r=e.toUnitRGB(i),s=i.a*t;return[r[0],r[1],r[2],s]}return[0,0,0,0]}_getFillColor(){if(se(this._getPrimitive()))return b;const e=null==this._getPrimitive(),t=this.symbolLayer?.material?.color;return this._getCombinedOpacityAndColor(t,{hasIntrinsicColor:e})}_getAnchorPos(e,t){return\"relative\"===e?h((t.x||0)+.5,.5-(t.y||0)):e in T?T[e]:T.center}_createMaterialAndAddToStage(e,t){if(this._cimLayers){this._fastUpdates=null;let r=e.textureId?this._cimSymbolMaterials.get(e.textureId):null;return r||(r=new $(e),this._cimSymbolMaterials.set(e.textureId??0,r),t.add(r)),r}return this._fastUpdates=D(this._context.renderer,this._fastVisualVariableConvertOptions()),this._fastUpdates&&(e={...e,...this._fastUpdates.materialParameters}),this._material=new $(e),t.add(this._material),this._material}_setDrapingDependentMaterialParameters(){this.draped&&(this._forEachMaterial((e=>{e.setParameters({verticalOffset:null,screenSizePerspective:null,occlusionTest:!1,hasSlicePlane:!1,shaderPolygonOffset:0,isDraped:this.draped})})),this.layerOpacityChanged())}destroy(){super.destroy(),this._forEachMaterial((e=>this._context.stage.remove(e))),this._material=null,this._cimSymbolMaterials.clear(),this._cimSymbolTextures.forEach((e=>this._context.stage.remove(e))),this._cimSymbolTextures.clear(),this._releaseTexture=i(this._releaseTexture)}_getScaleFactor(e,t){if(this._drivenProperties.size&&e.size){for(let t=0;t<3;t++){const r=e.size[t];r&&\"symbol-value\"!==r&&\"proportional\"!==r&&(e.size[t]=o(r))}if(\"symbol-value\"===e.size[0])return 1;if(isFinite(+e.size[0]))return+e.size[0]/t;if(isFinite(+e.size[2]))return+e.size[2]/t}return 1}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;let r,i=[0,0];if(this._cimLayers){if(!this._cimLayers.length)return null;const e=this._generateTextureCIM(t),s={textureId:e.id,...this._cimMaterialParametersInfo};r=this._createMaterialAndAddToStage(s,this._context.stage),i=[e.parameters.width,e.parameters.height]}else i=this._size,r=this._material;const s=U(t.geometry);if(null==s)return this.logger.warn(`unsupported geometry type for icon symbol: ${t.geometry.type}`),null;const a=e.renderingInfo,o=this._getVertexOpacityAndColor(a);let n=1;if(!this._fastUpdates?.visualVariables.size){const e=i[0]>i[1]?i[0]:i[1];n=this._getScaleFactor(a,e)}n*=this._symbolTextureRatio;const l=h(i[0]*n,i[1]*n),c=this.setGraphicElevationContext(t,new C);return this.ensureDrapedStatus(\"on-the-ground\"===c.mode)&&this._setDrapingDependentMaterialParameters(),this.draped?this._createAsOverlay(t,s,r,o,l,e.layer.uid):this._createAs3DShape(t,s,r,o,l,c,t.uid)}layerOpacityChanged(){const e=this._getFillColor(),t=this._getOutlineColor();this._forEachMaterial((r=>{r.setParameters({color:e}),r.setParameters({outlineColor:t})}))}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,s=P(re.elevationModeChangeTypes,r,i);if(s!==z.UPDATE)return s;const a=R(i)||\"absolute-height\"===i;return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>a))}slicePlaneEnabledChanged(){return this.draped||this._forEachMaterial((e=>{e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),!0}physicalBasedRenderingChanged(){return!0}get pixelRatioChanged(){return null!=this._getPrimitive()}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return O.RecreateSymbol;if(!F(this._fastUpdates,t,this._fastVisualVariableConvertOptions()))return O.RecreateSymbol;null!=this._material&&this._material.setParameters(this._fastUpdates.materialParameters)}return O.FastUpdate}_defaultElevationInfoNoZ(){return ae}_createAs3DShape(e,t,r,i,s,a,o){const n=this.getFastUpdateAttrValues(e),l=n&&this._fastUpdates?e=>A(this._fastUpdates.materialParameters,n,e):void 0,c=this._context.layer.uid,h=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:o,layerUid:c}),m=H(r,K,null,i,s,oe,null,n,h),u=E(this._context,t,m,a,o,l);if(null==u)return null;const d=new j(this,u.object,[m],null,null,v,a);return d.alignedSampledElevation=u.sampledElevation,d.needsElevationUpdates=R(a.mode)||\"absolute-height\"===a.mode,d.getScreenSize=this._createScreenSizeGetter(s,l),d.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(d.getScreenSize(),1,e),L(d,t,this._context.elevationProvider),d}_createAsOverlay(e,t,r,i,s,a){r.renderPriority=this._renderPriority;const o=_();p(t,o,this._context.overlaySR),o[2]=q;const n=this._context.clippingExtent;if(null!=n&&!f(n,o))return null;const l=this.getFastUpdateAttrValues(e),c=l&&this._fastUpdates?e=>A(this._fastUpdates.materialParameters,l,e):void 0,h=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:e.uid,layerUid:this._context.layer.uid}),m=H(r,K,o,i,s,null,null,l,h),u=new k(m,{layerUid:a,graphicUid:e.uid,shaderTransformer:c}),d=new M(this,[u],null,this._context.drapeSourceRenderer);return d.getScreenSize=this._createScreenSizeGetter(s,c),d.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(d.getScreenSize(),1,e),d}_createScreenSizeGetter(e,t){const r=this._outlineSize+2;if(this._fastUpdates&&t){const i=e[0]/this._symbolTextureRatio,s=e[1]/this._symbolTextureRatio;return(e=m())=>{const a=t(Z);return e[0]=a[0]*i+r,e[1]=a[5]*s+r,e}}{const t=e[0]/this._symbolTextureRatio+r,i=e[1]/this._symbolTextureRatio+r;return(e=m())=>(e[0]=t,e[1]=i,e)}}_fastVisualVariableConvertOptions(){const e=Math.max(this._size[0],this._size[1]),t=u(e,e,e),r=n(1),i=e*r,s=u(i,i,i);return new G({size:!0,color:!0,rotation:!0,opacity:!1},t,s,r)}_getGraphicHash(e){let t=\"\";for(const r of this._cimRequiredFields)t+=r+e.attributes[r];return t}_forEachMaterial(e){null!=this._material&&e(this._material),this._cimSymbolMaterials.forEach(e)}test(){return{...super.test(),material:this._material}}}function ie(e){return e&&\"point-3d\"===e.type&&e.hasVisibleVerticalOffset()}function se(e){return null!=e&&(\"cross\"===e||\"x\"===e)}re.PRIMITIVE_SIZE=te,re.elevationModeChangeTypes={definedChanged:z.UPDATE,staysOnTheGround:z.NONE,onTheGroundChanged:z.RECREATE};const ae={mode:\"relative-to-ground\",offset:0},oe=d(0,0,0,1);export{re as Graphics3DIconSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{CapType as e}from\"../../webgl-engine/shaders/RibbonLineTechniqueConfiguration.js\";function n(n){switch(n){case\"butt\":return e.BUTT;case\"square\":return e.SQUARE;case\"round\":return e.ROUND;default:return null}}function r(e){return\"diamond\"===e?\"kite\":e}export{n as parseCapType,r as parseLineMarkerStyle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{projectBuffer as o}from\"../../../../geometry/projection.js\";import{newDoubleArray as t,doubleSubArray as n}from\"../../../../geometry/support/DoubleArray.js\";import{CounterClockwiseMode as e,pathsToTriangulationInfo as r}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as i}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{DRAPED_Z as s}from\"../../terrain/OverlayRenderer.js\";function p(o,n,s,p){const l=\"polygon\"===o.type?e.CCW_IS_HOLE:e.NONE,u=\"polygon\"===o.type?o.rings:o.paths,{position:a,outlines:g}=r(u,!!o.hasZ,l),m=t(a.length),y=i(a,o.spatialReference,0,m,0,a,0,a.length/3,n,s,p),f=null!=y;return{lines:f?c(g,a,m):[],projectionSuccess:f,sampledElevation:y}}function l(t,n){const i=\"polygon\"===t.type?e.CCW_IS_HOLE:e.NONE,p=\"polygon\"===t.type?t.rings:t.paths,{position:l,outlines:u}=r(p,!1,i),a=o(l,t.spatialReference,0,l,n,0,l.length/3);for(let o=2;o<l.length;o+=3)l[o]=s;return{lines:a?c(u,l):[],projectionSuccess:a}}function c(o,t,e=null){const r=new Array;for(const{index:i,count:s}of o){if(s<=1)continue;const o=3*i,p=3*s;r.push({position:n(t,3*i,3*s),mapPositions:null!=e?n(e,o,p):void 0})}return r}export{p as geometryToRenderInfo,l as geometryToRenderInfoDraped};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import e from\"../../../../core/Error.js\";import{px2pt as t,pt2px as r}from\"../../../../core/screenUtils.js\";import{f as i,d as a}from\"../../../../chunks/vec4f64.js\";import{create as l,empty as s,expandWithBuffer as n,intersectsClippingArea as o,expandWithAABB as h}from\"../../../../geometry/support/aaBoundingBox.js\";import{getDriverAxisSizeValueAny as c}from\"../../../../renderers/support/renderingInfoUtils.js\";import{sharedGeometryElevationAligner as p}from\"./ElevationAligners.js\";import{SymbolUpdateType as m,elevationModeChangeUpdateType as d,needsElevationUpdates2D as y}from\"./elevationAlignmentUtils.js\";import{ElevationContext as _}from\"./ElevationContext.js\";import u from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as g}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as f}from\"./Graphics3DSymbolLayer.js\";import{ApplyRendererDiffResult as M}from\"./interfaces.js\";import{parseCapType as C,parseLineMarkerStyle as b}from\"./lineUtils.js\";import{ConvertOptions as P,initFastSymbolUpdatesState as E,updateFastSymbolUpdatesState as w,getAttributeValue as L}from\"../support/FastSymbolUpdates.js\";import v from\"../../support/debugFlags.js\";import{createGeometry as x}from\"../../support/engineContent/line.js\";import{geometryToRenderInfo as R,geometryToRenderInfoDraped as k}from\"../../support/renderInfoUtils/line.js\";import{Object3D as D}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as j}from\"../../webgl-engine/lib/RenderGeometry.js\";import{LineMarkerMaterial as A}from\"../../webgl-engine/materials/LineMarkerMaterial.js\";import{getStipplePatternForLinePattern as S}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{RibbonLineMaterial as U}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import G from\"../../../../geometry/Extent.js\";import z from\"../../../../geometry/Polygon.js\";const O=[\"polyline\",\"polygon\",\"extent\"],V=new P({size:!0,color:!0,rotation:!1,opacity:!0});class I extends f{constructor(e,t,r,i){super(e,t,r,i)}async doLoad(){if(this._fastUpdates=E(this._context.renderer,V),!this._drivenProperties.size){if((null!=this.symbolLayer.size?this.symbolLayer.size:t(1))<0)throw new e(\"graphics3dlinesymbollayer:invalid-size\",\"Symbol sizes may not be negative values\")}}_getMaterialParameters(e,t=!1){const r=this._getCombinedOpacityAndColor(t&&this._markerColor||this._materialColor);this._patternHidesLine&&!t&&(r[3]=0);const i={width:this._computeMaterialWidth(this.symbolLayer?.size),color:r,hasPolygonOffset:!0,join:this.symbolLayer.join||\"miter\",cap:C(this.symbolLayer.cap||\"butt\"),hasSlicePlane:this._context.slicePlaneEnabled,isClosed:e,stipplePattern:S(this.symbolLayer.pattern),stippleScaleWithLineWidth:!0};return this._fastUpdates?.visualVariables?{...i,...this._fastUpdates.materialParameters}:i}get _materialColor(){return this.symbolLayer.material?.color}get _markerColor(){return this.symbolLayer.marker?.color}get _lineMaterial(){return null==this._lineMaterialCached&&(this._lineMaterialCached=new U(this._getMaterialParameters(!1)),this._context.stage.add(this._lineMaterialCached)),this._lineMaterialCached}get _ringMaterial(){return null==this._ringMaterialCached&&(this._ringMaterialCached=new U(this._getMaterialParameters(!0)),this._context.stage.add(this._ringMaterialCached)),this._ringMaterialCached}get _wireframeLineMaterial(){return null==this._wireframeLineMaterialCached&&(this._wireframeLineMaterialCached=new U({...this._getMaterialParameters(!1),wireframe:!0}),this._context.stage.add(this._wireframeLineMaterialCached)),this._wireframeLineMaterialCached}get _wireframeRingMaterial(){return null==this._wireframeRingMaterialCached&&(this._wireframeRingMaterialCached=new U({...this._getMaterialParameters(!0),wireframe:!0}),this._context.stage.add(this._wireframeRingMaterialCached)),this._wireframeRingMaterialCached}get _markerMaterial(){return null==this._markerMaterialCached&&null!=this.symbolLayer.marker&&(this._markerMaterialCached=new A({...this._getMaterialParameters(!1,!0),placement:this.symbolLayer.marker.placement,markerPrimitive:b(this.symbolLayer.marker.style)}),this._context.stage.add(this._markerMaterialCached)),this._markerMaterialCached}destroy(){super.destroy(),this._forEachMaterial((e=>this._context.stage.remove(e))),this._lineMaterialCached=null,this._ringMaterialCached=null,this._wireframeLineMaterialCached=null,this._wireframeRingMaterialCached=null,this._markerMaterialCached=null}_getDrivenSize(e){return this._drivenProperties.size&&e.size?r(c(e.size)):1}_getDrivenColor(e){const t=i(1,1,1,1);return this._drivenProperties.color&&e.color&&(t[0]=e.color[0],t[1]=e.color[1],t[2]=e.color[2],e.color.length>0&&(t[3]=e.color[3])),this._drivenProperties.opacity&&e.opacity&&(t[3]=e.opacity),t}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,O,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t,new _);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this.draped?this._createAsOverlay(e,this._context.layer.uid):this._createAs3DShape(e,r,t.uid)}applyRendererDiff(e,t){for(const r in e.diff){if(\"visualVariables\"!==r)return M.RecreateSymbol;{const e=this._fastUpdates;if(!w(e,t,V))return M.RecreateSymbol;this._forEachMaterial((t=>t.setParameters(e.materialParameters)))}}return M.FastUpdate}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff,r={};\"complete\"===t.size?.type&&(r.width=this._computeMaterialWidth(t.size.newValue),delete t.size),\"complete\"===t.cap?.type&&(r.cap=C(t.cap.newValue??\"butt\"),delete t.cap);const i=this._prepareMarkerPatch(e,t);this._prepareMaterialPatch(e,t,i),e.symbolLayerStatePatches.push((()=>this._forEachMaterial((e=>e.setParameters(r)))))}layerOpacityChanged(){this._forEachMaterial(((e,t)=>this._updateMaterialLayerOpacity(e,t)))}_forEachMaterial(e){null!=this._lineMaterialCached&&e(this._lineMaterialCached),null!=this._ringMaterialCached&&e(this._ringMaterialCached),null!=this._wireframeLineMaterialCached&&e(this._wireframeLineMaterialCached),null!=this._wireframeRingMaterialCached&&e(this._wireframeRingMaterialCached),null!=this._markerMaterialCached&&e(this._markerMaterialCached,!0)}_updateMaterialLayerOpacity(e,t=!1){const r=e.parameters.color,a=this.symbolLayer?.material?.color,l=this._patternHidesLine&&!t?0:this._getCombinedOpacity(a),s=i(r[0],r[1],r[2],l);e.setParameters({color:s})}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,a=d(I.elevationModeChangeTypes,r,i);if(a!==m.UPDATE)return a;const l=y(i);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>l))}slicePlaneEnabledChanged(){const e={hasSlicePlane:this._context.slicePlaneEnabled};return this._forEachMaterial((t=>t.setParameters(e))),!0}physicalBasedRenderingChanged(){return!0}_getGeometryAsPolygonOrPolyline(e){switch(e.type){case\"extent\":if(e instanceof G)return z.fromExtent(e);break;case\"polygon\":case\"polyline\":return e}return null}_createAs3DShape(e,t,r){const i=e.graphic,a=this._getGeometryAsPolygonOrPolyline(i.geometry),h=\"polygon\"===a.type?a.rings:a.paths,c=new Array,m=l(),d=R(a,this._context.elevationProvider,this._context.renderCoordsHelper,t),_=\"polygon\"===a.type?\"rings\":\"paths\";this._logGeometryCreationWarnings(d,h,_,\"LineSymbol3DLayer\");for(let l=0;l<d.lines.length;l++){const t=d.lines[l],i=t.position,h=t.mapPositions;if(null!=this._context.clippingExtent&&(s(m),n(m,h),!o(m,this._context.clippingExtent)))continue;const p=this._createGeometry(\"polygon\"===a.type?this._ringMaterial:this._lineMaterial,e,i,h,a.type,T.ELEVATED,r);c.push(p),v.LINE_WIREFRAMES&&c.push(p.instantiate({material:\"polygon\"===a.type?this._wireframeRingMaterial:this._wireframeLineMaterial})),null!=this._markerMaterial&&c.push(p.instantiate({material:this._markerMaterial}))}if(0===c.length)return null;const u=new D({geometries:c,castShadow:!1,layerUid:this._context.layer.uid,graphicUid:r}),f=new g(this,u,c,null,null,p,t);return f.alignedSampledElevation=d.sampledElevation,f.needsElevationUpdates=y(t.mode),f}_createGeometry(e,t,r,i,a,l,s){const n=l===T.DRAPED?{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper}:null,o=\"polygon\"===a,h=this._fastUpdates?.visualVariables.color,c=this._fastUpdates?.visualVariables.size,p=this._fastUpdates?.visualVariables.opacity,m=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:s,layerUid:this._context.layer.uid}),d={position:r,size:c?null:this._getDrivenSize(t.renderingInfo),color:h?null:this._getDrivenColor(t.renderingInfo),sizeFeature:c?L(c.field,t.graphic):null,colorFeature:h?L(h.field,t.graphic):null,opacityFeature:p?L(p.field,t.graphic):null};return x(e,{overlayInfo:n,removeDuplicateStartEnd:o,mapPositions:i,attributeData:d},m)}_createAsOverlay(e,t){const r=e.graphic,i=this._getGeometryAsPolygonOrPolyline(r.geometry),a=\"polygon\"===i.type?i.rings:i.paths,c=\"polygon\"===i.type?this._ringMaterial:this._lineMaterial;c.renderPriority=this._renderPriority;const p=v.LINE_WIREFRAMES?\"polygon\"===i.type?this._wireframeRingMaterial:this._wireframeLineMaterial:null,m=this._markerMaterial;null!=p&&(p.renderPriority=this._renderPriority-.001),null!=m&&(m.renderPriority=this._renderPriority-.002);const d=new Array,y=l(),_=s(),g=k(i,this._context.overlaySR),f=\"polygon\"===i.type?\"rings\":\"paths\";this._logGeometryCreationWarnings(g,a,f,\"LineSymbol3DLayer\");for(const l of g.lines){if(s(y),n(y,l.position),!o(y,this._context.clippingExtent))continue;h(_,y);const a=a=>{const s=this._createGeometry(a,e,l.position,void 0,i.type,T.DRAPED,r.uid),n=new j(s,{layerUid:t,graphicUid:r.uid});d.push(n)};if(null!=m){a(m);const e=this.symbolLayer.marker.placement;\"begin\"!==e&&\"begin-end\"!==e||n(y,l.position,0,1),\"end\"!==e&&\"begin-end\"!==e||n(y,l.position,l.position.length-3,1)}a(c),v.LINE_WIREFRAMES&&a(p)}return new u(this,d,_,this._context.drapeSourceRenderer)}get _patternHidesLine(){const e=this.symbolLayer.pattern;return null!=e&&\"style\"===e.type&&\"none\"===e.style}_computeMaterialWidth(e){return e=e??t(1),this._drivenProperties.size?this._fastUpdates?.visualVariables.size?r(1):1:r(e)}_prepareMaterialPatch(e,t,r){const i=t.material;if(null==i)return void(r.changed&&r.useMaterialColor&&this._patchMaterialColor(this._getCombinedOpacityAndColor(this._materialColor),this._markerMaterialCached,e));if(\"collection\"===i.type)return;const l=\"complete\"===i.type?i.newValue?.color:\"complete\"===i.diff.color?.type?i.diff.color.newValue:null,s=this._getCombinedOpacityAndColor(l);r.useMaterialColor&&this._patchMaterialColor(a(s),this._markerMaterialCached,e),this._patternHidesLine&&(s[3]=0),this._patchMaterialColor(s,this._lineMaterialCached,e),delete t.material}_prepareMarkerPatch(e,t){const r=t.marker,i=this._markerMaterial;if(null==r||\"partial\"!==r.type||null==r.diff||null!=r.diff.placement||null!=r.diff.style&&\"complete\"!==r.diff.style.type||null!=r.diff.color&&\"complete\"!==r.diff.color.type||null==i)return{changed:!1,useMaterialColor:null==this._markerColor};const a=r.diff.color,l=null!=a,s=l?a.newValue:null,n=null==s&&null==this._markerColor;s&&this._patchMaterialColor(this._getCombinedOpacityAndColor(s),i,e);const o=r.diff.style?.newValue;return o&&e.symbolLayerStatePatches.push((()=>i.setParameters({markerPrimitive:b(o)}))),delete t.marker,{changed:l,useMaterialColor:n}}_patchMaterialColor(e,t,r){null!=t&&r.symbolLayerStatePatches.push((()=>t.setParameters({color:e})))}}var T;I.elevationModeChangeTypes={definedChanged:m.RECREATE,staysOnTheGround:m.NONE,onTheGroundChanged:m.RECREATE},function(e){e[e.DRAPED=0]=\"DRAPED\",e[e.ELEVATED=1]=\"ELEVATED\"}(T||(T={}));export{I as Graphics3DLineSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{B as e,m as r,c as a,f as s,a as o}from\"../../../../chunks/mat4.js\";import{I as i,c as n}from\"../../../../chunks/mat4f64.js\";import{g as m}from\"../../../../chunks/vec3.js\";import{c as f}from\"../../../../chunks/vec3f64.js\";import{perObjectElevationAligner as l}from\"./ElevationAligners.js\";import{evaluateElevationInfoAtPoint as c}from\"./elevationAlignmentUtils.js\";import{setContextFeature as h}from\"./featureExpressionInfoUtils.js\";import{Graphics3DObject3DGraphicLayer as g}from\"./Graphics3DObject3DGraphicLayer.js\";t.getLogger(\"esri.views.3d.layers.graphics.Graphics3DMeshObject3DGraphicLayer\");class d extends g{constructor(){super(...arguments),this._originalGeometries=[],this._fastTransformUpdatesEnabled=!1}get fastTransformUpdatesEnabled(){return this._fastTransformUpdatesEnabled}enableFastTransformUpdates(t,r){if(this._fastTransformUpdatesEnabled)return;this._fastTransformUpdatesEnabled=!0;const{stageObject:a}=this,s=a.geometries.slice();a.removeAllGeometries();const o=e(p,a.transformation),i=r.getOrigin(o);for(const e of s){const r=t(e.material),s=e.instantiate({material:r});s.localOrigin=i,a.addGeometry(s)}this._originalGeometries=s}disableFastTransformUpdates(t){if(!this._fastTransformUpdatesEnabled)return;this._fastTransformUpdatesEnabled=!1;const{stageObject:e}=this,r=e.geometries.map((e=>t(e.material)));e.removeAllGeometries();for(let a=0;a<this._originalGeometries.length;a++){const t=this._originalGeometries[a],s=r[a];s.setParameters({modelTransformation:null}),s===t.material?e.addGeometry(t):e.addGeometry(t.instantiate({material:s}))}this._originalGeometries.length=0}updateFastLocalOrigin(t,r,a){if(!this._fastTransformUpdatesEnabled)return;const{stageObject:s}=this;if(0===s.geometries.length)return;const o=s.geometries[0].localOrigin,n=e(p,t),m=a.getOrigin(n);if(m===o)return;const f=r?.localMatrix??i;s.clearShaderTransformation(),s.transformation=t,s.geometries.forEach((t=>{t.transformation=f,t.localOrigin=m}))}updateTransform(t,e,a){const{stageObject:s}=this,o=e?.localMatrix??i;if(!this._fastTransformUpdatesEnabled)return s.clearShaderTransformation(),s.transformation=t,s.geometries.forEach((t=>{t.transformation=o})),void this.resetEdgeObject(a);const n=s.transformation,m=s.geometries[0].transformation,f=t,l=o,c=r(T,n,m),h=r(b,f,l);s.shaderTransformation=f,this._setFastMaterialTransformation({matA:c,matB:h});const g=()=>l;for(const r of s.geometries)r.shaderTransformer=g;this.resetEdgeObject(a)}alignWithElevation(t,e,s,o){if(!this._fastTransformUpdatesEnabled)return void super.alignWithElevation(t,e,s,o);null!=s&&h(this.elevationContext.featureExpressionInfoContext,s);const i=(r,a)=>c(r,t,this.elevationContext,e,a),{stageObject:n}=this;if(!n.geometries[0].material.parameters.modelTransformation)return;const m=n.transformation,f=n.geometries[0].transformation,g=r(T,m,f),d=a(u,n.shaderTransformation);this.alignedSampledElevation=l(this,this.elevationContext,t.spatialReference,i,e,d),n.shaderTransformation=d;const p=n.geometries[0].shaderTransformation,j=r(b,d,p);this._setFastMaterialTransformation({matA:g,matB:j}),this.resetEdgeObject(o)}_setFastMaterialTransformation({matA:t,matB:e}){const{stageObject:a}=this;if(0===a.geometries.length)return;const i=a.geometries[0].localOrigin,n=s(O,m(p,i.vec3,-1)),f=r(j,n,t),l=r(E,n,e),c=o(j,f),h=r(E,l,c);for(const r of a.geometries)r.material.setParameters({modelTransformation:h})}}const p=f(),T=n(),b=n(),u=n(),j=n(),E=n(),O=n();export{d as Graphics3DMeshObject3DGraphicLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{DefaultMaterial as a}from\"../../webgl-engine/materials/DefaultMaterial.js\";class e{constructor(){this._fastTransformOriginalMaterials=new Map,this._fastTransformClonedMaterials=new Map,this._graphicReferenceCount=0}enable(e,r,t){e.enableFastTransformUpdates((e=>{if(this._graphicReferenceCount<=1){if(this._fastTransformOriginalMaterials.has(e))return e;const a=r.byMaterial(e);return this._fastTransformOriginalMaterials.set(e,a),r.delete(e),e}const s=new a(e.parameters);return t.stage.add(s),this._fastTransformClonedMaterials.set(s,e),s}),t.localOriginFactory)}disable(a,e,r){const t=new Set,s=new Set;a.disableFastTransformUpdates((a=>{if(!this._fastTransformClonedMaterials.has(a)){const r=a,i=this._fastTransformOriginalMaterials.get(r);return e.has(i.uid)?(t.add(r),e.byUid(i.uid).material):(s.add(r),i.material)}const i=a,n=this._fastTransformClonedMaterials.get(i);return this._fastTransformClonedMaterials.delete(i),r.stage.remove(i),i.dispose(),n}));for(const i of t)this._fastTransformOriginalMaterials.delete(i),r.stage.remove(i),i.dispose();for(const i of s){const a=this._fastTransformOriginalMaterials.get(i);this._fastTransformOriginalMaterials.delete(i),e.set(a.uid,a)}}onAddGraphic(){this._graphicReferenceCount++}onRemoveGraphic(a,e,r){this._graphicReferenceCount--,this.disable(a,e,r)}forEachMaterialInfo(a){this._fastTransformOriginalMaterials.forEach(a)}forEachClonedMaterial(a){this._fastTransformClonedMaterials.forEach(a)}destroy(a){a.removeMany(Array.from(this._fastTransformClonedMaterials.keys())),a.removeMany(Array.from(this._fastTransformOriginalMaterials.values(),(({material:a})=>a))),this._fastTransformClonedMaterials.clear(),this._fastTransformOriginalMaterials.clear()}}class r{constructor(){this._byUid=new Map,this._byMaterial=new Map}get materials(){return Array.from(this._byUid.values(),(a=>a.material))}byUid(a){return this._byUid.get(a)}byMaterial(a){return this._byMaterial.get(a)}set(a,e){this._byUid.set(a,e),this._byMaterial.set(e.material,e)}delete(a){const e=this._byMaterial.get(a)?.uid;e&&(this._byUid.delete(e),this._byMaterial.delete(a))}has(a){return this._byUid.has(a)}forEachMaterialInfo(a){this._byUid.forEach(a)}clear(){this._byUid.clear(),this._byMaterial.clear()}}export{r as MaterialInfoCache,e as MeshFastUpdateProcessor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import\"../../../../core/has.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{f as r,t as o}from\"../../../../chunks/mat3.js\";import{c as a}from\"../../../../chunks/mat3f64.js\";import{f as n,m as s,a as i}from\"../../../../chunks/mat4.js\";import{c as l,I as u,b as c}from\"../../../../chunks/mat4f64.js\";import{s as m,a as h,g as f,e as p,n as d,b as g,f as x}from\"../../../../chunks/vec3.js\";import{Z as _,O as T,c as b}from\"../../../../chunks/vec3f64.js\";import{O as y}from\"../../../../chunks/vec4f64.js\";import{computeTranslationToOriginAndRotation as v,projectVectorToDehydratedPoint as C,projectBuffer as O,canProjectWithoutEngine as w}from\"../../../../geometry/projection.js\";import{create as M,empty as j,expandWithBuffer as P,intersectsClippingArea as A}from\"../../../../geometry/support/aaBoundingBox.js\";import{newFloatArray as I}from\"../../../../geometry/support/FloatArray.js\";import{getContinuousIndexArray as R,getZeroIndexArray as E}from\"../../../../geometry/support/Indices.js\";import N from\"../../../../geometry/support/MeshComponent.js\";import F from\"../../../../geometry/support/MeshMaterialMetallicRoughness.js\";import B from\"../../../../geometry/support/MeshTextureTransform.js\";import{t as S,a as U}from\"../../../../chunks/vec32.js\";import{transformNormal as L,projectNormalToPCPF as $,transformTangent as G,projectTangentToPCPF as V}from\"../../../../geometry/support/meshUtils/projection.js\";import{makeDehydratedPoint as D}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{MeshTransformUpdateAction as k}from\"../../../../layers/graphics/sources/interfaces.js\";import{ViewingMode as H}from\"../../../ViewingMode.js\";import{isEncodedMeshTexture as q}from\"../../glTF/internal/resourceUtils.js\";import{getTransformMatrix as W}from\"../../glTF/internal/TextureTransformUtils.js\";import{perObjectElevationAligner as z}from\"./ElevationAligners.js\";import{needsElevationUpdates3D as Y,evaluateElevationInfoAtPoint as Z}from\"./elevationAlignmentUtils.js\";import{ElevationContext as J}from\"./ElevationContext.js\";import{Graphics3DMeshObject3DGraphicLayer as K}from\"./Graphics3DMeshObject3DGraphicLayer.js\";import{Object3DEdgeState as Q}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as X}from\"./Graphics3DSymbolLayer.js\";import{MaterialInfoCache as ee,MeshFastUpdateProcessor as te}from\"./MeshFastUpdateProcessor.js\";import{createMaterial as re}from\"../support/edgeUtils.js\";import{parseColorMixMode as oe,encodeSymbolColor as ae}from\"../support/symbolColorUtils.js\";import ne from\"../../support/debugFlags.js\";import{Attribute as se}from\"../../webgl-engine/lib/Attribute.js\";import{AlphaDiscardMode as ie,CullFaceOptions as le}from\"../../webgl-engine/lib/basicInterfaces.js\";import{ContentObjectType as ue}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as ce}from\"../../webgl-engine/lib/Geometry.js\";import{Object3D as me}from\"../../webgl-engine/lib/Object3D.js\";import{Texture as he}from\"../../webgl-engine/lib/Texture.js\";import{VertexAttribute as fe}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as pe}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{NativeLineMaterial as de}from\"../../webgl-engine/materials/NativeLineMaterial.js\";import{useSchematicPBR as ge,defaultSchematicMRRFactors as xe,defaultAdvancedMRRFactors as _e}from\"../../webgl-engine/materials/pbrUtils.js\";import{TextureWrapMode as Te}from\"../../../webgl/enums.js\";const be=[\"mesh\"];class ye extends X{constructor(e,t,r,o){super(e,t,r,o),this._materialInfoCache=new ee,this._fastUpdateProcessor=new te,this._textures=new Map,this.ensureDrapedStatus(!1)}async doLoad(){ne.DRAW_MESH_GEOMETRY_NORMALS&&(this._debugVertexNormalMaterial=new de({color:[1,0,1,1]}),this._debugFaceNormalMaterial=new de({color:[0,1,1,1]}))}destroy(){super.destroy(),this._context.stage.removeMany(this._materialInfoCache.materials),this._context.stage.removeMany(Array.from(this._textures.values())),this._materialInfoCache.clear(),this._textures.clear(),this._fastUpdateProcessor.destroy(this._context.stage)}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,be,\"fill on mesh-3d\"))return null;const r=this.setGraphicElevationContext(t,new J),o=e.renderingInfo;return this._createAs3DShape(t,o,r,t.uid)}onRemoveGraphic(e){this._fastUpdateProcessor.onRemoveGraphic(e,this._materialInfoCache,this._context)}layerOpacityChanged(e,t){const r=this._getLayerOpacity();this._updateMaterialParameters((e=>{e.material.setParameters({layerOpacity:r});const t=e.material.parameters;this._setMaterialTransparentParameter(t,e),e.material.setParameters({transparent:t.transparent})})),e.forEach((e=>{const o=t(e);null!=o&&o.layerOpacityChanged(r,this._context.isAsync)}))}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,Y)}slicePlaneEnabledChanged(e,t){return this._updateMaterialParameters((({material:e})=>{e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),e.forEach((e=>{const r=t(e);null!=r&&r.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync)})),!0}physicalBasedRenderingChanged(){const e=this._usePBR();return this._updateMaterialParameters((({material:t})=>t.setParameters({usePBR:e}))),!0}updateTransform(e,t,r,o){const a=this._context.renderCoordsHelper.spatialReference,n=Ie,{origin:s,transform:i}=r;switch(v(t,m(Oe,s.x,s.y,s.z??0),n,a),o){case k.EnableFastUpdates:this._fastUpdateProcessor.enable(e,this._materialInfoCache,this._context);break;case k.DisableFastUpdates:this._fastUpdateProcessor.disable(e,this._materialInfoCache,this._context);break;case k.UpdateFastLocalOrigin:e.updateFastLocalOrigin(n,i,this._context.localOriginFactory)}const{elevationContext:l}=e;l.centerPointInElevationSR=this._getCenterPointInElevationSR(n);const{elevationProvider:u,renderCoordsHelper:c}=this._context,h=(e,t)=>Z(e,u,l,c,t);return e.alignedSampledElevation=z(e,l,u.spatialReference,h,c,n),e.updateTransform(n,i,this._context.isAsync),!0}_requiresSymbolVertexColors(){return this._drivenProperties.color||this._drivenProperties.opacity}_colorOrTextureUid(t){return null==t?\"-\":t instanceof e?t.toHex():t.contentHash}_materialPropertiesDefault(e,t){const r=this._requiresSymbolVertexColors(),o=!!e.vertexAttributes.color,a=!!e.vertexAttributes.tangent;return{hasSymbolVertexColors:r,hasVertexColors:o,hasVertexTangents:a,uid:`vc:${o},vt:${a},vct${t},svc:${r}`}}_textureTransformUid(e){const{offset:t,scale:r,rotation:o}=e??Ne;return`${t[0]},${t[1]},${o},${r[0]},${r[1]}`}_materialProperties(e,t,r){const o=this._materialPropertiesDefault(e,r);if(!t.material)return o;const{color:a,colorTexture:n,colorTextureTransform:s,normalTexture:i,normalTextureTransform:l,doubleSided:u,alphaCutoff:c,alphaMode:m}=t.material,h=this._colorOrTextureUid(a),f=this._colorOrTextureUid(n),p=this._textureTransformUid(s),d=this._colorOrTextureUid(i),g=this._textureTransformUid(l);if(o.color=a,o.colorTexture=n,o.normalTexture=i,o.uid=`${o.uid},cmuid:${h},ctmuid:${f},cttuid:${p},ntmuid:${d},nttuid:${g},ds:${u},ac:${c},am:${m}`,t.material instanceof F){const{metallic:e,roughness:r,metallicRoughnessTexture:a,metallicRoughnessTextureTransform:n,emissiveColor:i,emissiveTexture:u,emissiveTextureTransform:c,occlusionTexture:m,occlusionTextureTransform:h}=t.material,f=this._colorOrTextureUid(a),p=this._textureTransformUid(n),d=this._colorOrTextureUid(i),g=this._colorOrTextureUid(u),x=this._textureTransformUid(c),_=this._colorOrTextureUid(m),T=this._textureTransformUid(h);o.metallic=e,o.roughness=r,o.metallicRoughnessTexture=a,o.emissiveColor=i,o.emissiveTexture=u,o.occlusionTexture=m,o.colorTextureTransform=this._convertTextureTransform(s),o.normalTextureTransform=this._convertTextureTransform(l),o.emissiveTextureTransform=this._convertTextureTransform(c),o.occlusionTextureTransform=this._convertTextureTransform(h),o.metallicRoughnessTextureTransform=this._convertTextureTransform(n),o.uid=`${o.uid},mrm:${e},mrr:${r},mrt:${f},mrtt:${p},emuid:${d},etmuid:${g},ett:${x},otmuid:${_},ott:${T}`}return o}_convertTextureTransform(e){if(!e)return null;const{scale:r,offset:o,rotation:a}=e;return{scale:r,offset:o,rotation:t(a)}}_setInternalColorValueParameters(t,r){r.diffuse=e.toUnitRGB(t),r.opacity=t.a}_getLoadableTextureResource(e){return e.data?e.data:e.url}_getInternalTextureId(e){const t=this._getInternalTexture(e,ie.Opaque);return null!=t?t.id:null}_getInternalTexture(e,t){const r=this._getLoadableTextureResource(e);if(!r)return null;const o=`${e.contentHash}/${t}`;let a=this._textures.get(o);return a||(a=new he(q(r)?r.data:r,{mipmap:!0,wrap:this._castTextureWrap(e.wrap),noUnpackFlip:!0,preMultiplyAlpha:!q(r)&&t!==ie.Opaque,encoding:q(r)&&null!=r.encoding?r.encoding:void 0}),this._textures.set(o,a),this._context.stage.add(a),this._context.stage.loadImmediate(a)),a}_castTextureWrap(e=\"repeat\"){if(\"string\"==typeof e){const t=this._castTextureWrapIndividual(e);return{s:t,t}}return{s:this._castTextureWrapIndividual(e.horizontal),t:this._castTextureWrapIndividual(e.vertical)}}_castTextureWrapIndividual(e){switch(e){case\"clamp\":return Te.CLAMP_TO_EDGE;case\"mirror\":return Te.MIRRORED_REPEAT;default:return Te.REPEAT}}_setInternalMaterialParameters(t,r){if(null!=t.color&&this._setInternalColorValueParameters(t.color,r),null!=t.colorTexture){const e=this._getInternalTexture(t.colorTexture,r.textureAlphaMode);null!=e?(r.textureId=e.id,r.textureAlphaPremultiplied=!!e.parameters.preMultiplyAlpha):r.textureId=void 0}null!=t.normalTexture&&(r.normalTextureId=this._getInternalTextureId(t.normalTexture)),null!=t.emissiveColor&&(r.emissiveFactor=e.toUnitRGB(t.emissiveColor)),null!=t.emissiveTexture&&(r.emissiveTextureId=this._getInternalTextureId(t.emissiveTexture)),null!=t.occlusionTexture&&(r.occlusionTextureId=this._getInternalTextureId(t.occlusionTexture)),null!=t.metallicRoughnessTexture&&(r.metallicRoughnessTextureId=this._getInternalTextureId(t.metallicRoughnessTexture)),r.colorTextureTransformMatrix=W(t.colorTextureTransform),r.normalTextureTransformMatrix=W(t.normalTextureTransform),r.occlusionTextureTransformMatrix=W(t.occlusionTextureTransform),r.emissiveTextureTransformMatrix=W(t.emissiveTextureTransform),r.metallicRoughnessTextureTransformMatrix=W(t.metallicRoughnessTextureTransform)}_setExternalMaterialParameters(t){const r=this._drivenProperties.color;let o=null!=this.symbolLayer.material?this.symbolLayer.material.colorMixMode:null;if(r)t.externalColor=y;else{const r=null!=this.symbolLayer.material?this.symbolLayer.material.color:null;null!=r?t.externalColor=e.toUnitRGBA(r):(o=null,t.externalColor=y)}o&&(t.colorMixMode=o),t.castShadows=!!this.symbolLayer.castShadows}_hasTransparentVertexColors(e){const t=e.vertexAttributes.color;if(null==t)return!1;for(let r=3;r<t.length;r+=4)if(255!==t[r])return!0;return!1}_getOrCreateMaterial(t,r){const o=r.material?.color,a=r.material?.colorTexture,n=r.material?.alphaMode,s=\"blend\"===n,i=!(\"opaque\"===n)&&(this._hasTransparentVertexColors(t)||null!=o&&o.a<1||null!=a&&a.transparent||s),l=this._materialProperties(t,r,i),u=this._materialInfoCache.byUid(l.uid);if(u)return u.material;const c={uid:l.uid,material:null,isComponentTransparent:i,alphaMode:r.material?r.material.alphaMode:\"opaque\"},m=ge({normalTexture:l.normalTexture,metallicRoughnessTexture:l.metallicRoughnessTexture,metallicFactor:l.metallic,roughnessFactor:l.roughness,emissiveTexture:l.emissiveTexture,emissiveFactor:e.toUnitRGB(l.emissiveColor),occlusionTexture:l.occlusionTexture}),h={usePBR:this._usePBR(),isSchematic:m,hasVertexColors:l.hasVertexColors,hasSymbolColors:l.hasSymbolVertexColors,hasVertexTangents:l.hasVertexTangents,ambient:_,diffuse:T,opacity:1,doubleSided:!0,doubleSidedType:\"winding-order\",cullFace:le.None,layerOpacity:this._getLayerOpacity(),hasSlicePlane:this._context.slicePlaneEnabled,initTextureTransparent:!0};h.mrrFactors=m?[...xe]:[l.metallic,l.roughness,_e[2]],r.material&&(h.doubleSided=r.material.doubleSided,h.cullFace=r.material.doubleSided?le.None:le.Back,h.textureAlphaCutoff=r.material.alphaCutoff),this._setExternalMaterialParameters(h),this._setMaterialTransparentParameter(h,c),this._setInternalMaterialParameters(l,h);const f=new pe(h);return c.material=f,this._materialInfoCache.set(l.uid,c),this._context.stage.add(f),f}_usePBR(){return this._context.physicalBasedRenderingEnabled}_setMaterialTransparentParameter(e,t){e.transparent=this.needsDrivenTransparentPass||t.isComponentTransparent||e.layerOpacity<1||e.opacity<1||e.externalColor&&e.externalColor[3]<1,\"auto\"===t.alphaMode?e.textureAlphaMode=e.transparent?ie.MaskBlend:ie.Opaque:e.textureAlphaMode=\"opaque\"===t.alphaMode?ie.Opaque:\"mask\"===t.alphaMode?ie.Mask:ie.Blend}_addDebugNormals(e,t){const r=t.length,o=e.spatialReference.isGeographic?20015077/180:1,a=.1*Math.max(e.extent.width*o,e.extent.height*o,e.extent.zmax-e.extent.zmin),n=[],s=[],i=[],l=[];for(let p=0;p<r;p++){const e=t[p],r=e.vertexAttributes.get(fe.POSITION),o=e.vertexAttributes.get(fe.NORMAL),u=e.indices.get(fe.POSITION),c=e.indices.get(fe.NORMAL),m=r.data,d=o.data;for(let t=0;t<u.length;t++){const e=3*u[t],r=3*c[t];for(let t=0;t<3;t++)n.push(m[e+t]);for(let t=0;t<3;t++)n.push(m[e+t]+d[r+t]*a);if(s.push(s.length),s.push(s.length),t%3==0){this._calculateFaceNormal(m,u,t,je),this._getFaceVertices(m,u,t,Oe,we,Me),h(Oe,Oe,we),h(Oe,Oe,Me),f(Oe,Oe,1/3);for(let e=0;e<3;e++)i.push(Oe[e]);for(let e=0;e<3;e++)i.push(Oe[e]+je[e]*a);l.push(l.length),l.push(l.length)}}}const u=t[0].transformation,c=new ce(this._debugVertexNormalMaterial,[[fe.POSITION,new se(n,3,!0)]],[[fe.POSITION,s]],null,ue.Line);t.push(c),c.transformation=u;const m=new ce(this._debugFaceNormalMaterial,[[fe.POSITION,new se(i,3,!0)]],[[fe.POSITION,l]],null,ue.Line);m.transformation=u,t.push(m)}_createAs3DShape(e,t,r,o){const a=e.geometry;if(\"mesh\"!==a.type)return null;const n=this._createGeometryInfo(a,t,o);if(null==n)return null;const{geometries:s,objectTransformation:i}=n;ne.DRAW_MESH_GEOMETRY_NORMALS&&this._addDebugNormals(a,s);const l=new me({geometries:s,layerUid:this._context.layer.uid,graphicUid:o});l.transformation=i;const u=re(this.symbolLayer,{opacity:this._getLayerOpacity()}),c=null!=u?new Q(s[0].material,[u],{mergeGeometries:!0,hasSlicePlane:this._context.slicePlaneEnabled}):null,m=new K(this,l,s,null,null,z,r,c);this._fastUpdateProcessor.onAddGraphic(),m.needsElevationUpdates=Y(r.mode),m.useObjectOriginAsAttachmentOrigin=!0,r.centerPointInElevationSR=this._getCenterPointInElevationSR(l.transformation);const{elevationProvider:h,renderCoordsHelper:f}=this._context,p=(e,t)=>Z(e,h,r,f,t);return m.alignedSampledElevation=z(m,r,h.spatialReference,p,f),m}_getCenterPointInElevationSR(e){const t=D(0,0,0,null!=this._context.elevationProvider.spatialReference?this._context.elevationProvider.spatialReference:null);return C([e[12],e[13],e[14]],this._context.renderCoordsHelper.spatialReference,t),t}_createComponentNormals(e,t,r,o){switch(r.shading||\"flat\"){default:case\"source\":return this._createComponentNormalsSource(e,t,r,o);case\"flat\":return this._createComponentNormalsFlat(e,o);case\"smooth\":return this._createComponentNormalsSmooth(e,o)}}_createComponentNormalsSource(e,t,r,o){if(null==t)return this._createComponentNormalsFlat(e,o);let a=!1;if(!r.trustSourceNormals)for(let n=0;n<o.length;n+=3){this._calculateFaceNormal(e,o,n,je);for(let e=0;e<3;e++){const r=3*o[n+e];Oe[0]=t[r],Oe[1]=t[r+1],Oe[2]=t[r+2],p(je,Oe)<0&&(t[r]=-t[r],t[r+1]=-t[r+1],t[r+2]=-t[r+2],a=!0)}}return new ve(t,o,a)}_createComponentNormalsFlat(e,t){const r=I(t.length),o=new Array(3*t.length);for(let a=0;a<t.length;a+=3){const n=this._calculateFaceNormal(e,t,a,je);for(let e=0;e<3;e++)r[a+e]=n[e],o[a+e]=a/3}return new ve(r,o,!1)}_createComponentNormalsSmooth(e,t){const r={};for(let n=0;n<t.length;n+=3){const o=this._calculateFaceNormal(e,t,n,je);for(let e=0;e<3;e++){const a=t[n+e];let s=r[a];s||(s={normal:b(),count:0},r[a]=s),h(s.normal,s.normal,o),s.count++}}const o=I(3*t.length),a=new Array(3*t.length);for(let n=0;n<t.length;n++){const e=r[t[n]];1!==e.count&&(d(e.normal,e.normal),e.count=1);for(let t=0;t<3;t++)o[3*n+t]=e.normal[t];a[n]=n}return new ve(o,a,!1)}_getFaceVertices(e,t,r,o,a,n){const s=3*t[r],i=3*t[r+1],l=3*t[r+2];o[0]=e[s],o[1]=e[s+1],o[2]=e[s+2],a[0]=e[i],a[1]=e[i+1],a[2]=e[i+2],n[0]=e[l],n[1]=e[l+1],n[2]=e[l+2]}_calculateFaceNormal(e,t,r,o){return this._getFaceVertices(e,t,r,Oe,we,Me),g(we,we,Oe),g(Me,Me,Oe),x(Oe,we,Me),d(o,Oe),o}_getOrCreateComponents(e){return e.components??Ee}_createPositionBuffer(e,t){let r=e.vertexAttributes.position;const o=t.reprojection===Fe.ECEF?t.transformBeforeProject:null;if(null!=o&&(r=S(new Float64Array(r.length),r,o)),t.reprojection===Fe.NONE)return t.needsBufferCopy?new Float64Array(r):r;const a=null!=o?r:new Float64Array(r.length);return O(r,e.spatialReference,0,a,this._context.renderCoordsHelper.spatialReference,0,r.length/3),a}_createNormalBuffer(e,t,r){let o=e.vertexAttributes.normal;if(null==o)return null;const a=r.reprojection===Fe.ECEF?r.transformBeforeProject:null;null!=a&&(o=L(o,new Float32Array(o.length),a));if(\"local\"===this._context.graphicsCoreOwner.view.viewingMode||r.reprojection===Fe.NONE)return r.needsBufferCopy&&e.vertexAttributes.normal===o?new Float32Array(o):o;const n=e.vertexAttributes.position,s=null!=a?o:new Float32Array(o.length);return $(o,n,t,e.spatialReference,s)}_createTangentBuffer(e,t,r){let o=e.vertexAttributes.tangent;if(null==o)return null;const a=r.reprojection===Fe.ECEF?r.transformBeforeProject:null;null!=a&&(o=G(o,new Float32Array(o.length),a));if(\"local\"===this._context.graphicsCoreOwner.view.viewingMode||r.reprojection===Fe.NONE)return r.needsBufferCopy&&e.vertexAttributes.normal===o?new Float32Array(o):o;const n=e.vertexAttributes.position,s=null!=a?o:new Float32Array(o.length);return V(o,n,t,e.spatialReference,s)}_createColorBuffer(e){return e.vertexAttributes.color}_createSymbolColorBuffer(e){if(this._requiresSymbolVertexColors()){const t=this._getVertexOpacityAndColor(e),r=oe(this.symbolLayer?.material?.colorMixMode),o=new Uint8Array(4);return ae(t,r,o),o}return null}_createBuffers(e,t){const r=e.vertexAttributes&&e.vertexAttributes.position;if(!r)return this.logger.warn(\"Mesh geometry must contain position vertex attributes\"),null;const o=e.vertexAttributes.normal,a=e.vertexAttributes.uv,n=e.vertexAttributes.tangent;if(null!=o&&o.length!==r.length)return this.logger.warn(\"Mesh normal vertex buffer must contain the same number of elements as the position buffer\"),null;if(null!=n&&n.length/4!=r.length/3)return this.logger.warn(\"Mesh tangent vertex buffer must contain the same number of elements as the position buffer\"),null;if(null!=a&&a.length/2!=r.length/3)return this.logger.warn(\"Mesh uv vertex buffer must contain the same number of elements as the position buffer\"),null;const s=this._computeReprojectionInfo(e),i=this._createPositionBuffer(e,s),u=this._createColorBuffer(e),c=this._createSymbolColorBuffer(t),m=this._createNormalBuffer(e,i,s),h=this._createTangentBuffer(e,i,s);return{positionBuffer:i,normalBuffer:m,tangentBuffer:h,uvBuffer:a,colorBuffer:u,symbolColorBuffer:c,objectTransformation:s.reprojection===Fe.NONE&&null!=s.objectTransformation?s.objectTransformation:this._transformOriginLocal(e,i,m,h),geometryTransformation:s.reprojection===Fe.NONE&&null!=s.geometryTransformation?s.geometryTransformation:l()}}_computeReprojectionInfo(e){const{vertexSpace:t}=e,r=t.isRelative,o=t.isGeoreferenced?this._context.renderCoordsHelper.viewingMode===H.Local?Fe.NONE:Fe.ECEF:Fe.NONE;if(r){const{origin:r}=t,a=l(),i=e.transform?.localMatrix??u;if(o===Fe.NONE){v(e.spatialReference,r,a,this._context.renderCoordsHelper.spatialReference);return{reprojection:o,objectTransformation:a,geometryTransformation:c(i),needsBufferCopy:!1}}const m=n(l(),r);return s(m,m,i),{reprojection:o,transformBeforeProject:m,needsBufferCopy:!0}}return{reprojection:o,needsBufferCopy:!0}}_transformOriginLocal(e,t,a,n){const s=this._context.renderCoordsHelper.spatialReference,u=e.anchor;Ce[0]=u.x,Ce[1]=u.y,Ce[2]=u.z??0;const c=l();return v(e.spatialReference,Ce,c,s),i(Pe,c),S(t,t,Pe),null==a&&null==n||(r(Ae,c),o(Ae,Ae),null!=a&&U(a,a,Ae),null!=n&&U(n,n,Ae,4)),c}_validateFaces(e,t){const r=e.vertexAttributes.position.length/3,o=t.faces;if(o){let e=-1;for(let t=0;t<o.length;t++){const r=o[t];r>e&&(e=r)}if(r<=e)return this.logger.warn(`Vertex index ${e} is out of bounds of the mesh position buffer`),!1}else if(r%3!=0)return this.logger.warn(\"Mesh position buffer length must be a multiple of 9 if no component faces are defined (3 values per vertex * 3 vertices per triangle)\"),!1;return!0}_getOrCreateFaces(e,t){return t.faces??R(e.vertexAttributes.position.length/3)}_isOutsideClippingArea(e){if(!this._context.clippingExtent)return!1;const t=e.vertexAttributes&&e.vertexAttributes.position;if(!t)return!1;const r=this._context.elevationProvider.spatialReference;let o;const a=t.length/3;return null==r||e.spatialReference.equals(r)?o=t:(o=new Float64Array(t.length),O(e.vertexAttributes.position,e.spatialReference,0,o,r,0,a)),j(Re),P(Re,o,0,a),!A(Re,this._context.clippingExtent)}_createGeometryInfo(e,t,r){if(!w(e.spatialReference,this._context.graphicsCoreOwner.view.spatialReference))return this.logger.warn(\"Geometry spatial reference is not compatible with the view\"),null;if(this._isOutsideClippingArea(e))return null;const o=this._createBuffers(e,t);if(null==o)return null;const{positionBuffer:a,uvBuffer:n,colorBuffer:s,symbolColorBuffer:i,normalBuffer:l,tangentBuffer:u,objectTransformation:c,geometryTransformation:m}=o,h=this._getOrCreateComponents(e),f=new Array;let p=!1;for(const d of h){if(!this._validateFaces(e,d))return null;const t=this._getOrCreateFaces(e,d);if(0===t.length)continue;const o=this._createComponentNormals(a,l,d,t);o.didFlipNormals&&(p=!0);const c=[[fe.POSITION,new se(a,3,!0)],[fe.NORMAL,new se(o.normals,3,!0)]],h=[[fe.POSITION,t],[fe.NORMAL,o.indices]];null!=s&&(c.push([fe.COLOR,new se(s,4,!0)]),h.push([fe.COLOR,t])),null!=i&&(c.push([fe.SYMBOLCOLOR,new se(i,4,!0)]),h.push([fe.SYMBOLCOLOR,E(t.length)])),null!=n&&(c.push([fe.UV0,new se(n,2,!0)]),h.push([fe.UV0,t])),null!=u&&(c.push([fe.TANGENT,new se(u,4,!0)]),h.push([fe.TANGENT,t]));const g=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:r,layerUid:this._context.layer.uid}),x=this._getOrCreateMaterial(e,d),_=new ce(x,c,h,null,ue.Mesh,g);_.transformation=m,f.push(_)}return p&&this.logger.warn(\"Normals have been automatically flipped to be consistent with the counter clock wise face winding order. It is better to generate mesh geometries that have consistent normals.\"),{geometries:f,objectTransformation:c}}_updateMaterialParameters(e){this._materialInfoCache.forEachMaterialInfo(e),this._fastUpdateProcessor.forEachMaterialInfo(e),this._fastUpdateProcessor.forEachClonedMaterial(((e,t)=>{t.setParameters(e.parameters)}))}test(){return{...super.test(),materials:this._materialInfoCache.materials}}}class ve{constructor(e,t,r){this.normals=e,this.indices=t,this.didFlipNormals=r}}const Ce=b(),Oe=b(),we=b(),Me=b(),je=b(),Pe=l(),Ae=a(),Ie=l(),Re=M(),Ee=[new N],Ne=new B;var Fe;!function(e){e[e.NONE=0]=\"NONE\",e[e.ECEF=1]=\"ECEF\"}(Fe||(Fe={}));export{ye as Graphics3DMeshFillSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/mat4f64.js\";import{m as t,s as i}from\"../../../../chunks/vec3.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{empty as s,expandWithVec3 as a,create as r,isPoint as o,center as l,offset as h}from\"../../../../geometry/support/aaBoundingBox.js\";import{evaluateElevationInfoAtPoint as c}from\"./elevationAlignmentUtils.js\";import{setContextFeature as d}from\"./featureExpressionInfoUtils.js\";import{demResolutionForBoundingBox as g}from\"./graphicUtils.js\";import{Object3DState as m}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DStateID as u}from\"../../webgl-engine/lib/Object3DStateID.js\";class f{constructor(e,t,i,n){this.graphics3DSymbolLayer=e,this.instanceIndex=t,this.elevationAligner=i,this.elevationContext=n,this.type=\"lod-instance\",this._highlights=new Set,this.alignedSampledElevation=0,this.isElevationSource=!1,this.needsElevationUpdates=!1}initialize(){}setVisibility(e){const t=this._lodRenderer.instanceData;e!==t.getVisible(this.instanceIndex)&&t.setVisible(this.instanceIndex,e)}destroy(){null!=this.instanceIndex&&(this._lodRenderer.instanceData.removeInstance(this.instanceIndex),this.graphics3DSymbolLayer.notifyDestroyGraphicLayer(this))}alignWithElevation(e,t,i){if(this.elevationAligner){d(this.elevationContext.featureExpressionInfoContext,i);const n=(i,n)=>c(i,e,this.elevationContext,t,n),s=this.elevationAligner(this,this.elevationContext,e.spatialReference,n,t);null!=s&&(this.alignedSampledElevation=s)}}getCenterObjectSpace(e=n()){return this._lodRenderer.instanceData.getCombinedLocalTransform(this.instanceIndex,I),t(e,this._lodRenderer.baseBoundingSphere.center,I)}getBoundingBoxObjectSpace(e=r()){this._lodRenderer.instanceData.getCombinedLocalTransform(this.instanceIndex,I);const n=this._lodRenderer.baseBoundingBox;s(e);for(let s=0;s<8;++s)i(v,0==(1&s)?n[0]:n[3],0==(2&s)?n[1]:n[4],0==(4&s)?n[2]:n[5]),t(v,v,I),a(e,v);return e}computeAttachmentOrigin(e){this._lodRenderer.instanceData.getGlobalTransform(this.instanceIndex,I),e.render.origin[0]+=I[12],e.render.origin[1]+=I[13],e.render.origin[2]+=I[14],e.render.num++}async getProjectedBoundingBox(e,i,n,a,r){const c=this.getBoundingBoxObjectSpace(r),d=b,m=o(c)?1:d.length;this._lodRenderer.instanceData.getGlobalTransform(this.instanceIndex,I);for(let s=0;s<m;s++){const e=d[s];v[0]=c[e[0]],v[1]=c[e[1]],v[2]=c[e[2]],t(v,v,I),p[3*s]=v[0],p[3*s+1]=v[1],p[3*s+2]=v[2]}if(!e(p,0,m))return null;s(c);let u=null;this.calculateRelativeScreenBounds&&(u=this.calculateRelativeScreenBounds());for(let t=0;t<3*m;t+=3){for(let e=0;e<3;e++)c[e]=Math.min(c[e],p[t+e]),c[e+3]=Math.max(c[e+3],p[t+e]);u&&n.push({location:p.slice(t,t+3),screenSpaceBoundingRect:u})}if(i&&(l(c,x),\"absolute-height\"!==this.elevationContext.mode)){let e;const t=g(c,i.service.spatialReference,i);try{e=await i.service.queryElevation(x[0],x[1],a,t,\"ground\")}catch(f){}null!=e&&h(c,0,0,-this.alignedSampledElevation+e)}return c}addObjectState(e,t){if(e===m.Highlight){const i=new u(e);this._addHighlightId(i),t.addExternal((e=>{this._removeHighlightId(e)}),i)}}removeObjectState(e){this._highlights.forEach((t=>e.remove(t)))}_addHighlightId(e){this._highlights.add(e),this._lodRenderer.instanceData.setHighlight(this.instanceIndex,!0)}_removeHighlightId(e){this._highlights.delete(e),this._lodRenderer.instanceData.setHighlight(this.instanceIndex,this._highlights.size>0)}get _lodRenderer(){return this.graphics3DSymbolLayer.lodRenderer}}const p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v=n(),x=n(),b=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]],I=e();export{f as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{LodComponentResources as e}from\"../../webgl-engine/lib/lodRendering/LodResources.js\";function o(o){const s=new Array;return o.stageResources.geometries.forEach((n=>{const r=o.stageResources.textures;s.push(new e(n,r))})),{components:s,minScreenSpaceRadius:o.lodThreshold??0,pivotOffset:o.pivotOffset}}function s(e){return{levels:e.map((e=>o(e)))}}export{s as makeLodResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport l from\"../../../../core/Error.js\";import{fetchStyle as t,symbolUrlFromStyleItem as s}from\"../../../../symbols/support/styleUtils.js\";import{getStyleItemFromStyle as e,fetchSymbolFromStyle as n}from\"../../../../symbols/support/webStyleSymbolUtils.js\";async function r(r){if(null===r||null==r.styleName&&null==r.styleUrl)return null;const o=r.name;if(null==o)throw new l(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\");const u={portal:r.portal},i=await t(r,u).catch((()=>null));if(null===i)return null;const m=e(o,i.data);if(m&&!m.formatInfos?.some((l=>\"gltf_basisu\"===l.type)))return null;const a=await n(i,o,u,\"webRef\",((l,t)=>s(l,t,[\"gltf_basisu\",\"gltf\"]))).catch((()=>null));if(null===a||\"point-3d\"!==a.type)return null;const y=a.symbolLayers.items[0];return\"object\"===y.type?y.resource:null}export{r as getResourceUrlFromSymbolStyle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{BufferObject as e}from\"../../../../webgl/BufferObject.js\";import{Usage as t}from\"../../../../webgl/enums.js\";class r{constructor(r,i,s){this._elementSize=i,this._buffer=e.createVertex(r,t.STATIC_DRAW),this.resize(s)}destroy(){this._buffer.dispose()}get elementSize(){return this._elementSize}get capacity(){return this._capacity}get array(){return this._array}get buffer(){return this._buffer}get memoryUsage(){return{cpu:this._capacity*this._elementSize,gpu:this._capacity*this._elementSize}}copyRange(e,t,r,i=0){const s=new Uint8Array(this.array,e*this.elementSize,(t-e)*this.elementSize);new Uint8Array(r.array,i*this.elementSize).set(s)}transferAll(){this._buffer.setData(this._array)}transferRange(e,t){const r=e*this._elementSize,i=t*this._elementSize;this._buffer.setSubData(new Uint8Array(this._array),r,r,i)}resize(e){const t=e*this._elementSize,r=new ArrayBuffer(t);this._array&&(e>=this._capacity?new Uint8Array(r).set(new Uint8Array(this._array)):new Uint8Array(r).set(new Uint8Array(this._array).subarray(0,e*this._elementSize))),this._array=r,this._buffer.setSize(t),this._capacity=e}}export{r as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReallocShrinkTreshold as t,ReallocGrowthFactor as i,ReallocShrinkFactor as e}from\"../../../../../core/arrayUtils.js\";import{BufferViewVec3f as s,BufferViewMat3f as a,BufferViewVec4f as r,BufferViewVec4u8 as h}from\"../../../../../geometry/support/buffer/BufferView.js\";import{assert as n}from\"../Util.js\";import{VertexAttribute as d}from\"../VertexAttribute.js\";import _ from\"./BackedBufferObject.js\";class c{constructor(t){this.modelOriginHi=t.getField(d.MODELORIGINHI,s),this.modelOriginLo=t.getField(d.MODELORIGINLO,s),this.model=t.getField(d.MODEL,a),this.modelNormal=t.getField(d.MODELNORMAL,a),this.featureAttribute=t.getField(d.INSTANCEFEATUREATTRIBUTE,r),this.color=t.getField(d.INSTANCECOLOR,h),this.objectAndLayerIdColor=t.getField(d.INSTANCEOBJECTANDLAYERIDCOLOR,h)}}class f{constructor(t,i){this._headIndex=0,this._tailIndex=0,this._firstIndex=null,this._captureFirstIndex=!0,this._updating=!1,this._prevHeadIndex=0,this._resized=!1,this._rctx=t,this._instanceBufferLayout=i,this._elementSize=i.stride,this._capacity=1}destroy(){this._buffer&&this._buffer.destroy()}get buffer(){return this._buffer.buffer}get view(){return this._view}get capacity(){return this._capacity}get size(){const t=this._headIndex,i=this._tailIndex;return t>=i?t-i:t+this._capacity-i}get isEmpty(){return this._headIndex===this._tailIndex}get isFull(){return this._tailIndex===(this._headIndex+1)%this._capacity}get headIndex(){return this._headIndex}get tailIndex(){return this._tailIndex}get firstIndex(){return this._firstIndex}get memoryUsage(){return this._buffer?this._buffer.memoryUsage:{cpu:0,gpu:0}}reset(){this._headIndex=0,this._tailIndex=0,this._firstIndex=null}startUpdateCycle(){this._captureFirstIndex=!0}beginUpdate(){n(!this._updating,\"already updating\"),this._updating=!0,this._prevHeadIndex=this._headIndex}endUpdate(){n(this._updating,\"not updating\"),this.size<t*this.capacity&&this._shrink(),this._resized?(this._buffer.transferAll(),this._resized=!1):this._transferRange(this._prevHeadIndex,this._headIndex),this._updating=!1}allocateHead(){n(this._updating,\"not updating\"),this.isFull&&this._grow();const t=this.headIndex;return this._captureFirstIndex&&(this._firstIndex=t,this._captureFirstIndex=!1),this._incrementHead(),n(this._headIndex!==this._tailIndex,\"invalid pointers\"),t}freeTail(){n(this._updating,\"not updating\"),n(this.size>0,\"invalid size\");const t=this._tailIndex===this._firstIndex;this._incrementTail(),t&&(this._firstIndex=this._tailIndex)}_grow(){const t=Math.max(u,Math.floor(this._capacity*i));this._resize(t)}_shrink(){const t=Math.max(u,Math.floor(this._capacity*e));this._resize(t)}_resize(t){if(n(this._updating,\"not updating\"),t===this._capacity)return;const i=new _(this._rctx,this._elementSize,t);if(this._buffer){this._firstIndex&&(this._firstIndex=(this._firstIndex+this._capacity-this._tailIndex)%this._capacity);const t=this.size,e=this._compactInstances(i);n(e===t,\"invalid compaction\"),this._buffer.destroy(),this._tailIndex=0,this._headIndex=e,this._prevHeadIndex=0}this._resized=!0,this._capacity=t,this._buffer=i,this._view=new c(this._instanceBufferLayout.createView(this._buffer.array))}_compactInstances(t){const i=this._headIndex,e=this._tailIndex;return e<i?(this._buffer.copyRange(e,i,t),i-e):e>i?(this._buffer.copyRange(e,this._capacity,t),i>0&&this._buffer.copyRange(0,i,t,this._capacity-e),i+(this._capacity-e)):0}_incrementHead(t=1){this._headIndex=(this._headIndex+t)%this._capacity}_incrementTail(t=1){this._tailIndex=(this._tailIndex+t)%this._capacity}_transferRange(t,i){t<i?this._buffer.transferRange(t,i):t>i&&(i>0&&this._buffer.transferRange(0,i),this._buffer.transferRange(t,this._capacity))}}const u=64;export{u as INITIAL_CAPACITY,f as RenderInstanceData,c as RenderInstanceDataView};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{ReallocGrowthFactor as s}from\"../../../../../core/arrayUtils.js\";import i from\"../../../../../core/Evented.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/has.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{f as o,e as n,t as l}from\"../../../../../chunks/mat3.js\";import{c as h}from\"../../../../../chunks/mat3f64.js\";import{m as c}from\"../../../../../chunks/mat4.js\";import{c as m}from\"../../../../../chunks/mat4f64.js\";import{s as f}from\"../../../../../chunks/vec3.js\";import{c as g}from\"../../../../../chunks/vec3f64.js\";import{BufferViewMat4f64 as d,BufferViewVec3f64 as T,BufferViewMat3f as u,BufferViewVec2f as _,BufferViewVec4f64 as p,BufferViewVec4f as L,BufferViewVec4u8 as A,BufferViewUint8 as E}from\"../../../../../geometry/support/buffer/BufferView.js\";import{scaleFromMatrix as O}from\"../../../support/mathUtils.js\";import{newLayout as v}from\"../../../support/buffer/InterleavedLayout.js\";import{assert as F}from\"../Util.js\";import{VertexAttribute as I}from\"../VertexAttribute.js\";import{INITIAL_CAPACITY as S}from\"./RenderInstanceData.js\";var M;function R(t){let e=v().mat4f64(I.LOCALTRANSFORM).mat4f64(I.GLOBALTRANSFORM).vec4f64(I.BOUNDINGSPHERE).vec3f64(I.MODELORIGIN).mat3f(I.MODEL).mat3f(I.MODELNORMAL).vec2f(I.MODELSCALEFACTORS);return t.includes(I.FEATUREATTRIBUTE)&&(e=e.vec4f(I.FEATUREATTRIBUTE)),t.includes(I.COLOR)&&(e=e.vec4u8(I.COLOR)),t.includes(I.OBJECTANDLAYERIDCOLOR)&&(e=e.vec4u8(I.OBJECTANDLAYERIDCOLOR)),e=e.u8(I.STATE).u8(I.LODLEVEL),e}!function(t){t[t.ALLOCATED=1]=\"ALLOCATED\",t[t.DEFAULT_ACTIVE=2]=\"DEFAULT_ACTIVE\",t[t.VISIBLE=4]=\"VISIBLE\",t[t.HIGHLIGHT=8]=\"HIGHLIGHT\",t[t.HIGHLIGHT_ACTIVE=16]=\"HIGHLIGHT_ACTIVE\",t[t.REMOVE=32]=\"REMOVE\",t[t.TRANSFORM_CHANGED=64]=\"TRANSFORM_CHANGED\",t[t.ACTIVE=18]=\"ACTIVE\"}(M||(M={}));class C{constructor(t){this.localTransform=t.getField(I.LOCALTRANSFORM,d),this.globalTransform=t.getField(I.GLOBALTRANSFORM,d),this.modelOrigin=t.getField(I.MODELORIGIN,T),this.model=t.getField(I.MODEL,u),this.modelNormal=t.getField(I.MODELNORMAL,u),this.modelScaleFactors=t.getField(I.MODELSCALEFACTORS,_),this.boundingSphere=t.getField(I.BOUNDINGSPHERE,p),this.featureAttribute=t.getField(I.FEATUREATTRIBUTE,L),this.color=t.getField(I.COLOR,A),this.objectAndLayerIdColor=t.getField(I.OBJECTANDLAYERIDCOLOR,A),this.state=t.getField(I.STATE,E),this.lodLevel=t.getField(I.LODLEVEL,E)}}let y=class extends e{constructor(t,e){super(t),this.events=new i,this._capacity=0,this._size=0,this._next=0,this._layout=R(e),this._capacity=S,this._buffer=this._layout.createBuffer(this._capacity),this._view=new C(this._buffer)}get capacity(){return this._capacity}get size(){return this._size}get view(){return this._view}addInstance(){this._size+1>this._capacity&&this._grow();const t=this._findSlot();return this._view.state.set(t,M.ALLOCATED),this._size++,this.events.emit(\"instances-changed\"),t}removeInstance(t){const e=this._view.state;F(t>=0&&t<this._capacity&&0!=(e.get(t)&M.ALLOCATED),\"invalid instance handle\"),this._getStateFlag(t,M.ACTIVE)?this._setStateFlags(t,M.REMOVE):this.freeInstance(t),this.events.emit(\"instances-changed\")}freeInstance(t){const e=this._view.state;F(t>=0&&t<this._capacity&&0!=(e.get(t)&M.ALLOCATED),\"invalid instance handle\"),e.set(t,0),this._size--}setLocalTransform(t,e,s=!0){this._view.localTransform.setMat(t,e),s&&this.updateModelTransform(t)}getLocalTransform(t,e){this._view.localTransform.getMat(t,e)}setGlobalTransform(t,e,s=!0){this._view.globalTransform.setMat(t,e),s&&this.updateModelTransform(t)}getGlobalTransform(t,e){this._view.globalTransform.getMat(t,e)}updateModelTransform(t){const e=this._view,s=w,i=D;e.localTransform.getMat(t,V),e.globalTransform.getMat(t,H);const a=c(H,H,V);f(s,a[12],a[13],a[14]),e.modelOrigin.setVec(t,s),o(i,a),e.model.setMat(t,i);const r=O(w,a);r.sort(),e.modelScaleFactors.set(t,0,r[1]),e.modelScaleFactors.set(t,1,r[2]),n(i,i),l(i,i),e.modelNormal.setMat(t,i),this._setStateFlags(t,M.TRANSFORM_CHANGED),this.events.emit(\"instance-transform-changed\",{index:t})}getModelTransform(t,e){const s=this._view;s.model.getMat(t,D),s.modelOrigin.getVec(t,w),e[0]=D[0],e[1]=D[1],e[2]=D[2],e[3]=0,e[4]=D[3],e[5]=D[4],e[6]=D[5],e[7]=0,e[8]=D[6],e[9]=D[7],e[10]=D[8],e[11]=0,e[12]=w[0],e[13]=w[1],e[14]=w[2],e[15]=1}applyShaderTransformation(t,e){null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedModelTransform(t,e){return this.getModelTransform(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e),e}getCombinedLocalTransform(t,e){this._view.localTransform.getMat(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedMaxScaleFactor(t){let e=this._view.modelScaleFactors.get(t,1);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(w,this,t),e*=Math.max(w[0],w[1],w[2])),e}getCombinedMedianScaleFactor(t){let e=this._view.modelScaleFactors.get(t,0);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(w,this,t),e*=b(w[0],w[1],w[2])),e}getModel(t,e){this._view.model.getMat(t,e)}setFeatureAttribute(t,e){this._view.featureAttribute.setVec(t,e)}getFeatureAttribute(t,e){this._view.featureAttribute.getVec(t,e)}setColor(t,e){this._view.color.setVec(t,e)}setObjectAndLayerIdColor(t,e){this._view.objectAndLayerIdColor.setVec(t,e)}setVisible(t,e){e!==this.getVisible(t)&&(this._setStateFlag(t,M.VISIBLE,e),this.events.emit(\"instance-visibility-changed\",{index:t}))}getVisible(t){return this._getStateFlag(t,M.VISIBLE)}setHighlight(t,e){e!==this.getHighlight(t)&&(this._setStateFlag(t,M.HIGHLIGHT,e),this.events.emit(\"instance-highlight-changed\"))}getHighlight(t){return this._getStateFlag(t,M.HIGHLIGHT)}getState(t){return this._view.state.get(t)}getLodLevel(t){return this._view.lodLevel.get(t)}countFlags(t){let e=0;for(let s=0;s<this._capacity;++s){this.getState(s)&t&&++e}return e}_setStateFlags(t,e){const s=this._view.state;e=s.get(t)|e,s.set(t,e)}_clearStateFlags(t,e){const s=this._view.state;e=s.get(t)&~e,s.set(t,e)}_setStateFlag(t,e,s){s?this._setStateFlags(t,e):this._clearStateFlags(t,e)}_getStateFlag(t,e){return!!(this._view.state.get(t)&e)}_grow(){this._capacity=Math.max(S,Math.floor(this._capacity*s)),this._buffer=this._layout.createBuffer(this._capacity).copyFrom(this._buffer),this._view=new C(this._buffer)}_findSlot(){const t=this._view.state;let e=this._next;for(;t.get(e)&M.ALLOCATED;)e=e+1===this._capacity?0:e+1;return this._next=e+1===this._capacity?0:e+1,e}};function b(t,e,s){return Math.max(Math.min(t,e),Math.min(Math.max(t,e),s))}t([a({constructOnly:!0})],y.prototype,\"shaderTransformation\",void 0),t([a()],y.prototype,\"_size\",void 0),t([a({readOnly:!0})],y.prototype,\"size\",null),y=t([r(\"esri.views.3d.webgl-engine.lib.lodRendering.InstanceData\")],y);const w=g(),D=h(),V=m(),H=m();export{y as InstanceData,C as InstanceDataView,M as StateFlags};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../../chunks/mat4f64.js\";import{m as e}from\"../../../../../chunks/vec3.js\";import{w as s,c as i}from\"../../../../../chunks/sphere.js\";import{maxScale as r}from\"../../../support/mathUtils.js\";import h from\"../Octree.js\";class n extends h{constructor(e,r){super((t=>s(this._instanceData.view.boundingSphere.getVec(t,this._tmpSphere))),{maximumDepth:25}),this._instanceData=e,this._boundingSphere=r,this._tmpSphere=i(),this._tmpMat4=t()}addInstance(t){const s=this._instanceData.view.boundingSphere,i=this._instanceData.getCombinedModelTransform(t,this._tmpMat4);e(this._tmpSphere,this._boundingSphere.center,i),this._tmpSphere[3]=this._boundingSphere.radius*r(i),s.setVec(t,this._tmpSphere),this.add([t])}removeInstance(t){this.remove([t])}}export{n as InstanceOctree};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i){this._worldSpaceRadius=e,this._minScreenSpaceRadii=i}selectLevel(e,i,t){const c=t.computeScreenPixelSizeAt(e),r=this._worldSpaceRadius*i/c;let s=0;for(let a=1;a<this._minScreenSpaceRadii.length;++a)r>=this._minScreenSpaceRadii[a]&&(s=a);return s}}export{e as LevelSelector};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{glLayout as r}from\"../../../support/buffer/glUtil.js\";import{Default3D as t}from\"../DefaultVertexAttributeLocations.js\";import{GLMaterials as e}from\"../GLMaterials.js\";import{newIntersectorResult as s}from\"../Intersector.js\";import{IntersectorType as o,StoreResults as i}from\"../IntersectorInterfaces.js\";import{VertexArrayObject as a}from\"../VertexArrayObject.js\";import{LodTarget as n}from\"./Intersector.js\";import{BufferObject as m}from\"../../../../webgl/BufferObject.js\";import{Usage as l}from\"../../../../webgl/enums.js\";class u{constructor(s,o){const i=s.renderContext.rctx,n=o.geometry;this._materialRepository=s.materialRepository,n.material.setParameters({instancedDoublePrecision:!0});const u=n.material.createBufferWriter(),f=u.vertexBufferLayout,d=u.elementCount(n),p=f.createBuffer(d);u.write(null,null,n,p,0),this.geometry=n,this.material=n.material,this.glMaterials=new e(n.material,this._materialRepository),this.vertexBufferLayout=f,this.vbo=m.createVertex(i,l.STATIC_DRAW,p.buffer),this.vao=new a(i,t,{geometry:r(f)},{geometry:this.vbo}),this.vertexCount=d}destroy(){this.glMaterials.destroy(),this.vbo.dispose(),this.vao.dispose()}get boundingInfo(){return this.geometry.boundingInfo}get triangleCount(){return this.vertexCount/3}intersect(r,t,e,a,m,l,u,f){const d=this.geometry.id;this.material.intersect(this.geometry,r.transform.transform,r,e,a,((e,a,p,c,y)=>{if(e>=0){if(null!=t&&!t(r.rayBegin,r.rayEnd,e))return;const c=new n(l.layerUid,l.graphicUid(m),d,p,u,f);if((null==r.results.min.drapedLayerOrder||y>=r.results.min.drapedLayerOrder)&&(null==r.results.min.dist||e<r.results.min.dist)&&r.results.min.set(o.LOD,c,e,a,r.transform.transform,y),r.options.store!==i.MIN&&(null==r.results.max.drapedLayerOrder||y>=r.results.max.drapedLayerOrder)&&(null==r.results.max.dist||e>r.results.max.dist)&&r.results.max.set(o.LOD,c,e,a,r.transform.transform,y),r.options.store===i.ALL){const t=s(r.results.min.ray);t.set(o.LOD,c,e,a,r.transform.transform,y),r.results.all.push(t)}}}))}}export{u as LodComponentData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{isSome as n}from\"../../../../../core/arrayUtils.js\";import{isAborted as o,throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import{c as e}from\"../../../../../chunks/vec3f64.js\";import{empty as r,expandWithVec3 as i,center as s,diameter as c}from\"../../../../../geometry/support/aaBoundingBox.js\";import{LodComponentData as u}from\"./LodComponentData.js\";class a{static async create(e,r,i){const s=await Promise.allSettled(r.components.map((n=>e.controller.schedule((()=>new u(e,n)),i)))),c=s.map((n=>\"fulfilled\"===n.status?n.value:null)).filter(n);if(o(i)||c.length!==s.length){c.forEach((n=>n.destroy())),t(i);for(const n of s)if(\"rejected\"===n.status)throw n.reason}return new a(r.minScreenSpaceRadius,c)}constructor(n,o){this.minScreenSpaceRadius=n,this.components=o}destroy(){this.components.forEach((n=>n.destroy()))}intersect(n,o,t,e,r,i,s){this.components.forEach((c=>c.intersect(n,o,t,e,r,i,this.boundingSphere,s)))}get boundingBox(){if(null==this._boundingBox){const n=r();this.components.forEach((o=>{null!=o.boundingInfo&&(i(n,o.boundingInfo.bbMin),i(n,o.boundingInfo.bbMax))})),this._boundingBox=n}return this._boundingBox}get boundingSphere(){if(null==this._boundingSphere){const n=this.boundingBox,o=e();s(n,o),this._boundingSphere={center:o,radius:.5*c(n)}}return this._boundingSphere}get triangleCount(){return this.components.reduce(((n,o)=>n+o.triangleCount),0)}}export{a as LodLevel};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{isSome as r}from\"../../../../../core/arrayUtils.js\";import a from\"../../../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../../../core/maybe.js\";import{isAborted as n,throwIfAborted as i}from\"../../../../../core/promiseUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/has.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c}from\"../../../../../chunks/mat4f64.js\";import{b as h,e as d,m as u}from\"../../../../../chunks/vec3.js\";import{c as m}from\"../../../../../chunks/vec3f64.js\";import{c as p,f as _}from\"../../../../../chunks/vec4f64.js\";import f from\"../../../support/debugFlags.js\";import{glLayout as g}from\"../../../support/buffer/glUtil.js\";import{newLayout as I}from\"../../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as y}from\"../../core/shaderLibrary/ShaderOutput.js\";import{Camera as C}from\"../Camera.js\";import{Default3D as v}from\"../DefaultVertexAttributeLocations.js\";import{IntersectorType as E}from\"../IntersectorInterfaces.js\";import D from\"../Octree.js\";import{RenderSlot as R}from\"../RenderSlot.js\";import{assert as b}from\"../Util.js\";import{VertexAttribute as A}from\"../VertexAttribute.js\";import{InstanceData as T,StateFlags as L}from\"./InstanceData.js\";import{InstanceOctree as O}from\"./InstanceOctree.js\";import{LevelSelector as S}from\"./LevelSelector.js\";import{LodLevel as j}from\"./LodLevel.js\";import{RenderInstanceData as x}from\"./RenderInstanceData.js\";import{colorMixModes as N}from\"../../materials/internal/MaterialUtil.js\";import{encodeDoubleVec3 as U}from\"../../materials/renderers/utils.js\";import{DefaultMaterialDrawParameters as M}from\"../../shaders/DefaultMaterialTechnique.js\";import{TaskPriority as w,noBudget as F}from\"../../../../support/Scheduler.js\";import{bindVertexBufferLayout as V,unbindVertexBufferLayout as H}from\"../../../../webgl/Util.js\";const B=e=>{const t=e.baseBoundingSphere.radius,r=e.levels.map((e=>e.minScreenSpaceRadius));return new S(t,r)};let q=class extends t{constructor(e,t){super(e),this.type=E.LOD,this.isGround=!1,this._handles=new a,this._levels=[],this._defaultRenderInstanceData=[new Array],this._highlightRenderInstanceData=[new Array],this._allRenderInstanceData=[this._defaultRenderInstanceData[0],this._highlightRenderInstanceData[0]],this._instanceIndex=0,this._cycleStartIndex=0,this._slicePlane=!1,this._camera=new C,this._updateCyclesWithStaticCamera=-1,this._needFullCycle=!1,this.slots=[R.OPAQUE_MATERIAL,R.TRANSPARENT_MATERIAL],this.canRender=!0,this._instanceData=new T({shaderTransformation:e.shaderTransformation},e.optionalFields),this._handles.add(t.registerTask(w.LOD_RENDERER,this))}initialize(){this._instanceBufferLayout=z(this.optionalFields),this._glInstanceBufferLayout=g(this._instanceBufferLayout,1),this._handles.add([this._instanceData.events.on(\"instances-changed\",(()=>this._requestUpdateCycle())),this._instanceData.events.on(\"instance-transform-changed\",(({index:e})=>{this._requestUpdateCycle(),this.metadata.notifyGraphicGeometryChanged(e)})),this._instanceData.events.on(\"instance-visibility-changed\",(({index:e})=>{this._requestUpdateCycle(!0),this.metadata.notifyGraphicVisibilityChanged(e)})),this._instanceData.events.on(\"instance-highlight-changed\",(()=>this._requestUpdateCycle(!0)))])}destroy(){this._handles.destroy()}get _enableLevelSelection(){return this.symbol.levels.length>1}get levels(){return this._levels}get baseBoundingBox(){return this._levels[this._levels.length-1].boundingBox}get baseBoundingSphere(){return this._levels[this._levels.length-1].boundingSphere}get baseMaterial(){return this._levels[this._levels.length-1].components[0].material}get slicePlaneEnabled(){return this._slicePlane}set slicePlaneEnabled(e){this._slicePlane=e}get layerUid(){return this.metadata.layerUid}get instanceData(){return this._instanceData}get memoryUsage(){const e={cpu:0,gpu:0};return this._allRenderInstanceData.forEach((t=>t.forEach((t=>{e.cpu+=t.memoryUsage.cpu,e.gpu+=t.memoryUsage.gpu})))),e}get renderStats(){const e=this._instanceData.size,t=[];return this._levels.forEach(((e,r)=>{const a=this._allRenderInstanceData[0][r].size+this._allRenderInstanceData[1][r].size,s=e.triangleCount;t.push({renderedInstances:a,renderedTriangles:a*s,trianglesPerInstance:s})})),{totalInstances:e,renderedInstances:t.reduce(((e,t)=>e+t.renderedInstances),0),renderedTriangles:t.reduce(((e,t)=>e+t.renderedTriangles),0),levels:t}}async initializeRenderContext(e,t){this._context=e;const a=e.renderContext.rctx,s=await Promise.allSettled(this.symbol.levels.map((r=>(this._defaultRenderInstanceData[0].push(new x(a,this._instanceBufferLayout)),this._highlightRenderInstanceData[0].push(new x(a,this._instanceBufferLayout)),j.create(e,r,t))))),o=s.map((e=>\"fulfilled\"===e.status?e.value:null)).filter(r);if(n(t)||o.length!==s.length){o.forEach((e=>e.destroy())),i(t);for(const e of s)if(\"rejected\"===e.status)throw e.reason}this._levels=o,this._levelSelector=B(this)}uninitializeRenderContext(){this._invalidateOctree(),this._levels.forEach((e=>e.destroy())),this._defaultRenderInstanceData[0].forEach((e=>e.destroy())),this._highlightRenderInstanceData[0].forEach((e=>e.destroy()))}get needsTransparentPass(){return this._levels.some((e=>e.components.some((e=>e.material.requiresSlot(R.TRANSPARENT_MATERIAL,y.Color)))))}get needsHighlight(){return this._highlightRenderInstanceData[0].some((e=>e.size>0))}prepareRender(e){if(!f.LOD_INSTANCE_RENDERER_DISABLE_UPDATES){if(this._enableLevelSelection){const t=e.bindParameters.contentCamera.equals(this._camera);this._camera.copyFrom(e.bindParameters.contentCamera),t||this._requestUpdateCycle()}this._needFullCycle&&(this.runTask(F),this._needFullCycle=!1)}}prepareTechniques(e){if(!this.baseMaterial.isVisible()||!this.baseMaterial.isVisibleForOutput(e.output))return null;const t=this._getInstanceDatas(e.output);if(!t)return null;const r=new Array;return t.forEach((t=>this.levels.forEach(((a,s)=>{a.components.forEach((a=>r.push(this._beginComponent(e,t[s],a))))})))),r}render(e,t){const r=this._getInstanceDatas(e.output);if(!r)return;let a=0;e.rctx.bindVAO(),r.forEach((r=>this.levels.forEach(((s,n)=>{s.components.forEach((s=>this._renderComponent(e,t[a++],r[n],s,n)))}))))}_getInstanceDatas(e){const t=e!==y.Highlight&&e!==y.ShadowHighlight,r=e!==y.ShadowExcludeHighlight;return t&&r?this._allRenderInstanceData:t?this._defaultRenderInstanceData:r?this._highlightRenderInstanceData:null}intersect(e,t,r,a){if(!this.baseMaterial.isVisible()||null==this._octree)return;const s=m();h(s,a,r);const n=s=>{this._instanceData.getCombinedModelTransform(s,K),e.transform.set(K),u(Y,r,e.transform.inverse),u(J,a,e.transform.inverse);const n=this._instanceData.getState(s),i=this._instanceData.getLodLevel(s),o=this._levels.length;b(0!=(n&L.ACTIVE),\"invalid instance state\"),b(i>=0&&i<o,\"invaid lod level\"),this._levels[i].intersect(e,t,Y,J,s,this.metadata,o)};this.baseMaterial.parameters.verticalOffset?this._octree.forEach(n):this._octree.forEachAlongRay(r,s,n)}queryDepthRange(e){return this._queryDepthRangeOctree(e)}notifyShaderTransformationChanged(){this._invalidateOctree(),this._requestUpdateCycle()}get _octree(){if(null==this._octreeCached){const e=this._instanceData,t=e.view?.state;if(!t)return null;this._octreeCached=new O(e,this.baseBoundingSphere);for(let r=0;r<e.capacity;++r)t.get(r)&L.ACTIVE&&this._octreeCached.addInstance(r)}return this._octreeCached}_invalidateOctree(){this._octreeCached=s(this._octreeCached)}_queryDepthRangeOctree(e){if(null==this._octree)return{near:1/0,far:-1/0};const t=e.viewForward,r=this._octree.findClosest(t,D.DepthOrder.FRONT_TO_BACK,e.frustum),a=this._octree.findClosest(t,D.DepthOrder.BACK_TO_FRONT,e.frustum);if(null==r||null==a)return{near:1/0,far:-1/0};const s=e.eye,n=this._instanceData.view;n.boundingSphere.getVec(r,W),h(W,W,s);const i=d(W,t)-W[3];n.boundingSphere.getVec(a,W),h(W,W,s);const o=d(W,t)+W[3];return{near:Math.max(e.near,i),far:Math.min(e.far,o)}}_requestUpdateCycle(e=!1){this._updateCyclesWithStaticCamera=-1,this._cycleStartIndex=this._instanceIndex,e&&(this._needFullCycle=!0,this._context.requestRender())}_startUpdateCycle(){this._updateCyclesWithStaticCamera++,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.startUpdateCycle()))))}get running(){return this._instanceData.size>0&&this._updateCyclesWithStaticCamera<1}runTask(e){const{_enableLevelSelection:t,_camera:r,_levelSelector:a}=this;this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.beginUpdate()))));const s=this._instanceData,n=s.view;let i=s.size;const o=s.capacity;let l=this._instanceIndex;for(let c=0;c<i&&!e.done;++c){l===this._cycleStartIndex&&this._startUpdateCycle();const c=n.state.get(l);let h=0;if(!(c&L.ALLOCATED)){l=l+1===o?0:l+1,i++;continue}const d=n.lodLevel.get(l);if(c&L.DEFAULT_ACTIVE&&this._defaultRenderInstanceData[0][d].freeTail(),c&L.HIGHLIGHT_ACTIVE&&this._highlightRenderInstanceData[0][d].freeTail(),c&L.REMOVE)s.freeInstance(l);else if(c&L.VISIBLE){let e=0;t&&(n.modelOrigin.getVec(l,k),e=a.selectLevel(k,s.getCombinedMedianScaleFactor(l),r)),h=c&~(L.ACTIVE|L.TRANSFORM_CHANGED),e>=0&&(c&L.HIGHLIGHT?(P(this._highlightRenderInstanceData[0][e],n,l),h|=L.HIGHLIGHT_ACTIVE):(P(this._defaultRenderInstanceData[0][e],n,l),h|=L.DEFAULT_ACTIVE)),n.state.set(l,h),n.lodLevel.set(l,e)}else h=c&~(L.ACTIVE|L.TRANSFORM_CHANGED),n.state.set(l,h);if(null!=this._octreeCached){const e=!!(c&L.ACTIVE),t=!!(h&L.ACTIVE);!e&&t?this._octreeCached.addInstance(l):e&&!t?this._octreeCached.removeInstance(l):e&&t&&c&L.TRANSFORM_CHANGED&&(this._octreeCached.removeInstance(l),this._octreeCached.addInstance(l))}l=l+1===o?0:l+1,e.madeProgress()}this._instanceIndex=l,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.endUpdate())))),this._context.requestRender()}_beginComponent(e,t,r){const{bindParameters:a,rctx:s,output:n}=e;if(0===t.size||!r.material.requiresSlot(a.slot,e.output))return null;const i=r.glMaterials.load(s,a.slot,n);return null!=i?i.beginSlot(a):null}_renderComponent(e,t,r,a,s){if(!t)return;const{bindParameters:n,rctx:i}=e;i.appleAmdDriverHelper?.resetIndicesType();const o=i.bindTechnique(t,a.material.parameters,n);i.bindVAO(a.vao),t.ensureAttributeLocations(a.vao),o.bindDraw(Z,n,a.material.parameters),f.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL&&e.output===y.Color&&(o.setUniform4fv(\"externalColor\",Q[Math.min(s,Q.length-1)]),o.setUniform1i(\"colorMixMode\",N.replace));const l=i.capabilities.instancing,c=r.capacity,h=r.headIndex,d=r.tailIndex,u=r.firstIndex,m=this._glInstanceBufferLayout,p=(e,s)=>{V(i,v,r.buffer,m,e),l.drawArraysInstanced(t.primitiveType,0,a.vertexCount,s-e),H(i,v,r.buffer,m)};a.material.parameters.transparent&&null!=u?h>d?(b(u>=d&&u<=h,\"invalid firstIndex\"),p(u,h),p(d,u)):h<d&&(u<=h?(b(u>=0&&u<=h,\"invalid firstIndex\"),p(u,h),p(d,c),p(0,u)):(b(u>=d&&u<=c,\"invalid firstIndex\"),p(u,c),p(0,h),p(d,u))):h>d?p(d,h):h<d&&(p(0,h),p(d,c)),i.bindVAO(null)}};function P(e,t,r){const a=e.allocateHead();G(t,r,e.view,a)}function G(e,t,r,a){U(e.modelOrigin,t,r.modelOriginHi,r.modelOriginLo,a),r.model.copyFrom(a,e.model,t),r.modelNormal.copyFrom(a,e.modelNormal,t),e.color&&r.color&&r.color.copyFrom(a,e.color,t),e.objectAndLayerIdColor&&r.objectAndLayerIdColor&&r.objectAndLayerIdColor.copyFrom(a,e.objectAndLayerIdColor,t),e.featureAttribute&&r.featureAttribute&&r.featureAttribute.copyFrom(a,e.featureAttribute,t)}function z(e){let t=I().vec3f(A.MODELORIGINHI).vec3f(A.MODELORIGINLO).mat3f(A.MODEL).mat3f(A.MODELNORMAL);return null!=e&&e.includes(\"featureAttribute\")&&(t=t.vec4f(A.INSTANCEFEATUREATTRIBUTE)),null!=e&&e.includes(\"color\")&&(t=t.vec4u8(A.INSTANCECOLOR)),null!=e&&e.includes(\"objectAndLayerIdColor\")&&(t=t.vec4u8(A.INSTANCEOBJECTANDLAYERIDCOLOR)),t}e([o({constructOnly:!0})],q.prototype,\"symbol\",void 0),e([o({constructOnly:!0})],q.prototype,\"optionalFields\",void 0),e([o({constructOnly:!0})],q.prototype,\"metadata\",void 0),e([o({constructOnly:!0})],q.prototype,\"shaderTransformation\",void 0),e([o()],q.prototype,\"_instanceData\",void 0),e([o()],q.prototype,\"_cycleStartIndex\",void 0),e([o({readOnly:!0})],q.prototype,\"_enableLevelSelection\",null),e([o()],q.prototype,\"_updateCyclesWithStaticCamera\",void 0),e([o({readOnly:!0})],q.prototype,\"running\",null),q=e([l(\"esri.views.3d.webgl-engine.lib.lodRendering.LodRenderer\")],q);const k=m(),W=p(),K=c(),Y=m(),J=m(),Q=[_(1,0,1,1),_(0,0,1,1),_(0,1,0,1),_(1,1,0,1),_(1,0,0,1)],Z=new M;export{q as LodRenderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import has from\"../../../../core/has.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";import{estimateSize as r}from\"../../../../core/typedArrayUtil.js\";import{i,k as a,w as o,c as n}from\"../../../../chunks/mat4.js\";import{c as l}from\"../../../../chunks/mat4f64.js\";import{l as c,o as h,c as d,C as m,a as p,s as u}from\"../../../../chunks/vec3.js\";import{g as y,O as f,Z as _,f as g,c as b}from\"../../../../chunks/vec3f64.js\";import{O as P,c as R}from\"../../../../chunks/vec4f64.js\";import{projectPointToVector as x,computeTranslationToOriginAndRotation as v}from\"../../../../geometry/projection.js\";import{create as L,size as C,containsPoint as S,center as E}from\"../../../../geometry/support/aaBoundingBox.js\";import{defaultPrimitive as j}from\"../../../../symbols/support/ObjectSymbol3DLayerResource.js\";import{objectSymbolLayerPrimitiveBoundingBox as w,objectSymbolLayerSizeWithResourceSize as T}from\"../../../../symbols/support/symbolLayerUtils3D.js\";import{perLodInstanceElevationAligner as U}from\"./ElevationAligners.js\";import{needsElevationUpdates3D as O,evaluateElevationInfoAtPoint as B,SampleElevationInfo as I}from\"./elevationAlignmentUtils.js\";import{ElevationContext as A}from\"./ElevationContext.js\";import G from\"./Graphics3DLodInstanceGraphicLayer.js\";import{Graphics3DSymbolLayer as D}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as F,mixinColorAndOpacity as z,computeObjectScale as M,computeObjectRotation as V}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as k}from\"./interfaces.js\";import{LoadStatus as H}from\"./Loadable.js\";import{makeLodResources as W}from\"./lodResourceUtils.js\";import{fetch as q}from\"./objectResourceUtils.js\";import{placePointOnGeometry as N,extendPointGraphicElevationContext as J}from\"./pointUtils.js\";import{isValidPrimitive as Y,primitiveLodResources as $}from\"./primitiveObjectSymbolUtils.js\";import{defaultSymbolLayerMemoryComplexity as Z}from\"./symbolComplexity.js\";import{getResourceUrlFromSymbolStyle as K}from\"./webStyleUtils.js\";import{initFastSymbolUpdatesState as Q,updateFastSymbolUpdatesState as X,ConvertOptions as ee,evaluateModelTransform as te,evaluateModelTransformScale as se}from\"../support/FastSymbolUpdates.js\";import{CullFaceOptions as re}from\"../../webgl-engine/lib/basicInterfaces.js\";import{VertexAttribute as ie}from\"../../webgl-engine/lib/VertexAttribute.js\";import{LodRenderer as ae}from\"../../webgl-engine/lib/lodRendering/LodRenderer.js\";import{materialsFromLodResources as oe,texturesFromLodResources as ne,geometriesFromLodResources as le,geometriesFromLodLevelResources as ce}from\"../../webgl-engine/lib/lodRendering/LodResources.js\";import{DefaultMaterial as he}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{defaultSchematicMRRFactors as de}from\"../../webgl-engine/materials/pbrUtils.js\";class me{constructor(e,t,s,r,i,a,o,n,l,c,h,d){this.lodResources=e,this.lodRenderer=t,this.stageResources=s,this.originalMaterialParameters=r,this.resourceSize=i,this.isEsriSymbolResource=a,this.isWosr=o,this.resourceBoundingBox=n,this.symbolSize=l,this.extentPadding=c,this.physicalBasedRenderingEnabled=h,this.pivotOffset=d}}class pe extends D{getCachedSize(){const[e,t,s]=null!=this._resources?this._resources.symbolSize:[1,1,1];return{width:e,depth:t,height:s}}constructor(e,t,s,r){super(e,t,s,r),this._resources=null,this._optionalFields=new Array,this._instanceIndexToGraphicUid=new Map,this._hasLoadedPBRTextures=!1,this._disposeResourceHandles=new Array,this.skipHighSymbolLodsChanged=!1,this.ensureDrapedStatus(!1),this._hasLoadedPBRTextures=s.physicalBasedRenderingEnabled}async doLoad(e){if(!this._drivenProperties.size){if(F(this.symbolLayer))throw new Error}if(this._isPrimitive){const t=this.symbolLayer.resource,s=t&&Y(t.primitive)?t.primitive:j;this._resources=await this._createResourcesForPrimitive(s,e)}else{const t=await K(this.symbol.styleOrigin),s=t?.href??this.symbolLayer.resource.href;this._resources=await this._createResourcesForUrl(s,e)}this.layerOpacityChanged(),this.slicePlaneEnabledChanged(),this.physicalBasedRenderingChanged(),this.complexity=this.computeComplexity()}get extentPadding(){return null!=this._resources?this._resources.extentPadding:0}get _isPrimitive(){return!this.symbolLayer.resource?.href}get lodRenderer(){return this._resources?.lodRenderer}_setMaterialTransparencyParams(e,t=this.symbolLayer?.material?.color){const s=this._getCombinedOpacity(t),r=s<1||this.needsDrivenTransparentPass;return e.transparent=r,e.opacity=s,e.cullFace=r?re.None:re.Back,e}async _createResourcesForPrimitive(t,r){const i=this.symbolLayer,a=L(w(t)),o=y(C(a)),n=y(T(o,i)),l=c(n),h=!1,d=!1,m={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,mrrFactors:[...de],ambient:f,diffuse:f,hasSlicePlane:this._context.slicePlaneEnabled,hasSliceHighlight:!1,castShadows:this.symbolLayer.castShadows,offsetTransparentBackfaces:!this.symbolLayer.isPrimitive},p=!!m.usePBR;this._setMaterialTransparencyParams(m);const u=this.symbol;if(\"point-3d\"===u.type&&u.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:r}=u.verticalOffset;m.verticalOffset={screenLength:s(e),minWorldLength:t||0,maxWorldLength:null!=r?r:1/0},m.castShadows=!1}if(this._context.screenSizePerspectiveEnabled&&(m.screenSizePerspective=this._context.sharedResources.screenSizePerspectiveSettings),this._drivenProperties.color)m.externalColor=P;else{const t=null!=i.material?i.material.color:null,s=null!=t?e.toUnitRGBA(t):P;m.externalColor=s}this._fastUpdates=Q(this._context.renderer,this._fastVisualVariableConvertOptions(a,n,o,null)),m.isInstanced=!0,this._fastUpdates?(Object.assign(m,this._fastUpdates.materialParameters),this._optionalFields.push(ie.FEATUREATTRIBUTE)):this._hasPerInstanceColor()&&(m.hasInstancedColor=!0,this._optionalFields.push(ie.COLOR)),has(\"enable-feature:objectAndLayerId-rendering\")&&this._optionalFields.push(ie.OBJECTANDLAYERIDCOLOR);const _=new he(m),g=$(t,_);if(!g)throw new Error(`Unknown object symbol primitive: ${t}`);const b=oe(g).map((e=>({opacity:1,transparent:e.parameters.transparent}))),R=await this._createStageResources(g,p,r),x=await this._createLodRenderer(g,r);return new me(g,x,R,b,o,h,d,a,n,l,p,null)}async _createResourcesForUrl(e,t){const r={materialParamsMixin:{isInstanced:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows},streamDataRequester:this._context.streamDataRequester,cache:this._context.sharedResources.objectResourceCache};this._fastUpdates=Q(this._context.renderer,this._fastVisualVariableConvertOptions(null,null,null,null)),this._fastUpdates?(Object.assign(r.materialParamsMixin,this._fastUpdates.materialParameters),this._optionalFields.push(ie.FEATUREATTRIBUTE)):this._hasPerInstanceColor()&&(r.materialParamsMixin.hasInstancedColor=!0,this._optionalFields.push(ie.COLOR)),has(\"enable-feature:objectAndLayerId-rendering\")&&this._optionalFields.push(ie.OBJECTANDLAYERIDCOLOR);const i=this.symbol;if(\"point-3d\"===i.type&&i.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:a}=i.verticalOffset;r.materialParamsMixin.verticalOffset={screenLength:s(e),minWorldLength:t||0,maxWorldLength:null!=a?a:1/0},r.materialParamsMixin.castShadows=!1}r.signal=t,r.usePBR=this._context.physicalBasedRenderingEnabled,r.skipHighLods=this._context.skipHighSymbolLods;const a=r.usePBR,o=await q(e,r),n=o.isEsriSymbolResource,l=o.isWosr,h=W(o.lods);h.levels.sort(((e,t)=>e.minScreenSpaceRadius-t.minScreenSpaceRadius));const d=this._context,m=this.symbolLayer.material,p=this._getExternalColorParameters(m),u=this.symbolLayer?.material?.color,f=this._getCombinedOpacity(u,{hasIntrinsicColor:!0}),_=this.needsDrivenTransparentPass,g=oe(h),b=oe(h).map((e=>({opacity:e.parameters.opacity||1,transparent:e.parameters.transparent})));g.forEach((e=>{const t=e.parameters;e.setParameters(p);const s=t.opacity*f,r=s<1||_||t.transparent;e.setParameters({opacity:s,transparent:r}),d.screenSizePerspectiveEnabled&&e.setParameters({screenSizePerspective:d.sharedResources.screenSizePerspectiveSettings})}));const P=o.referenceBoundingBox,R=y(C(P)),x=y(h.levels[0].pivotOffset),v=y(T(R,this.symbolLayer)),L=c(v),S=this._fastUpdates;X(S,this._context.renderer,this._fastVisualVariableConvertOptions(P,v,R,x))&&g.forEach((e=>e.setParameters(S.materialParameters)));const E=await this._createStageResources(h,a,t),j=await this._createLodRenderer(h,t);return new me(h,j,E,b,R,n,l,P,v,L,a,x)}_addDisposeResource(e){this._disposeResourceHandles.push(e)}async _createStageResources(e,s,r){const i=this._context.stage,a=oe(e);s!==this._context.physicalBasedRenderingEnabled&&this.physicalBasedRenderingChanged(),i.addMany(a),this._addDisposeResource((()=>i.removeMany(a)));const o=ne(e);i.addMany(o),this._addDisposeResource((()=>i.removeMany(o))),await i.load(o,r),t(r);const n=le(e);return i.addMany(n),this._addDisposeResource((()=>i.removeMany(n))),{materials:a,textures:o,geometries:n}}async _createLodRenderer(e,t){const s=this._context.stage,r={layerUid:this._context.layer.uid,graphicUid:e=>this._instanceIndexToGraphicUid.get(e),notifyGraphicGeometryChanged:e=>this._context.notifyGraphicGeometryChanged(this._instanceIndexToGraphicUid.get(e)),notifyGraphicVisibilityChanged:e=>this._context.notifyGraphicVisibilityChanged(this._instanceIndexToGraphicUid.get(e))},i=this._fastUpdates,a=i?{applyTransform:(e,t,s)=>{e.getFeatureAttribute(t,_e),n(s,te(i.materialParameters,_e,s))},scaleFactor:(e,t,s)=>{t.getFeatureAttribute(s,_e),se(e,i.materialParameters,_e)}}:null,o=new ae({symbol:e,optionalFields:this._optionalFields,metadata:r,shaderTransformation:a},this._context.scheduler);return o.slicePlaneEnabled=this._context.slicePlaneEnabled,this._addDisposeResource((()=>{s.removeRenderPlugin(o),o.destroy()})),await s.addRenderPlugin(o.slots,o,t),o}_getExternalColorParameters(t){const s={};return this._drivenProperties.color?s.externalColor=P:null!=t&&null!=t.color?s.externalColor=e.toUnitRGBA(t.color):(s.externalColor=P,s.colorMixMode=\"ignore\"),s}destroy(){super.destroy(),this._cleanupResources()}_cleanupResources(){this._disposeResourceHandles.forEach((e=>e())),this._disposeResourceHandles.length=0,this._resources=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;const s=N(t.geometry);if(null==s)return this.logger.warn(`unsupported geometry type for icon symbol: ${t.geometry.type}`),null;const r=this.setGraphicElevationContext(t,new A),i=e.renderingInfo;return this._createAs3DShape(t,s,i,r,t.uid,e.layer.uid)}notifyDestroyGraphicLayer(e){this._instanceIndexToGraphicUid.delete(e.instanceIndex)}graphicLayerToGraphicId(){return 0}layerOpacityChanged(){if(null==this._resources)return;const e=this._drivenProperties.opacity,t=!this._isPrimitive,s=this._resources.stageResources.materials,r=this._resources.originalMaterialParameters;for(let i=0;i<s.length;i++){const a=s[i],o=this.symbolLayer?.material?.color,n=r[i],l=this._getCombinedOpacity(o,{hasIntrinsicColor:t})*n.opacity,c=l<1||e||n.transparent;a.setParameters({opacity:l,transparent:c}),this._isPrimitive&&a.setParameters({cullFace:c?re.None:re.Back})}}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,O)}slicePlaneEnabledChanged(){if(null==this._resources)return!0;this._resources.lodRenderer.slicePlaneEnabled=this._context.slicePlaneEnabled;for(const e of this._resources.stageResources.materials)e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled});return!0}physicalBasedRenderingChanged(){if(null==this._resources)return!0;const{stageResources:e,isWosr:t}=this._resources;for(const s of e.materials)this._isPrimitive?s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}):t||s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!1});return!1!==this._hasLoadedPBRTextures||!0!==this._context.physicalBasedRenderingEnabled||(this._hasLoadedPBRTextures=!0,!1)}applyRendererDiff(e,t){if(null==this._resources)return k.RecreateSymbol;const{stageResources:{materials:s},lodRenderer:r,resourceBoundingBox:i,symbolSize:a,resourceSize:o,pivotOffset:n}=this._resources;for(const l in e.diff){if(\"visualVariables\"!==l)return k.RecreateSymbol;if(!X(this._fastUpdates,t,this._fastVisualVariableConvertOptions(i,a,o,n)))return k.RecreateSymbol;for(const e of s)e.setParameters(this._fastUpdates.materialParameters);r.notifyShaderTransformationChanged()}return k.FastUpdate}computeComplexity(){if(null==this._resources)return super.computeComplexity();const e=this._resources.lodResources,t=ce(e.levels[0]).reduce(((e,t)=>e+t.indices.get(ie.POSITION).length),0)/3,s=e=>Array.from(e.vertexAttributes.values()).reduce(((e,t)=>e+r(t.data)),0)+Array.from(e.indices.values()).reduce(((e,t)=>e+r(t)),0),i=ne(e).reduce(((e,t)=>e+(t.parameters.encoding&&\"image/ktx2\"===t.parameters.encoding?t.memoryEstimate:t.memoryEstimate/4)),0)+le(e).reduce(((e,t)=>e+s(t)),0);return{primitivesPerFeature:t,primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!1,memory:{...Z(this.symbol,this.symbolLayer),resourceBytes:i}}}_hasLodRenderer(){return null!=this._resources}_createAs3DShape(e,t,s,r,i,a){if(!this._hasLodRenderer()||null==this._resources)return null;const o=this.getFastUpdateAttrValues(e),n=this._context.clippingExtent;if(x(t,ue,this._context.elevationProvider.spatialReference),null!=n&&!S(n,ue))return null;const l=this._requiresTerrainElevation(r),c=this._computeGlobalTransform(t,r,fe,ge),h=this._computeLocalTransform(this._resources,this.symbolLayer,s,ye),d=this._resources.lodRenderer.instanceData,m=d.addInstance();this._instanceIndexToGraphicUid.set(m,i),d.setLocalTransform(m,h,!1),d.setGlobalTransform(m,c),o&&d.setFeatureAttribute(m,o),null==this._fastUpdates&&this._hasPerInstanceColor()&&d.setColor(m,z(s.color,s.opacity,255)),null!=this._context.stage.renderView.objectAndLayerIdRenderHelper&&d.setObjectAndLayerIdColor(m,this._context.stage.renderView.objectAndLayerIdRenderHelper.getObjectAndLayerIdColor({graphicUid:i,layerUid:a}));const p=new G(this,m,U,r);return l&&(p.alignedSampledElevation=ge.sampledElevation),p.needsElevationUpdates=O(r.mode),J(p,t,this._context.elevationProvider),p}_computeGlobalTransform(e,t,s,r){return B(e,this._context.elevationProvider,t,this._context.renderCoordsHelper,r),ue[0]=e.x,ue[1]=e.y,ue[2]=r.z,v(e.spatialReference,ue,s,this._context.renderCoordsHelper.spatialReference),s}_computeLocalTransform(e,t,s,r){return i(r),this._applyObjectRotation(s,!1,r),this._applyObjectRotation(t,!0,r),this._applyObjectScale(e,s,r),this._applyAnchor(e,t,r),r}_applyObjectScale(e,t,s){if(this._fastUpdates?.requiresShaderTransformation)return;const r=this._drivenProperties.size&&t.size?t.size:e.symbolSize,i=M(r,e.symbolSize,e.resourceSize,this._context.renderCoordsHelper.unitInMeters);1===i[0]&&1===i[1]&&1===i[2]||a(s,s,i)}prepareSymbolLayerPatch(e){if(\"partial\"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchTransform(e,t),this._preparePatchColor(e,t)}updateGeometry(e,t){if(null==this._resources)return!0;const s=t&&N(t);if(null==s)return!1;const r=this.getGeometryElevationMode(t);return e.elevationContext.mode===r&&(this._computeGlobalTransform(s,e.elevationContext,fe,ge),this._requiresTerrainElevation(e.elevationContext)&&(e.alignedSampledElevation=ge.sampledElevation),this._resources.lodRenderer.instanceData.setGlobalTransform(e.instanceIndex,fe,!0),J(e,s,this._context.elevationProvider),!0)}_preparePatchTransform(e,t){if(!(t.heading||t.tilt||t.roll||t.width||t.height||t.depth||t.anchor||t.anchorPosition))return;if(null==this._resources)return;const s=(e,t,s)=>(null!=e&&\"complete\"===e.type?e.newValue:t)??s,r=s(t.heading,this.symbolLayer.heading,0),i=s(t.tilt,this.symbolLayer.tilt,0),a=s(t.roll,this.symbolLayer.roll,0),o=s(t.width,this.symbolLayer.width,void 0),n=s(t.height,this.symbolLayer.height,void 0),l=s(t.depth,this.symbolLayer.depth,void 0),c=s(t.anchor,this.symbolLayer.anchor,void 0),h=s(t.anchorPosition,this.symbolLayer.anchorPosition,void 0);delete t.heading,delete t.tilt,delete t.roll,delete t.width,delete t.height,delete t.depth,delete t.anchor,delete t.anchorPosition;const d={heading:r,tilt:i,roll:a,anchor:c,anchorPosition:h},m=this._resources;this.loadStatus===H.LOADED&&e.symbolLayerStatePatches.push((()=>{m.symbolSize=y(T(m.resourceSize,{width:o,height:n,depth:l,isPrimitive:this.symbolLayer.isPrimitive}))})),e.graphics3DGraphicPatches.push(((e,t)=>{const s=this._computeLocalTransform(m,d,t,ye),r=e.instanceIndex;m.lodRenderer.instanceData.setLocalTransform(r,s,!0)}))}_preparePatchColor(t,s){if(!s.material||\"partial\"!==s.material.type)return;const r=s.material.diff;if(!r.color||\"complete\"!==r.color.type||null==r.color.newValue||null==r.color.oldValue)return;const i=r.color.newValue,a=null!=i?e.toUnitRGBA(i):P;delete r.color;const o=this._resources;null!=o&&t.graphics3DGraphicPatches.push((e=>{let t;this._hasPerInstanceColor()?(o.lodRenderer.instanceData.setColor(e.instanceIndex,a),t=this._setMaterialTransparencyParams({},i)):t=this._setMaterialTransparencyParams({externalColor:a},i);for(const s of o.stageResources.materials)s.setParameters(t)}))}_requiresTerrainElevation(e){return\"absolute-height\"!==e.mode}_applyObjectRotation(e,t,s){if(!this._fastUpdates?.requiresShaderTransformation||!t)return V(e.heading,e.tilt,e.roll,s)}_computeAnchor(e,t,s){const r=b();switch(s.anchor){case\"center\":d(r,E(e)),h(r,r);break;case\"top\":{const t=E(e);u(r,-t[0],-t[1],-e[5]);break}case\"bottom\":{const t=E(e);u(r,-t[0],-t[1],-e[2]);break}case\"relative\":{const t=E(e),i=C(e),a=s.anchorPosition,o=a?g(a.x,a.y,a.z):_;m(r,i,o),p(r,r,t),h(r,r);break}default:null!=t?h(r,t):d(r,_)}return r}_applyAnchor(e,t,s){if(this._fastUpdates?.requiresShaderTransformation)return;const r=this._computeAnchor(e.resourceBoundingBox,e.pivotOffset,t);r&&o(s,s,r)}_hasPerInstanceColor(){return this._drivenProperties.color||this._drivenProperties.opacity}_fastVisualVariableConvertOptions(e,t,s,r){const i=null!=e?y(C(e)):f,a=null!=e?this._computeAnchor(e,r,this.symbolLayer):_,o=this._context.renderCoordsHelper.unitInMeters,n=M(null!=t?t:void 0,t,s,o),l=g(this.symbolLayer.tilt||0,this.symbolLayer.roll||0,this.symbolLayer.heading||0);return new ee({size:!0,color:!0,rotation:!0,opacity:!1},i,t??f,o,a,n,l)}}const ue=b(),ye=l(),fe=l(),_e=R(),ge=new I;export{pe as Graphics3DObjectSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{l as t,n as i,c as s}from\"../../../../chunks/vec3.js\";import{f as o}from\"../../../../chunks/vec3f64.js\";import{newFloatArray as h}from\"../../../../geometry/support/FloatArray.js\";class e{constructor(t,i,s,e){this.vertices=t,this.positionsES=i,this.offset=e;const n=t.length,r=Math.floor(n/2),v=this.offset+3*r,g=s[v],f=s[v+1],c=s[v+2];this.origin=o(g,f,c),this.positions=h(3*n);const a=this.offset+3*n;for(let o=this.offset;o<a;o+=3)this.positions[o]=s[o]-g,this.positions[o+1]=s[o+1]-f,this.positions[o+2]=s[o+2]-c;this.updatePathVertexInformation()}updatePathVertexInformation(){const o=this.vertices.length,h=this.vertices[0];let e=this.offset;const n=this.positions;h.vRight[0]=n[e+3]-n[e],h.vRight[1]=n[e+4]-n[e+1],h.vRight[2]=n[e+5]-n[e+2],e+=3;let r=t(h.vRight);h.vMinSiblingLength=r,i(h.vRight,h.vRight);let v=h;for(let g=1;g<o;++g){const h=this.vertices[g];if(h.vLeft=v.vRight,g<o-1){h.vRight[0]=n[e+3]-n[e],h.vRight[1]=n[e+4]-n[e+1],h.vRight[2]=n[e+5]-n[e+2];const s=t(h.vRight);h.vMinSiblingLength=Math.min(r,s),r=s,i(h.vRight,h.vRight)}else s(h.vRight,h.vLeft),h.vMinSiblingLength=r;v=h,e+=3}}}export{e as Path};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{newFloatArray as t,floatSubArray as e}from\"../../../../geometry/support/FloatArray.js\";import{newIntArray as i,compactIndices as s}from\"../../../../geometry/support/Indices.js\";class r{constructor(s,r,h,o,p,n={}){this.path=s,this.profile=r,this.extruder=h,this.startCap=o,this.endCap=p,this.options=n,this._extrusionVertexCount=0;const l=this.path.vertices.length-2;this.numExtrusionProfiles=h.numProfilesPerJoin()*l+2,this.numVerticesTotal=r.vertices.length*this.numExtrusionProfiles,this.startCap.vertexBufferStart=this.numVerticesTotal;const a=this.startCap.numVertices;this.numVerticesTotal+=a,this.endCap.vertexBufferStart=this.numVerticesTotal;const u=this.endCap.numVertices;this.numVerticesTotal+=u,this.pathVertexData=i(1*this.numVerticesTotal),this.profileRightAxes=t(4*this.numVerticesTotal),this.profileUpAxes=t(4*this.numVerticesTotal),this.profileVertexAndNormals=t(4*this.numVerticesTotal),this.positions=e(s.positions,s.offset,3*s.vertices.length),this._rebuildGeometry(),this.buildTopology()}emitVertex(t,e,i,s,r){const h=4*this._extrusionVertexCount;if(this.profileRightAxes[h]=e.right[0],this.profileRightAxes[h+1]=e.right[1],this.profileRightAxes[h+2]=e.right[2],this.profileUpAxes[h]=e.up[0],this.profileUpAxes[h+1]=e.up[1],this.profileUpAxes[h+2]=e.up[2],this.profileVertexAndNormals[h]=i[0],this.profileVertexAndNormals[h+1]=i[1],this.profileVertexAndNormals[h+2]=s[0],this.profileVertexAndNormals[h+3]=s[1],this.pathVertexData[this._extrusionVertexCount]=t,r){const e=this.path.vertices[t],i=e.maxStretchDistance;this.profileRightAxes[h+3]=e.rotationRight[0]*i,this.profileUpAxes[h+3]=e.rotationRight[1]*i}else this.profileRightAxes[h+3]=0,this.profileUpAxes[h+3]=0;++this._extrusionVertexCount}emitCapVertex(t,e,i,s,r,h){const o=4*this._extrusionVertexCount;this.profileRightAxes[o]=e.right[0],this.profileRightAxes[o+1]=e.right[1],this.profileRightAxes[o+2]=e.right[2],this.profileRightAxes[o+3]=r,this.profileUpAxes[o]=e.up[0],this.profileUpAxes[o+1]=e.up[1],this.profileUpAxes[o+2]=e.up[2],this.profileUpAxes[o+3]=h,this.profileVertexAndNormals[o]=i[0],this.profileVertexAndNormals[o+1]=i[1],this.profileVertexAndNormals[o+2]=s[0],this.profileVertexAndNormals[o+3]=s[1],this.pathVertexData[this._extrusionVertexCount]=t,++this._extrusionVertexCount}_rebuildGeometry(){this._extrusionVertexCount=0;const{positions:t,offset:i,vertices:s}=this.path;this.positions=e(t,i,3*s.length);let r=0;const h=(t,e,i,s,h)=>this.emitCapVertex(r,t,e,i,s,h),o=(t,e,i,s)=>this.emitVertex(r,t,e,i,s);for(this.startCap.rebuildConnectingProfileGeometry(s[r],this.profile,h),r=1;r<s.length-1;++r)this.extruder.extrude(s[r],this.profile,o);this.endCap.rebuildConnectingProfileGeometry(s[r],this.profile,h),r=0,this.startCap.rebuildCapGeometry(s[r],h),r=s.length-1,this.endCap.rebuildCapGeometry(s[r],h)}buildTopology(){const t=this.profile.vertices.length,e=this.profile.numSegments,i=this.numExtrusionProfiles-1;let r=3*(2*(e*i));this.startCap.indexBufferStart=r,this.startCap.firstProfileVertexIndex=0,r+=this.startCap.numIndices,this.endCap.indexBufferStart=r,this.endCap.firstProfileVertexIndex=t*(this.numExtrusionProfiles-1);const h=new Array,o=new Array,p=new Array,n=(t,e,i)=>{h.push(t),h.push(e),h.push(i),o.push(t),o.push(e),o.push(i),p.push(this.pathVertexData[t]),p.push(this.pathVertexData[e]),p.push(this.pathVertexData[i])};for(let s=0;s<e;++s){const e=this.profile.indices[2*s],r=this.profile.indices[2*s+1];for(let s=0;s<i;++s){const i=s*t+e,h=(s+1)*t+r,o=s*t+r;n(i,(s+1)*t+e,h),n(i,h,o)}}this.startCap.buildTopology(this.path.vertices[0],n),this.endCap.buildTopology(this.path.vertices[this.path.vertices.length-1],n),this.vertexIndices=s(h),this.normalIndices=s(o),this.pathVertexIndices=s(p)}onPathChanged(){this._rebuildGeometry()}}export{r as PathBuilder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{s as e,c as t,a as s,i,e as r}from\"../../../../chunks/vec2.js\";import{a as n}from\"../../../../chunks/vec2f64.js\";class o{rebuildConnectingProfileGeometry(e,t,s){for(let i=0;i<t.vertices.length;++i)s(e.frame,t.vertices[i],t.normals[i],0,0)}}class l extends o{constructor(){super(),this.numVertices=0,this.numIndices=0}rebuildCapGeometry(){}buildTopology(){}}class h extends o{constructor(e,t=0,s=!1){super(),this.profile=e,this.profilePlaneOffset=t,this.flip=s}get numVertices(){return this.profile.vertices.length}get numIndices(){return 3*this.profile.numSegments}rebuildConnectingProfileGeometry(e,t,s){const i=this.profilePlaneOffset;for(let r=0;r<t.vertices.length;++r)s(e.frame,t.vertices[r],t.normals[r],i,0)}rebuildCapGeometry(t,s){const i=this.profile,r=this.flip?1:-1,n=this.profilePlaneOffset,o=m;e(o,0,0);for(let e=0;e<i.vertices.length;++e)s(t.frame,i.vertices[e],o,n,r)}buildTopology(e,t){const s=this.profile,i=this.vertexBufferStart+s.indices[0];for(let r=1;r<s.numSegments;++r){const e=s.indices[2*r],n=s.indices[2*r+1],o=this.vertexBufferStart+e,l=this.vertexBufferStart+n;this.flip?t(l,o,i):t(i,o,l)}}}class f extends o{constructor(e){super(),this.flip=!1,this.sign=0,this.breakNormals=!1,this.numSegments=3,this.profile=e.profile,this.flip=e.flip,this.sign=this.flip?1:-1,this.breakNormals=e.breakNormals,this.numSegments=e.subdivisions}get numVertices(){let e=this.profile.vertices.length*(this.numSegments-1)+this.profile.poles.length;return this.breakNormals&&(e+=this.profile.vertices.length),e}get numIndices(){let e=0;const t=this.profile;e+=2*t.numSegments*(this.numSegments-1);for(let s=0;s<t.numSegments;++s){const i=t.indices[2*s],r=t.indices[2*s+1];t.poleIndices[i]===t.poleIndices[r]?e+=1:e+=2}return 3*e}rebuildCapGeometry(n,o){const l=this.profile,h=n.frame,f=.5*this.sign,a=c,p=m;e(p,0,0);for(const e of l.poles)e.normal?o(h,e.position,e.normal,f,0):o(h,e.position,p,f,this.sign);if(this.breakNormals)for(let e=0;e<l.vertices.length;++e)o(h,l.vertices[e],l.normals[e],0,0);for(let e=0;e<this.numSegments-1;++e){const n=(1-(e+1)/this.numSegments)*Math.PI*.5,c=Math.sin(n),m=Math.cos(n);for(let e=0;e<l.vertices.length;++e){const n=l.poles[l.poleIndices[e]];t(a,l.vertices[e],n.position),s(a,a,c),n.normal?(i(a,a,n.position),o(h,a,n.normal,f*m,0)):(r(p,a),s(p,p,c),i(a,a,n.position),o(h,a,p,f*m,this.sign*m))}}}buildTopology(e,t){const s=this.profile,i=this.breakNormals?this.vertexBufferStart+s.poles.length:this.firstProfileVertexIndex,r=this.breakNormals?this.vertexBufferStart+s.poles.length+s.vertices.length:this.vertexBufferStart+s.poles.length;for(let n=0;n<s.numSegments;++n){const e=s.indices[2*n],o=s.indices[2*n+1],l=this.vertexBufferStart+s.poleIndices[e],h=this.vertexBufferStart+s.poleIndices[o];let f=i+e,c=i+o;for(let i=0;i<this.numSegments-1;++i){const n=r+i*s.vertices.length+e,l=r+i*s.vertices.length+o;this.flip?(t(n,c,f),t(c,n,l)):(t(f,c,n),t(l,n,c)),f=n,c=l}this.flip?(t(l,c,f),l!==h&&t(l,h,c)):(t(f,c,l),l!==h&&t(c,h,l))}}}const c=n(),m=n();export{l as NoCapBuilder,o as PathCapBuilder,f as RoundCapBuilder,h as TriangulationCapBuilder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{d as s}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{g as e}from\"../../../../chunks/vec2.js\";import{a as r}from\"../../../../chunks/vec2f64.js\";import{m as i}from\"../../../../chunks/vec3.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";class o{}class c{numProfilesPerJoin(){return 1}extrude(s,t,e){for(let r=0;r<t.vertices.length;++r)e(s.frame,t.vertices[r],t.normals[r],!1)}}class u{constructor(s,t){this.cutoffAngle=s,this.numBendSubdivisions=t}numProfilesPerJoin(){return this.numBendSubdivisions+1}extrude(t,r,i){const n=l,{rotationAngle:o,rotationRight:c,frame:u}=t;if(Math.abs(o)>=this.cutoffAngle){const m=t.rotationFrameUp;for(let l=0;l<this.numBendSubdivisions+1;++l){s(h,.5*-o+l*o/this.numBendSubdivisions,m),a(n,u,h);for(let s=0;s<r.vertices.length;++s){if(e(r.vertices[s],c)*o>=0)i(n,r.vertices[s],r.normals[s],!1);else{i(u,t.applyMiterStretch(f,r.vertices[s]),r.normals[s],!0)}}}}else for(let s=0;s<this.numBendSubdivisions+1;++s)for(let n=0;n<r.vertices.length;++n){const s=e(r.vertices[n],c)*o>=0;i(u,t.applyMiterStretch(f,r.vertices[n]),r.normals[n],!s)}}}class m{constructor(){this.up=n(),this.right=n()}}function a(s,t,e){i(s.up,t.up,e),i(s.right,t.right,e)}const f=r(),h=t(),l=new m;export{m as Frame2D,u as MiterExtruder,o as PathExtruder,c as SimpleExtruder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ContentObjectType as t}from\"./ContentObjectType.js\";import{Geometry as r}from\"./Geometry.js\";class e extends r{constructor(r,e,o,n,s,i,h){super(r,e,o,null,t.Mesh,h),this.path=n,this.geometrySR=s,this.stencilWidth=i}}var o;function n(t){return\"path\"in t}!function(t){t[t.World=0]=\"World\",t[t.Path=1]=\"Path\"}(o||(o={}));export{e as PathGeometry,o as UpVectorAlignment,n as isPathGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{s as t,h as e,e as i,g as s,a as r,i as o}from\"../../../../chunks/vec2.js\";import{a as n}from\"../../../../chunks/vec2f64.js\";import{s as a,f as h}from\"../../../../chunks/vec3.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{f as u}from\"../../../../chunks/vec4f64.js\";import{newFloatArray as c}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as b}from\"../../../../geometry/support/Indices.js\";import{Attribute as d}from\"./Attribute.js\";import{compressNormal as v}from\"./Normals.js\";import{VertexAttribute as A}from\"./VertexAttribute.js\";import{intersectTriangles as p}from\"../materials/internal/MaterialUtil.js\";class m{constructor(t){this.builder=t}onPathChanged(t){this.builder.onPathChanged()}}class x extends m{constructor(t){super(t),this.vertexAttributeColor=u(255,255,255,255),this.size=new Array,this.vertexAttributePosition=c(3*this.builder.numVerticesTotal),this.vertexAttributeNormal=new Int16Array(2*this.builder.numVerticesTotal)}bakeVertexColors(t){this.vertexAttributeColor[0]=255*t[0],this.vertexAttributeColor[1]=255*t[1],this.vertexAttributeColor[2]=255*t[2],this.vertexAttributeColor[3]=255*(t.length>3?t[3]:1)}bake(n){this.size=n;const{numVerticesTotal:l,pathVertexData:u,path:c,positions:b,profileRightAxes:d,profileUpAxes:A,profileVertexAndNormals:p}=this.builder;for(let m=0;m<l;++m){let l=u[m];const x=0===l||l===c.vertices.length-1;l*=3;const I=E;let P=0,V=0;const w=4*m,D=a(C,d[w],d[w+1],d[w+2]),L=a(N,A[w],A[w+1],A[w+2]),T=t(f,p[w]*n[0],p[w+1]*n[1]);if(x)h(I,L,D),P=d[w+3]*n[0],V=A[w+3];else{const n=O,h=R;t(n,d[w+3],A[w+3]);const l=e(n);i(n,n);const u=s(T,n);if(Math.abs(u)>l){t(h,-n[1],n[0]);const e=s(T,h);r(n,n,l*Math.sign(u)),r(h,h,e),o(T,n,h)}a(I,0,0,0)}const j=a(g,D[0]*T[0]+L[0]*T[1],D[1]*T[0]+L[1]*T[1],D[2]*T[0]+L[2]*T[1]),M=3*m;this.vertexAttributePosition[M]=b[l]+j[0]+I[0]*P,this.vertexAttributePosition[M+1]=b[l+1]+j[1]+I[1]*P,this.vertexAttributePosition[M+2]=b[l+2]+j[2]+I[2]*P;const k=t(f,p[w+2],p[w+3]);v(this.vertexAttributeNormal,m,D[0]*k[0]+L[0]*k[1]+I[0]*V,D[1]*k[0]+L[1]*k[1]+I[1]*V,D[2]*k[0]+L[2]*k[1]+I[2]*V)}}createGeometryData(){const t=this.builder.vertexIndices.length;return new P([[A.POSITION,new d(this.vertexAttributePosition,3,!0)],[A.NORMALCOMPRESSED,new d(this.vertexAttributeNormal,2,!0)],[A.COLOR,new d(this.vertexAttributeColor,4)]],[[A.POSITION,this.builder.vertexIndices],[A.NORMALCOMPRESSED,this.builder.normalIndices],[A.COLOR,b(t)]])}onPathChanged(t){super.onPathChanged(t),this.bake(this.size)}intersect(t,e,i){const s=this.builder.vertexIndices,r=new d(this.vertexAttributePosition,3),o=s.length/3;p(t,e,0,o,s,r,void 0,void 0,i)}}class I extends m{constructor(t,e,i,s){super(t),this.sizeAttributeValue=e,this.colorAttributeValue=i,this.opacityAttributeValue=s,this.vvData=null,this.baked=new x(t),this.vvData=c(4*this.builder.path.vertices.length);for(let r=0;r<this.builder.path.vertices.length;++r){this.vvData[4*r]=e,this.vvData[4*r+1]=i,this.vvData[4*r+2]=s;const t=0===r||r===this.builder.path.vertices.length-1;this.vvData[4*r+3]=t?1:0}}createGeometryData(){return new P([[A.POSITION,new d(this.builder.positions,3,!0)],[A.PROFILERIGHT,new d(this.builder.profileRightAxes,4,!0)],[A.PROFILEUP,new d(this.builder.profileUpAxes,4,!0)],[A.PROFILEVERTEXANDNORMAL,new d(this.builder.profileVertexAndNormals,4,!0)],[A.FEATUREVALUE,new d(this.vvData,4,!0)]],[[A.POSITION,this.builder.pathVertexIndices],[A.PROFILERIGHT,this.builder.vertexIndices],[A.PROFILEUP,this.builder.vertexIndices],[A.PROFILEVERTEXANDNORMAL,this.builder.vertexIndices],[A.FEATUREVALUE,this.builder.pathVertexIndices]])}onPathChanged(t){super.onPathChanged(t);const e=t.getMutableAttribute(A.POSITION);e&&(e.data=this.builder.positions)}}class P{constructor(t,e){this.vertexAttributes=t,this.indices=e}}const f=n(),O=n(),R=n(),g=l(),E=l(),C=l(),N=l();export{I as FastUpdatePathGeometry,m as PathGeometryData,x as StaticPathGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{s as t}from\"../../../../chunks/vec2.js\";import{e as r,c as e,s,a as o,l as i,n as f,f as m}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{create as a,fromPositionAndNormal as u,intersectRay as c}from\"../../../../geometry/support/plane.js\";import{wrap as n}from\"../../../../geometry/support/ray.js\";import{makeOrthoBasisDirUpFallback as h}from\"./GeometryUtil.js\";function g(t,r,e){t[0]=e[0]*r.right[0]+e[1]*r.up[0],t[1]=e[0]*r.right[1]+e[1]*r.up[1],t[2]=e[0]*r.right[2]+e[1]*r.up[2]}function v(e,s,o){t(e,r(o,s.right),r(o,s.up))}function l(t,r){let g=null;const v=t.vertices.length,l=.99619469809,R=p(),y=p(),k=p(),L=p(),q=p(),x=p(),G=a();let M=t.vertices[0];e(y,r),s(R,0,1,0),h(M.vRight,y,R,R,k,y,l),e(M.frame.up,y),e(M.frame.right,k);const U=t.positions;let b=t.offset;g=M;for(let p=1;p<v;++p){M=t.vertices[p],o(q,M.vLeft,M.vRight);let r=i(q);r>0?(r=1/Math.sqrt(r),q[0]=q[0]*r,q[1]=q[1]*r,q[2]=q[2]*r):(q[0]=M.vRight[0],q[1]=M.vRight[1],q[2]=M.vRight[2]),x[0]=U[b]+g.frame.up[0],x[1]=U[b+1]+g.frame.up[1],x[2]=U[b+2]+g.frame.up[2],b+=3;const a=s(j,U[b],U[b+1],U[b+2]);u(a,q,G);c(G,n(x,M.vLeft),L)?(L[0]-=U[b],L[1]-=U[b+1],L[2]-=U[b+2],f(y,L),m(k,q,y),f(k,k)):h(q,g.frame.up,g.frame.right,R,k,y,l),e(M.frame.up,y),e(M.frame.right,k),g=M}}const j=p();export{l as computeMinimumRotationTangentFrame,g as profileSpaceToVertexSpace,v as vertexSpaceToProfileSpace};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as t,d as e}from\"../../../../chunks/vec2f64.js\";import{PATH_NUM_CIRCLE_PROFILE_SUBDIVISIONS as s}from\"../../layers/graphics/Graphics3DPathSymbolLayerConstants.js\";class n{constructor(){this.vertices=new Array,this.normals=new Array,this.indices=new Array,this.poles=new Array,this.poleIndices=new Array}addVertex(t,s){return this.vertices.push(e(t)),this.normals.push(e(s)),this.vertices.length-1}addPole(t,s=null){return this.poles.push({position:e(t),normal:s?e(s):null}),this.poles.length-1}addSegment(t,e=null){this.indices.push(t.v0),this.indices.push(t.v1),e&&(this.poleIndices.push(e.v0),this.poleIndices.push(e.v1))}get numSegments(){return this.indices.length/2}translate(t,e){for(const s of this.vertices)s[0]+=t,s[1]+=e;for(const s of this.poles)s.position[0]+=t,s.position[1]+=e}}const o={top:[0,-.5],bottom:[0,.5]};function r(e){const r=.5,d=s,a=new n,i={v0:0,v1:0};a.addPole(t(0,0));for(let s=0;s<d;++s){const e=2*s*Math.PI/d,n=Math.cos(e),o=Math.sin(e),i=t(n*r,o*r),c=t(n,o);a.addVertex(i,c)}for(let t=0;t<d-1;++t){const e={v0:t,v1:t+1};a.addSegment(e,i)}const c={v0:d-1,v1:0};if(a.addSegment(c,i),\"center\"!==e){const t=o[e];a.translate(t[0],t[1])}return a}const d={center:r(\"center\"),top:r(\"top\"),bottom:r(\"bottom\")},a={center:i(\"center\"),top:i(\"top\"),bottom:i(\"bottom\")};function i(e){const s=1,r=1,d=new n,a=t(.5*-s,.5*-r),i=t(.5*s,.5*-r),c=t(.5*s,.5*r),h=t(.5*-s,.5*r),l=t(0,-1),v=t(1,0),p=t(0,1),m=t(-1,0);if(d.addPole(t(0,.5*r),p),d.addPole(t(0,.5*r)),d.addPole(t(0,.5*-r)),d.addPole(t(0,.5*-r),l),d.addVertex(a,l),d.addVertex(i,l),d.addSegment({v0:0,v1:1},{v0:3,v1:3}),d.addVertex(i,v),d.addVertex(c,v),d.addSegment({v0:2,v1:3},{v0:2,v1:1}),d.addVertex(c,p),d.addVertex(h,p),d.addSegment({v0:4,v1:5},{v0:0,v1:0}),d.addVertex(h,m),d.addVertex(a,m),d.addSegment({v0:6,v1:7},{v0:1,v1:2}),\"center\"!==e){const t=o[e];d.translate(t[0],t[1])}return d}export{n as PathProfile,d as circleProfiles,a as quadProfiles};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{g as t}from\"./common.js\";function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function r(t,n,a,r,s){return t[0]=n,t[1]=a,t[2]=r,t[3]=s,t}function s(t,n){if(t===n){const a=n[1];t[1]=n[2],t[2]=a}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function u(t,n){const a=n[0],r=n[1],s=n[2],u=n[3];let o=a*u-s*r;return o?(o=1/o,t[0]=u*o,t[1]=-r*o,t[2]=-s*o,t[3]=a*o,t):null}function o(t,n){const a=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=a,t}function e(t){return t[0]*t[3]-t[2]*t[1]}function c(t,n,a){const r=n[0],s=n[1],u=n[2],o=n[3],e=a[0],c=a[1],i=a[2],f=a[3];return t[0]=r*e+u*c,t[1]=s*e+o*c,t[2]=r*i+u*f,t[3]=s*i+o*f,t}function i(t,n,a){const r=n[0],s=n[1],u=n[2],o=n[3],e=Math.sin(a),c=Math.cos(a);return t[0]=r*c+u*e,t[1]=s*c+o*e,t[2]=r*-e+u*c,t[3]=s*-e+o*c,t}function f(t,n,a){const r=n[0],s=n[1],u=n[2],o=n[3],e=a[0],c=a[1];return t[0]=r*e,t[1]=s*e,t[2]=u*c,t[3]=o*c,t}function l(t,n){const a=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=a,t[2]=-a,t[3]=r,t}function h(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function M(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function b(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2)}function m(t,n,a,r){return t[2]=r[2]/r[0],a[0]=r[0],a[1]=r[1],a[3]=r[3]-t[2]*a[1],[t,n,a]}function d(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function p(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function y(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function x(n,a){const r=n[0],s=n[1],u=n[2],o=n[3],e=a[0],c=a[1],i=a[2],f=a[3],l=t();return Math.abs(r-e)<=l*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(s-c)<=l*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(u-i)<=l*Math.max(1,Math.abs(u),Math.abs(i))&&Math.abs(o-f)<=l*Math.max(1,Math.abs(o),Math.abs(f))}function g(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function j(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t}const S=c,q=p,_=Object.freeze(Object.defineProperty({__proto__:null,LDU:m,add:d,adjoint:o,copy:n,determinant:e,equals:x,exactEquals:y,frob:b,fromRotation:l,fromScaling:h,identity:a,invert:u,mul:S,multiply:c,multiplyScalar:g,multiplyScalarAndAdd:j,rotate:i,scale:f,set:r,str:M,sub:q,subtract:p,transpose:s},Symbol.toStringTag,{value:\"Module\"}));export{m as L,u as a,o as b,n as c,e as d,c as e,f,l as g,h,a as i,M as j,b as k,d as l,_ as m,p as n,y as o,x as p,g as q,i as r,r as s,s as t,j as u,S as v,q as w};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function t(e,r,t,n){return[e,r,t,n]}function n(e,r){return new Float64Array(e,r,4)}const o=Object.freeze(Object.defineProperty({__proto__:null,clone:r,create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:\"Module\"}));export{r as a,n as b,e as c,t as f,o as m};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{acosClamped as t,reciprocalClamped as s}from\"../../../../core/mathUtils.js\";import{s as i}from\"../../../../chunks/mat2.js\";import{c as r}from\"../../../../chunks/mat2f64.js\";import{s as h,v as e}from\"../../../../chunks/vec2.js\";import{U as a,a as n}from\"../../../../chunks/vec2f64.js\";import{c as o,a as g,n as m,g as f,e as c,b as u,f as p,o as v}from\"../../../../chunks/vec3.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{Frame2D as M}from\"./PathExtruder.js\";import{UpVectorAlignment as R}from\"./PathGeometry.js\";class L{constructor(){this.vLeft=l(),this.vRight=l(),this.vMinSiblingLength=0,this.frame=new M}setFrameFromUpVector(t){o(this.frame.up,t),g(I,this.vLeft,this.vRight),m(I,I),f(y,this.frame.up,c(I,this.frame.up)),u(D,I,y),m(D,D),p(this.frame.right,D,this.frame.up)}get foldingAngle(){return Math.PI-this.rotationAngle}}class j extends L{get rotationFrameUp(){return this.frame.up}get rotationRight(){return a}get rotationAngle(){f(P,this.frame.up,c(this.frame.up,this.vLeft)),u(P,this.vLeft,P),v(P,P),m(P,P),f(w,this.frame.up,c(this.frame.up,this.vRight)),u(w,this.vRight,w),m(w,w),p(F,this.rotationFrameUp,this.vLeft);return Math.sign(c(F,this.vRight))*(Math.PI-t(c(P,w)))}get maxStretchDistance(){return Math.abs(this.vMinSiblingLength/Math.cos(.5*this.foldingAngle))}applyMiterStretch(t,i){const r=this.rotationAngle;if(Math.abs(r)<=0)return i;const e=s(Math.cos(.5*r));return h(t,(e-1+1)*i[0],i[1])}}class b extends L{get rotationFrameUp(){const t=Math.sign(c(this.frame.right,this.vRight));return p(S,this.vRight,this.vLeft),f(S,S,t),m(S,S)}get rotationRight(){const t=this.rotationFrameUp,s=c(t,this.frame.up),i=c(t,this.frame.right);return f(k,this.frame.up,-i),f(x,this.frame.right,s),g(k,k,x),m(k,k),A(U,this.frame,k),U}get rotationAngle(){const s=Math.sign(c(this.frame.right,this.vRight));return v(F,this.vLeft),-s*(Math.PI-t(c(F,this.vRight)))}get maxStretchDistance(){return Math.abs(this.vMinSiblingLength*s(Math.cos(.5*this.foldingAngle)))}applyMiterStretch(t,r){const h=this.rotationAngle;if(0===Math.abs(h))return r;const a=s(Math.cos(.5*h)),n=this.rotationRight,o=i(E,1+(a-1)*n[0]*n[0],(a-1)*n[0]*n[1],(a-1)*n[0]*n[1],1+(a-1)*n[1]*n[1]);return e(t,r,o)}}function A(t,s,i){h(t,c(i,s.right),c(i,s.up))}function d(t){switch(t){case R.World:return new j;case R.Path:return new b}}const S=l(),U=n(),k=l(),x=l(),F=l(),P=l(),w=l(),y=l(),I=l(),D=l(),E=r();export{L as PathVertex,d as newPathVertex};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{f as o,c as t}from\"../../../../chunks/vec3f64.js\";import{ViewingMode as i}from\"../../../ViewingMode.js\";import{ShaderOutput as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{PathVertexPositionPassParameters as s}from\"../core/shaderLibrary/attributes/PathVertexPosition.glsl.js\";import{NormalsDoubleSidedMode as n}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as a}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{ReloadableShaderModule as l}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as p}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as c}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{blendingDefault as u,oitBlending as d,oitDepthTest as h,OITPolygonOffset as m}from\"../lib/OrderIndependentTransparency.js\";import{Program as v}from\"../lib/Program.js\";import{stencilWriteMaskOn as y,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as b}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as g}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as O}from\"./DefaultTechniqueConfiguration.js\";import{P}from\"../../../../chunks/Path.glsl.js\";import{makePipelineState as T,frontFaceCullingParams as j,defaultDepthWriteParams as S,defaultColorWriteParams as R}from\"../../../webgl/renderState.js\";const N=new Map([[g.POSITION,0],[g.PROFILERIGHT,1],[g.PROFILEUP,2],[g.PROFILEVERTEXANDNORMAL,3],[g.FEATUREVALUE,4]]);class C extends s{constructor(){super(...arguments),this.ambient=o(.2,.2,.2),this.diffuse=o(.8,.8,.8),this.specular=o(0,0,0),this.opacity=1,this.origin=t(),this.modelTransformation=null}}class E extends p{initializeConfiguration(e,o){o.spherical=e.viewingMode===i.Global,o.doublePrecisionRequiresObfuscation=e.rctx.driverTest.doublePrecisionRequiresObfuscation.result}initializeProgram(e){return new v(e.rctx,E.shader.get().build(this.configuration),N)}initializePipeline(){const e=this.configuration.transparencyPassType,o=this.configuration,t=e===b.NONE,i=e===b.FrontFace;return T({blending:o.output!==r.Color&&o.output!==r.Alpha||!o.transparent?null:t?u:d(e),culling:o.hasSlicePlane&&!o.transparent&&o.doubleSidedMode!==n.None?j:null,depthTest:{func:h(e)},depthWrite:t||i?S:null,colorWrite:R,stencilWrite:o.hasOccludees?y:null,stencilTest:o.hasOccludees?f:null,polygonOffset:t||i?null:m})}}E.shader=new l(P,(()=>import(\"../shaders/Path.glsl.js\")));class M extends O{constructor(){super(...arguments),this.output=r.Color,this.doubleSidedMode=n.None,this.transparencyPassType=b.NONE,this.spherical=!1,this.receiveShadows=!1,this.receiveAmbientOcclusion=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.hasSlicePlane=!1,this.transparent=!1,this.hasOccludees=!1,this.hasMultipassTerrain=!1,this.cullAboveGround=!1,this.doublePrecisionRequiresObfuscation=!1}}e([c({count:r.COUNT})],M.prototype,\"output\",void 0),e([c({count:n.COUNT})],M.prototype,\"doubleSidedMode\",void 0),e([c({count:b.COUNT})],M.prototype,\"transparencyPassType\",void 0),e([c()],M.prototype,\"spherical\",void 0),e([c()],M.prototype,\"receiveShadows\",void 0),e([c()],M.prototype,\"receiveAmbientOcclusion\",void 0),e([c()],M.prototype,\"vvSize\",void 0),e([c()],M.prototype,\"vvColor\",void 0),e([c()],M.prototype,\"vvOpacity\",void 0),e([c()],M.prototype,\"hasSlicePlane\",void 0),e([c()],M.prototype,\"transparent\",void 0),e([c()],M.prototype,\"hasOccludees\",void 0),e([c()],M.prototype,\"hasMultipassTerrain\",void 0),e([c()],M.prototype,\"cullAboveGround\",void 0),e([c()],M.prototype,\"doublePrecisionRequiresObfuscation\",void 0),e([c({constValue:a.Disabled})],M.prototype,\"pbrMode\",void 0),e([c({constValue:!0})],M.prototype,\"hasVvInstancing\",void 0),e([c({constValue:!1})],M.prototype,\"useCustomDTRExponentForWater\",void 0),e([c({constValue:!1})],M.prototype,\"useFillLights\",void 0);export{C as PathPassParameters,E as PathTechnique,M as PathTechniqueConfiguration,N as vertexAttributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../../core/mathUtils.js\";import{fromValues as t}from\"../../../../geometry/support/aaBoundingBox.js\";import{newLayout as r}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as i}from\"../core/shaderLibrary/ShaderOutput.js\";import{NormalsDoubleSidedMode as a}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import s from\"../lib/GLMaterial.js\";import{Material as o}from\"../lib/Material.js\";import{isPathGeometry as n}from\"../lib/PathGeometry.js\";import{RenderSlot as h}from\"../lib/RenderSlot.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as u}from\"./DefaultBufferWriter.js\";import{vertexAttributeLocations as l,PathTechniqueConfiguration as d,PathTechnique as p,PathPassParameters as m}from\"./PathTechnique.js\";import{intersectAabbInvDir as f}from\"./internal/MaterialUtil.js\";class b extends o{constructor(e){super(e,new g),this.supportsEdges=!0,this._vertexAttributeLocations=l,this._configuration=new d,this._vertexBufferLayout=b.getVertexBufferLayout()}getConfiguration(e,t){return this._configuration.output=e,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.hasOccludees=this.parameters.hasOccludees,e!==i.Color&&e!==i.Alpha||(this._configuration.doubleSidedMode=this.parameters.doubleSided&&\"normal\"===this.parameters.doubleSidedType?a.View:this.parameters.doubleSided&&\"winding-order\"===this.parameters.doubleSidedType?a.WindingOrder:a.None,this._configuration.receiveShadows=this.parameters.receiveShadows,this._configuration.receiveAmbientOcclusion=!!t.ssaoHelper.active&&this.parameters.receiveSSAO),this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}isVisibleForOutput(e){return e!==i.Shadow&&e!==i.ShadowExcludeHighlight&&e!==i.ShadowHighlight||this.parameters.castShadows}isVisible(){return super.isVisible()&&this.parameters.opacity>0}intersect(r,i,a,s,o,h){const c=r;if(!n(c))return;const u=c.path,l=[this.parameters.size[0],this.parameters.size[1]];if(this.parameters.vvSize){const{offset:t,factor:r,minSize:i,maxSize:a}=this.parameters.vvSize,s=u.sizeAttributeValue;l[0]*=e(t[0]+s*r[0],i[0],a[0]),l[1]*=e(t[2]+s*r[2],i[2],a[2])}const d=Math.max(l[0],l[1]),p=r.boundingInfo;if(null==p)return void this._intersectTriangles(u,l,s,o,h);const m=t(p.bbMin[0]-d,p.bbMin[1]-d,p.bbMin[2]-d,p.bbMax[0]+d,p.bbMax[1]+d,p.bbMax[2]+d),b=[o[0]-s[0],o[1]-s[1],o[2]-s[2]],S=Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2]),g=[S/b[0],S/b[1],S/b[2]];f(m,s,g,a.tolerance)&&this._intersectTriangles(u,l,s,o,h)}_intersectTriangles(e,t,r,i,a){e.baked.size&&e.baked.size[0]===t[0]&&e.baked.size[1]===t[1]||e.baked.bake(t),e.baked.intersect(r,i,a)}createBufferWriter(){return new u(this._vertexBufferLayout)}requiresSlot(e,t){switch(t){case i.Shadow:case i.ShadowHighlight:case i.ShadowExcludeHighlight:if(!this.parameters.castShadows)return!1;case i.Color:case i.Alpha:case i.Depth:case i.Normal:case i.Highlight:case i.ObjectAndLayerIdColor:return e===(this.parameters.transparent?h.TRANSPARENT_MATERIAL:h.OPAQUE_MATERIAL)||e===h.DRAPED_MATERIAL;default:return!1}}createGLMaterial(e){return new S(e)}static getVertexBufferLayout(){return r().vec3f(c.POSITION).vec4f(c.PROFILERIGHT).vec4f(c.PROFILEUP).vec4f(c.PROFILEVERTEXANDNORMAL).vec4f(c.FEATUREVALUE)}}class S extends s{_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:e.hasOccludees})}_updateShadowState(e){null!=this.technique&&e.shadowMap.enabled===this.technique.configuration.receiveShadows||this._material.setParameters({receiveShadows:e.shadowMap.enabled})}beginSlot(e){return this._output!==i.Color&&this._output!==i.Alpha||(this._updateShadowState(e),this._updateOccludeeState(e)),this.ensureTechnique(p,e)}}class g extends m{constructor(){super(...arguments),this.doubleSided=!1,this.doubleSidedType=\"normal\",this.receiveSSAO=!0,this.receiveShadows=!1,this.castShadows=!0,this.hasSlicePlane=!1,this.transparent=!1,this.hasOccludees=!1}}export{b as PathMaterial,g as PathMaterialParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Error.js\";import{w as t}from\"../../../../chunks/mat4.js\";import{I as i,c as s}from\"../../../../chunks/mat4f64.js\";import{s as r,a}from\"../../../../chunks/vec2.js\";import{f as o,b as n}from\"../../../../chunks/vec2f64.js\";import{s as l}from\"../../../../chunks/vec3.js\";import{g as h,c}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as p}from\"../../../../geometry/projection.js\";import{create as m,empty as d,expandWithBuffer as f,intersectsClippingArea as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as y,doubleArrayFrom as b}from\"../../../../geometry/support/DoubleArray.js\";import{needsElevationUpdates3D as g,evaluateElevationAlignmentAtPoint as _,SampleElevationInfo as v}from\"./elevationAlignmentUtils.js\";import{ElevationContext as w}from\"./ElevationContext.js\";import{Graphics3DObject3DGraphicLayer as x}from\"./Graphics3DObject3DGraphicLayer.js\";import{PATH_NUM_ROUND_JOIN_SUBDIVISIONS as P,PATH_NUM_ROUND_CAP_EXTRUSION_SUBDIVISIONS as j}from\"./Graphics3DPathSymbolLayerConstants.js\";import{Graphics3DSymbolLayer as S}from\"./Graphics3DSymbolLayer.js\";import{isValidSize as D}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as C}from\"./interfaces.js\";import{ConvertOptions as L,initFastSymbolUpdatesState as V,updateFastSymbolUpdatesState as U,getAttributeValue as E}from\"../support/FastSymbolUpdates.js\";import{SamplePosition as k}from\"../../support/ElevationProvider.js\";import{NormalType as R}from\"../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{CullFaceOptions as A}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3D as z}from\"../../webgl-engine/lib/Object3D.js\";import{Path as G}from\"../../webgl-engine/lib/Path.js\";import{PathBuilder as I}from\"../../webgl-engine/lib/PathBuilder.js\";import{RoundCapBuilder as B,TriangulationCapBuilder as O,NoCapBuilder as q}from\"../../webgl-engine/lib/PathCapBuilder.js\";import{SimpleExtruder as F,MiterExtruder as H}from\"../../webgl-engine/lib/PathExtruder.js\";import{UpVectorAlignment as M,PathGeometry as W,isPathGeometry as N}from\"../../webgl-engine/lib/PathGeometry.js\";import{FastUpdatePathGeometry as T,StaticPathGeometry as Z}from\"../../webgl-engine/lib/PathGeometryData.js\";import{computeMinimumRotationTangentFrame as J}from\"../../webgl-engine/lib/pathGeometryUtils.js\";import{quadProfiles as K,circleProfiles as Q}from\"../../webgl-engine/lib/PathProfile.js\";import{newPathVertex as X}from\"../../webgl-engine/lib/PathVertex.js\";import{DefaultMaterial as Y}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{PathMaterial as $}from\"../../webgl-engine/materials/PathMaterial.js\";const ee=[\"polyline\"];class te extends S{constructor(e,t,i,s){super(e,t,i,s),this._intrinsicSize=o(1,1),this._upVectorAlignment=M.Path,this._stencilWidth=.1,this.ensureDrapedStatus(!1)}async doLoad(){const t=null!=this.symbolLayer.width?this.symbolLayer.width:this.symbolLayer.height,i=null!=this.symbolLayer.height?this.symbolLayer.height:t;this._vvConvertOptions=new L({size:!0,color:!0,rotation:!1,opacity:!0},[1,1,1],[t,1,i],this._context.renderCoordsHelper.unitInMeters),this._fastUpdates=this._context.renderer?.visualVariables?.length>0?V(this._context.renderer,this._vvConvertOptions):null;const s=this.symbolLayer.anchor||\"center\";this._upVectorAlignment=\"heading\"===this.symbolLayer.profileRotation?M.World:M.Path;const o=this.symbolLayer.profile||\"circle\";switch(o){default:case\"circle\":this._profile=Q[s];break;case\"quad\":this._profile=K[s]}switch(this.symbolLayer.join){case\"round\":this._extruder=new H(0,P);break;case\"bevel\":this._extruder=new H(0,1);break;case\"miter\":this._extruder=new H(.8*Math.PI,1);break;default:this._extruder=new F}const l=this.symbolLayer.cap||\"butt\";switch(l){case\"none\":this._startCap=new q,this._endCap=new q;break;case\"butt\":default:this._startCap=new O(this._profile,0),this._endCap=new O(this._profile,0,!0);break;case\"square\":this._startCap=new O(this._profile,-.5),this._endCap=new O(this._profile,.5,!0);break;case\"round\":{const e=\"quad\"===o;this._startCap=new B({profile:this._profile,flip:!1,breakNormals:e,subdivisions:j}),this._endCap=new B({profile:this._profile,flip:!0,breakNormals:e,subdivisions:j});break}}const c=this.symbolLayer?.material?.color,p=this._getCombinedOpacityAndColor(c),m=h(p),d=p[3],f=d<1||this.needsDrivenTransparentPass,u={diffuse:m,ambient:m,opacity:d,transparent:f,hasVertexColors:!1,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,cullFace:f||\"none\"===l?A.None:A.Back,offsetTransparentBackfaces:!0};if(!this._drivenProperties.size&&(r(this._intrinsicSize,t,i),!D(this._intrinsicSize[0])||!D(this._intrinsicSize[1])))throw new e(\"graphics3dpathsymbollayer:invalid-size\",\"Symbol sizes may not be negative values\");if(this._fastUpdates&&this._fastUpdates.visualVariables.size||a(this._intrinsicSize,this._intrinsicSize,1/this._context.renderCoordsHelper.unitInMeters),this._fastUpdates){const e={...u,...this._fastUpdates.materialParameters,size:n(this._intrinsicSize)};this._material=new $(e)}else u.hasVertexColors=this._drivenProperties.color||this._drivenProperties.opacity,u.normalType=R.Compressed,this._material=new Y(u);this._material.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),this._context.stage.add(this._material)}destroy(){super.destroy(),this._context.stage.remove(this._material),this._material=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,ee,this.symbolLayer.type))return null;const i=this.setGraphicElevationContext(t,new w),s=e.renderingInfo;return this._createAs3DShape(t,s,i,t.uid)}layerOpacityChanged(){const e=this.symbolLayer?.material?.color,t=this._getCombinedOpacity(e),i=t<1||this.needsDrivenTransparentPass;this._material.setParameters({opacity:t,transparent:i})}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,g)}slicePlaneEnabledChanged(){return this._material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return this._material.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),!0}applyRendererDiff(e,t){for(const i in e.diff){if(\"visualVariables\"!==i)return C.RecreateSymbol;if(!U(this._fastUpdates,t,this._vvConvertOptions))return C.RecreateSymbol;this._material.setParameters(this._fastUpdates.materialParameters)}return C.FastUpdate}_getVertexData(e){let t=0;const i=e.paths,s=[],r=e.spatialReference,a=this._context.elevationProvider.spatialReference,o=this._context.renderCoordsHelper.spatialReference;for(const c of i)t+=c.length;const n=y(3*t);let l,h=0;for(const c of i){s.push({offset:h,numVertices:c.length});for(const t of c)n[h++]=t[0],n[h++]=t[1],n[h++]=e.hasZ?t[2]:0}return null==a||r.equals(a)||p(n,r,0,n,a,0,t)?(null==a||a.equals(o)?l=b(n):(l=y(3*t),p(n,a,0,l,o,0,t)),{pathVertexDataInfos:s,vertexDataES:n,vertexDataRS:l}):null}_createAs3DShape(e,r,a,o){const n=e.geometry,h=this._getVertexData(n);if(null==h)return this.logger.warn(\"PathSymbol3DLayer geometry failed to be created (failed to project geometry to view spatial reference)\"),null;if(0===h.pathVertexDataInfos.length)return 0!==n.paths.length&&n.paths.some((e=>e.length>0))||this.logger.warn(\"PathSymbol3DLayer geometry failed to be created (no paths were defined)\"),null;const c=new Array,p=n.spatialReference,y=m(),b=this._context.renderCoordsHelper,v=new k(h.vertexDataES);for(const m of h.pathVertexDataInfos){const n=m.numVertices;if(n<2)continue;const g=m.offset;if(null!=this._context.clippingExtent&&(d(y),f(y,h.vertexDataES,g,n),!u(y,this._context.clippingExtent)))continue;const w=new Array,x=g+3*n;for(let e=g;e<x;e+=3){v.offset=e;const t=_(v,this._context.elevationProvider,a,b);l(oe,h.vertexDataRS[e],h.vertexDataRS[e+1],h.vertexDataRS[e+2]),b.setAltitude(oe,t),h.vertexDataRS[e]=oe[0],h.vertexDataRS[e+1]=oe[1],h.vertexDataRS[e+2]=oe[2],w.push(X(this._upVectorAlignment))}const P=new G(w,h.vertexDataES,h.vertexDataRS,g);ie(P,this._upVectorAlignment,this._context.renderCoordsHelper);const j=new I(P,this._profile,this._extruder,this._startCap,this._endCap);let S=null;if(this._fastUpdates){const t=this._fastUpdates.visualVariables,i=E(t.size?.field,e)??0,s=E(t.color?.field,e)??0,r=E(t.opacity?.field,e)??0;S=new T(j,i,s,r)}else{const e=[this._intrinsicSize[0],this._intrinsicSize[1]];if(this._drivenProperties.size){const t=r.size;e[0]*=se(t[0],\"symbol-value\"===t[2]?this.symbolLayer.height||0:t[2],this.symbolLayer.width||0),e[1]*=se(t[2],\"symbol-value\"===t[0]?this.symbolLayer.width||0:t[0],this.symbolLayer.height||0)}let t;this._drivenProperties.color&&(t=r.color),this._drivenProperties.opacity&&null!=r.opacity&&(t=t?[t[0],t[1],t[2],r.opacity]:[1,1,1,r.opacity]);const i=new Z(j);i.bake(e),t&&i.bakeVertexColors(t),S=i}const{vertexAttributes:D,indices:C}=S.createGeometryData(),L=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:o,layerUid:this._context.layer.uid}),V=new W(this._material,D,C,S,p,this._stencilWidth,L);V.transformation=t(s(),i,j.path.origin),c.push(V)}if(0===c.length)return null;const w=new z({geometries:c,layerUid:this._context.layer.uid,graphicUid:o}),P=new x(this,w,c,null,null,((e,t,i,s,r)=>ae(e,t,s,r,this._upVectorAlignment)),a);return P.alignedSampledElevation=0,P.needsElevationUpdates=g(a.mode),P}}function ie(e,t,i){const{origin:s,positions:r}=e;let a=e.offset;switch(t){default:case M.World:for(const t of e.vertices)oe[0]=r[a++]+s[0],oe[1]=r[a++]+s[1],oe[2]=r[a++]+s[2],i.worldUpAtPosition(oe,oe),t.setFrameFromUpVector(oe);break;case M.Path:oe[0]=r[a]+s[0],oe[1]=r[a+1]+s[1],oe[2]=r[a+2]+s[2],i.worldUpAtPosition(oe,oe),J(e,oe)}}function se(e,t,i){switch(e){case\"symbol-value\":return i;case\"proportional\":return t;default:return e}}function re(e,t,i,s){let r=0;const{origin:a,vertices:o,positions:n,positionsES:h}=e,c=e.offset+3*o.length;for(let p=e.offset;p<c;p+=3)l(oe,h[p],h[p+1],h[p+2]),i(oe,ne),r+=ne.sampledElevation,oe[0]=n[p]+a[0],oe[1]=n[p+1]+a[1],oe[2]=n[p+2]+a[2],s.setAltitude(oe,ne.z),n[p]=oe[0]-a[0],n[p+1]=oe[1]-a[1],n[p+2]=oe[2]-a[2];return e.updatePathVertexInformation(),r/o.length}function ae(e,t,i,s,r){const a=e.stageObject,o=a.geometries;let n=0;for(const l of o){if(!N(l))continue;const e=l.path,o=e.builder.path;n+=re(o,t,i,s),r!==M.World&&ie(o,r,s),e.onPathChanged(l),l.invalidateBoundingInfo(),a.geometryVertexAttrsUpdated(l)}return n/o.length}const oe=c(),ne=new v;export{te as Graphics3DPathSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../chunks/mat4f64.js\";import{s as o}from\"../../../../chunks/vec2.js\";import{a as s}from\"../../../../chunks/vec2f64.js\";import{s as n,e as r,b as e,g as m,a,c,A as i,n as f,f as I}from\"../../../../chunks/vec3.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as u}from\"../../../../geometry/projection.js\";import{newDoubleArray as N}from\"../../../../geometry/support/DoubleArray.js\";import{create as p,fromManyPointsSampleAt as g,normal as b}from\"../../../../geometry/support/plane.js\";import{ViewingMode as M}from\"../../../ViewingMode.js\";function T(t,s,n,r,e=1){if(n.isGeographic&&r===M.Global){const t=N(s.length),o=s.length,r=h(n);for(let n=0;n<o;n+=3)u(s,n,t,n,r);s=t}o(y,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);for(let o=0;o<s.length;o+=3)y[0]=Math.min(y[0],s[o]),y[1]=Math.min(y[1],s[o+1]);const m=y[0]%e,a=y[1]%e,c=y[0]-m,i=y[1]-a;for(let o=0;o<s.length;o+=3){const n=o/3*4;t[n]=(s[o]-c)/e,t[n+1]=(s[o+1]-i)/e,t[n+2]=c/e,t[n+3]=i/e}}function j(t,s,c,i,f=1){n(Y,1,0,0),n(_,0,1,0),n(k,0,0,1),U(E,c),G(c,F)&&O(F,Y,_,k,i,E),o(y,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),o(A,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);for(let o=0;o<c.length;o+=3){n(V,c[o],c[o+1],c[o+2]);const t=r(Y,V),s=r(_,V);y[0]=Math.min(y[0],t),y[1]=Math.min(y[1],s),A[0]=Math.max(A[0],t),A[1]=Math.max(A[1],s)}const I=r(k,E);z(P,y[0],y[1],I,Y,_,k),z(v,A[0],y[1],I,Y,_,k),z(x,y[0],A[1],I,Y,_,k),e(v,v,P),m(v,v,.5),e(x,x,P),m(x,x,.5),a(P,P,v),a(P,P,x);const l=y[0]%f,h=y[1]%f,u=y[0]-l,N=y[1]-h;for(let o=0;o<c.length;o+=3){n(V,c[o],c[o+1],c[o+2]);const e=o/3,m=4*e;t[m]=(r(Y,V)-u)/f,t[m+1]=(r(_,V)-N)/f,t[m+2]=u/f,t[m+3]=N/f;const a=9*e;for(let t=0;t<3;t++)s[a+t]=P[t],s[a+t+3]=v[t],s[a+t+6]=x[t]}}const E=l(),V=l(),F=p(),Y=l(),_=l(),k=l(),y=s(),A=s(),P=l(),v=l(),x=l();function G(t,o){const s=t.length/3-1;return g(t,o,0,Math.floor(s/3),Math.floor(s*(2/3)))}function O(t,o,s,e,a,l){null!=a?(a.basisMatrixAtPosition(l,S),n(d,S[0],S[1],S[2]),n(w,S[4],S[5],S[6]),n(D,S[8],S[9],S[10])):(n(d,1,0,0),n(w,0,1,0),n(D,0,0,1));const h=b(t);r(h,D)<0&&m(h,h,-1),c(e,h);const u=r(h,w),N=r(h,d);Math.abs(u)<Math.abs(N)?(i(o,d,h,-N),f(o,o),I(s,o,h),f(s,s),m(s,s,-1)):(i(s,w,h,-u),f(s,s),I(o,s,h),f(o,o))}const S=t(),d=l(),w=l(),D=l();function U(t,o){n(q,0,0,0);for(let s=0;s<o.length-3;s+=3)q[0]+=o[s],q[1]+=o[s+1],q[2]+=o[s+2];m(t,q,1/(o.length/3-1))}const q=l();function z(t,o,s,r,e,m,a){n(t,o*e[0]+s*m[0]+r*a[0],o*e[1]+s*m[1]+r*a[1],o*e[2]+s*m[2]+r*a[2])}export{j as createMapSpaceUVCoords,T as createMapSpaceUVCoordsDraped};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as o}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{blendingDefault as n,oitBlending as p,oitDepthTest as a,oitDepthWrite as l,getOITPolygonOffset as c}from\"../lib/OrderIndependentTransparency.js\";import{Program as u}from\"../lib/Program.js\";import{stencilWriteMaskOn as h,stencilToolMaskBaseParams as d,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as v}from\"../materials/DefaultTechniqueConfiguration.js\";import{Style as O}from\"../materials/PatternStyle.js\";import{P as T}from\"../../../../chunks/Pattern.glsl.js\";import{makePipelineState as P,cullingParams as g,defaultDepthWriteParams as S,defaultColorWriteParams as b}from\"../../../webgl/renderState.js\";class j extends r{initializeProgram(e){return new u(e.rctx,j.shader.get().build(this.configuration),U)}_setPipelineState(e,o){const r=this.configuration,i=e===y.NONE,s=e===y.FrontFace;return P({blending:r.output===t.Color||r.output===t.Alpha?i?n:p(e):null,culling:g(r.cullFace),depthTest:{func:a(e)},depthWrite:i?r.writeDepth?S:null:l(e),colorWrite:b,stencilWrite:r.hasOccludees?h:null,stencilTest:r.hasOccludees?o?d:f:null,polygonOffset:i||s?r.polygonOffset?C:null:c(r.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}j.shader=new o(T,(()=>import(\"./Pattern.glsl.js\")));const C={factor:1,units:1};class N extends v{constructor(){super(...arguments),this.output=t.Color,this.cullFace=s.None,this.transparencyPassType=y.NONE,this.hasSlicePlane=!1,this.hasVertexColors=!1,this.polygonOffset=!1,this.writeDepth=!0,this.hasOccludees=!1,this.enableOffset=!0,this.hasMultipassTerrain=!1,this.cullAboveGround=!1,this.vvColor=!1}}e([i({count:t.COUNT})],N.prototype,\"output\",void 0),e([i({count:s.COUNT})],N.prototype,\"cullFace\",void 0),e([i({count:O.COUNT})],N.prototype,\"style\",void 0),e([i({count:y.COUNT})],N.prototype,\"transparencyPassType\",void 0),e([i()],N.prototype,\"hasSlicePlane\",void 0),e([i()],N.prototype,\"hasVertexColors\",void 0),e([i()],N.prototype,\"polygonOffset\",void 0),e([i()],N.prototype,\"writeDepth\",void 0),e([i()],N.prototype,\"hasOccludees\",void 0),e([i()],N.prototype,\"patternSpacing\",void 0),e([i()],N.prototype,\"lineWidth\",void 0),e([i()],N.prototype,\"enableOffset\",void 0),e([i()],N.prototype,\"draped\",void 0),e([i()],N.prototype,\"hasMultipassTerrain\",void 0),e([i()],N.prototype,\"cullAboveGround\",void 0),e([i()],N.prototype,\"vvColor\",void 0),e([i({constValue:!1})],N.prototype,\"hasVvInstancing\",void 0),e([i({constValue:!1})],N.prototype,\"vvSize\",void 0),e([i({constValue:!1})],N.prototype,\"vvOpacity\",void 0);const U=new Map([[m.POSITION,0],[m.COLOR,3],[m.UVMAPSPACE,4],[m.COLORFEATUREATTRIBUTE,5],[m.BOUNDINGRECT,6]]);export{j as PatternTechnique,N as PatternTechniqueConfiguration,U as vertexAttributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as t}from\"../../../../chunks/vec4f64.js\";import{BufferViewMat3f as e,BufferViewVec4f as r}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as i}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import o from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as n}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as h}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as l}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as c}from\"./DefaultBufferWriter.js\";import{Style as p}from\"./PatternStyle.js\";import{TriangleMaterial as f}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as m}from\"./VisualVariablePassParameters.js\";import{writeDefaultAttribute as d,writeBufferVec4 as g}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as _,PatternTechniqueConfiguration as A,PatternTechnique as T}from\"../shaders/PatternTechnique.js\";class b extends f{constructor(t){super(t,new v),this.supportsEdges=!0,this._vertexAttributeLocations=_,this._configuration=new A}getConfiguration(t,e){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.style=this.parameters.style,this._configuration.patternSpacing=this.parameters.patternSpacing,this._configuration.lineWidth=this.parameters.lineWidth,this._configuration.draped=this.parameters.draped,this._configuration.transparencyPassType=e.transparencyPassType,this._configuration.enableOffset=e.camera.relativeElevation<n,this._configuration.hasMultipassTerrain=e.multipassTerrain.enabled,this._configuration.cullAboveGround=e.multipassTerrain.cullAboveGround,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration}requiresSlot(t,e){if(e===s.Color||e===s.Alpha||e===s.Highlight||e===s.Depth&&this.parameters.writeLinearDepth){if(t===h.DRAPED_MATERIAL)return!0;if(e===s.Highlight)return t===h.OPAQUE_MATERIAL;return t===(this.parameters.writeDepth?h.TRANSPARENT_MATERIAL:h.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL)}return!1}createGLMaterial(t){return new O(t)}createBufferWriter(){const t=i().vec3f(l.POSITION).vec4f(l.UVMAPSPACE);return this.parameters.draped||t.mat3f(l.BOUNDINGRECT),this.parameters.vvColor?t.f32(l.COLORFEATUREATTRIBUTE):t.vec4u8(l.COLOR),new P(t)}}class O extends o{_updateParameters(t){return this.ensureTechnique(T,t)}_updateOccludeeState(t){t.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:t.hasOccludees})}beginSlot(t){return this._output!==s.Color&&this._output!==s.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class P extends c{write(t,i,s,a,o){for(const n of this.vertexBufferLayout.fields.keys()){const h=s.vertexAttributes.get(n),c=s.indices.get(n);if(h&&c)switch(n){case l.UVMAPSPACE:{u(4===h.size);const t=a.getField(n,r);t&&g(c,h.data,t,o);break}case l.BOUNDINGRECT:{u(9===h.size);const r=a.getField(n,e);r&&this.writeBoundingRect(c,h.data,t,r,o);break}default:d(n,h,c,t,i,a,o)}}}writeBoundingRect(t,e,r,i,s){const a=r,o=i.typedBuffer,n=i.typedBufferStride,h=t.length;s*=n;for(let u=0;u<h;++u){const r=9*t[u],i=e[r],h=e[r+1],l=e[r+2];o[s]=a[0]*i+a[4]*h+a[8]*l+a[12],o[s+1]=a[1]*i+a[5]*h+a[9]*l+a[13],o[s+2]=a[2]*i+a[6]*h+a[10]*l+a[14];for(let t=3;t<9;++t)o[s+t]=e[r+t];s+=n}}}class v extends m{constructor(){super(...arguments),this.color=t(1,1,1,1),this.writeDepth=!0,this.writeLinearDepth=!1,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=a.None,this.hasOccludees=!1,this.style=p.Cross,this.patternSpacing=10,this.lineWidth=1,this.draped=!0}}export{v as Parameters,b as PatternMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{f as t}from\"../../../../chunks/vec4f64.js\";import{perVertexElevationAligner as e}from\"../graphics/ElevationAligners.js\";import{createMapSpaceUVCoords as r}from\"./uvUtils.js\";import{VertexAttribute as a}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as n}from\"../../webgl-engine/materials/ColorMaterial.js\";import{PatternMaterial as o}from\"../../webgl-engine/materials/PatternMaterial.js\";import{Style as i}from\"../../webgl-engine/materials/PatternStyle.js\";function s(e,r){const a=e?.pattern??null;return null==a?new n(r):\"none\"===a.style||\"solid\"===a.style?(\"none\"===a.style&&(r.color=t(0,0,0,0),r.transparent=!0),new n(r)):(r.style=l(a.style),new o(r))}function l(t){switch(t){case\"horizontal\":return i.Horizontal;case\"vertical\":return i.Vertical;case\"cross\":return i.Cross;case\"forward-diagonal\":return i.ForwardDiagonal;case\"backward-diagonal\":return i.BackwardDiagonal;case\"diagonal-cross\":return i.DiagonalCross;default:return}}function c(t){return t.material instanceof o&&!t.material.parameters.draped}function u(t,e){if(c(t)){const n=t.vertexAttributes.get(a.POSITION).data,o=t.getMutableAttribute(a.UVMAPSPACE).data,i=t.getMutableAttribute(a.BOUNDINGRECT).data;r(o,i,n,e)}}function m(t,r,a,n,o){const i=e(t,r,a,n,o),s=t.stageObject.geometries;for(const e of s)u(e,o);return i}export{s as createMaterial,l as parsePatternStyle,c as requiresUVUpdates,u as updateMapSpaceUVCoords,m as uvElevationAligner};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{pt2px as t}from\"../../../../core/screenUtils.js\";import{e as i}from\"../../../../chunks/earcut.js\";import{create as r,empty as o,expandWithBuffer as n,intersectsClippingArea as s,expandWithAABB as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as l,doubleSubArray as c}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as h,floatSubArray as p}from\"../../../../geometry/support/FloatArray.js\";import{SymbolUpdateType as u,elevationModeChangeUpdateType as d,needsElevationUpdates2D as m}from\"./elevationAlignmentUtils.js\";import{ElevationContext as _}from\"./ElevationContext.js\";import y from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as g}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as f}from\"./Graphics3DSymbolLayer.js\";import{mixinColorAndOpacity as b}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as x}from\"./interfaces.js\";import{parseCapType as v}from\"./lineUtils.js\";import{geometryAsPolygon as O,createColorGeometry as D,PolygonCreationDataBase as C}from\"./polygonUtils.js\";import{ConvertOptions as S,initFastSymbolUpdatesState as j,updateFastSymbolUpdatesState as A,getAttributeValue as M}from\"../support/FastSymbolUpdates.js\";import{createMaterial as P,uvElevationAligner as U}from\"../support/patternUtils.js\";import{createMapSpaceUVCoords as E,createMapSpaceUVCoordsDraped as L}from\"../support/uvUtils.js\";import{createGeometry as G}from\"../../support/engineContent/line.js\";import{geometryToRenderInfo as w,geometryToRenderInfoDraped as R}from\"../../support/renderInfoUtils/polygon.js\";import{Object3D as I}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as V}from\"../../webgl-engine/lib/RenderGeometry.js\";import{getStipplePatternForLinePattern as F}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{PatternMaterial as B}from\"../../webgl-engine/materials/PatternMaterial.js\";import{RibbonLineMaterial as T}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";const z=[\"polyline\",\"polygon\",\"extent\"],H=new S({size:!1,color:!0,rotation:!1,opacity:!1});class W extends f{constructor(e,t,i,r){super(e,t,i,r),this._needsUV=!1,this._hasOutline=!1}async doLoad(){this._fastUpdates=j(this._context.renderer,H)}_ensureMaterials(){this._ensureFillMaterial(),this._ensureOutlineMaterial()}_ensureFillMaterial(){if(null!=this._material)return;const e=this.symbolLayer?.material?.color,t=this._getCombinedOpacityAndColor(e);this._material=P(this.symbolLayer,{color:t,transparent:t[3]<1||this.needsDrivenTransparentPass,polygonOffset:!1,hasVertexColors:!0,writeLinearDepth:!0,draped:this.draped,hasSlicePlane:this._context.slicePlaneEnabled,...this._fastUpdates?.materialParameters}),this._needsUV=this._material instanceof B,this._context.stage.add(this._material)}_ensureOutlineMaterial(){const e=this.symbolLayer.outline;if(this._outlineMaterial||!this._isValidOutline(e))return;this._hasOutline=!0;const i=t=>{const i=F(e.pattern);return new T({width:t,color:this._getOutlineColor(),hasPolygonOffset:!0,hasSlicePlane:this._context.slicePlaneEnabled,isClosed:!0,stipplePattern:i,stippleScaleWithLineWidth:!0,cap:v(e.patternCap||\"butt\")})};this._outlineMaterial=i(t(e.size)),this._context.stage.add(this._outlineMaterial)}_isValidOutline(e){return null!=e&&null!=e.size&&e.size>0&&null!=e.color&&(null==e.pattern||\"style\"!==e.pattern.type||\"none\"!==e.pattern.style)}destroy(){super.destroy(),this._context.stage.remove(this._material),this._material=null,this._context.stage.remove(this._outlineMaterial),this._outlineMaterial=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,z,this.symbolLayer.type))return null;const i=this._getVertexOpacityAndColor(e.renderingInfo,255),r=this.setGraphicElevationContext(t,new _);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this._ensureMaterials(),this.draped?this._createAsOverlay(t,i):this._createAs3DShape(t,i,r)}applyRendererDiff(e,t){for(const i in e.diff){if(\"visualVariables\"!==i)return x.RecreateSymbol;if(!A(this._fastUpdates,t,H))return x.RecreateSymbol;this._material&&this._material.setParameters(this._fastUpdates.materialParameters)}return x.FastUpdate}layerOpacityChanged(){if(null!=this._material){const e=this._material.parameters.color,t=this.symbolLayer?.material?.color,i=this._getCombinedOpacity(t);this._material.setParameters({color:[e[0],e[1],e[2],i],transparent:i<1||this.needsDrivenTransparentPass})}if(null!=this._outlineMaterial){const e=this._outlineMaterial.parameters.color;this._outlineMaterial.setParameters({color:[e[0],e[1],e[2],this._getOutlineOpacity()]})}}layerElevationInfoChanged(e,t,i){const r=this._elevationContext.mode,o=d(W.elevationModeChangeTypes,i,r);if(o!==u.UPDATE)return o;const n=m(r);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>n))}slicePlaneEnabledChanged(){if(this._material&&this._material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._outlineMaterial){const e={hasSlicePlane:this._context.slicePlaneEnabled};this._outlineMaterial.setParameters(e)}return!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,i){const r=O(e.geometry);if(!r)return null;const o=w(r,this._context.elevationProvider,this._context.renderCoordsHelper,i),n=new k(o,t,this._context.layer.uid,e.uid),s=n.renderData.position.length/3;if(this._needsUV&&(n.uvMapSpace=h(4*s,!0),n.boundingRect=l(9*s,!0),E(n.uvMapSpace,n.boundingRect,n.renderData.position,this._context.renderCoordsHelper)),n.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(n),this._createAs3DShapeFill(e,n),this._hasOutline&&this._createAs3DShapeOutline(n),this._logGeometryCreationWarnings(n.renderData,r.rings,\"rings\",\"FillSymbol3DLayer\"),0===n.outGeometries.length)return null;const a=new I({geometries:n.outGeometries,castShadow:!1,layerUid:this._context.layer.uid,graphicUid:e.uid}),c=new g(this,a,n.outGeometries,null,null,U,i);return c.alignedSampledElevation=n.renderData.sampledElevation,c.needsElevationUpdates=m(i.mode),c}_createAs3DShapeFill(e,t){const r=t.renderData.polygons;for(const{position:a,mapPositions:l,holeIndices:h,index:u,count:d}of r){if(null!=this._context.clippingExtent&&(o(N),n(N,l),!s(N,this._context.clippingExtent)))continue;const r=i(l,h,3);if(0===r.length)continue;const m=this._fastUpdates?.visualVariables.color,_=D({material:this._material,indices:r,mapPositions:l,attributeData:{position:a,color:m?null:t.color,colorFeature:m?M(m.field,e):null,uvMapSpace:this._needsUV?p(t.uvMapSpace,4*u,4*d):null,boundingRect:this._needsUV?c(t.boundingRect,9*u,9*d):null,objectAndLayerIdColor:t.objectAndLayerIdColor}});t.outGeometries.push(_)}}_createAs3DShapeOutline(e){if(!this._hasOutline)return;const t=e.renderData.outlines;for(let i=0;i<t.length;++i){const{mapPositions:r,position:a}=t[i];if(null!=this._context.clippingExtent&&(o(N),n(N,r),!s(N,this._context.clippingExtent)))continue;const l=G(this._outlineMaterial,{overlayInfo:null,removeDuplicateStartEnd:!0,mapPositions:r,attributeData:{position:a}},e.objectAndLayerIdColor);e.outGeometries.push(l)}}_createAsOverlay(e,t){const i=O(e.geometry);if(null==i)return null;this._material.renderPriority=this._renderPriority+this._renderPriorityStep/2,null!=this._outlineMaterial&&(this._outlineMaterial.renderPriority=this._renderPriority);const r=R(i,this._context.overlaySR),n=new q(r,t,this._context.layer.uid,e.uid),s=n.renderData.position.length/3;return this._needsUV&&(n.uvMapSpace=h(4*s,!0),L(n.uvMapSpace,n.renderData.position,this._context.overlaySR,this._context.graphicsCoreOwner.view.state.viewingMode)),n.outBoundingBox=o(),n.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(n),this._createAsOverlayFill(e,n),this._hasOutline&&this._createAsOverlayOutline(n),this._logGeometryCreationWarnings(n.renderData,i.rings,\"rings\",\"FillSymbol3DLayer\"),0===n.outGeometries.length?null:new y(this,n.outGeometries,n.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayFill(e,t){const r=t.renderData.polygons;for(const{position:l,holeIndices:c,index:h,count:u}of r){const r=o(N);if(n(r,l),!s(r,this._context.clippingExtent))continue;const d=i(l,c,3);if(0===d.length)continue;a(t.outBoundingBox,r);const m=this._fastUpdates?.visualVariables.color,_=D({material:this._material,indices:d,attributeData:{position:l,color:m?null:t.color,colorFeature:m?M(m.field,e):null,uvMapSpace:this._needsUV?p(t.uvMapSpace,4*h,4*u):null,objectAndLayerIdColor:t.objectAndLayerIdColor}});t.outGeometries.push(new V(_,t))}}_createAsOverlayOutline(e){if(!this._hasOutline)return;const t=e.renderData.outlines;for(let i=0;i<t.length;++i){const{position:r}=t[i];if(o(N),n(N,r),!s(N,this._context.clippingExtent))continue;a(e.outBoundingBox,N);const l=G(this._outlineMaterial,{overlayInfo:{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper},removeDuplicateStartEnd:!0,attributeData:{position:r}},e.objectAndLayerIdColor);e.outGeometries.push(new V(l,e))}}_getOutlineOpacity(){const e=this.symbolLayer?.outline?.color;return(this.draped?1:this._getLayerOpacity())*(null!=e?e.a:0)}_getOutlineColor(){const t=this.symbolLayer?.outline?.color,i=this._getOutlineOpacity();return b(null!=t?e.toUnitRGB(t):null,i)}test(){return{...super.test(),createAsOverlay:(e,t)=>this._createAsOverlay(e,t),createAs3DShape:(e,t,i)=>this._createAs3DShape(e,t,i)}}}W.elevationModeChangeTypes={definedChanged:u.RECREATE,staysOnTheGround:u.NONE,onTheGroundChanged:u.RECREATE};const N=r();class k extends C{constructor(e,t,i,r){super(e,i,r),this.color=t}}class q extends C{constructor(e,t,i,r){super(e,i,r),this.color=t}}export{W as Graphics3DPolygonFillSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{TextRenderer as e,getTextHelperCanvas as r}from\"./TextRenderer.js\";import{Texture as t}from\"./Texture.js\";import{TextureWrapMode as n}from\"../../../webgl/enums.js\";class i{constructor(r,t,n){this._renderer=new e(r,t,n)}get key(){return this._renderer.key}get baselineAnchorY(){return 1-this._renderer.firstRenderedBaselinePosition/this._renderer.renderedHeight}get displayWidth(){return this._renderer.displayWidth}get displayHeight(){return this._renderer.displayHeight}create(){const e=r(s,this._renderer.renderedWidth,this._renderer.renderedHeight),i=e.getContext(\"2d\");return i.save(),this._renderer.render(i,0,0),i.restore(),new t(e,{wrap:{s:n.CLAMP_TO_EDGE,t:n.CLAMP_TO_EDGE},noUnpackFlip:!1,mipmap:!0,preMultiplyAlpha:!0})}}const s={canvas:null};export{i as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{isPromiseLike as t}from\"../../../../core/promiseUtils.js\";import{pt2px as r}from\"../../../../core/screenUtils.js\";import{f as n,Z as s,a as i}from\"../../../../chunks/vec2f64.js\";import{hasCalloutSupport as o,textSymbolLayerSupportsVerticalOffset as l}from\"../../../../symbols/callouts/calloutUtils.js\";import{CreateLabelParameters as a}from\"./CreateLabelParameters.js\";import{perObjectElevationAligner as c}from\"./ElevationAligners.js\";import{SymbolUpdateType as m,needsElevationUpdates2D as h}from\"./elevationAlignmentUtils.js\";import{ElevationContext as u}from\"./ElevationContext.js\";import{Graphics3DObject3DGraphicLayer as d}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DObjectMetadata as p}from\"./Graphics3DObjectMetadata.js\";import{Graphics3DSymbolLayer as f}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as g}from\"./graphicUtils.js\";import{verticalPlacementFromAlignment as y,textRenderAlignmentFromHorizontalPlacement as x,horizontalPlacementToAnchorX as b,anchorFromPlacements as v,namedAnchorToHUDMaterialAnchorPos as P}from\"./placementUtils.js\";import{placePointOnGeometry as O,createStageObject as j,extendPointGraphicElevationContext as w}from\"./pointUtils.js\";import{createPointGeometry as S}from\"../../webgl-engine/lib/GeometryUtil.js\";import{TextRenderParameters as _}from\"../../webgl-engine/lib/TextRenderParameters.js\";import E from\"../../webgl-engine/lib/TextTextureFactory.js\";import{HUDMaterial as L}from\"../../webgl-engine/materials/HUDMaterial.js\";const z=[0,0,1];class C extends f{constructor(e,t,r,n){super(e,t,r,n),this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!1},this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const t=g(this.symbolLayer.size);if(t)throw new e(\"graphics3dtextsymbollayer:invalid-size\",t)}await this._createTextRenderParameters()}async _createTextRenderParameters(){const e=this._context.graphicsCoreOwner.view.state.rasterPixelRatio;this._textRenderParameters=await _.fromSymbol(this.symbolLayer,e)}destroy(){super.destroy()}createGraphics3DGraphic(e){const t=e.graphic,r=O(t.geometry);if(null==r)return this.logger.warn(`unsupported geometry type for text symbol: ${t.geometry.type}`),null;const n=this.symbolLayer.text;if(null==n||\"\"===n)return null;const s=o(this.symbol)&&this.symbol.hasVisibleVerticalOffset()?this.symbol.verticalOffset:null;if(null!=s&&!l(this.symbolLayer))return this.logger.errorOncePerTick(`Callouts and vertical offset on text symbols are currently only supported with 'center' horizontal alignment (not with '${this.symbolLayer.horizontalAlignment}' alignment)`),null;const i=new a(s,this.symbolLayer.horizontalAlignment,y(this.symbolLayer.verticalAlignment));return this._createAs3DShape(t,r,n,i)}createLabel(e,t,r,n){const s=e.graphic,i=O(s.geometry);if(null==i)return this.logger.warn(`unsupported geometry type for label: ${s.geometry.type}`),null;const o=t.text;return!o||/^\\s+$/.test(o)?null:this._createAs3DShape(s,i,o,t,r,n)}setGraphicElevationContext(e,t,r=0){const n=super.setGraphicElevationContext(e,t);return n.addOffsetRenderUnits(r),n}layerOpacityChanged(){return this.logger.warn(\"layer opacity change not yet implemented in Graphics3DTextSymbolLayer\"),!1}layerElevationInfoChanged(e,t){return G(e,t,((e,t)=>{this.updateGraphicElevationContext(t,e)})),m.UPDATE}slicePlaneEnabledChanged(e,t){return G(e,t,(e=>{for(const t of e.stageObject.geometries)t.material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),!0}physicalBasedRenderingChanged(){return!0}get pixelRatioChanged(){return!1}updateGraphicElevationContext(e,t){const r=t.elevationContext;this.setGraphicElevationContext(e,r,null!=t.metadata?t.metadata.elevationOffset:0),t.needsElevationUpdates=h(r.mode)||\"absolute-height\"===r.mode}_defaultElevationInfoNoZ(){return U}_createAs3DShape(e,o,l,a,m,f){const g=this.setGraphicElevationContext(e,new u,a.elevationOffset),y=\"polyline\"===e.geometry?.type,b=e.uid;let v=null,P=null;if(null==f){const e=x(a.horizontalPlacement);v=new E(l,e,this._textRenderParameters);let r=null;if(null!=this._context.sharedResources.textures){P=this._context.sharedResources.textures.fromData(v.key,(()=>v.create()),(()=>{null!=r&&r.release()}));const e=this._context.stage.renderView.textureRepository.acquire(P.texture.id);if(null==e||t(e))return P.release(),null;r=e}}const O=R(v,a),_={occlusionTest:!0,screenOffset:a.screenOffset,anchorPosition:O,polygonOffset:!0,color:[1,1,1,1],centerOffsetUnits:a.centerOffsetUnits,drawInSecondSlot:!0};if(null!=f?_.textureId=f.id:null!=P&&(_.textureId=P.texture.id),null!=a.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:n}=a.verticalOffset;_.verticalOffset={screenLength:r(e),minWorldLength:t||0,maxWorldLength:null!=n?n:1/0}}if(this._context.screenSizePerspectiveEnabled){const{screenSizePerspectiveSettings:e,screenSizePerspectiveSettingsLabels:t}=this._context.sharedResources;_.screenSizePerspective=t.overridePadding(this._textRenderParameters.haloSize+this._textRenderParameters.definition.background.padding[0]),_.screenSizePerspectiveAlignment=e}let C;if(y&&(_.shaderPolygonOffset=1e-4),_.hasSlicePlane=this._context.slicePlaneEnabled,null!=m){const e=JSON.stringify(_);C=m.get(e),null==C&&(C=new L(_),m.add(e,C))}else C=new L(_);const G=a.translation,U=v?n(v.displayWidth,v.displayHeight):s,D=a.centerOffset,A=S(C,z,G,null,U,D,[0,0],null),T=j(this._context,o,A,g,b);if(null==T)return null;const W=new d(this,T.object,[A],null==m?[C]:null,P,c,g);W.alignedSampledElevation=T.sampledElevation,W.needsElevationUpdates=h(g.mode)||\"absolute-height\"===g.mode;const{displayWidth:I,displayHeight:k}=null!=v?v:a;W.getScreenSize=(e=i())=>(e[0]=I,e[1]=k,e);const $=new p(a.elevationOffset,l);return W.metadata=$,w(W,o,this._context.elevationProvider),W}}function G(e,t,r){e&&e.forEach((e=>{const n=t(e);null!=n&&r(n,e.graphic)}))}function R(e,t){if(\"baseline\"===t.verticalPlacement){const r=b[t.horizontalPlacement],s=null!=e?e.baselineAnchorY:0;return n(r,s)}const r=v(t.horizontalPlacement,t.verticalPlacement);return P[r]}const U={mode:\"relative-to-ground\",offset:0};export{C as Graphics3DTextSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nconst e={\"calm-small\":{waveStrength:.005,perturbationStrength:.02,textureRepeat:12,waveVelocity:.01},\"rippled-small\":{waveStrength:.02,perturbationStrength:.09,textureRepeat:32,waveVelocity:.07},\"slight-small\":{waveStrength:.05,perturbationStrength:.07,textureRepeat:28,waveVelocity:.1},\"moderate-small\":{waveStrength:.075,perturbationStrength:.07,textureRepeat:24,waveVelocity:.1},\"calm-medium\":{waveStrength:.003125,perturbationStrength:.01,textureRepeat:8,waveVelocity:.02},\"rippled-medium\":{waveStrength:.035,perturbationStrength:.015,textureRepeat:12,waveVelocity:.07},\"slight-medium\":{waveStrength:.06,perturbationStrength:.015,textureRepeat:8,waveVelocity:.12},\"moderate-medium\":{waveStrength:.09,perturbationStrength:.03,textureRepeat:4,waveVelocity:.12},\"calm-large\":{waveStrength:.01,perturbationStrength:0,textureRepeat:4,waveVelocity:.05},\"rippled-large\":{waveStrength:.025,perturbationStrength:.01,textureRepeat:8,waveVelocity:.11},\"slight-large\":{waveStrength:.06,perturbationStrength:.02,textureRepeat:3,waveVelocity:.13},\"moderate-large\":{waveStrength:.14,perturbationStrength:.03,textureRepeat:2,waveVelocity:.15}};export{e as wavePresets};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{getMetersPerUnitForSR as t}from\"../../../../core/unitUtils.js\";import{e as r}from\"../../../../chunks/earcut.js\";import{s as o}from\"../../../../chunks/vec2.js\";import{f as i,a as n}from\"../../../../chunks/vec2f64.js\";import{b as s}from\"../../../../chunks/vec4.js\";import{t as a}from\"../../../../chunks/common.js\";import{create as l,empty as c,expandWithBuffer as h,intersectsClippingArea as m,expandWithAABB as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as d,empty as p,expandPointInPlace as g}from\"../../../../geometry/support/aaBoundingRect.js\";import{newDoubleArray as y,doubleSubArray as f}from\"../../../../geometry/support/DoubleArray.js\";import{perVertexElevationAligner as _}from\"./ElevationAligners.js\";import{SymbolUpdateType as v,elevationModeChangeUpdateType as x,needsElevationUpdates2D as b}from\"./elevationAlignmentUtils.js\";import{ElevationContext as C}from\"./ElevationContext.js\";import D from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as j}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as w}from\"./Graphics3DSymbolLayer.js\";import{geometryAsPolygon as S,createWaterGeometry as G,PolygonCreationDataBase as A}from\"./polygonUtils.js\";import{geometryToRenderInfo as E,geometryToRenderInfoDraped as L}from\"../../support/renderInfoUtils/polygon.js\";import{Object3D as O}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as P}from\"../../webgl-engine/lib/RenderGeometry.js\";import{WaterMaterialParameters as T,WaterMaterial as R}from\"../../webgl-engine/materials/WaterMaterial.js\";import{wavePresets as U}from\"../../webgl-engine/materials/internal/waterMaterialUtils.js\";const I=[\"polyline\",\"polygon\",\"extent\"];class V extends w{constructor(e,t,r,o){super(e,t,r,o)}async doLoad(){}destroy(){super.destroy(),this._context.stage.remove(this._material),this._material=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,I,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t,new C);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this.ensureMaterial(),this.draped?this._createAsOverlay(t):this._createAs3DShape(t,r,t.uid)}ensureMaterial(){if(null!=this._material)return;const t=new T,r=this.symbolLayer.color;null!=r&&(t.color=e.toUnitRGBA(r));const o=this._getCombinedOpacity(r,{hasIntrinsicColor:!0});t.color=[t.color[0],t.color[1],t.color[2],o],t.transparent=o<1||this.needsDrivenTransparentPass,t.waveDirection=null!=this.symbolLayer.waveDirection?V.headingVectorFromAngle(this.symbolLayer.waveDirection):i(0,0);const n=this.symbolLayer.waveStrength+\"-\"+this.symbolLayer.waterbodySize,s=U[n];t.waveStrength=s.waveStrength,t.waveTextureRepeat=s.textureRepeat,t.waveVelocity=s.waveVelocity,t.flowStrength=s.perturbationStrength,t.hasSlicePlane=this._context.slicePlaneEnabled,t.isDraped=this.draped,this._material=new R(t),this._context.stage.add(this._material)}layerOpacityChanged(){if(null==this._material)return;const e=this._material.parameters.color,t=this._getCombinedOpacity(this.symbolLayer.color,{hasIntrinsicColor:!0}),r=t<1||this.needsDrivenTransparentPass;this._material.setParameters({color:[e[0],e[1],e[2],t],transparent:r})}layerElevationInfoChanged(e,t,r){const o=this._elevationContext.mode,i=x(V.elevationModeChangeTypes,r,o);if(i!==v.UPDATE)return i;const n=b(o);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>n))}slicePlaneEnabledChanged(){return null!=this._material&&this._material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,r){const o=S(e.geometry);if(null==o)return null;const i=E(o,this._context.elevationProvider,this._context.renderCoordsHelper,t),n=i.position.length/3,s=y(2*n);this._createUVCoordsFromVertices(s,i.mapPositions,n,this._context.elevationProvider.spatialReference);const a=new k(i,s,this._context.layer.uid,e.uid);if(a.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(a),this._create3DShapeGeometries(a),this._logGeometryCreationWarnings(a.renderData,o.rings,\"rings\",\"WaterSymbol3DLayer\"),0===a.outGeometries.length)return null;const l=new O({geometries:a.outGeometries,castShadow:!1,layerUid:this._context.layer.uid,graphicUid:r}),c=new j(this,l,a.outGeometries,null,null,_,t);return c.alignedSampledElevation=a.renderData.sampledElevation,c.needsElevationUpdates=b(t.mode),c}_createUVCoordsFromVertices(e,r,i,n){const a=t(n);p(M);for(let t=0;t<i;t++)o(W,r[3*t],r[3*t+1]),g(M,W);s(M,M,a);const l=M[0]%V.unitSizeOfTexture,c=M[1]%V.unitSizeOfTexture;B[0]=M[0]-l,B[1]=M[1]-c;for(let t=0;t<i;t++)e[2*t]=(r[3*t]*a-B[0])/V.unitSizeOfTexture,e[2*t+1]=(r[3*t+1]*a-B[1])/V.unitSizeOfTexture}_create3DShapeGeometries(e){const t=e.renderData.polygons,o=e.uvCoords;for(const{count:i,index:n,position:s,mapPositions:a,holeIndices:l}of t){if(null!=this._context.clippingExtent&&(c(z),h(z,a),!m(z,this._context.clippingExtent)))continue;const t=r(a,l,3);if(0===t.length)continue;const u=f(o,2*n,2*i),d=G({material:this._material,indices:t,mapPositions:a,attributeData:{position:s,uv0:u}},e.objectAndLayerIdColor);e.outGeometries.push(d)}}_createAsOverlay(e){const t=S(e.geometry);if(null==t)return null;this._material.renderPriority=this._renderPriority;const r=L(t,this._context.overlaySR),o=r.position.length/3,i=y(2*o);this._createUVCoordsFromVertices(i,r.position,o,this._context.overlaySR);const n=new F(r,i,this._context.layer.uid,e.uid);return n.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(n),n.outBoundingBox=c(),this._createAsOverlayWater(n),this._logGeometryCreationWarnings(n.renderData,t.rings,\"rings\",\"WaterSymbol3DLayer\"),0===n.outGeometries.length?null:new D(this,n.outGeometries,n.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayWater(e){const t=e.uvCoords,o=e.renderData.polygons;for(const{position:i,holeIndices:n,index:s,count:a}of o){if(c(z),h(z,i),!m(z,this._context.clippingExtent))continue;u(e.outBoundingBox,z);const o=r(i,n,3);if(0===o.length)continue;const l=f(t,2*s,2*a),d=G({material:this._material,indices:o,attributeData:{position:i,uv0:l}},e.objectAndLayerIdColor);e.outGeometries.push(new P(d,e))}}static headingVectorFromAngle(e){const t=n(),r=a(e);return t[0]=Math.sin(r),t[1]=Math.cos(r),t}test(){return{...super.test(),create3DShape:e=>this._createAs3DShape(e.graphic,e.elevationContext,e.graphicUid),ensureMaterial:()=>this.ensureMaterial()}}}V.unitSizeOfTexture=100,V.elevationModeChangeTypes={definedChanged:v.RECREATE,staysOnTheGround:v.NONE,onTheGroundChanged:v.RECREATE};const B=n(),M=d(),W=n(),z=l();class k extends A{constructor(e,t,r,o){super(e,r,o),this.uvCoords=t}}class F extends A{constructor(e,t,r,o){super(e,r,o),this.uvCoords=t}}export{V as Graphics3DWaterSymbolLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport r from\"../../../../core/Logger.js\";import{Graphics3DExtrudeSymbolLayer as o}from\"./Graphics3DExtrudeSymbolLayer.js\";import{Graphics3DIconSymbolLayer as e}from\"./Graphics3DIconSymbolLayer.js\";import{Graphics3DLineSymbolLayer as t}from\"./Graphics3DLineSymbolLayer.js\";import{Graphics3DMeshFillSymbolLayer as i}from\"./Graphics3DMeshFillSymbolLayer.js\";import{Graphics3DObjectSymbolLayer as m}from\"./Graphics3DObjectSymbolLayer.js\";import{Graphics3DPathSymbolLayer as a}from\"./Graphics3DPathSymbolLayer.js\";import{Graphics3DPolygonFillSymbolLayer as s}from\"./Graphics3DPolygonFillSymbolLayer.js\";import{Graphics3DTextSymbolLayer as y}from\"./Graphics3DTextSymbolLayer.js\";import{Graphics3DWaterSymbolLayer as p}from\"./Graphics3DWaterSymbolLayer.js\";function c(o,e,t,i){const m=h[o.type]?.[e.type]||l[e.type];return m?new m(o,e,t,i):(r.getLogger(\"esri.views.3d.layers.graphics.Graphics3DSymbolLayerFactory\").error(\"GraphicsLayerFactory#make\",`unknown symbol type ${e.type}`),null)}const l={icon:e,object:m,line:t,path:a,fill:s,extrude:o,text:y,water:p};function n(r,o){l[r]=o}const h={\"mesh-3d\":{fill:i}};export{c as make,n as setSymbolClass};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/arrayUtils.js\";import{forEach as t}from\"../../../../core/asyncUtils.js\";import{onAbortOrThrow as r,throwIfAborted as s}from\"../../../../core/promiseUtils.js\";import o from\"./Graphics3DGraphic.js\";import{Graphics3DObject3DGraphicLayer as a}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayerCreationContext as n}from\"./Graphics3DSymbolCreationContext.js\";import{make as l}from\"./Graphics3DSymbolLayerFactory.js\";import{ApplyRendererDiffResult as i}from\"./interfaces.js\";import{Loadable as y,LoadStatus as h}from\"./Loadable.js\";import{totalSymbolComplexities as c}from\"./symbolComplexity.js\";class m extends y{set symbol(e){this._symbol=e,e.symbolLayers.forEach(((t,r)=>{const s=this.symbolLayers[r];null!=s&&(s.symbol=e,s.symbolLayer=t)}))}get symbol(){return this._symbol}constructor(e,t,r){super(t.schedule),this._symbol=e,this._context=t,this._backgroundLayers=r,this._destroyed=!1,this.symbolLayers=new Array,this.referenced=0,this._extentPadding=0}async doLoad(e){let o=this._symbol.symbolLayers;this._extentPadding=0,this._backgroundLayers&&(o=this._backgroundLayers.concat(o));const a=o.length;for(;this.symbolLayers.length<o.length;)this.symbolLayers.push(null);this.symbolLayers.length=o.length;const n=[];for(let t=0;t<a;t++){const s=o.at(t);if(!1===s.enabled)continue;p.renderPriority=1-(1+t)/a,p.renderPriorityStep=1/a,p.ignoreDrivers=s.ignoreDrivers;const i=l(this.symbol,s,this._context,p),y=r(e,(()=>{this.symbolLayers[t]=null,i.destroy()}));y&&n.push(y),this.symbolLayers[t]=i}if(await t(this.symbolLayers,(async(e,t)=>{if(null!=e)try{await e.load(),this._extentPadding+=Math.max(this._extentPadding,e.extentPadding)}catch{this.symbolLayers[t]=null}})),n.forEach((e=>e.remove())),s(e),this.symbolLayers.length&&!this.symbolLayers.some((e=>!!e)))throw new Error}getSymbolLayerSize(e){const t=this.symbolLayers[e];return null!=t?t.getCachedSize():null}get extentPadding(){return this._extentPadding}get symbologySnappingSupported(){return this.symbolLayers.some((e=>null!=e&&e.queryForSnapping))}createGraphics3DGraphic(e,t){const r=e.graphic,s=this.symbolLayers.map((t=>t?.createGraphics3DGraphic(e)??null)),a=this._context.arcade||this._context.featureExpressionInfoContext&&this._context.featureExpressionInfoContext.arcade&&this._context.featureExpressionInfoContext.arcade.modules||null;return new o(r,t||this,s,e.layer,a)}get complexity(){return c(this.symbolLayers.map((e=>null!=e?e.complexity:null)))}globalPropertyChanged(e,t){const r=this.symbolLayers.length;for(let s=0;s<r;s++){const r=this.symbolLayers[s],o=e=>{const t=e.layers[s];return t instanceof a?t:null};if(null!=r&&!r.globalPropertyChanged(e,t,o))return!1}return!0}applyRendererDiff(e,t){return this.loadStatus!==h.LOADED?i.RecreateSymbol:this.symbolLayers.reduce(((r,s)=>r!==i.RecreateSymbol&&null!=s?Math.min(r,s.applyRendererDiff(e,t)):r),i.FastUpdate)}prepareSymbolPatch(e){if(this.loadStatus===h.FAILED)return;if(\"partial\"!==e.diff.type)return;const t=e.diff.diff;if(!t.symbolLayers||\"partial\"!==t.symbolLayers.type)return;const r=t.symbolLayers.diff;this.symbolLayers.forEach(((t,s)=>{if(null==t)return;const o=r[s];if(o){const r={diff:o,graphics3DGraphicPatches:[],symbolLayerStatePatches:[]};t.prepareSymbolLayerPatch(r),e.symbolStatePatches.push(...r.symbolLayerStatePatches),r.graphics3DGraphicPatches.length&&e.graphics3DGraphicPatches.push(((e,t)=>{const o=e.layers[s];null!=o&&r.graphics3DGraphicPatches.forEach((e=>e(o,t)))}))}}))}updateGeometry(e,t){return this._updateGeometryOrTransform(e,((e,r)=>e.updateGeometry(r,t)))}updateTransform(e,t,r,s){return this._updateGeometryOrTransform(e,((e,o)=>e.updateTransform(o,t,r,s)))}_updateGeometryOrTransform(e,t){for(let r=0;r<this.symbolLayers.length;r++){const s=this.symbolLayers[r];if(null==s)continue;const o=e.layers[r];if(!o||!t(s,o))return!1}return!0}onRemoveGraphic(e){for(let t=0;t<this.symbolLayers.length;t++){const r=this.symbolLayers[t];if(null==r)continue;const s=e.layers[t];null!=s&&r.onRemoveGraphic(s)}}getFastUpdateStatus(){let e=0,t=0,r=0;return this.symbolLayers.forEach((s=>{null!=s&&(s.loadStatus===h.LOADING?e++:s.isFastUpdatesEnabled()?r++:t++)})),{loading:e,slow:t,fast:r}}async queryForSnapping(t,r,o,a){const n=this.symbolLayers.filter(e).filter((e=>null!=e.queryForSnapping)).map((e=>e.queryForSnapping(t,r,o,a))),l=await Promise.all(n);return s(a),l.flat()}destroy(){if(this.destroyed)console.error(\"Graphics3DSymbol.destroy called when already destroyed!\");else{super.destroy();for(const e of this.symbolLayers)null!=e&&e.destroy();this.symbolLayers.length=0,this._destroyed=!0}}get destroyed(){return this._destroyed}}const p=new n;export{m as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ApplyRendererDiffResult as t}from\"./interfaces.js\";import{Loadable as s}from\"./Loadable.js\";import{emptySymbolComplexity as r}from\"./symbolComplexity.js\";class i extends s{constructor(t,s,r){super(s),this.symbol=t,this._convert=r,this.symbologySnappingSupported=!1,this.graphics3DSymbol=null,this.referenced=0}getSymbolLayerSize(t){return null!=this.graphics3DSymbol?this.graphics3DSymbol.getSymbolLayerSize(t):null}get symbolLayers(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.symbolLayers:[]}get extentPadding(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.extentPadding:0}async doLoad(t){const s=await this.symbol.fetchSymbol({signal:t});s.id=this.symbol.id,this.graphics3DSymbol=this._convert(s),null!=this.graphics3DSymbol&&await this.graphics3DSymbol.load()}createGraphics3DGraphic(t){return null!=this.graphics3DSymbol?this.graphics3DSymbol.createGraphics3DGraphic(t,this):null}get complexity(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.complexity:r}globalPropertyChanged(t,s){return null!=this.graphics3DSymbol&&this.graphics3DSymbol.globalPropertyChanged(t,s)}applyRendererDiff(s,r){return null!=this.graphics3DSymbol?this.graphics3DSymbol.applyRendererDiff(s,r):t.RecreateSymbol}prepareSymbolPatch(t){null!=this.graphics3DSymbol&&this.graphics3DSymbol.prepareSymbolPatch(t)}updateGeometry(t,s){return null!=this.graphics3DSymbol&&this.graphics3DSymbol.updateGeometry(t,s)}updateTransform(t,s,r,i){return this.graphics3DSymbol?.updateTransform(t,s,r,i)??!1}onRemoveGraphic(){}getFastUpdateStatus(){return null!=this.graphics3DSymbol?this.graphics3DSymbol.getFastUpdateStatus():{loading:1,fast:0,slow:0}}destroy(){null!=this.graphics3DSymbol&&this.graphics3DSymbol.destroy(),this.graphics3DSymbol=void 0,super.destroy()}get destroyed(){return void 0===this.graphics3DSymbol}}export{i as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{a as r}from\"../../../chunks/vec2f64.js\";import{e as n,b as t,a as i,g as e,i as c,c as u,n as o}from\"../../../chunks/vec3.js\";import{c as s}from\"../../../chunks/vec3f64.js\";import{signedDistance as f,normal as l}from\"../../../geometry/support/plane.js\";function p(r,n,t){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]<t}function a(r,n,t){const i=n[0],e=n[1],c=n[2];return!(r[0][0]*i+r[0][1]*e+r[0][2]*c+r[0][3]>t)&&(!(r[1][0]*i+r[1][1]*e+r[1][2]*c+r[1][3]>t)&&(!(r[2][0]*i+r[2][1]*e+r[2][2]*c+r[2][3]>t)&&(!(r[3][0]*i+r[3][1]*e+r[3][2]*c+r[3][3]>t)&&(!(r[4][0]*i+r[4][1]*e+r[4][2]*c+r[4][3]>t)&&!(r[5][0]*i+r[5][1]*e+r[5][2]*c+r[5][3]>t)))))}function m(r,n,t,i){return b(r,n,null,k(i,n,t,!1))}function d(r,n){for(let t=0;t<6;t++){if(f(r[t],n)>0)return!1}return!0}function h(r,n,t,i){return b(r,n,t,k(i,n,t,!0))}function j(r,c,u,o){const s=n(u,t(r,o,c));return i(r,c,e(r,u,s))}const g={dir:s(),len:0,clip:r()};function k(r,n,i,s){const f=g;return r?(i&&s&&(f.len=c(n,i)),u(f.dir,r)):s?(f.len=c(n,i),t(f.dir,i,n),e(f.dir,f.dir,1/f.len)):(t(f.dir,i,n),o(f.dir,f.dir)),f}function v(r,t,i){const e=n(l(r),i.dir),c=-f(r,t);if(c<0&&e>=0)return!1;if(e>-1e-6&&e<1e-6)return c>0;if((c<0||e<0)&&!(c<0&&e<0))return!0;const u=c/e;return e>0?u<i.clip[1]&&(i.clip[1]=u):u>i.clip[0]&&(i.clip[0]=u),i.clip[0]<=i.clip[1]}function b(r,n,t,i){i.clip[0]=0,i.clip[1]=t?i.len:Number.MAX_VALUE;for(let e=0;e<r.length;e++)if(!v(r[e],n,i))return!1;return!0}export{j as closestPointOnRay,h as frustumLineSegment,d as frustumPoint,m as frustumRay,a as frustumSphere,p as planeSphere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{neverReached as t}from\"../../../core/compilerUtils.js\";import{lerp as e}from\"../../../core/mathUtils.js\";import{a as i}from\"../../../chunks/mat4.js\";import{c as r}from\"../../../chunks/mat4f64.js\";import{a as n,g as o,r as s,m as a,s as c,e as l}from\"../../../chunks/vec3.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as d,projectVectorToVector as _,projectBoundingRect as m}from\"../../../geometry/projection.js\";import{create as g,empty as u,expandWithVec3 as x}from\"../../../geometry/support/aaBoundingBox.js\";import{create as f,center as R}from\"../../../geometry/support/aaBoundingRect.js\";import{PlaneIndex as y}from\"../../../geometry/support/frustum.js\";import{create as j,fromPoints as A}from\"../../../geometry/support/lineSegment.js\";import{create as b,fromVectorsAndPoint as E,copy as S,negate as C,signedDistance as H}from\"../../../geometry/support/plane.js\";import{wrap as w}from\"../../../geometry/support/ray.js\";import{ViewingMode as B}from\"../../ViewingMode.js\";import{frustumLineSegment as G}from\"./intersectionUtils.js\";const M=.5*Math.PI,F=M/Math.PI*180;class N{constructor(t){this._renderCoordsHelper=t.renderCoordsHelper,this._extent=new Array(4),this._planes=new Array(6),this._maxSpan=0,this._center={origin:p(),direction:p()};for(let e=0;e<4;e++)this._extent[e]={origin:p(),direction:p(),cap:{next:null,direction:p()}},this._planes[e]=b();this._planes[y.NEAR]=b(),this._planes[y.FAR]=b(),this._planesWithoutFar=this._planes.slice(0,5)}update(t,e,i,r=!0){const a=this._extent;this._toRenderBoundingExtent(t,e,i),n(this._center.origin,a[0].origin,a[2].origin),o(this._center.origin,this._center.origin,.5),this._renderCoordsHelper.worldUpAtPosition(this._center.origin,this._center.direction),r||o(this._center.direction,this._center.direction,-1);for(let n=0;n<4;n++){const t=a[n];this._renderCoordsHelper.worldUpAtPosition(t.origin,t.direction);const e=a[3===n?0:n+1];t.cap.next=e.origin,s(t.cap.direction,t.origin,e.origin),E(t.direction,t.cap.direction,t.origin,this._planes[n]),r||o(t.direction,t.direction,-1)}E(a[0].cap.direction,a[1].cap.direction,a[0].origin,this._planes[y.NEAR]),r?C(this._planes[y.NEAR],this._planes[y.FAR]):(S(this._planes[y.FAR],this._planes[y.NEAR]),C(this._planes[y.NEAR],this._planes[y.NEAR])),this._maxSpan=Math.max(Math.abs(t[0]-t[2]),Math.abs(t[1]-t[3])),this._maxSpanSpatialReference=e,this._minGlobalAltitude=.9*h(this._maxSpanSpatialReference).radius}isVisibleInFrustum(t,e,i=!1){if(null==t)return!1;if(this._renderCoordsHelper.viewingMode===B.Global){const i=this._maxSpanSpatialReference.isGeographic?F:M*e;if(this._maxSpan>i)return!0;if(null!=t.altitude&&t.altitude>=this._minGlobalAltitude)return this._isVisibleInFrustumGlobal(t)}if(0===this._maxSpan){const e=this._extent[0];return!(i||!t.intersectsRay(w(e.origin,e.direction)))}for(let n=0;n<this._extent.length;n++){const e=this._extent[n];if(!i&&t.intersectsRay(w(e.origin,e.direction)))return!0;if(t.intersectsLineSegment(A(e.origin,e.cap.next,V),e.cap.direction))return!0}const r=i?this._planes:this._planesWithoutFar;for(let n=0;n<t.lines.length;n++){const e=t.lines[n];if(G(r,e.origin,e.endpoint,e.direction))return!0}return!1}_toRenderBoundingExtentGlobal(t,r,n){const o=5;R(t,U),U[2]=n,d(r,U,v,this._renderCoordsHelper.spatialReference),i(I,v),u(L);for(const{x0:i,x1:s,y0:c,y1:l}of k)for(let p=0;p<o;p++){const h=p/(o-1);U[0]=e(t[i],t[s],h),U[1]=e(t[c],t[l],h),U[2]=n,_(U,r,U,this._renderCoordsHelper.spatialReference),a(U,U,I),x(L,U)}c(this._extent[0].origin,L[0],L[1],L[2]),c(this._extent[1].origin,L[3],L[1],L[2]),c(this._extent[2].origin,L[3],L[4],L[2]),c(this._extent[3].origin,L[0],L[4],L[2]);for(let e=0;e<4;++e)a(this._extent[e].origin,this._extent[e].origin,v)}_toRenderBoundingExtentLocal(t,e,i){m(t,e,P,this._renderCoordsHelper.spatialReference),c(this._extent[0].origin,P[0],P[1],i),c(this._extent[1].origin,P[2],P[1],i),c(this._extent[2].origin,P[2],P[3],i),c(this._extent[3].origin,P[0],P[3],i)}_toRenderBoundingExtent(e,i,r){switch(this._renderCoordsHelper.viewingMode){case B.Global:this._toRenderBoundingExtentGlobal(e,i,r);break;case B.Local:this._toRenderBoundingExtentLocal(e,i,r);break;default:t(this._renderCoordsHelper.viewingMode)}}_isVisibleInFrustumGlobal(t){if(H(t.planes[y.NEAR],this._center.origin)<0&&l(this._center.direction,t.direction)<0)return!0;for(let e=0;e<4;e++){const i=this._extent[e];if(H(t.planes[y.NEAR],i.origin)<0&&l(i.direction,t.direction)<0)return!0}return!1}}const k=[{x0:0,y0:1,x1:2,y1:1},{x0:0,y0:3,x1:2,y1:3},{x0:0,y0:1,x1:0,y1:3},{x0:2,y0:1,x1:2,y1:3}],U=p(),v=r(),I=r(),L=g(),P=f(),V=j();export{N as FrustumExtentIntersection};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAI0T,IAAMA,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAE;AAAC,SAAK,mBAAiBD,KAAE,KAAK,QAAMC;AAAA,EAAC;AAAA,EAAC,aAAaD,KAAEC,KAAEC,KAAE;AAAC,WAAO,KAAK,MAAM,kBAAkB,aAAaF,KAAEC,KAAE,GAAE,KAAK,kBAAiBC,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,eAAeF,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,WAAO,KAAK,MAAM,kBAAkB,eAAeJ,KAAEC,KAAE,GAAE,KAAK,kBAAiBG,KAAEF,KAAEC,GAAC;AAAA,EAAC;AAAC;AAAC,IAAME,MAAN,MAAO;AAAA,EAAC,YAAYL,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,mBAAiBF,KAAE,KAAK,6BAA2BC,KAAE,KAAK,WAAS,IAAI,SAAM,KAAK,gBAAc,EAAC,GAAGC,KAAE,uBAAsB,KAAE,GAAE,KAAK,aAAWH,IAAE,aAAaM,GAAE,iBAAgB,IAAI;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,WAAW,OAAO;AAAA,EAAC;AAAA,EAAC,eAAeF,KAAEG,KAAEC,KAAET,MAAE,GAAE;AAAC,UAAMM,MAAE,EAAE,GAAEI,MAAE,EAAC,GAAEL,KAAE,GAAEG,KAAE,kBAAiBR,KAAE,QAAOM,KAAE,QAAOG,IAAC;AAAE,WAAO,KAAK,SAAS,KAAKC,GAAC,GAAE,EAAED,KAAG,MAAI;AAAC,QAAE,KAAK,UAASC,GAAC,GAAEJ,IAAE,OAAOK,GAAE,CAAC;AAAA,IAAC,CAAE,GAAEL,IAAE;AAAA,EAAO;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK,SAAS,SAAO;AAAA,EAAC;AAAA,EAAC,QAAQL,KAAE;AAAC,UAAMC,MAAE,KAAK;AAAS,SAAK,WAAS,CAAC;AAAE,UAAMG,MAAE,KAAK,2BAA2B;AAAE,QAAG,CAACA;AAAE,aAAOH,IAAE,QAAS,CAAAD,QAAGA,IAAE,OAAO,OAAO,CAAE,GAAE,KAAKA,IAAE,aAAa;AAAE,UAAMO,MAAEN,IAAE,IAAK,CAAAD,QAAG,CAACA,IAAE,GAAEA,IAAE,CAAC,CAAE,GAAED,MAAEE,IAAE,OAAQ,CAACD,KAAEC,QAAI,KAAK,IAAID,KAAEC,IAAE,gBAAgB,GAAG,IAAE,CAAC,GAAEI,MAAE,IAAII,GAAE,EAAC,QAAOF,KAAE,kBAAiB,KAAK,iBAAgB,CAAC,GAAEE,MAAER,IAAE,SAAO,KAAGA,IAAE,KAAM,CAAAD,QAAG,CAAC,CAACA,IAAE,MAAO,IAAE,IAAI,oBAAgB,MAAKW,MAAE,QAAMF,MAAEA,IAAE,SAAOR,IAAE,CAAC,EAAE;AAAO,QAAG,QAAMQ,KAAE;AAAC,UAAIT,MAAE;AAAE,MAAAC,IAAE,QAAS,CAAAG,QAAG,EAAEA,IAAE,QAAQ,MAAI;AAAC,QAAAJ,OAAII,IAAE,OAAO,OAAOM,GAAE,CAAC,GAAEV,QAAIC,IAAE,UAAQQ,IAAE,MAAM;AAAA,MAAC,CAAE,CAAE;AAAA,IAAC;AAAC,UAAMC,MAAE,EAAC,GAAG,KAAK,eAAc,kBAAiBX,KAAE,QAAOY,IAAC;AAAE,IAAAP,IAAE,eAAeC,KAAEK,GAAC,EAAE,KAAM,CAAAV,QAAG;AAAC,MAAAC,IAAE,QAAS,CAACA,KAAEC,QAAI;AAAC,gBAAMD,IAAE,UAAQA,IAAE,OAAO,UAAQA,IAAE,OAAO,OAAOS,GAAE,CAAC,IAAET,IAAE,OAAO,QAAQD,IAAE,SAAS,OAAOE,GAAC,EAAE,CAAC,CAAC;AAAA,MAAC,CAAE;AAAA,IAAC,CAAE,EAAE,MAAO,CAAAF,QAAG;AAAC,MAAAC,IAAE,QAAS,CAAAA,QAAGA,IAAE,OAAO,OAAOD,GAAC,CAAE;AAAA,IAAC,CAAE,GAAEA,IAAE,aAAa;AAAA,EAAC;AAAA,EAAC,IAAI,OAAM;AAAC,UAAMA,MAAE;AAAK,WAAM,EAAC,QAAO,MAAIA,IAAE,SAAS,SAAO,KAAGA,IAAE,QAAQY,EAAC,EAAC;AAAA,EAAC;AAAC;;;ACAp4D,IAAIC;AAAJ,IAAMC;AAAE,CAAC,SAASD,IAAE;AAAC,EAAAA,GAAEA,GAAE,OAAK,CAAC,IAAE,QAAOA,GAAEA,GAAE,cAAY,CAAC,IAAE,eAAcA,GAAEA,GAAE,SAAO,CAAC,IAAE,UAASA,GAAEA,GAAE,gBAAc,CAAC,IAAE,iBAAgBA,GAAEA,GAAE,cAAY,EAAE,IAAE,eAAcA,GAAEA,GAAE,YAAU,GAAG,IAAE;AAAW,EAAEA,OAAIA,KAAE,CAAC,EAAE,GAAE,SAASA,IAAE;AAAC,EAAAA,GAAEA,GAAE,UAAQ,CAAC,IAAE,WAAUA,GAAEA,GAAE,QAAM,EAAE,IAAE;AAAO,EAAEC,OAAIA,KAAE,CAAC,EAAE;;;ACA3N,SAASC,IAAEC,KAAE;AAAC,SAAO,QAAMA,IAAE;AAAY;;;ACA2mB,SAASC,IAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,QAAMC,MAAEL,IAAE,aAAYM,MAAED,IAAE;AAAW,MAAIE,MAAE;AAAE,aAAUC,OAAKF,KAAE;AAAC,QAAG,CAACL,IAAEO,GAAC;AAAE;AAAS,UAAK,EAAC,QAAOR,KAAE,iCAAgCM,IAAC,IAAEG,GAAED,KAAEP,KAAEC,KAAEC,KAAEC,GAAC;AAAE,IAAAG,OAAGD,KAAEN,OAAGK,IAAE,2BAA2BG,GAAC;AAAA,EAAC;AAAC,SAAOD,MAAED,IAAE;AAAM;AAAC,SAASI,GAAET,KAAEE,KAAEE,KAAEC,KAAEK,KAAEC,KAAE;AAAC,QAAMC,MAAEZ,IAAE,aAAYF,MAAEI,IAAE;AAAyB,MAAIO,MAAE;AAAE,MAAGG,IAAE;AAA6B,IAAAP,IAAEP,KAAEe,EAAC,GAAEC,GAAEF,KAAEC,GAAE,wBAAwB,GAAEJ,MAAEI,GAAE;AAAA,OAAqB;AAAC,IAAAR,IAAEP,KAAEe,EAAC;AAAE,0BAAoBX,IAAE,SAAOO,MAAEI,GAAE;AAAA,EAAiB;AAAC,QAAME,MAAEd,GAAEe,KAAEL,OAAGC,IAAE,cAAc,GAAEK,MAAE,EAAEC,IAAEH,IAAE,EAAE,GAAEA,IAAE,EAAE,GAAEA,IAAE,EAAE,CAAC;AAAE,EAAAhB,IAAE,+BAA6BoB,GAAE,CAAC,IAAErB,IAAE,GAAEqB,GAAE,CAAC,IAAErB,IAAE,GAAEqB,GAAE,CAAC,IAAEN,GAAE,GAAE,GAAEf,IAAE,kBAAiBqB,IAAEJ,KAAEL,IAAE,gBAAgB,MAAIC,MAAEV,GAAEU,KAAEI,GAAC,IAAEH,IAAE,iBAAeG,QAAIL,IAAE,4BAA4BG,GAAE,GAAEE,GAAC;AAAE,QAAMK,MAAEC,KAAEX,IAAE;AAAa,UAAO,KAAK,IAAIK,IAAE,EAAE,IAAEE,IAAE,CAAC,CAAC,KAAGG,OAAG,KAAK,IAAIL,IAAE,EAAE,IAAEE,IAAE,CAAC,CAAC,KAAGG,OAAG,KAAK,IAAIL,IAAE,EAAE,IAAEE,IAAE,CAAC,CAAC,KAAGG,SAAKT,MAAEV,GAAEU,KAAEI,GAAC,IAAEH,IAAE,iBAAeG,MAAGN;AAAC;AAAC,IAAMO,MAAEhB,IAAE;AAAE,SAASe,GAAEhB,KAAEC,KAAEE,KAAEE,KAAEC,KAAE;AAAC,QAAMC,MAAEP,IAAE,sBAAsB;AAAY,MAAG,QAAMO;AAAE,WAAO;AAAE,QAAMI,MAAEV,IAAE;AAAyB,EAAAI,IAAEM,KAAEG,EAAC;AAAE,QAAMF,MAAE,sBAAoBX,IAAE,OAAKa,GAAE,mBAAiB,GAAED,MAAEN,IAAE,cAAaR,MAAEC,IAAE,eAAcU,MAAEa;AAAE,EAAAV,IAAE,mBAAmBd,KAAEW,GAAC;AAAE,QAAMO,MAAE,EAAEE,IAAET,IAAE,EAAE,GAAEA,IAAE,EAAE,GAAEA,IAAE,EAAE,CAAC;AAAE,EAAAV,IAAE,+BAA6BoB,GAAE,CAAC,IAAET,IAAE,GAAES,GAAE,CAAC,IAAET,IAAE,GAAES,GAAE,CAAC,IAAEN,GAAE,GAAE,GAAEH,IAAE,kBAAiBS,IAAEV,KAAEJ,IAAE,gBAAgB,KAAGO,IAAE,mBAAmBd,KAAEW,GAAC,KAAGJ,IAAE,4BAA4BQ,GAAE,GAAEJ,GAAC;AAAE,QAAMM,MAAEM,KAAEhB,IAAE;AAAa,UAAON,IAAE,+BAA6B,KAAK,IAAIU,IAAE,EAAE,IAAEO,IAAE,CAAC,CAAC,KAAGD,OAAG,KAAK,IAAIN,IAAE,EAAE,IAAEO,IAAE,CAAC,CAAC,KAAGD,OAAG,KAAK,IAAIN,IAAE,EAAE,IAAEO,IAAE,CAAC,CAAC,KAAGD,QAAIH,IAAE,mBAAmBd,KAAEW,GAAC,GAAEE;AAAC;AAAC,SAASM,GAAElB,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,QAAMC,MAAEL,IAAE,aAAYM,MAAED,IAAE;AAAW,MAAG,MAAIC,IAAE;AAAO,WAAO;AAAE,MAAIC,MAAE,GAAEC,MAAE,MAAKG,MAAE,GAAEZ,MAAE;AAAG,aAAUW,OAAKJ,KAAE;AAAC,QAAG,CAACL,IAAES,GAAC;AAAE;AAAS,UAAMV,MAAEU,IAAE,iBAAiB,IAAIc,GAAE,QAAQ;AAAE,QAAGxB,QAAIQ,KAAE;AAAC,YAAK,EAAC,QAAOH,KAAE,iCAAgCC,IAAC,IAAEG,GAAEC,KAAET,KAAEC,KAAEC,KAAEC,GAAC;AAAE,MAAAO,MAAEL,KAAEE,MAAER,KAAED,MAAEM;AAAA,IAAC;AAAC,IAAAN,OAAGM,IAAE,2BAA2BK,GAAC,GAAEH,OAAGI;AAAA,EAAC;AAAC,SAAOJ,MAAED,IAAE;AAAM;AAAC,IAAMgB,KAAE;AAAR,IAAYF,KAAElB,GAAE;AAAhB,IAAkBmB,MAAEnB,GAAE;AAAtB,IAAwBuB,KAAEvB,GAAE;AAA5B,IAA8BqB,KAAEtB,IAAE;AAAlC,IAAoCkB,KAAEjB,GAAE;AAAxC,IAA0CY,KAAE,IAAIY;AAAE,SAASjB,GAAET,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,MAAIE,MAAE;AAAG,QAAMC,MAAEP,IAAE,sBAAqBY,MAAEX,IAAE;AAA6B,EAAAoB,IAAE,CAAC,IAAEd,IAAE,EAAE,GAAEc,IAAE,CAAC,IAAEd,IAAE,EAAE,GAAEc,IAAE,CAAC,IAAEd,IAAE,EAAE,GAAEP,IAAE,uBAAuB;AAAE,QAAMD,MAAEC,IAAE,oBAAoBwB,GAAE,QAAQ,GAAEd,MAAEX,IAAE,MAAKkB,MAAElB,IAAE,MAAKiB,MAAEN,IAAE,SAAOO,KAAEC,MAAE,IAAIb,IAAEL,IAAE,cAAaE,GAAC;AAAE,MAAIqB,MAAE,GAAEJ,MAAE;AAAE,WAAQR,MAAE,GAAEA,MAAEK,KAAEL,OAAI;AAAC,QAAGc,GAAE,CAAC,IAAEf,IAAEa,GAAC,GAAEE,GAAE,CAAC,IAAEf,IAAEa,MAAE,CAAC,GAAEE,GAAE,CAAC,IAAEf,IAAEa,MAAE,CAAC,GAAEpB,IAAEe,KAAEJ,EAAC,GAAEF,QAAIO,OAAGL,GAAE,mBAAkBd,IAAE;AAA4B,MAAAU,IAAEa,GAAC,IAAEL,IAAE,MAAMA,IAAE,MAAM,GAAER,IAAEa,MAAE,CAAC,IAAEL,IAAE,MAAMA,IAAE,SAAO,CAAC,GAAER,IAAEa,MAAE,CAAC,IAAET,GAAE,GAAE,GAAEJ,KAAER,KAAEqB,KAAEb,KAAEN,IAAE,kBAAiBmB,KAAE,CAAC,GAAEb,IAAEa,GAAC,KAAGF,IAAE,CAAC,GAAEX,IAAEa,MAAE,CAAC,KAAGF,IAAE,CAAC,GAAEX,IAAEa,MAAE,CAAC,KAAGF,IAAE,CAAC,GAAEf,MAAE;AAAA,SAAO;AAAC,MAAAc,GAAE,CAAC,IAAEV,IAAEa,GAAC,IAAEF,IAAE,CAAC,GAAED,GAAE,CAAC,IAAEV,IAAEa,MAAE,CAAC,IAAEF,IAAE,CAAC,GAAED,GAAE,CAAC,IAAEV,IAAEa,MAAE,CAAC,IAAEF,IAAE,CAAC,GAAEjB,IAAE,YAAYgB,IAAEN,GAAE,CAAC,GAAEJ,IAAEa,GAAC,IAAEH,GAAE,CAAC,IAAEC,IAAE,CAAC,GAAEX,IAAEa,MAAE,CAAC,IAAEH,GAAE,CAAC,IAAEC,IAAE,CAAC,GAAEX,IAAEa,MAAE,CAAC,IAAEH,GAAE,CAAC,IAAEC,IAAE,CAAC;AAAE,YAAMrB,MAAEsB,KAAElB,IAAE;AAAa,OAAC,KAAK,IAAIqB,GAAE,CAAC,IAAEf,IAAEa,GAAC,CAAC,KAAGvB,OAAG,KAAK,IAAIyB,GAAE,CAAC,IAAEf,IAAEa,MAAE,CAAC,CAAC,KAAGvB,OAAG,KAAK,IAAIyB,GAAE,CAAC,IAAEf,IAAEa,MAAE,CAAC,CAAC,KAAGvB,SAAKM,MAAE;AAAA,IAAG;AAAC,IAAAiB,OAAGN,KAAEC,IAAE,UAAQ;AAAA,EAAC;AAAC,SAAOC,OAAGH,KAAE,EAAC,QAAOV,KAAE,iCAAgCa,IAAC;AAAC;;;ACAj0G,IAAMQ,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAEC,KAAEC,KAAE;AAAC,SAAK,UAAQF,KAAE,KAAK,gBAAcC,KAAE,KAAK,QAAMC;AAAA,EAAC;AAAC;;;ACA0kB,IAAMC,KAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAE;AAAC,SAAK,eAAaF,KAAE,KAAK,gBAAcC,KAAE,KAAK,aAAWC;AAAA,EAAC;AAAC;AAAC,IAAMC,KAAN,MAAO;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAM,CAAC,CAAC,KAAK,YAAY;AAAA,EAAoB;AAAA,EAAC,YAAYH,KAAEC,KAAEC,KAAEE,KAAEC,KAAEC,KAAEC,KAAEC,MAAE,MAAK;AAAC,SAAK,wBAAsBR,KAAE,KAAK,cAAYC,KAAE,KAAK,oBAAkBC,KAAE,KAAK,mBAAiBE,KAAE,KAAK,kBAAgBC,KAAE,KAAK,mBAAiBC,KAAE,KAAK,mBAAiBC,KAAE,KAAK,aAAWC,KAAE,KAAK,OAAK,YAAW,KAAK,cAAY,MAAK,KAAK,WAAS,OAAG,KAAK,gBAAc,OAAG,KAAK,0BAAwB,GAAE,KAAK,wBAAsB,OAAG,KAAK,oCAAkC;AAAA,EAAE;AAAA,EAAC,WAAWR,KAAE;AAAC,SAAK,cAAYA;AAAE,UAAMC,MAAED,IAAE;AAAM,IAAAC,IAAE,QAAQ,KAAK,gBAAgB,GAAEA,IAAE,QAAQ,KAAK,iBAAiB,GAAEA,IAAE,IAAI,KAAK,WAAW;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,QAAG,CAAC,KAAK;AAAY;AAAO,UAAMD,MAAE,KAAK,YAAY;AAAM,IAAAA,IAAE,WAAW,KAAK,gBAAgB,GAAEA,IAAE,WAAW,KAAK,iBAAiB,GAAEA,IAAE,OAAO,KAAK,WAAW,GAAE,KAAK,kBAAgB,KAAK,YAAY,OAAO,KAAK,WAAW,GAAE,KAAK,gBAAc;AAAI,UAAMC,MAAED,IAAE,SAAS,eAAe;AAAE,IAAAC,IAAE,UAAU,KAAK,WAAW,KAAGA,IAAE,aAAa,KAAK,WAAW,GAAE,KAAK,YAAY,QAAQ,GAAE,QAAM,KAAK,mBAAiB,KAAK,gBAAgB,QAAQ,GAAE,KAAK,WAAS,OAAG,KAAK,cAAY;AAAA,EAAI;AAAA,EAAC,oBAAoBD,KAAEC,KAAE;AAAC,QAAG,QAAM,KAAK;AAAW;AAAO,UAAMC,MAAEO,GAAE,KAAK,WAAW,YAAY;AAAE,QAAIL,MAAE;AAAG,eAAUC,OAAK,KAAK,WAAW;AAAc,MAAAA,IAAE,uBAAqBH,QAAIG,IAAE,qBAAmBH,KAAEE,MAAE;AAAI,IAAAA,OAAG,KAAK,gBAAgBH,GAAC;AAAE,SAAK,YAAY,MAAM,SAAS,eAAe,EAAE,4BAA4B,KAAK,aAAY,CAACD,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,yBAAyBA,KAAEC,KAAE;AAAC,QAAG,QAAM,KAAK;AAAW;AAAO,SAAK,YAAY,MAAM,SAAS,eAAe,EAAE,4BAA4B,KAAK,aAAY,KAAK,WAAW,eAAc,EAAC,eAAcD,IAAC,GAAE,CAACC,GAAC,GAAE,KAAK,WAAW,WAAW,gBAAcD;AAAA,EAAC;AAAA,EAAC,cAAcA,KAAE;AAAC,QAAG,QAAM,KAAK,eAAa,KAAK,aAAWA,QAAI,KAAK,WAASA,KAAE,KAAK,YAAY,UAAQA,KAAE,KAAK,YAAU,CAAC,KAAK,kBAAgB,KAAK,YAAY,IAAI,KAAK,WAAW,GAAE,KAAK,gBAAc,OAAI,KAAK,aAAY;AAAC,YAAMC,MAAE,KAAK,YAAY,MAAM,SAAS,eAAe;AAAE,MAAAA,IAAE,UAAU,KAAK,WAAW,IAAEA,IAAE,uBAAuB,KAAK,aAAYD,GAAC,IAAEA,OAAG,KAAK,uBAAuBC,KAAE,KAAE;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK;AAAA,EAAQ;AAAA,EAAC,mBAAmBD,KAAEC,KAAEC,KAAEE,KAAE;AAAC,QAAG,QAAM,KAAK;AAAiB;AAAO,YAAMF,OAAGQ,IAAE,KAAK,iBAAiB,8BAA6BR,GAAC;AAAE,UAAMG,MAAE,CAACH,KAAEE,QAAIO,IAAET,KAAEF,KAAE,KAAK,kBAAiBC,KAAEG,GAAC;AAAE,SAAK,0BAAwB,KAAK,iBAAiB,MAAK,KAAK,kBAAiBJ,IAAE,kBAAiBK,KAAEJ,GAAC,GAAE,KAAK,gBAAgBG,GAAC;AAAA,EAAC;AAAA,EAAC,2BAA2BJ,KAAEC,KAAEC,KAAE;AAAC,UAAME,MAAE,CAACH,KAAEC,QAAI;AAAC,MAAAA,IAAE,mBAAiBF,KAAEE,IAAE,2BAAyB,GAAEA,IAAE,IAAEF;AAAA,IAAC;AAAE,SAAK,0BAAwB,KAAK,iBAAiB,MAAK,KAAK,kBAAiB,MAAKI,KAAEH,GAAC,GAAE,KAAK,gBAAgBC,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBD,MAAEK,GAAE,GAAE;AAAC,WAAOC,GAAEN,KAAEW,GAAE,KAAK,YAAY,0BAA0B,MAAM,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BZ,MAAEI,GAAE,GAAE;AAAC,UAAMH,MAAE,KAAK,YAAY;AAA0B,WAAOY,GAAEb,KAAEC,IAAE,GAAG,GAAE,EAAED,KAAEC,IAAE,GAAG,GAAED;AAAA,EAAC;AAAA,EAAC,wBAAwBA,KAAE;AAAC,QAAG,KAAK,mCAAkC;AAAC,YAAMC,MAAE,KAAK,YAAY;AAAqB,MAAAD,IAAE,OAAO,OAAO,CAAC,KAAGC,IAAE,EAAE,GAAED,IAAE,OAAO,OAAO,CAAC,KAAGC,IAAE,EAAE,GAAED,IAAE,OAAO,OAAO,CAAC,KAAGC,IAAE,EAAE,GAAED,IAAE,OAAO;AAAA,IAAK;AAAM,iBAAUI,OAAK,KAAK,YAAY;AAAW,QAAAA,IAAE,wBAAwBU,EAAC,MAAI,EAAEA,IAAEA,IAAE,KAAK,YAAY,oBAAoB,GAAE,EAAEd,IAAE,OAAO,QAAOA,IAAE,OAAO,QAAOc,EAAC,GAAEd,IAAE,OAAO;AAAA,EAAM;AAAA,EAAC,MAAM,wBAAwBA,KAAEE,KAAEE,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,0BAA0BD,GAAC,GAAES,MAAEC,IAAEC,MAAEC,GAAEX,GAAC,IAAE,IAAEQ,IAAE;AAAO,aAAQP,MAAE,GAAEA,MAAES,KAAET,OAAI;AAAC,YAAMR,MAAEe,IAAEP,GAAC;AAAE,MAAAW,IAAE,CAAC,IAAEZ,IAAEP,IAAE,CAAC,CAAC,GAAEmB,IAAE,CAAC,IAAEZ,IAAEP,IAAE,CAAC,CAAC,GAAEmB,IAAE,CAAC,IAAEZ,IAAEP,IAAE,CAAC,CAAC,GAAE,EAAEmB,KAAEA,KAAE,KAAK,YAAY,cAAc,GAAEC,GAAE,IAAEZ,GAAC,IAAEW,IAAE,CAAC,GAAEC,GAAE,IAAEZ,MAAE,CAAC,IAAEW,IAAE,CAAC,GAAEC,GAAE,IAAEZ,MAAE,CAAC,IAAEW,IAAE,CAAC;AAAA,IAAC;AAAC,QAAG,CAACnB,IAAEoB,IAAE,GAAEH,GAAC;AAAE,aAAO;AAAK,IAAAI,GAAEd,GAAC;AAAE,QAAIe,MAAE;AAAK,SAAK,kCAAgCA,MAAE,KAAK,8BAA8B;AAAG,aAAQrB,MAAE,GAAEA,MAAE,IAAEgB,KAAEhB,OAAG,GAAE;AAAC,eAAQD,MAAE,GAAEA,MAAE,GAAEA;AAAI,QAAAO,IAAEP,GAAC,IAAE,KAAK,IAAIO,IAAEP,GAAC,GAAEoB,GAAEnB,MAAED,GAAC,CAAC,GAAEO,IAAEP,MAAE,CAAC,IAAE,KAAK,IAAIO,IAAEP,MAAE,CAAC,GAAEoB,GAAEnB,MAAED,GAAC,CAAC;AAAE,MAAAsB,OAAGlB,IAAE,KAAK,EAAC,UAASgB,GAAE,MAAMnB,KAAEA,MAAE,CAAC,GAAE,yBAAwBqB,IAAC,CAAC;AAAA,IAAC;AAAC,QAAGpB,OAAGA,IAAE,WAAS,sBAAoB,KAAK,iBAAiB,MAAK;AAAC,QAAEK,KAAEO,EAAC;AAAE,YAAMd,MAAE,wBAAsB,KAAK,iBAAiB,OAAK,UAAQ;AAAS,UAAIC,MAAE;AAAE,UAAGC,IAAE;AAAiB,QAAAD,MAAEC,IAAE,QAAQ,aAAaY,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEd,GAAC,KAAG;AAAA;AAAO,YAAG;AAAC,gBAAMI,MAAEmB,GAAEhB,KAAEL,IAAE,QAAQ,kBAAiBA,GAAC;AAAE,UAAAD,MAAE,MAAMC,IAAE,QAAQ,eAAeY,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAET,KAAED,KAAEJ,GAAC,KAAG;AAAA,QAAC,SAAOwB,KAAE;AAAA,QAAC;AAAC,QAAEjB,KAAE,GAAE,GAAE,CAAC,KAAK,0BAAwBN,GAAC;AAAA,IAAC;AAAC,WAAOM;AAAA,EAAC;AAAA,EAAC,eAAeP,KAAEC,KAAE;AAAC,IAAAD,QAAIC,IAAE,aAAWA,IAAE,UAAU,KAAK,aAAY,KAAK,YAAY,UAAU,CAAC,GAAED,QAAIC,IAAE,gBAAcA,IAAE,UAAU,KAAK,aAAY,KAAK,YAAY,aAAa,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBD,KAAE;AAAC,IAAAA,IAAE,aAAa,KAAK,WAAW;AAAA,EAAC;AAAA,EAAC,gBAAgBA,KAAE;AAAC,QAAG,QAAM,KAAK;AAAW;AAAO,UAAMC,MAAE,KAAK,YAAY,MAAM,SAAS,eAAe;AAAE,SAAK,WAAS,KAAK,uBAAuBA,KAAED,GAAC,IAAEC,IAAE,aAAa,KAAK,WAAW;AAAA,EAAC;AAAA,EAAC,uBAAuBD,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK;AAAW,QAAG,QAAMA;AAAE;AAAO,UAAME,MAAEK,GAAEP,IAAE,YAAY;AAAE,eAAUG,OAAKH,IAAE;AAAc,MAAAG,IAAE,qBAAmBD;AAAE,IAAAJ,IAAE,oBAAoB,KAAK,aAAYE,IAAE,eAAcA,IAAE,YAAW,CAACD,GAAC,EAAE,KAAM,MAAE;AAJl7K;AAIo7K,wBAAK,gBAAL,mBAAkB;AAAA,KAAO;AAAA,EAAC;AAAC;AAAC,SAASQ,GAAET,KAAE;AAAC,SAAOA,IAAE,UAAU,IAAEA,IAAE,WAAW,cAAYa,GAAE,cAAYA,GAAE,SAAOA,GAAE;AAAS;AAAC,IAAMO,KAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC;AAAxD,IAA0DD,MAAEb,GAAE;AAA9D,IAAgEQ,KAAER,GAAE;AAApE,IAAsEU,KAAE,CAAC,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,CAAC;;;ACAvrL,IAAMS,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAEC,MAAE,MAAK;AAAC,SAAK,YAAUA,KAAE,KAAK,kBAAgBD,OAAG;AAAA,EAAC;AAAC;;;ACAzE,IAAIE;AAAE,CAAC,SAASA,KAAE;AAAC,EAAAA,IAAEA,IAAE,iBAAe,CAAC,IAAE,kBAAiBA,IAAEA,IAAE,mBAAiB,CAAC,IAAE,oBAAmBA,IAAEA,IAAE,aAAW,CAAC,IAAE;AAAY,EAAEA,QAAIA,MAAE,CAAC,EAAE;;;ACAvB,IAAMC,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAE;AAAC,SAAK,WAASA,KAAE,KAAK,mBAAiB,MAAK,KAAK,cAAYC,IAAE,SAAQ,KAAK,aAAW,MAAK,KAAK,UAAQ,MAAK,KAAK,SAAO;AAAA,EAAI;AAAA,EAAC,UAAS;AAAC,SAAK,UAAU;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK;AAAA,EAAW;AAAA,EAAC,KAAKD,KAAED,KAAE;AAAC,WAAO,KAAK,gBAAcE,IAAE,UAAQD,OAAGA,IAAE,GAAE,KAAK,WAAS,QAAQ,QAAQ,KAAG,KAAK,gBAAcC,IAAE,UAAQF,OAAGA,IAAE,KAAK,UAAU,GAAE,KAAK,WAAS,QAAQ,QAAQ,MAAI,QAAM,KAAK,YAAU,KAAK,mBAAiB,IAAI,mBAAgB,KAAK,UAAQ,KAAK,OAAO,KAAK,iBAAiB,MAAM,EAAE,KAAM,MAAI;AAAC,WAAK,mBAAiB,MAAK,KAAK,cAAYE,IAAE;AAAA,IAAM,GAAI,CAAAD,QAAG;AAAC,YAAM,KAAK,aAAWA,KAAE,KAAK,mBAAiB,MAAK,KAAK,cAAYC,IAAE,QAAO,CAAC,EAAED,GAAC,KAAG,KAAK,UAAQA,IAAE,WAAS,KAAK,OAAO,KAAKA,IAAE,OAAO,GAAEA;AAAA,IAAC,CAAE,IAAG,KAAK,QAAQ,KAAKA,KAAED,GAAC,EAAE,MAAO,MAAI;AAAA,IAAC,CAAE,GAAE,KAAK;AAAA,EAAQ;AAAA,EAAC,YAAW;AAAC,YAAM,KAAK,mBAAiB,KAAK,mBAAiBG,GAAE,KAAK,gBAAgB,IAAE,KAAK,gBAAcD,IAAE,YAAU,KAAK,cAAYA,IAAE,SAAQ,KAAK,UAAQ;AAAA,EAAI;AAAC;AAAC,IAAIA;AAAE,CAAC,SAASD,KAAE;AAAC,EAAAA,IAAEA,IAAE,UAAQ,CAAC,IAAE,WAAUA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,IAAEA,IAAE,SAAO,CAAC,IAAE;AAAQ,EAAEC,QAAIA,MAAE,CAAC,EAAE;;;ACAnoC,IAAME,MAAE;AAAR,IAAUC,MAAE;AAAZ,IAAcC,MAAE;;;ACA2C,IAAMC,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAED,MAAE,MAAK;AAAC,SAAK,WAASC,KAAE,KAAK,WAASD;AAAA,EAAC;AAAC;AAAC,SAASE,IAAEF,KAAE;AAAC,QAAME,MAAE,CAAC;AAAE,SAAOF,IAAE,OAAO,QAAS,CAAAC,QAAGA,IAAE,WAAW,QAAS,CAAAA,QAAGC,IAAE,KAAKD,IAAE,SAAS,QAAQ,CAAE,CAAE,GAAE,EAAEC,GAAC;AAAC;AAAC,SAASC,IAAEH,KAAE;AAAC,QAAME,MAAE,IAAI;AAAM,SAAOF,IAAE,OAAO,QAAS,CAAAC,QAAG;AAAC,IAAAA,IAAE,WAAW,QAAS,CAAAA,QAAG;AAAC,cAAMA,IAAE,YAAUC,IAAE,KAAK,GAAGD,IAAE,QAAQ;AAAA,IAAC,CAAE;AAAA,EAAC,CAAE,GAAE,EAAEC,GAAC;AAAC;AAAC,SAASE,IAAEJ,KAAE;AAAC,QAAME,MAAEF,IAAE,WAAW,IAAK,CAAAC,QAAGA,IAAE,QAAS;AAAE,SAAO,EAAEC,GAAC;AAAC;AAAC,SAASG,IAAEL,KAAE;AAAC,QAAME,MAAE,CAAC;AAAE,SAAOF,IAAE,OAAO,QAAS,CAAAC,QAAG;AAAC,IAAAA,IAAE,WAAW,QAAS,CAAAA,QAAG;AAAC,MAAAC,IAAE,KAAKD,IAAE,QAAQ;AAAA,IAAC,CAAE;AAAA,EAAC,CAAE,GAAE,EAAEC,GAAC;AAAC;;;ACAxM,SAASI,IAAEC,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAI;AAAA,IAAS,KAAI;AAAA,IAAO,KAAI;AAAA,IAAU,KAAI;AAAA,IAAW,KAAI;AAAA,IAAO,KAAI;AAAA,IAAgB,KAAI;AAAc,aAAM;AAAA,EAAE;AAAC,SAAM;AAAE;AAAC,SAASC,IAAEF,KAAEE,KAAE;AAAC,QAAMC,MAAE,CAACC,KAAEC,KAAEC,MAAE,WAAM,EAAC,QAAOF,IAAE,IAAK,CAAAA,QAAG;AAAC,UAAMG,MAAEF,IAAED,IAAE,WAAW;AAAE,WAAOE,OAAG,GAAEC,GAAC,GAAE,EAAC,YAAW,CAAC,IAAIN,IAAEM,GAAC,CAAC,GAAE,WAAUA,IAAE,aAAW,GAAE,sBAAqBH,IAAE,qBAAoB;AAAA,EAAC,CAAE,EAAC;AAAG,UAAOJ,KAAE;AAAA,IAAC,KAAI;AAAS,aAAOG,IAAE,CAAC,EAAC,aAAY,GAAE,sBAAqB,EAAC,GAAE,EAAC,aAAY,GAAE,sBAAqB,EAAC,GAAE,EAAC,aAAY,GAAE,sBAAqB,GAAE,GAAE,EAAC,aAAY,GAAE,sBAAqB,GAAE,GAAE,EAAC,aAAY,GAAE,sBAAqB,IAAG,CAAC,GAAG,CAAAF,QAAG,GAAEC,KAAE,KAAGD,KAAE,IAAE,CAAE;AAAA,IAAE,KAAI;AAAO,aAAOE,IAAE,CAAC,EAAC,aAAY,GAAE,sBAAqB,EAAC,CAAC,GAAG,MAAIK,GAAEN,KAAE,CAAC,CAAE;AAAA,IAAE,KAAI;AAAO,aAAOC,IAAEM,KAAG,CAAAR,QAAG,GAAEC,KAAE,GAAE,KAAGD,KAAE,KAAE,GAAG,IAAE;AAAA,IAAE,KAAI;AAAgB,aAAOE,IAAEM,KAAG,CAAAR,QAAG,GAAEC,KAAE,GAAE,KAAGD,KAAE,IAAE,GAAG,IAAE;AAAA,IAAE,KAAI;AAAW,aAAOE,IAAEM,KAAG,CAAAR,QAAG,GAAEC,KAAE,GAAE,KAAGD,KAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,GAAE,CAAC,CAAE;AAAA,IAAE,KAAI;AAAc,aAAOE,IAAE,CAAC,EAAC,aAAY,GAAE,sBAAqB,EAAC,CAAC,GAAG,MAAI,GAAED,KAAE,CAAC,GAAG,IAAE;AAAA,IAAE,KAAI;AAAU,aAAOC,IAAE,CAAC,EAAC,aAAY,GAAE,sBAAqB,EAAC,CAAC,GAAG,MAAIO,GAAER,KAAE,CAAC,GAAG,IAAE;AAAA,IAAE;AAAQ;AAAA,EAAM;AAAC;AAAC,IAAMO,MAAE,CAAC,EAAC,aAAY,GAAE,sBAAqB,EAAC,GAAE,EAAC,aAAY,IAAG,sBAAqB,EAAC,GAAE,EAAC,aAAY,IAAG,sBAAqB,GAAE,CAAC;;;ACAj1B,IAAME,KAAE,EAAC,sBAAqB,GAAE,yBAAwB,GAAE,qBAAoB,GAAE,WAAU,MAAG,QAAO,EAAC,iBAAgB,GAAE,oBAAmB,GAAE,sBAAqB,GAAE,eAAc,GAAE,QAAO,EAAC,iBAAgB,GAAE,sBAAqB,GAAE,oBAAmB,EAAC,EAAC,EAAC;AAAE,SAASC,GAAEC,KAAE;AAAC,MAAG,gBAAcA,IAAE;AAAK,WAAOF;AAAE,SAAOG,IAAED,IAAE,aAAa,QAAQ,EAAE,IAAK,CAAAE,QAAGC,IAAEH,KAAEE,GAAC,CAAE,CAAC;AAAC;AAAC,SAASD,IAAED,KAAE;AAAC,MAAIE,MAAE,GAAEE,MAAE,GAAEC,MAAE,GAAEC,MAAE,OAAGC,MAAE;AAAE,QAAMC,MAAE,EAAC,iBAAgB,GAAE,sBAAqB,GAAE,oBAAmB,GAAE,eAAc,GAAE,QAAO,EAAC,iBAAgB,GAAE,sBAAqB,GAAE,oBAAmB,EAAC,EAAC;AAAE,aAAUC,OAAKT;AAAE,YAAMS,QAAIP,OAAGO,IAAE,sBAAqBL,OAAGK,IAAE,yBAAwBJ,OAAGI,IAAE,qBAAoBD,IAAE,mBAAiBC,IAAE,OAAO,iBAAgBD,IAAE,wBAAsBC,IAAE,OAAO,sBAAqBD,IAAE,sBAAoBC,IAAE,OAAO,oBAAmBD,IAAE,iBAAeC,IAAE,OAAO,eAAcD,IAAE,OAAO,mBAAiBC,IAAE,OAAO,iBAAgBD,IAAE,OAAO,wBAAsBC,IAAE,OAAO,sBAAqBD,IAAE,OAAO,sBAAoBC,IAAE,OAAO,oBAAmBH,MAAEA,OAAGG,IAAE,WAAU,EAAEF;AAAG,SAAM,EAAC,sBAAqBL,KAAE,yBAAwBE,KAAE,qBAAoBC,KAAE,WAAUC,KAAE,QAAOE,KAAE,iBAAgBD,IAAC;AAAC;AAAC,SAASG,IAAEV,KAAE;AAAC,QAAME,MAAED,IAAED,GAAC;AAAE,SAAOE,IAAE,kBAAgB,MAAIA,IAAE,wBAAsBA,IAAE,iBAAgBA,IAAE,2BAAyBA,IAAE,iBAAgBA,IAAE,uBAAqBA,IAAE,iBAAgBA,IAAE,OAAO,mBAAiBA,IAAE,iBAAgBA,IAAE,OAAO,wBAAsBA,IAAE,iBAAgBA,IAAE,OAAO,sBAAoBA,IAAE,iBAAgBA,IAAE,OAAO,iBAAeA,IAAE,iBAAgBA,IAAE,OAAO,OAAO,mBAAiBA,IAAE,iBAAgBA,IAAE,OAAO,OAAO,wBAAsBA,IAAE,iBAAgBA,IAAE,OAAO,OAAO,sBAAoBA,IAAE,kBAAiBA;AAAC;AAAC,IAAMS,KAAE,CAAC;AAAE,SAASR,IAAEI,KAAEE,KAAE;AAJ7yE;AAI8yE,QAAMG,MAAEC,GAAEN,KAAEE,GAAC,GAAEX,MAAEgB,IAAEL,GAAC,IAAE,IAAE;AAAE,UAAOA,IAAE,MAAK;AAAA,IAAC,KAAI;AAAU,aAAM,EAAC,sBAAqB,IAAG,yBAAwB,GAAE,qBAAoBX,KAAE,WAAU,OAAG,QAAOc,IAAC;AAAA,IAAE,KAAI;AAAO,aAAM,cAAYL,IAAE,OAAK,EAAC,sBAAqB,GAAE,yBAAwB,GAAE,qBAAoBT,KAAE,WAAU,OAAG,QAAOc,IAAC,IAAE,QAAMH,IAAE,WAASA,IAAE,QAAQ,OAAK,IAAE,EAAC,sBAAqB,IAAG,yBAAwB,GAAE,qBAAoB,GAAE,WAAU,OAAG,QAAOG,IAAC,IAAE,EAAC,sBAAqB,IAAG,yBAAwB,GAAE,qBAAoB,GAAE,WAAU,OAAG,QAAOA,IAAC;AAAA,IAAE,KAAI;AAAQ,aAAM,EAAC,sBAAqB,IAAG,yBAAwB,GAAE,qBAAoB,GAAE,WAAU,OAAG,QAAOA,IAAC;AAAA,IAAE,KAAI;AAAO,aAAM,EAAC,sBAAqB,IAAG,yBAAwB,GAAE,qBAAoB,GAAE,WAAU,OAAG,QAAOA,IAAC;AAAA,IAAE,KAAI;AAAS,WAAG,KAAAH,IAAE,aAAF,mBAAY;AAAK,eAAM,EAAC,sBAAqB,IAAG,yBAAwB,GAAE,qBAAoB,GAAE,WAAU,MAAG,QAAOG,IAAC;AAAE,aAAM,EAAC,GAAGE,IAAEL,IAAE,YAAUA,IAAE,SAAS,aAAWR,EAAC,GAAE,QAAOW,IAAC;AAAA,IAAE,KAAI,QAAO;AAAC,UAAIV,MAAE,GAAEK,MAAE;AAAE,cAAOE,IAAE,SAAQ;AAAA,QAAC,KAAI;AAAS,UAAAP,MAAEY;AAAE;AAAA,QAAM,KAAI;AAAO,UAAAZ,MAAE;AAAE;AAAA,QAAM;AAAQ,iBAAO,KAAKQ,GAAED,IAAE,OAAO;AAAA,MAAC;AAAC,cAAOA,IAAE,QAAM,UAAS;AAAA,QAAC,KAAI;AAAQ,UAAAF,MAAEC;AAAE;AAAA,QAAM,KAAI;AAAA,QAAQ,KAAI;AAAQ,UAAAD,MAAE;AAAE;AAAA,QAAM;AAAQ;AAAA,MAAM;AAAC,YAAMC,MAAE,IAAEN,KAAEJ,MAAEI,MAAEK,MAAE;AAAE,UAAIR,MAAE,KAAGD,MAAEU;AAAE,cAAOC,IAAE,KAAI;AAAA,QAAC,KAAI;AAAO;AAAA,QAAM,KAAI;AAAA,QAAO,KAAI;AAAS,UAAAV,OAAG,KAAGG,MAAE;AAAG;AAAA,QAAM,KAAI;AAAQ,UAAAH,OAAG,KAAGG,OAAGE,MAAE,KAAG,IAAEF;AAAG;AAAA,QAAM;AAAQ;AAAA,MAAM;AAAC,aAAM,EAAC,sBAAqBH,KAAE,yBAAwBD,MAAEU,KAAE,qBAAoB,GAAE,WAAU,OAAG,QAAOI,IAAC;AAAA,IAAC;AAAA,IAAC,KAAI;AAAA,IAAO,KAAI;AAAO,aAAM,EAAC,sBAAqB,GAAE,yBAAwB,GAAE,qBAAoB,GAAE,WAAU,OAAG,QAAOA,IAAC;AAAA,IAAE;AAAQ;AAAA,EAAM;AAAC;AAAC,SAASC,GAAEX,KAAEE,KAAE;AAAC,QAAMC,MAAE,eAAaH,IAAE;AAAK,UAAOE,IAAE,MAAK;AAAA,IAAC,KAAI;AAAU,aAAOA,IAAE,SAAOA,IAAE,MAAM,OAAK,IAAEW,GAAE,gBAAcA,GAAE;AAAA,IAAQ,KAAI;AAAO,aAAO,QAAMX,IAAE,WAASA,IAAE,QAAQ,OAAK,IAAEW,GAAE,eAAaA,GAAE;AAAA,IAAK,KAAI;AAAQ,aAAOA,GAAE;AAAA,IAAK,KAAI;AAAO,aAAM,YAAUX,IAAE,OAAKW,GAAE,aAAWA,GAAE;AAAA,IAAW,KAAI;AAAO,cAAOX,IAAE,MAAK;AAAA,QAAC,KAAI;AAAQ,kBAAOA,IAAE,SAAQ;AAAA,YAAC,KAAI;AAAS,qBAAOW,GAAE;AAAA,YAAkB,KAAI;AAAO,qBAAOA,GAAE;AAAA,YAAgB;AAAQ,qBAAO,KAAKL,GAAEN,IAAE,OAAO;AAAA,UAAC;AAAA,QAAC,KAAI;AAAA,QAAQ,KAAI;AAAQ,kBAAOA,IAAE,SAAQ;AAAA,YAAC,KAAI;AAAS,qBAAOW,GAAE;AAAA,YAAkB,KAAI;AAAO,qBAAOA,GAAE;AAAA,YAAgB;AAAQ,qBAAO,KAAKL,GAAEN,IAAE,OAAO;AAAA,UAAC;AAAA,QAAC;AAAQ;AAAA,MAAM;AAAA,IAAC,KAAI;AAAS,aAAOC,MAAEU,GAAE,eAAaA,GAAE;AAAA,IAAe,KAAI;AAAA,IAAO,KAAI;AAAO,aAAOV,MAAEU,GAAE,aAAWA,GAAE;AAAA,IAAa;AAAQ;AAAA,EAAM;AAAC;AAAC,SAASD,IAAEd,KAAE;AAAC,MAAIE,MAAES,GAAEX,GAAC;AAAE,MAAGE;AAAE,WAAOA;AAAE,QAAME,MAAEK,IAAET,KAAE,IAAI;AAAE,SAAOE,MAAE,EAAC,sBAAqBQ,IAAEN,IAAE,OAAO,CAAC,CAAC,EAAE,OAAQ,CAACJ,KAAEE,QAAIF,MAAEE,IAAE,QAAQ,IAAIc,GAAE,QAAQ,EAAE,SAAO,GAAG,CAAC,GAAE,yBAAwB,GAAE,qBAAoB,GAAE,WAAU,MAAE,GAAEL,GAAEX,GAAC,IAAEE,KAAEA;AAAC;AAAC,IAAMa,KAAE,EAAC,YAAW,EAAC,iBAAgB,oBAAmB,sBAAqB,WAAU,oBAAmB,GAAE,eAAc,GAAE,QAAO,EAAC,iBAAgB,oBAAmB,sBAAqB,mBAAkB,oBAAmB,EAAC,EAAC,GAAE,cAAa,EAAC,iBAAgB,oBAAmB,sBAAqB,oBAAmB,oBAAmB,oBAAmB,eAAc,GAAE,QAAO,EAAC,iBAAgB,mBAAkB,sBAAqB,mBAAkB,oBAAmB,kBAAiB,EAAC,GAAE,cAAa,EAAC,iBAAgB,oBAAmB,sBAAqB,oBAAmB,oBAAmB,GAAE,eAAc,GAAE,QAAO,EAAC,iBAAgB,oBAAmB,sBAAqB,oBAAmB,oBAAmB,EAAC,EAAC,GAAE,gBAAe,EAAC,iBAAgB,mBAAkB,sBAAqB,oBAAmB,oBAAmB,mBAAkB,eAAc,GAAE,QAAO,EAAC,iBAAgB,mBAAkB,sBAAqB,oBAAmB,oBAAmB,kBAAiB,EAAC,GAAE,YAAW,EAAC,iBAAgB,mBAAkB,sBAAqB,oBAAmB,oBAAmB,mBAAkB,eAAc,GAAE,QAAO,EAAC,iBAAgB,mBAAkB,sBAAqB,mBAAkB,oBAAmB,mBAAkB,EAAC,GAAE,YAAW,EAAC,iBAAgB,mBAAkB,sBAAqB,oBAAmB,oBAAmB,oBAAmB,eAAc,GAAE,QAAO,EAAC,iBAAgB,mBAAkB,sBAAqB,oBAAmB,oBAAmB,mBAAkB,EAAC,GAAE,mBAAkB,EAAC,iBAAgB,mBAAkB,sBAAqB,UAAS,oBAAmB,mBAAkB,eAAc,GAAE,QAAO,EAAC,iBAAgB,mBAAkB,sBAAqB,UAAS,oBAAmB,kBAAiB,EAAC,GAAE,mBAAkB,EAAC,iBAAgB,oBAAmB,sBAAqB,mBAAkB,oBAAmB,mBAAkB,eAAc,GAAE,QAAO,EAAC,iBAAgB,oBAAmB,sBAAqB,mBAAkB,oBAAmB,kBAAiB,EAAC,GAAE,iBAAgB,EAAC,iBAAgB,oBAAmB,sBAAqB,WAAU,oBAAmB,oBAAmB,eAAc,GAAE,QAAO,EAAC,iBAAgB,oBAAmB,sBAAqB,WAAU,oBAAmB,mBAAkB,EAAC,GAAE,iBAAgB,EAAC,iBAAgB,oBAAmB,sBAAqB,mBAAkB,oBAAmB,mBAAkB,eAAc,GAAE,QAAO,EAAC,iBAAgB,oBAAmB,sBAAqB,mBAAkB,oBAAmB,kBAAiB,EAAC,GAAE,MAAK,EAAC,iBAAgB,mBAAkB,sBAAqB,mBAAkB,oBAAmB,mBAAkB,eAAc,GAAE,QAAO,EAAC,iBAAgB,mBAAkB,sBAAqB,oBAAmB,oBAAmB,kBAAiB,EAAC,GAAE,cAAa,EAAC,iBAAgB,iBAAgB,sBAAqB,oBAAmB,oBAAmB,oBAAmB,eAAc,GAAE,QAAO,EAAC,iBAAgB,mBAAkB,sBAAqB,oBAAmB,oBAAmB,mBAAkB,EAAC,GAAE,SAAQ,EAAC,iBAAgB,oBAAmB,sBAAqB,oBAAmB,oBAAmB,mBAAkB,eAAc,GAAE,QAAO,EAAC,iBAAgB,oBAAmB,sBAAqB,oBAAmB,oBAAmB,kBAAiB,EAAC,GAAE,eAAc,EAAC,iBAAgB,oBAAmB,sBAAqB,oBAAmB,oBAAmB,oBAAmB,eAAc,GAAE,QAAO,EAAC,iBAAgB,oBAAmB,sBAAqB,oBAAmB,oBAAmB,mBAAkB,EAAC,EAAC;;;ACA7lP,IAAME,MAAE,EAAE,UAAU,qDAAqD;AAAE,IAAMC,MAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMD,IAAE,QAAQ,GAAE,KAAK,SAAOF,KAAE,KAAK,cAAYC,KAAE,KAAK,WAASC,KAAE,KAAK,yBAAuB,MAAK,KAAK,gBAAc,OAAG,KAAK,oBAAkB,EAAC,OAAM,OAAG,SAAQ,OAAG,qBAAoB,MAAG,MAAK,MAAE,GAAE,KAAK,aAAW,MAAK,KAAK,SAAOL,KAAE,KAAK,oBAAkB,EAAC,0BAAyB,OAAG,qBAAoB,KAAE,GAAE,KAAK,4BAA0B,MAAG,KAAK,kBAAgBM,IAAE,gBAAe,KAAK,sBAAoBA,IAAE,oBAAmB,KAAK,oBAAkB,IAAIA,OAAE,KAAK,aAAW,KAAK,kBAAkB,GAAE,KAAK,gBAAcA,IAAE,eAAc,KAAK,kBAAgB,KAAK,oBAAkBC,IAAE,KAAK,SAAS,QAAQ,IAAG,KAAK,wBAAwB;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,WAAO;AAAA,EAAI;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO;AAAA,EAAC;AAAA,EAAC,yBAAyBJ,KAAE;AAAC,QAAG,KAAK;AAAc,aAAM;AAAG,UAAMC,MAAE,KAAK,mBAAkBC,MAAEE,IAAEJ,GAAC;AAAE,WAAOE,IAAE,UAAQD,IAAE,SAAOC,IAAE,YAAUD,IAAE,WAASC,IAAE,wBAAsBD,IAAE,uBAAqBC,IAAE,SAAOD,IAAE;AAAA,EAAI;AAAA,EAAC,IAAI,6BAA4B;AAAC,WAAO,KAAK,kBAAkB,WAAS,CAAC,KAAK,kBAAkB;AAAA,EAAmB;AAAA,EAAC,6BAA6BD,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMJ,MAAEC,IAAE,mBAAkBK,MAAE,cAAaL,MAAEA,IAAE,WAAS,MAAKM,MAAE,GAAGH,GAAC;AAAiC,QAAII,MAAE;AAAK,IAAAR,MAAE,CAAC,KAAK,+BAA+BE,KAAEC,KAAEC,GAAC,KAAGE,OAAG,MAAIA,IAAE,UAAQ,YAAUH,OAAGD,IAAE,SAAO,KAAGA,IAAE,CAAC,EAAE,SAAO,MAAIM,MAAE,GAAGD,GAAC,wFAAsFC,MAAE,GAAGD,GAAC,2DAA0DC,OAAGV,IAAE,gBAAgBU,GAAC;AAAA,EAAC;AAAA,EAAC,+BAA+BP,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,GAAGD,GAAC;AAAiC,WAAM,CAACF,IAAE,UAAQ,MAAIA,IAAE,UAAQ,CAACA,IAAE,CAAC,EAAE,UAAQH,IAAE,gBAAgB,GAAGM,GAAC,QAAQF,GAAC,gBAAgB,GAAE,SAAK,CAAC,MAAM,QAAQD,GAAC,KAAG,CAAC,MAAM,QAAQA,IAAE,CAAC,CAAC,OAAKH,IAAE,gBAAgB,GAAGM,GAAC,KAAKF,GAAC,mCAAmC,GAAE;AAAA,EAAG;AAAA,EAAC,kBAAkBD,KAAEC,MAAE,MAAKC,MAAE,MAAK;AAAC,QAAG,QAAMD,OAAG,CAACA,IAAE,SAASD,IAAE,IAAI;AAAE,aAAO,KAAK,OAAO,KAAK,mCAAiCE,MAAE,YAAYF,IAAE,IAAI,EAAE,GAAE;AAAG,QAAG,YAAUA,IAAE,MAAK;AAAC,YAAMC,MAAED;AAAE,UAAG,CAAC,SAASC,IAAE,CAAC,KAAG,CAAC,SAASA,IAAE,CAAC;AAAE,eAAOJ,IAAE,KAAK,yDAAyD,GAAE;AAAA,IAAE;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,2BAA0B;AAAC,WAAOW;AAAA,EAAC;AAAA,EAAC,yBAAwB;AAAC,WAAOC;AAAA,EAAC;AAAA,EAAC,0BAAyB;AAAC,YAAM,KAAK,0BAAwB,KAAK,kBAAkB,qBAAqB,KAAK,sBAAsB,GAAE,KAAK,kBAAkB,mCAAmC,IAAI,KAAG,KAAK,SAAS,MAAM,iBAAe,KAAK,kBAAkB,qBAAqB,KAAK,SAAS,MAAM,aAAa,GAAE,KAAK,kBAAkB,mCAAmC,KAAK,SAAS,4BAA4B,KAAG,KAAK,kBAAkB,MAAM;AAAA,EAAC;AAAA,EAAC,wBAAwBT,KAAE;AAAC,WAAOA,IAAE,OAAK,KAAK,uBAAuB,IAAE,KAAK,yBAAyB;AAAA,EAAC;AAAA,EAAC,yBAAyBA,KAAEC,MAAE,KAAK,wBAAwBD,GAAC,GAAE;AAAC,WAAO,KAAK,kBAAkB,QAAMC,IAAE;AAAA,EAAI;AAAA,EAAC,yBAAyBD,KAAE;AAAC,SAAK,yBAAuBA,KAAE,KAAK,wBAAwB;AAAA,EAAC;AAAA,EAAC,2BAA2BA,KAAEC,KAAE;AAAC,UAAMC,MAAEF,IAAE,UAASG,MAAE,KAAK,wBAAwBD,GAAC;AAAE,IAAAD,IAAE,OAAK,QAAM,KAAK,kBAAkB,OAAK,KAAK,kBAAkB,OAAKE,IAAE,MAAKF,IAAE,OAAK,KAAK,yBAAyBC,KAAEC,GAAC,GAAEF,IAAE,eAAa,KAAK,kBAAkB,mBAAiBE,IAAE,UAAQ;AAAE,UAAMJ,MAAE,CAAC,KAAK,kBAAkB,uBAAqB,oBAAkBE,IAAE;AAAK,IAAAF,QAAIE,IAAE,OAAK,sBAAqBA,IAAE,eAAa;AAAG,UAAMI,MAAEN,MAAEK,MAAE,KAAK,kBAAkB;AAA6B,WAAOH,IAAE,mCAAmCI,KAAEL,KAAE,KAAK,SAAS,KAAK,GAAEC;AAAA,EAAC;AAAA,EAAC,wBAAwBD,KAAE;AAAA,EAAC;AAAA,EAAC,eAAeA,KAAEC,KAAE;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,gBAAgBD,KAAEC,KAAEC,KAAEC,KAAE;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,gBAAgBH,KAAE;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,QAAG,KAAK,SAAS,qBAAmB,iBAAgB,KAAK,SAAS;AAAkB,aAAO,KAAK,SAAS,kBAAkB,eAAa;AAAE,UAAMA,MAAE,KAAK,SAAS,MAAM;AAAQ,WAAOA,OAAG;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAEC,MAAES,IAAE;AAAC,QAAIR,MAAE;AAAE,WAAO,KAAK,WAASA,OAAG,KAAK,iBAAiB,IAAG,KAAK,kBAAkB,YAAU,QAAMF,MAAEE,OAAGF,IAAE,IAAEC,IAAE,sBAAoBC,MAAE,KAAIA;AAAA,EAAC;AAAA,EAAC,4BAA4BD,KAAEE,MAAEO,IAAE;AAAC,UAAMX,MAAE,KAAK,oBAAoBE,KAAEE,GAAC;AAAE,QAAG,KAAK,kBAAkB;AAAM,aAAOQ,GAAE,MAAKZ,GAAC;AAAE,UAAMM,MAAE,QAAMJ,MAAEH,GAAE,UAAUG,GAAC,IAAEW;AAAE,WAAOD,GAAEN,KAAEN,GAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BC,KAAEC,MAAE,MAAK;AAAC,UAAMC,MAAE,KAAK,kBAAkB,QAAMF,IAAE,QAAM,MAAKG,MAAE,KAAK,kBAAkB,UAAQH,IAAE,UAAQ,MAAKD,MAAEY,GAAET,KAAEC,GAAC;AAAE,WAAOF,QAAIF,IAAE,CAAC,KAAGE,KAAEF,IAAE,CAAC,KAAGE,KAAEF,IAAE,CAAC,KAAGE,KAAEF,IAAE,CAAC,KAAGE,MAAGF;AAAA,EAAC;AAAA,EAAC,uBAAsB;AAAC,WAAO,QAAM,KAAK;AAAA,EAAY;AAAA,EAAC,oBAAmB;AAAC,WAAOa,IAAE,KAAK,QAAO,KAAK,WAAW;AAAA,EAAC;AAAA,EAAC,sBAAsBZ,KAAEC,KAAEC,KAAE;AAAC,YAAOF,KAAE;AAAA,MAAC,KAAI;AAAU,eAAO,KAAK,oBAAoBC,KAAEC,GAAC,GAAE;AAAA,MAAG,KAAI,iBAAgB;AAAC,cAAMF,MAAE,KAAK,kBAAkB;AAAK,aAAK,wBAAwB;AAAE,eAAO,KAAK,0BAA0BC,KAAEC,KAAEF,GAAC,MAAIa,GAAE;AAAA,MAAQ;AAAA,MAAC,KAAI;AAAoB,eAAO,KAAK,yBAAyBZ,KAAEC,GAAC;AAAA,MAAE,KAAI;AAAgC,eAAO,KAAK,8BAA8B;AAAA,MAAE,KAAI;AAAa,eAAO,KAAK;AAAA,MAAkB,KAAI;AAAqB,eAAO,KAAK;AAAA,MAA0B;AAAQ,eAAM;AAAA,IAAE;AAAA,EAAC;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,qCAAqCF,KAAEC,KAAEC,KAAE;AAAC,QAAIC,MAAEU,GAAE;AAAO,WAAOb,IAAE,QAAS,CAAAA,QAAG;AAAC,YAAMK,MAAEJ,IAAED,GAAC;AAAE,UAAG,QAAMK,KAAE;AAAC,cAAMJ,MAAED,IAAE;AAAQ,aAAK,2BAA2BC,KAAEI,IAAE,gBAAgB,GAAEA,IAAE,wBAAsBH,IAAEG,IAAE,iBAAiB,IAAI;AAAA,MAAC;AAAM,QAAAF,MAAEU,GAAE;AAAA,IAAQ,CAAE,GAAEV;AAAA,EAAC;AAAA,EAAC,kBAAkBH,KAAEC,KAAE;AAAC,WAAOD,IAAE;AAAA,EAAc;AAAA,EAAC,wBAAwBA,KAAE;AAAC,QAAG,CAAC,KAAK;AAAa,aAAO;AAAK,UAAMC,MAAE,KAAK,aAAa,iBAAgBC,MAAED,IAAE,OAAK,EAAEA,IAAE,KAAK,OAAMD,GAAC,IAAE,GAAED,MAAEE,IAAE,QAAM,EAAEA,IAAE,MAAM,OAAMD,GAAC,IAAE,GAAEK,MAAEJ,IAAE,UAAQ,EAAEA,IAAE,QAAQ,OAAMD,GAAC,IAAE;AAAE,WAAOD,GAAEG,KAAEH,KAAEM,KAAE,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,mBAAmBL,KAAE;AAAC,WAAO,QAAM,KAAK,WAAS,KAAK,UAAQA,KAAE,SAAKA,QAAI,KAAK,UAAQH,IAAE,SAAS,0JAA0J,GAAE;AAAA,EAAG;AAAA,EAAC,OAAM;AAAC,UAAMG,MAAE,MAAE;AAJ72M,0BAAAc,KAAA,QAAAC;AAIg3M,eAAC,QAAK,gBAAK,iBAAL,mBAAmB,gBAAgB,SAAnC,mBAAyC,UAAO,MAAK,SAAM,gBAAK,iBAAL,mBAAmB,gBAAgB,UAAnC,mBAA0C,UAAO,MAAK,WAAQ,MAAAD,MAAA,KAAK,iBAAL,gBAAAA,IAAmB,gBAAgB,YAAnC,mBAA4C,UAAO,MAAK,YAASC,OAAA,UAAK,iBAAL,mBAAmB,gBAAgB,aAAnC,gBAAAA,IAA6C,UAAO,KAAI;AAAA;AAAG,WAAM,EAAC,kBAAiB,KAAK,mBAAkB,iBAAgBf,IAAC;AAAA,EAAC;AAAC;AAAC,SAASI,IAAEJ,KAAE;AAAC,QAAMC,MAAE,EAAC,OAAM,OAAG,SAAQ,OAAG,qBAAoB,MAAG,MAAK,MAAE;AAAE,SAAOD,OAAG,qBAAoBA,OAAGA,IAAE,mBAAiBA,IAAE,gBAAgB,QAAS,CAAAA,QAAG;AAAC,YAAOA,IAAE,MAAK;AAAA,MAAC,KAAI;AAAQ,YAAGC,IAAE,QAAM,MAAGD,IAAE;AAAM,mBAAQE,MAAE,GAAEA,MAAEF,IAAE,MAAM,QAAOE,OAAI;AAAC,kBAAMC,MAAEH,IAAE,MAAME,GAAC,EAAE;AAAM,YAAAC,QAAIF,IAAE,UAAQ,MAAGE,IAAE,IAAE,MAAIF,IAAE,sBAAoB;AAAA,UAAI;AAAC;AAAA,MAAM,KAAI;AAAU,QAAAA,IAAE,UAAQ,MAAGA,IAAE,sBAAoB;AAAG;AAAA,MAAM,KAAI;AAAO,QAAAA,IAAE,OAAK;AAAA,IAAE;AAAA,EAAC,CAAE,GAAEA;AAAC;AAAC,IAAMO,KAAE,EAAC,MAAK,iBAAgB,QAAO,GAAE,MAAK,SAAQ;AAApD,IAAsDC,KAAE,EAAC,MAAK,mBAAkB,QAAO,GAAE,MAAK,SAAQ;AAAtG,IAAwGC,KAAE,EAAC,mBAAkB,MAAE;;;ACAroN,SAASM,IAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEL,KAAE;AAAC,QAAMM,MAAEL,IAAE;AAAe,MAAG,GAAEC,KAAEK,IAAEN,IAAE,kBAAkB,gBAAgB,GAAE,QAAMK,OAAG,CAACE,GAAEF,KAAEC,EAAC;AAAE,WAAO;AAAK,KAAEL,KAAEK,IAAEN,IAAE,mBAAmB,gBAAgB,GAAEE,IAAE,oBAAkBH,KAAEG,IAAE,cAAYF,IAAE,mBAAmB,UAAUM,EAAC;AAAE,QAAME,MAAE,IAAIC,GAAE,EAAC,YAAW,CAACP,GAAC,GAAE,YAAW,OAAG,UAASF,IAAE,MAAM,KAAI,YAAWI,KAAE,8BAA6B,KAAE,CAAC;AAAE,SAAM,EAAC,QAAOI,KAAE,kBAAiBE,GAAEF,KAAEP,KAAED,IAAE,mBAAkBA,IAAE,oBAAmBG,GAAC,EAAC;AAAC;AAAC,SAASE,GAAEL,KAAEW,KAAEV,KAAE;AAAC,QAAMC,MAAEF,IAAE,kBAAiBY,MAAEX,IAAE;AAAiB,KAAEU,KAAEL,IAAEM,GAAC,GAAEV,IAAE,2BAAyB,EAAEI,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEK,IAAE,OAAKL,GAAE,CAAC,IAAE,GAAE,QAAMM,MAAEA,MAAE,IAAI;AAAC;AAAC,SAASJ,IAAER,KAAE;AAAC,UAAOA,IAAE,MAAK;AAAA,IAAC,KAAI;AAAQ,aAAOA;AAAA,IAAE,KAAI;AAAA,IAAU,KAAI;AAAS,aAAOa,GAAEb,GAAC;AAAA,IAAE,KAAI,YAAW;AAAC,YAAMc,MAAEd,IAAE,MAAM,CAAC;AAAE,UAAG,CAACc,OAAG,MAAIA,IAAE;AAAO,eAAO;AAAK,YAAMH,MAAEZ,GAAEe,KAAEN,GAAEM,GAAC,IAAE,CAAC;AAAE,aAAO,EAAEH,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEX,IAAE,gBAAgB;AAAA,IAAC;AAAA,IAAC,KAAI;AAAO,aAAOA,IAAE;AAAA,EAAM;AAAC,SAAO;AAAI;AAAC,IAAMM,KAAEL,GAAE;;;ACApyB,IAAMc,MAAN,MAAM,WAAUC,IAAC;AAAA,EAAC,wBAAwBC,KAAEC,KAAE;AAAC,IAAAA,IAAE,YAAUD,IAAE,gBAAcE,IAAE;AAAA,EAAM;AAAA,EAAC,kBAAkBH,KAAE;AAAC,WAAO,IAAIC,IAAED,IAAE,MAAK,GAAE,OAAO,IAAI,EAAE,MAAM,KAAK,aAAa,GAAEI,EAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBJ,KAAE;AAAC,UAAMC,MAAED,MAAEK,GAAE,SAAOA,GAAE;AAAK,WAAO,KAAK,cAAc,kBAAgBC,GAAE,EAAC,WAAU,EAAC,MAAKL,IAAC,GAAE,YAAWM,IAAC,CAAC,IAAED,GAAE,EAAC,UAASH,IAAEK,GAAE,KAAIA,GAAE,WAAUA,GAAE,qBAAoBA,GAAE,mBAAmB,GAAE,WAAU,EAAC,MAAKP,IAAC,GAAE,YAAWQ,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,KAAK,iBAAiB,KAAK,cAAc,oBAAoB;AAAA,EAAC;AAAC;AAACV,IAAE,SAAO,IAAIG,IAAEQ,IAAG,MAAI,OAAO,gCAAuB,CAAE;;;ACA92B,IAAMC,MAAN,cAAgBC,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,iCAA+BC,GAAE,OAAM,KAAK,YAAU,OAAG,KAAK,uBAAqB,MAAG,KAAK,oBAAkB,OAAG,KAAK,2BAAyB,OAAG,KAAK,kBAAgB,OAAG,KAAK,4BAA0B,OAAG,KAAK,gBAAc,OAAG,KAAK,uBAAqB;AAAA,EAAE;AAAC;AAAC,EAAE,CAACF,IAAE,EAAC,OAAME,GAAE,MAAK,CAAC,CAAC,GAAEF,IAAE,WAAU,kCAAiC,MAAM,GAAE,EAAE,CAACA,IAAE,CAAC,GAAEA,IAAE,WAAU,aAAY,MAAM,GAAE,EAAE,CAACA,IAAE,CAAC,GAAEA,IAAE,WAAU,wBAAuB,MAAM,GAAE,EAAE,CAACA,IAAE,CAAC,GAAEA,IAAE,WAAU,qBAAoB,MAAM,GAAE,EAAE,CAACA,IAAE,CAAC,GAAEA,IAAE,WAAU,4BAA2B,MAAM,GAAE,EAAE,CAACA,IAAE,CAAC,GAAEA,IAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAACA,IAAE,CAAC,GAAEA,IAAE,WAAU,6BAA4B,MAAM,GAAE,EAAE,CAACA,IAAE,CAAC,GAAEA,IAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAACA,IAAE,CAAC,GAAEA,IAAE,WAAU,wBAAuB,MAAM,GAAE,EAAE,CAACA,IAAE,EAAC,YAAW,KAAE,CAAC,CAAC,GAAEA,IAAE,WAAU,2BAA0B,MAAM,GAAE,EAAE,CAACA,IAAE,EAAC,YAAW,MAAE,CAAC,CAAC,GAAEA,IAAE,WAAU,UAAS,MAAM;;;ACA7Y,IAAMG,MAAN,MAAM,WAAUC,GAAC;AAAA,EAAC,IAAI,2BAA0B;AAAC,WAAO,KAAK;AAAA,EAAyB;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAMA,KAAE,IAAIC,IAAC,GAAE,KAAK,iBAAe,IAAIC,OAAE,KAAK,4BAA0B,GAAE,yBAAyB,KAAK,UAAU;AAAA,EAAC;AAAA,EAAC,oBAAmB;AAAC,WAAO,KAAK;AAAA,EAAU;AAAA,EAAC,iBAAiBF,KAAEG,KAAE;AAAC,UAAMD,OAAEC,OAAA,gBAAAA,IAAG,UAAOC,GAAE;AAAc,WAAO,KAAK,eAAe,uBAAqB,KAAK,WAAW,eAAc,KAAK,eAAe,oBAAkB,QAAM,KAAK,WAAW,gBAAe,KAAK,eAAe,2BAAyB,QAAM,KAAK,WAAW,uBAAsB,KAAK,eAAe,kBAAgBF,KAAE,KAAK,eAAe,4BAA0B,CAAC,CAAC,KAAK,WAAW,oBAAmB,KAAK,eAAe,iCAA+B,aAAW,KAAK,WAAW,oBAAkBG,GAAE,SAAOA,GAAE,OAAM,KAAK,eAAe,gBAAc,KAAK,WAAW,eAAc,KAAK,eAAe,uBAAqBF,IAAE,kBAAkB,SAAQ,KAAK;AAAA,EAAc;AAAA,EAAC,YAAW;AAAA,EAAC;AAAA,EAAC,aAAaH,KAAEG,KAAE;AAAC,QAAGA,QAAIG,GAAE;AAAM,cAAON,KAAE;AAAA,QAAC,KAAKI,GAAE;AAAA,QAAc,KAAKA,GAAE;AAAwB,iBAAM;AAAA,MAAE;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,iBAAiBJ,KAAE;AAAC,WAAO,IAAIO,GAAEP,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,IAAIQ;AAAA,EAAC;AAAA,EAAC,mBAAmBR,KAAE;AAAC,UAAMG,MAAE,GAAE,yBAAyBH,GAAC;AAAE,IAAAG,QAAI,KAAK,8BAA4B,KAAK,4BAA0BA;AAAA,EAAE;AAAA,EAAC,OAAO,yBAAyBH,KAAE;AAAC,WAAO,KAAK,UAAU,EAAC,cAAaA,IAAE,gBAAc,CAAC,GAAE,CAAC,GAAE,mBAAkBA,IAAE,qBAAmB,QAAO,CAAC;AAAA,EAAC;AAAC;AAAC,IAAMO,KAAN,cAAgBJ,IAAC;AAAA,EAAC,UAAUH,KAAE;AAAC,WAAO,KAAK,gBAAgBM,KAAEN,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMC,KAAN,cAAgBQ,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,eAAaC,IAAE,KAAK,QAAM,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,KAAK,OAAK,GAAE,KAAK,gBAAc,OAAG,KAAK,sBAAoB,MAAK,KAAK,qBAAmB,OAAG,KAAK,oBAAkB,SAAQ,KAAK,gBAAc;AAAA,EAAE;AAAC;AAAC,IAAMC,KAAEC,GAAE,EAAE,MAAMX,GAAE,QAAQ,EAAE,MAAMA,GAAE,MAAM,EAAE,MAAMA,GAAE,GAAG,EAAE,MAAMA,GAAE,OAAO;AAA1E,IAA4EY,KAAE,CAACV,GAAE,GAAE,CAAC,GAAEA,GAAE,GAAE,CAAC,GAAEA,GAAE,GAAE,CAAC,GAAEA,GAAE,GAAE,CAAC,GAAEA,GAAE,GAAE,CAAC,GAAEA,GAAE,GAAE,CAAC,CAAC;AAAE,IAAMK,KAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,qBAAmBG;AAAA,EAAC;AAAA,EAAC,aAAaX,KAAE;AAAC,WAAO,IAAEA,IAAE,QAAQ,IAAIC,GAAE,QAAQ,EAAE;AAAA,EAAM;AAAA,EAAC,MAAMD,KAAEG,KAAED,KAAEY,KAAEC,KAAE;AAAC,IAAAC,GAAEd,IAAE,QAAQ,IAAID,GAAE,QAAQ,GAAEC,IAAE,iBAAiB,IAAID,GAAE,QAAQ,EAAE,MAAKD,KAAEc,IAAE,UAASC,KAAE,CAAC,GAAEd,GAAEC,IAAE,QAAQ,IAAID,GAAE,MAAM,GAAEC,IAAE,iBAAiB,IAAID,GAAE,MAAM,EAAE,MAAKE,KAAEW,IAAE,QAAOC,KAAE,CAAC,GAAEjB,GAAEI,IAAE,QAAQ,IAAID,GAAE,OAAO,GAAEC,IAAE,iBAAiB,IAAID,GAAE,OAAO,EAAE,MAAKa,IAAE,SAAQC,KAAE,CAAC;AAAE,aAAQE,MAAE,GAAEA,MAAEJ,GAAE,QAAO,EAAEI;AAAE,MAAAH,IAAE,IAAI,OAAOC,MAAEE,KAAEJ,GAAEI,GAAC,CAAC;AAAA,EAAC;AAAC;;;ACA/iD,IAAMC,KAAN,MAAM,WAAUC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAE;AAAC,UAAMD,KAAE,MAAKC,KAAEC,EAAC,GAAE,KAAK,oBAAkB,EAAC,0BAAyB,MAAG,qBAAoB,MAAE,GAAE,KAAK,mBAAmB,KAAE;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAAC,SAAK,YAAU,IAAIC,IAAE,KAAK,mBAAmB,GAAE,KAAK,SAAS,MAAM,IAAI,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,SAAS,MAAM,OAAO,KAAK,SAAS,GAAE,KAAK,YAAU;AAAA,EAAI;AAAA,EAAC,+BAA+BH,KAAE;AAAC,UAAMC,MAAE,KAAK;AAAoB,WAAOA,IAAE,eAAaD,IAAE,gBAAcI,IAAEH,IAAE,oBAAkBD,IAAE,qBAAmB,SAAQC;AAAA,EAAC;AAAA,EAAC,IAAI,sBAAqB;AAAC,UAAMI,MAAE,IAAIC,MAAEC,MAAE,KAAK,QAAOC,MAAED,IAAE;AAAQ,QAAGF,IAAE,QAAM,QAAMG,IAAE,QAAMT,GAAE,WAAWS,IAAE,KAAK,IAAE,CAAC,GAAE,GAAE,GAAE,CAAC,GAAEH,IAAE,MAAM,CAAC,KAAG,KAAK,iBAAiB,GAAEA,IAAE,OAAKI,GAAED,IAAE,QAAM,CAAC,GAAED,IAAE,gBAAe;AAAC,YAAK,EAAC,cAAaP,KAAE,gBAAeQ,KAAE,gBAAeE,IAAC,IAAEH,IAAE;AAAe,MAAAF,IAAE,iBAAe,EAAC,cAAaI,GAAET,GAAC,GAAE,gBAAeQ,OAAG,GAAE,gBAAe,QAAME,MAAEA,MAAE,IAAE,EAAC;AAAA,IAAC;AAAC,IAAAL,IAAE,cAAY,QAAMG,IAAE,UAAQ,QAAMA,IAAE,OAAO,QAAMT,GAAE,WAAWS,IAAE,OAAO,KAAK,IAAE;AAAK,UAAME,MAAE,aAAWH,IAAE,aAAa,GAAG,CAAC,EAAE,MAAKI,MAAE,eAAaJ,IAAE;AAAK,WAAOF,IAAE,gBAAc,CAACK,KAAEL,IAAE,sBAAoBK,MAAE,IAAE,QAAOL,IAAE,qBAAmBM,KAAEN,IAAE,gBAAc,KAAK,SAAS,mBAAkBA,IAAE,wBAAsB,KAAK,SAAS,+BAA6B,KAAK,SAAS,gBAAgB,gCAA8B,MAAKA;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,WAAOO;AAAA,EAAC;AAAA,EAAC,wBAAwBZ,KAAE;AAAC,UAAMC,MAAED,IAAE,eAAcK,MAAEL,IAAE,SAAQO,MAAE,KAAK,2BAA2BF,KAAE,IAAIQ,OAAEZ,IAAE,mBAAiB,CAAC,GAAEO,MAAEP,IAAE,QAAOS,MAAE,oBAAkB,KAAK,kBAAkB,SAAO,UAAQF,IAAE,QAAM,CAACA,IAAE,aAAa,KAAM,CAAAR,QAAG,aAAWA,IAAE,QAAM,WAASA,IAAE,IAAK;AAAG,QAAG,eAAaQ,IAAE,QAAME;AAAE,aAAO;AAAK,QAAG,eAAaF,IAAE,QAAMA,IAAE,aAAa,MAAO,CAAAR,QAAG,WAASA,IAAE,QAAM,CAACc,GAAEd,GAAC,CAAE;AAAE,aAAO;AAAK,UAAMa,MAAEE,GAAEV,IAAE,QAAQ;AAAE,WAAO,QAAMQ,MAAE,OAAK,KAAK,iBAAiBA,KAAEN,KAAEN,KAAEI,IAAE,GAAG;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAJ7sG;AAI8sG,eAAK,cAAL,mBAAgB,cAAc,KAAK;AAAA,EAAoB;AAAA,EAAC,0BAA0BL,KAAEC,KAAEI,KAAE;AAAC,UAAME,MAAE,KAAK,kBAAkB,MAAKC,MAAEQ,GAAE,GAAE,0BAAyBX,KAAEE,GAAC;AAAE,WAAOC,QAAIS,GAAE,UAAQjB,IAAE,QAAS,CAAAA,QAAG;AAAC,YAAMK,MAAEJ,IAAED,GAAC;AAAE,cAAMK,OAAG,KAAK,8BAA8BL,IAAE,SAAQK,GAAC;AAAA,IAAC,CAAE,GAAEG;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAJx/G;AAIy/G,YAAO,UAAK,cAAL,mBAAgB,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,IAAG;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,2BAA2BR,KAAEC,KAAEI,MAAE,GAAE;AAAC,UAAME,MAAE,MAAM,2BAA2BP,KAAEC,GAAC;AAAE,WAAOM,IAAE,qBAAqBF,GAAC,GAAEE;AAAA,EAAC;AAAA,EAAC,8BAA8BP,KAAEC,KAAE;AAAC,SAAK,2BAA2BD,KAAEC,IAAE,kBAAiB,QAAMA,IAAE,WAASA,IAAE,SAAS,kBAAgB,CAAC,GAAEA,IAAE,wBAAsBiB,GAAEjB,IAAE,iBAAiB,IAAI;AAAA,EAAC;AAAA,EAAC,oBAAmB;AAAC,WAAM,EAAC,sBAAqB,GAAE,yBAAwB,GAAE,qBAAoB,GAAE,WAAU,OAAG,QAAOkB,GAAE,OAAM;AAAA,EAAC;AAAA,EAAC,kBAAkBnB,KAAE;AAAC,UAAK,EAAC,aAAYC,KAAE,cAAaI,IAAC,IAAEL,KAAEO,MAAE,IAAII,GAAEV,MAAE,CAACA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC,IAAE,CAAC,GAAE,GAAE,CAAC,GAAE,GAAE,IAAE,GAAEO,MAAE,IAAIG,GAAEN,MAAE,CAACA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC,IAAE,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,GAAE,IAAE;AAAE,WAAM,CAAC,CAACC,GAAE,UAASC,GAAC,GAAE,CAACD,GAAE,QAAO,IAAIK,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,GAAE,IAAE,CAAC,GAAE,CAACL,GAAE,SAAQE,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBR,KAAE;AAAC,UAAMC,MAAE,KAAK,+BAA+BD,GAAC,GAAEK,MAAEF,IAAE,yBAAyBF,GAAC;AAAE,QAAG,KAAK,aAAWI,QAAI,KAAK,UAAU;AAAyB,aAAM,EAAC,UAAS,KAAK,WAAU,UAAS,MAAE;AAAE,QAAG,QAAML,IAAE,oBAAmB;AAAC,UAAIO,MAAEP,IAAE,mBAAmB,IAAIK,GAAC;AAAE,aAAO,QAAME,QAAIA,MAAE,IAAIJ,IAAEF,GAAC,GAAED,IAAE,mBAAmB,IAAIK,KAAEE,GAAC,IAAG,EAAC,UAASA,KAAE,UAAS,MAAE;AAAA,IAAC;AAAC,WAAM,EAAC,UAAS,IAAIJ,IAAEF,GAAC,GAAE,UAAS,KAAE;AAAA,EAAC;AAAA,EAAC,iBAAiBD,KAAEC,KAAEI,KAAEE,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAS,MAAM,KAAIE,MAAE,KAAK,SAAS,MAAM,WAAW,yBAAyB,EAAC,YAAWH,KAAE,UAASC,IAAC,CAAC,GAAEG,MAAE,KAAK,qBAAqBN,GAAC,GAAES,MAAE,IAAIM,GAAET,IAAE,UAAS,KAAK,kBAAkBN,GAAC,GAAEU,IAAE,MAAKf,IAAE,OAAMU,GAAC,GAAEW,MAAEA,IAAE,KAAK,UAASrB,KAAEc,KAAEb,KAAEM,GAAC;AAAE,QAAG,QAAMc;AAAE,aAAO;AAAK,UAAMtB,MAAE,IAAII,GAAE,MAAKkB,IAAE,QAAO,CAACP,GAAC,GAAEH,IAAE,WAAS,CAACA,IAAE,QAAQ,IAAE,MAAK,MAAKR,IAAEF,GAAC;AAAE,WAAOF,IAAE,WAAS,IAAIE,IAAEI,IAAE,eAAe,GAAEN,IAAE,0BAAwBsB,IAAE,kBAAiBtB,IAAE,wBAAsBmB,GAAEjB,IAAE,IAAI,GAAEE,GAAEJ,KAAEC,KAAE,KAAK,SAAS,iBAAiB,GAAED;AAAA,EAAC;AAAC;AAACD,GAAE,2BAAyB,EAAC,gBAAemB,GAAE,QAAO,kBAAiBA,GAAE,QAAO,oBAAmBA,GAAE,SAAQ;AAAE,IAAM,IAAE,CAAC,CAAC;AAAV,IAAYF,KAAE,CAAC,CAACT,GAAE,UAAS,CAAC,GAAE,CAACA,GAAE,QAAO,CAAC,GAAE,CAACA,GAAE,SAAQ,CAAC,CAAC;AAAxD,IAA0DM,KAAE,EAAC,MAAK,sBAAqB,QAAO,EAAC;AAA/F,IAAiGV,KAAE,EAAC,eAAc,MAAG,gBAAe,GAAE,oBAAmB,EAAC;AAAE,IAAMoB,KAAN,MAAO;AAAA,EAAC,YAAYtB,KAAEC,KAAEI,MAAEG,GAAE,GAAEG,MAAEH,GAAE,GAAEK,MAAEL,GAAE,GAAEM,MAAE,SAAQO,MAAE,GAAEH,MAAE,MAAK;AAAC,SAAK,WAASlB,KAAE,KAAK,SAAOC,KAAE,KAAK,cAAYI,KAAE,KAAK,eAAaM,KAAE,KAAK,eAAaE,KAAE,KAAK,oBAAkBC,KAAE,KAAK,kBAAgBO,KAAE,KAAK,qBAAmBH;AAAA,EAAC;AAAC;AAAC,IAAMK,KAAN,cAAgBlB,IAAC;AAAC;;;ACAp8K,IAAMmB,MAAE,EAAE,UAAU,mEAAmE;AAAE,SAASC,IAAEC,KAAEC,KAAE;AAAC,MAAG,CAACD,GAAEA,GAAC;AAAE,WAAOF,IAAE,MAAM,4CAA2C,mBAAmBE,IAAE,IAAI,6BAA6B,GAAE;AAAK,MAAG,CAACA,IAAE;AAAQ,WAAO;AAAK,QAAMD,MAAEG,IAAEF,IAAE,QAAQ,IAAI;AAAE,SAAOD,MAAE,IAAIA,IAAEC,KAAEC,GAAC,KAAGH,IAAE,MAAM,4CAA2C,uCAAuCE,IAAE,QAAQ,IAAI,EAAE,GAAE;AAAK;AAAC,IAAME,MAAE,EAAC,MAAKC,GAAC;;;ACA7gB,SAASC,IAAEC,KAAEC,KAAE;AAAC,MAAG,CAACD,OAAGA,IAAE;AAAO,WAAO;AAAK,QAAMD,MAAEE,OAAGA,IAAE;AAAS,SAAOD,OAAG,QAAMD,OAAGA,IAAE,yBAAuBA,IAAE,uBAAuBC,GAAC,IAAED;AAAC;AAAC,SAASG,IAAEF,KAAEC,KAAE;AAAC,MAAG,QAAMD,IAAE;AAAO,WAAOA,IAAE;AAAO,QAAME,MAAEH,IAAEC,KAAEC,GAAC;AAAE,SAAO,QAAMC,OAAG,kBAAgBA,IAAE,OAAKA,IAAE,UAAUF,KAAEC,GAAC,IAAE;AAAI;AAAC,SAASE,IAAEH,KAAEG,KAAE;AAAC,QAAMC,MAAEL,IAAEC,KAAEG,GAAC,GAAEE,MAAEH,IAAEF,KAAEG,GAAC;AAAE,MAAG,QAAME;AAAE,WAAO;AAAK,QAAMC,MAAE,EAAC,UAASF,KAAE,QAAOC,IAAC;AAAE,MAAG,QAAMD,OAAG,EAAE,qBAAoBA,QAAI,CAACA,IAAE;AAAgB,WAAOE;AAAE,QAAMC,MAAEC,GAAEJ,KAAEJ,KAAEG,GAAC,KAAG,CAAC,GAAEM,MAAE,CAAC,gBAAe,gBAAe,cAAc;AAAE,aAAS,EAAC,UAASR,KAAE,OAAMF,IAAC,KAAIQ;AAAE,YAAON,IAAE,MAAK;AAAA,MAAC,KAAI;AAAQ,QAAAK,IAAE,QAAMP,IAAE,OAAO;AAAE;AAAA,MAAM,KAAI;AAAO,YAAG,cAAYE,IAAE;AAAO,UAAAK,IAAE,cAAYP;AAAA,aAAM;AAAC,gBAAMC,MAAEC,IAAE,MAAKC,MAAED,IAAE,iBAAe,iBAAeF;AAAE,kBAAOC,KAAE;AAAA,YAAC,KAAI;AAAQ,cAAAS,IAAE,CAAC,IAAEP;AAAE;AAAA,YAAM,KAAI;AAAQ,cAAAO,IAAE,CAAC,IAAEP;AAAE;AAAA,YAAM,KAAI;AAAS,cAAAO,IAAE,CAAC,IAAEP;AAAE;AAAA,YAAM,KAAI;AAAkB,cAAAO,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEP;AAAE;AAAA,YAAM;AAAQ,cAAAO,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEP;AAAA,UAAC;AAAA,QAAC;AAAC;AAAA,MAAM,KAAI;AAAU,QAAAI,IAAE,UAAQP;AAAE;AAAA,MAAM,KAAI;AAAW,gBAAOE,IAAE,MAAK;AAAA,UAAC,KAAI;AAAO,YAAAK,IAAE,OAAKP;AAAE;AAAA,UAAM,KAAI;AAAO,YAAAO,IAAE,OAAKP;AAAE;AAAA,UAAM;AAAQ,YAAAO,IAAE,UAAQP;AAAA,QAAC;AAAA,IAAC;AAAC,SAAM,mBAAiBU,IAAE,CAAC,KAAG,mBAAiBA,IAAE,CAAC,KAAG,mBAAiBA,IAAE,CAAC,MAAIH,IAAE,OAAKG,MAAGH;AAAC;AAAC,eAAeF,IAAEJ,KAAEC,KAAE;AAAC,MAAG,QAAMD,IAAE;AAAO,WAAOA,IAAE;AAAO,QAAME,MAAEH,IAAEC,KAAEC,GAAC;AAAE,SAAO,QAAMC,MAAEA,IAAE,eAAeF,KAAEC,GAAC,IAAE;AAAI;AAAC,eAAeI,IAAEH,KAAEC,KAAE;AAAC,QAAME,MAAEN,IAAEG,KAAEC,GAAC,GAAEG,MAAE,MAAMF,IAAEF,KAAEC,GAAC;AAAE,MAAG,CAACG;AAAE,WAAO;AAAK,QAAMC,MAAE,EAAC,UAASF,KAAE,QAAOC,IAAC;AAAE,MAAG,CAACD,OAAG,EAAE,qBAAoBA,QAAI,CAACA,IAAE;AAAgB,WAAOE;AAAE,QAAME,MAAED,GAAEH,KAAEH,KAAEC,GAAC,KAAG,CAAC,GAAEO,MAAE,CAAC,gBAAe,gBAAe,cAAc;AAAE,aAAS,EAAC,UAAST,KAAE,OAAMF,IAAC,KAAIU;AAAE,QAAG,YAAUR,IAAE;AAAK,MAAAM,IAAE,QAAMI,GAAE,WAAWZ,GAAC;AAAA,aAAU,WAASE,IAAE;AAAK,UAAG,cAAYA,IAAE;AAAO,QAAAM,IAAE,cAAYR;AAAA,WAAM;AAAC,cAAMC,MAAEC,IAAE,MAAKC,MAAED,IAAE,iBAAe,iBAAeF;AAAE,oBAAUC,MAAEU,IAAE,CAAC,IAAER,MAAE,YAAUF,MAAEU,IAAE,CAAC,IAAER,MAAE,aAAWF,MAAEU,IAAE,CAAC,IAAER,MAAEQ,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAE,sBAAoBV,MAAEE,MAAEQ,IAAE,CAAC,IAAER;AAAA,MAAC;AAAA;AAAK,oBAAYD,IAAE,OAAKM,IAAE,UAAQR,MAAE,eAAaE,IAAE,QAAM,WAASA,IAAE,OAAKM,IAAE,OAAKR,MAAE,eAAaE,IAAE,QAAM,WAASA,IAAE,OAAKM,IAAE,OAAKR,MAAE,eAAaE,IAAE,SAAOM,IAAE,UAAQR;AAAG,UAAO,SAASW,IAAE,CAAC,CAAC,KAAG,SAASA,IAAE,CAAC,CAAC,KAAG,SAASA,IAAE,CAAC,CAAC,OAAKH,IAAE,OAAKG,MAAGH;AAAC;AAAC,SAASD,IAAEN,KAAEC,MAAE,GAAE;AAAC,QAAMF,MAAEC,IAAEC,GAAC;AAAE,SAAM,YAAU,OAAOF,OAAG,SAASA,GAAC,IAAEA,MAAE;AAAI;AAAC,SAASQ,IAAEP,KAAE;AAAC,WAAQC,MAAE,GAAEA,MAAE,GAAEA,OAAI;AAAC,UAAMF,MAAEC,IAAEC,GAAC;AAAE,QAAG,YAAU,OAAOF;AAAE,aAAO,SAASA,GAAC,IAAEA,MAAE;AAAA,EAAC;AAAC,SAAO;AAAC;;;ACA9oE,IAAMa,MAAE;AAAR,IAAYC,MAAEC;;;ACAiC,IAAMC,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEF,KAAEG,MAAE,MAAK;AAAC,SAAK,OAAKF,KAAE,KAAK,aAAWC,KAAE,KAAK,cAAYF,KAAE,KAAK,WAASG,KAAE,KAAK,cAAY,CAAC,GAAE,KAAK,cAAY,CAAC,GAAE,KAAK,oBAAkB,MAAK,KAAK,iBAAe,MAAK,KAAK,MAAI,gBAAgB,KAAK,YAAY,GAAG,IAAI,KAAK,UAAU,KAAKF,GAAC,IAAG,KAAK,SAAOA,IAAE,MAAM,OAAO;AAAA,EAAC;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,KAAK,KAAK,gBAAc,IAAE,KAAK,4BAA4B;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,UAAMA,MAAE,KAAK,gBAAc,KAAK,OAAO,SAAO,IAAGC,MAAE,KAAK;AAAY,WAAO,KAAK,KAAKD,MAAEC,MAAE,IAAE,KAAK,YAAU,KAAK,wBAAsB,KAAK,wBAAwB;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,KAAK,KAAK,KAAK,cAAc,KAAK,YAAY,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,iBAAgB;AAAC,WAAO,KAAK,KAAK,KAAK,cAAc,KAAK,aAAa,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,gCAA+B;AAAC,WAAO,KAAK,cAAc,KAAK,oBAAkB,KAAK,iBAAiB;AAAA,EAAC;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAO,KAAK,wBAAsB,KAAK;AAAA,EAAS;AAAA,EAAC,IAAI,WAAU;AAAC,QAAG,QAAM,KAAK,gBAAe;AAAC,YAAMD,MAAEG,IAAEC,KAAEC,KAAEA,GAAC,EAAE,WAAW,IAAI;AAAE,WAAK,mBAAmBL,KAAE,KAAK,SAAS;AAAE,UAAIC,MAAE,IAAE,KAAK;AAAU,YAAMF,MAAE,KAAK,YAAY,WAAW;AAAK,mBAAWA,IAAE,SAAO,cAAYA,IAAE,SAAO,WAASA,IAAE,UAAQ,aAAWA,IAAE,WAASE,OAAG,MAAGD,IAAE,YAAY,GAAG,EAAE,QAAO,KAAK,YAAY,SAAO,GAAE,KAAK,YAAY,SAAO;AAAE,UAAIE,KAAEI,KAAEC,MAAE,GAAEC,MAAE,GAAEC,MAAE;AAAE,WAAK,OAAO,QAAS,CAACV,KAAEI,QAAI;AAAC,cAAMC,MAAEJ,IAAE,YAAYD,GAAC,GAAEM,MAAED,IAAE,OAAMM,MAAEL,MAAEJ;AAAE,aAAK,YAAY,KAAKI,GAAC,GAAE,KAAK,YAAY,KAAKK,GAAC,GAAEH,MAAE,KAAK,IAAIA,KAAEG,GAAC,GAAEF,MAAE,KAAK,IAAIA,KAAEJ,IAAE,uBAAuB,GAAEK,MAAE,KAAK,IAAIA,KAAEL,IAAE,wBAAwB,GAAE,MAAID,QAAID,MAAEE,MAAGD,QAAI,KAAK,OAAO,SAAO,MAAIG,MAAEF;AAAA,MAAE,CAAE;AAAE,YAAMO,MAAEX,IAAE;AAAK,UAAIY,MAAEC,IAAE,IAAIF,GAAC;AAAE,UAAG,CAACC,KAAE;AAAC,cAAMX,MAAED,IAAE,YAAYU,GAAC;AAAE,QAAAE,MAAE,IAAIE,IAAEb,IAAE,yBAAwBA,IAAE,wBAAwB,GAAEY,IAAE,IAAIF,KAAEC,GAAC;AAAA,MAAC;AAAC,MAAAJ,MAAE,KAAK,IAAIA,KAAEI,IAAE,uBAAuB,GAAEH,MAAE,KAAK,IAAIA,KAAEG,IAAE,wBAAwB;AAAE,YAAMG,MAAEP,MAAEC,KAAEO,MAAE,KAAK,iBAAed,IAAE,0BAAwBM,KAAES,MAAE,KAAK,iBAAeX,IAAE,2BAAyBG;AAAE,WAAK,iBAAe,IAAIS,IAAEV,MAAEQ,KAAEP,MAAEQ,KAAEF,KAAER,KAAEC,GAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAc;AAAA,EAAC,IAAI,eAAc;AAAC,YAAO,KAAK,cAAY,KAAK,gBAAc,KAAK,YAAY,WAAW;AAAA,EAAiB;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,SAAS;AAAA,EAAU;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,cAAYD;AAAA,EAAC;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAO,KAAK,SAAS;AAAA,EAAgB;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAO,KAAK,cAAc,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,KAAK,YAAY,WAAW;AAAA,EAAI;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAO,KAAK,cAAc,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,KAAK,YAAY;AAAA,EAAQ;AAAA,EAAC,IAAI,+BAA8B;AAAC,WAAO,KAAK,iBAAe,KAAK,YAAY,WAAW,WAAW,QAAQ,CAAC,IAAE;AAAA,EAAC;AAAA,EAAC,IAAI,6BAA4B;AAAC,WAAO,KAAK,iBAAe,KAAK,YAAY,WAAW,WAAW,QAAQ,CAAC,IAAE;AAAA,EAAC;AAAA,EAAC,IAAI,wBAAuB;AAAC,WAAO,KAAK,IAAI,GAAE,KAAK,6BAA2B,KAAK,SAAS,UAAU;AAAA,EAAC;AAAA,EAAC,IAAI,2BAA0B;AAAC,WAAO,KAAK,IAAI,GAAE,KAAK,6BAA2B,KAAK,SAAS,aAAa;AAAA,EAAC;AAAA,EAAC,IAAI,iBAAgB;AAAC,WAAM,CAAC,CAAC,KAAK,YAAY;AAAA,EAAe;AAAA,EAAC,IAAI,mBAAkB;AAAC,QAAG,QAAM,KAAK,mBAAkB;AAAC,YAAMP,MAAE,KAAK,YAAY,WAAW;AAAW,WAAK,WAAS,IAAE,KAAK,oBAAkB,KAAK,IAAIA,KAAE,KAAK,IAAI,KAAK,WAAS,KAAK,cAAa,KAAK,WAAS,KAAK,aAAa,CAAC,IAAE,KAAK,oBAAkBA;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAiB;AAAA,EAAC,gBAAgBA,KAAE;AAAC,YAAO,KAAK,YAAW;AAAA,MAAC,KAAKM,IAAE;AAAK,eAAO,KAAK;AAAA,MAA6B,KAAKA,IAAE;AAAO,gBAAO,KAAK,eAAa,KAAK,YAAYN,GAAC,KAAG;AAAA,MAAE,KAAKM,IAAE;AAAM,eAAO,KAAK,eAAa,KAAK,+BAA6B,KAAK,YAAYN,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,OAAOA,KAAED,MAAE,GAAEG,MAAE,GAAE;AAAC,IAAAF,IAAE,KAAK;AAAE,UAAMM,MAAEP,OAAG,KAAK,kBAAiBI,MAAED,OAAG,KAAK,kBAAiBE,MAAE,KAAK,WAAUG,MAAE,KAAK;AAAkB,IAAAR,OAAGK,KAAEF,OAAGK,MAAE,KAAK;AAAkB,UAAMF,MAAE,KAAK,YAAU;AAAE,IAAAA,OAAG,KAAK,YAAYL,KAAEM,KAAEH,KAAEC,KAAEG,GAAC,GAAE,KAAK,mBAAmBP,KAAE,KAAK,iBAAiB;AAAE,aAAQC,MAAE,GAAEA,MAAE,KAAK,OAAO,QAAO,EAAEA,KAAE;AAAC,YAAMK,MAAE,KAAK,OAAOL,GAAC,GAAEE,MAAE,KAAK,gBAAgBF,GAAC;AAAE,MAAAI,QAAIL,IAAE,2BAAyB,mBAAkBA,IAAE,YAAU,gBAAe,KAAK,UAAUA,KAAEM,KAAEP,MAAEI,KAAED,GAAC,GAAE,KAAK,sBAAsBF,KAAED,MAAEI,KAAED,KAAE,KAAK,YAAYD,GAAC,CAAC,IAAGD,IAAE,2BAAyB,eAAcA,IAAE,YAAU,KAAK,YAAY,WAAU,KAAK,UAAUA,KAAEM,KAAEP,MAAE,KAAK,gBAAgBE,GAAC,GAAEC,GAAC,GAAE,KAAK,sBAAsBF,KAAED,MAAEI,KAAED,KAAE,KAAK,YAAYD,GAAC,CAAC,GAAEC,OAAG,KAAK;AAAA,IAAY;AAAC,QAAGF,IAAE,oBAAmB;AAAC,MAAAA,IAAE,cAAYQ,KAAER,IAAE,YAAY,CAAC,GAAE,CAAC,CAAC,GAAEA,IAAE,YAAU;AAAE,UAAIC,MAAEE,MAAEI;AAAE,eAAQR,MAAE,GAAEA,MAAE,KAAK,OAAO,QAAO,EAAEA,KAAE;AAAC,cAAMA,MAAEE,MAAE,KAAK;AAAkB,aAAK,UAAUD,KAAE,CAACM,KAAEP,GAAC,GAAE,CAACO,MAAE,KAAK,cAAaP,GAAC,CAAC,GAAEE,OAAG,KAAK;AAAA,MAAY;AAAA,IAAC;AAAC,QAAGD,IAAE,qBAAmBA,IAAE,cAAYQ,KAAER,IAAE,YAAY,CAAC,CAAC,GAAEA,IAAE,YAAU,GAAE,KAAK,SAASA,KAAE,CAACM,KAAEH,GAAC,GAAE,CAAC,KAAK,cAAa,KAAK,aAAa,CAAC,IAAG,KAAK,gBAAe;AAAC,YAAMF,MAAE,KAAK,YAAY,WAAW,WAAW,eAAa,KAAK;AAAiB,WAAK,aAAaD,KAAEM,KAAEH,KAAEF,GAAC,GAAED,IAAE,2BAAyB,oBAAmBA,IAAE,YAAU,KAAK,YAAY,iBAAgBA,IAAE,KAAK;AAAA,IAAC;AAAC,IAAAA,IAAE,QAAQ;AAAA,EAAC;AAAA,EAAC,sBAAsBA,KAAEC,KAAEF,KAAEG,KAAEI,MAAE,OAAG;AAAC,QAAG,WAAS,KAAK,YAAY,WAAW,KAAK,cAAY,MAAIJ;AAAE;AAAO,UAAMC,MAAE,GAAEC,MAAE,KAAK,IAAI,KAAK,YAAY,WAAW,OAAK,IAAGD,GAAC;AAAE,YAAO,KAAK,YAAY,WAAW,KAAK,YAAW;AAAA,MAAC,KAAI;AAAY,QAAAJ,OAAG,IAAEK;AAAE;AAAA,MAAM,KAAI;AAAe,QAAAL,OAAG,OAAI,KAAK;AAAA,IAAiB;AAAC,UAAMQ,MAAED,MAAE,KAAK,YAAU;AAAE,IAAAN,IAAE,cAAYM,MAAE,KAAK,YAAY,YAAU,KAAK,YAAY,WAAUN,IAAE,YAAU,KAAK,cAAcI,MAAE,IAAEG,GAAC,GAAEP,IAAE,UAAU,GAAEA,IAAE,OAAO,KAAK,cAAcC,MAAEM,GAAC,GAAE,KAAK,cAAcR,GAAC,CAAC,GAAEC,IAAE,OAAO,KAAK,cAAcC,MAAEC,MAAEK,GAAC,GAAE,KAAK,cAAcR,GAAC,CAAC,GAAEC,IAAE,OAAO;AAAA,EAAC;AAAA,EAAC,aAAaC,KAAEF,KAAEG,KAAEI,KAAE;AAAC,IAAAP,MAAE,KAAK,cAAcA,GAAC,GAAEG,MAAE,KAAK,cAAcA,GAAC;AAAE,UAAMC,MAAE,KAAK,eAAcC,MAAE,KAAK;AAAe,UAAIE,OAAGA,MAAE,EAAEA,KAAE,GAAE,KAAK,MAAMF,MAAE,CAAC,CAAC,GAAEH,IAAE,UAAU,GAAEA,IAAE,OAAOF,KAAEG,MAAEI,GAAC,GAAEL,IAAE,MAAMF,KAAEG,KAAEH,MAAEO,KAAEJ,KAAEI,GAAC,GAAEL,IAAE,OAAOF,MAAEI,MAAEG,KAAEJ,GAAC,GAAED,IAAE,MAAMF,MAAEI,KAAED,KAAEH,MAAEI,KAAED,MAAEI,KAAEA,GAAC,GAAEL,IAAE,OAAOF,MAAEI,KAAED,MAAEE,MAAEE,GAAC,GAAEL,IAAE,MAAMF,MAAEI,KAAED,MAAEE,KAAEL,MAAEI,MAAEG,KAAEJ,MAAEE,KAAEE,GAAC,GAAEL,IAAE,OAAOF,MAAEO,KAAEJ,MAAEE,GAAC,GAAEH,IAAE,MAAMF,KAAEG,MAAEE,KAAEL,KAAEG,MAAEE,MAAEE,KAAEA,GAAC,GAAEL,IAAE,UAAU,KAAGA,IAAE,KAAKF,KAAEG,KAAEC,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,YAAYJ,KAAEC,KAAEF,KAAEG,KAAEI,KAAE;AAAC,UAAMC,MAAE,KAAK,eAAcC,MAAE,KAAK,gBAAeE,MAAEP,IAAEC,KAAE,KAAK,IAAIG,KAAEF,GAAC,GAAE,KAAK,IAAIG,KAAEH,GAAC,CAAC,GAAEa,MAAER,IAAE,WAAW,IAAI;AAAE,IAAAQ,IAAE,UAAU,GAAE,GAAEX,KAAEC,GAAC,GAAE,KAAK,mBAAmBU,KAAE,KAAK,iBAAiB,GAAEA,IAAE,YAAU,KAAK,YAAY,WAAUA,IAAE,cAAY,KAAK,YAAY;AAAU,UAAMJ,MAAE,KAAK,oBAAkB;AAAE,IAAAI,IAAE,WAASJ,MAAE,UAAQ,SAAQA,MAAE,KAAK,oBAAoBI,KAAEhB,KAAEI,GAAC,IAAE,KAAK,kBAAkBY,KAAEhB,KAAEI,GAAC;AAAE,QAAIO,MAAEP,MAAE,KAAK;AAAkB,aAAQH,MAAE,GAAEA,MAAE,KAAK,OAAO,QAAO,EAAEA,KAAE;AAAC,YAAMH,MAAE,KAAK,gBAAgBG,GAAC;AAAE,WAAK,sBAAsBe,KAAEhB,MAAEF,KAAEa,KAAE,KAAK,YAAYV,GAAC,GAAE,IAAE,GAAEU,OAAG,KAAK;AAAA,IAAY;AAAC,IAAAb,IAAE,cAAY,KAAK,YAAY,WAAW,KAAK,MAAM,CAAC,GAAEA,IAAE,UAAUU,KAAE,GAAE,GAAEH,KAAEC,KAAE,KAAK,cAAcP,GAAC,GAAE,KAAK,cAAcF,GAAC,GAAEQ,KAAEC,GAAC,GAAER,IAAE,cAAY;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAEC,KAAEF,KAAE;AAAC,IAAAA,OAAG,KAAK;AAAkB,aAAQO,MAAE,GAAEA,MAAE,KAAK,OAAO,QAAO,EAAEA,KAAE;AAAC,YAAMH,MAAE,KAAK,OAAOG,GAAC,GAAEF,MAAE,KAAK,gBAAgBE,GAAC;AAAE,iBAAS,CAACA,KAAEC,GAAC,KAAIL;AAAE,aAAK,UAAUF,KAAEG,KAAEF,MAAEG,MAAE,KAAK,YAAUE,KAAEP,MAAE,KAAK,YAAUQ,GAAC;AAAE,MAAAR,OAAG,KAAK;AAAA,IAAY;AAAA,EAAC;AAAA,EAAC,kBAAkBC,KAAEC,KAAEF,KAAE;AAAC,UAAMG,MAAE,IAAE,KAAK;AAAU,IAAAH,OAAG,KAAK;AAAkB,aAAQO,MAAE,GAAEA,MAAE,KAAK,OAAO,QAAO,EAAEA,KAAE;AAAC,YAAMH,MAAE,KAAK,OAAOG,GAAC,GAAEF,MAAE,KAAK,gBAAgBE,GAAC,GAAEC,MAAE,GAAEF,MAAE;AAAG,eAAQC,MAAE,GAAEA,MAAEC,KAAED,OAAI;AAAC,cAAME,MAAE,KAAGD,MAAE,KAAGF,MAAEC,MAAED;AAAE,QAAAL,IAAE,YAAU,KAAK,cAAcQ,MAAEN,GAAC,GAAE,KAAK,YAAYF,KAAEG,KAAEF,MAAEG,KAAEL,GAAC;AAAA,MAAC;AAAC,MAAAA,OAAG,KAAK;AAAA,IAAY;AAAA,EAAC;AAAA,EAAC,mBAAmBC,KAAEC,KAAE;AAAC,IAAAD,IAAE,OAAK,KAAK,YAAY,WAAWC,GAAC,GAAED,IAAE,YAAU,QAAOA,IAAE,eAAa;AAAA,EAAY;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,KAAK,SAAS;AAAA,EAAY;AAAA,EAAC,cAAcA,KAAE;AAAC,WAAOA,MAAE,KAAK;AAAA,EAAgB;AAAA,EAAC,qBAAqBA,KAAE;AAAC,WAAO,KAAK,MAAMA,MAAE,KAAK,gBAAgB;AAAA,EAAC;AAAA,EAAC,UAAUA,KAAEC,KAAEF,KAAEG,KAAE;AAAC,IAAAF,IAAE,SAASC,KAAE,KAAK,cAAcF,GAAC,GAAE,KAAK,cAAcG,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,YAAYF,KAAEC,KAAEF,KAAEG,KAAE;AAAC,IAAAF,IAAE,WAAWC,KAAE,KAAK,cAAcF,GAAC,GAAE,KAAK,cAAcG,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,UAAUF,KAAEC,KAAEF,KAAE;AAAC,IAAAC,IAAE,UAAU,GAAEA,IAAE,OAAO,KAAK,qBAAqBC,IAAE,CAAC,CAAC,IAAE,KAAG,KAAK,qBAAqBA,IAAE,CAAC,CAAC,IAAE,GAAE,GAAED,IAAE,OAAO,KAAK,qBAAqBD,IAAE,CAAC,CAAC,IAAE,KAAG,KAAK,qBAAqBA,IAAE,CAAC,CAAC,IAAE,GAAE,GAAEC,IAAE,OAAO;AAAA,EAAC;AAAA,EAAC,SAASA,KAAEC,KAAEF,KAAE;AAAC,UAAMG,MAAE,KAAK,cAAcD,IAAE,CAAC,CAAC,GAAEK,MAAE,KAAK,cAAcL,IAAE,CAAC,CAAC,GAAEE,MAAE,KAAK,cAAcJ,IAAE,CAAC,CAAC,GAAEK,MAAE,KAAK,cAAcL,IAAE,CAAC,CAAC,GAAEQ,MAAE,KAAK,MAAML,GAAC,IAAE,KAAGG,MAAE,KAAK,KAAKH,MAAEC,GAAC,IAAE,KAAGK,MAAE,KAAK,MAAMF,GAAC,IAAE,KAAGI,MAAE,KAAK,KAAKJ,MAAEF,GAAC,IAAE;AAAG,IAAAJ,IAAE,UAAU,GAAEA,IAAE,OAAOO,KAAEC,GAAC,GAAER,IAAE,OAAOK,KAAEG,GAAC,GAAER,IAAE,OAAOK,KAAEK,GAAC,GAAEV,IAAE,OAAOO,KAAEG,GAAC,GAAEV,IAAE,OAAOO,KAAEC,GAAC,GAAER,IAAE,OAAO;AAAA,EAAC;AAAC;AAAC,IAAME,MAAE,CAAC;AAAE;AAAC,QAAMF,MAAE;AAAG,WAAQC,MAAE,GAAEA,MAAE,KAAIA,OAAG,MAAID;AAAE,IAAAE,IAAE,KAAK,CAAC,KAAK,IAAI,KAAK,KAAGD,MAAE,GAAG,GAAE,KAAK,IAAI,KAAK,KAAGA,MAAE,GAAG,CAAC,CAAC;AAAC;AAAC,IAAIK;AAAE,SAASH,IAAEH,KAAEC,KAAEF,KAAE;AAAC,SAAOC,IAAE,WAASA,IAAE,SAAO,SAAS,cAAc,QAAQ,IAAGA,IAAE,OAAO,QAAMC,KAAED,IAAE,OAAO,SAAOD,KAAEC,IAAE;AAAM;AAAC,CAAC,SAASA,KAAE;AAAC,EAAAA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,IAAEA,IAAE,QAAM,CAAC,IAAE;AAAO,EAAEM,QAAIA,MAAE,CAAC,EAAE;AAAE,IAAMF,MAAE,EAAC,QAAO,KAAI;AAApB,IAAsBG,MAAE;AAAxB,IAA2BF,MAAE;AAA7B,IAAiCG,MAAE;AAAnC,IAA2DE,OAAG,MAAI;AAAC,MAAIV,MAAE;AAAG,WAAQC,MAAE,IAAGA,MAAE,KAAIA;AAAI,IAAAD,OAAG,OAAO,aAAaC,GAAC;AAAE,SAAOD;AAAC,GAAG;AAAE,IAAMkB,MAAN,MAAO;AAAA,EAAC,YAAYlB,KAAEC,KAAEF,KAAEG,KAAEI,KAAE;AAAC,SAAK,aAAWN,KAAE,KAAK,gBAAcC,KAAE,KAAK,aAAWF,KAAE,KAAK,eAAaG,KAAE,KAAK,mBAAiBI;AAAA,EAAC;AAAC;AAAC,IAAMQ,MAAN,MAAO;AAAA,EAAC,YAAYd,KAAEC,KAAE;AAAC,SAAK,0BAAwBD,KAAE,KAAK,2BAAyBC;AAAA,EAAC;AAAC;AAAC,IAAMY,MAAE,oBAAI;;;ACA36Q,IAAMM,MAAE,OAAO,OAAO,EAAC,MAAK,GAAE,QAAO,KAAG,OAAM,EAAC,CAAC;AAAhD,IAAkDC,MAAE,OAAO,OAAO,EAAC,eAAcD,GAAE,GAAE,CAAC,GAAE,QAAOA,GAAE,KAAG,CAAC,GAAE,gBAAeA,GAAE,GAAE,CAAC,GAAE,MAAKA,GAAE,GAAE,GAAE,GAAE,QAAOA,GAAE,KAAG,GAAE,GAAE,OAAMA,GAAE,GAAE,GAAE,GAAE,YAAWA,GAAE,GAAE,CAAC,GAAE,KAAIA,GAAE,KAAG,CAAC,GAAE,aAAYA,GAAE,GAAE,CAAC,EAAC,CAAC;AAAE,SAASE,IAAEC,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAI;AAAO,aAAOC,IAAE;AAAA,IAAK,KAAI;AAAQ,aAAOA,IAAE;AAAA,IAAM;AAAQ,aAAOA,IAAE;AAAA,EAAM;AAAC;AAAC,SAASC,IAAEF,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAI;AAAA,IAAc,KAAI;AAAA,IAAO,KAAI;AAAW,aAAM;AAAA,IAAO,KAAI;AAAA,IAAS,KAAI;AAAA,IAAS,KAAI;AAAM,aAAM;AAAA,IAAS,KAAI;AAAA,IAAe,KAAI;AAAA,IAAQ,KAAI;AAAY,aAAM;AAAA,EAAO;AAAC;AAAC,SAASC,IAAED,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAI;AAAA,IAAc,KAAI;AAAA,IAAS,KAAI;AAAe,aAAM;AAAA,IAAS,KAAI;AAAA,IAAO,KAAI;AAAA,IAAS,KAAI;AAAQ,aAAM;AAAA,IAAS,KAAI;AAAA,IAAW,KAAI;AAAA,IAAM,KAAI;AAAY,aAAM;AAAA,EAAK;AAAC;AAAC,SAASG,IAAEH,KAAEI,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAI;AAAS,aAAM,WAASJ,MAAE,gBAAc,YAAUA,MAAE,iBAAe;AAAA,IAAS,KAAI;AAAS,aAAOA;AAAA,IAAE,KAAI;AAAM,aAAM,WAASA,MAAE,aAAW,YAAUA,MAAE,cAAY;AAAA,EAAK;AAAC;AAAC,SAASK,IAAEL,KAAE;AAAC,SAAM,aAAWA,MAAE,WAASA;AAAC;;;ACAnjC,IAAMM,MAAN,MAAO;AAAA,EAAC,YAAYA,MAAE,MAAKC,MAAE,UAASC,MAAE,UAASC,MAAE,MAAKC,MAAE,CAAC,GAAE,GAAE,CAAC,GAAEC,MAAE,GAAEC,MAAE,CAAC,GAAE,GAAE,GAAE,CAAC,GAAEC,MAAE,CAAC,GAAE,CAAC,GAAEC,MAAE,SAAQC,MAAE,GAAEC,MAAE,GAAE;AAAC,SAAK,iBAAeV,KAAE,KAAK,sBAAoBC,KAAE,KAAK,oBAAkBC,KAAE,KAAK,OAAKC,KAAE,KAAK,cAAYC,KAAE,KAAK,kBAAgBC,KAAE,KAAK,eAAaC,KAAE,KAAK,eAAaC,KAAE,KAAK,oBAAkBC,KAAE,KAAK,eAAaC,KAAE,KAAK,gBAAcC;AAAA,EAAC;AAAC;;;ACAhF,IAAMC,MAAN,MAAM,GAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,SAAK,aAAWA,KAAE,KAAK,MAAI,KAAK,UAAUA,GAAC,GAAE,KAAK,WAAS,KAAK,MAAMA,IAAE,KAAK,IAAI,GAAE,KAAK,YAAU,KAAK,aAAaA,IAAE,KAAK,GAAE,KAAK,YAAU,KAAK,YAAYA,IAAE,KAAK,KAAK,GAAE,KAAK,kBAAgB,MAAIA,IAAE,WAAW,MAAM,CAAC,IAAE,KAAK,aAAaA,IAAE,WAAW,KAAK,IAAE;AAAA,EAAI;AAAA,EAAC,WAAWA,KAAE;AAAC,UAAMC,MAAE,KAAK,WAAW;AAAK,WAAM,GAAGA,IAAE,KAAK,IAAIA,IAAE,MAAM,IAAID,GAAC,MAAMC,IAAE,MAAM;AAAA,EAAc;AAAA,EAAC,YAAYD,KAAE;AAAC,WAAM,OAAOA,IAAE,MAAM,GAAE,CAAC,EAAE,IAAK,CAAAA,QAAG,KAAK,MAAM,MAAIA,GAAC,CAAE,EAAE,SAAS,CAAC;AAAA,EAAG;AAAA,EAAC,aAAaA,KAAE;AAAC,WAAM,QAAQA,IAAE,MAAM,GAAE,CAAC,EAAE,IAAK,CAAAA,QAAG,KAAK,MAAM,MAAIA,GAAC,CAAE,EAAE,SAAS,CAAC,IAAIA,IAAE,CAAC,CAAC;AAAA,EAAG;AAAA,EAAC,aAAa,WAAWE,KAAEC,KAAE;AAJx1B,wBAAAC;AAIy1B,UAAMC,OAAE,KAAAH,OAAA,gBAAAA,IAAG,aAAH,mBAAa,OAAMI,MAAEC,GAAE,WAAWF,GAAC,KAAGG,IAAEC,MAAE,QAAMP,IAAE,OAAKO,GAAEP,IAAE,IAAI,IAAE,IAAGQ,MAAER,IAAE,YAAWK,MAAE,QAAML,IAAE,aAAWK,GAAE,WAAWL,IAAE,WAAW,KAAK,IAAEM,IAAEG,MAAE,EAAC,UAAO,KAAAT,IAAE,SAAF,mBAAQ,WAAQ,cAAa,cAAW,KAAAA,IAAE,SAAF,mBAAQ,eAAY,QAAO,UAAO,KAAAA,IAAE,SAAF,mBAAQ,WAAQ,UAAS,SAAME,MAAAF,IAAE,SAAF,gBAAAE,IAAQ,UAAO,SAAQ,GAAEQ,MAAEV,IAAE,MAAKW,MAAE,QAAMD,OAAG,QAAMA,IAAE,SAAOA,IAAE,OAAK,IAAE,EAAC,MAAKH,GAAEG,IAAE,IAAI,GAAE,OAAML,GAAE,WAAWK,IAAE,KAAK,EAAC,IAAE,EAAC,MAAK,GAAE,OAAMJ,GAAC,GAAEM,MAAE,IAAI,GAAE,EAAC,OAAMR,KAAE,MAAKG,KAAE,YAAW,EAAC,OAAMF,KAAE,SAAQ,QAAML,IAAE,aAAW,CAAC,OAAIO,KAAE,MAAGA,GAAC,IAAE,CAAC,GAAE,CAAC,GAAE,cAAa,QAAMP,IAAE,aAAWO,OAAG,IAAE,MAAI,EAAC,GAAE,mBAAkBC,KAAE,MAAKC,KAAE,MAAKE,KAAE,YAAWV,IAAC,CAAC;AAAE,QAAGD,IAAE,MAAK;AAAC,UAAIF,MAAE;AAAG,YAAMe,MAAED,IAAE,WAAWL,GAAC;AAAE,UAAG;AAAC,QAAAT,OAAG,MAAM,SAAS,MAAM,KAAKe,GAAC,GAAG,KAAM,CAAAf,QAAG,CAACe,GAAEf,GAAC,CAAE;AAAA,MAAC,SAAOgB,IAAE;AAAC,UAAE,UAAU,qDAAqD,EAAE,SAAS,2BAA2BD,GAAC,wEAAwE;AAAA,MAAC;AAAC,UAAG,CAACf,OAAG,CAACQ,IAAE,IAAIN,IAAE,KAAK,MAAM;AAAE,YAAG;AAAC,gBAAMC,IAAED,IAAE,IAAI;AAAA,QAAC,SAAOc,IAAE;AAAA,QAAC;AAAA,IAAC;AAAC,WAAOF;AAAA,EAAC;AAAC;AAAC,IAAMN,MAAE,oBAAI,IAAI,CAAC,SAAQ,mBAAkB,eAAc,SAAQ,cAAa,aAAY,WAAU,WAAU,aAAY,YAAW,iBAAgB,gBAAe,cAAa,QAAO,SAAQ,UAAU,CAAC;;;ACAv8D,IAAMS,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAEC,KAAE;AAAC,SAAK,YAAUD,KAAE,KAAK,WAASC,KAAE,KAAK,kBAAgB,MAAK,KAAK,sBAAoB,MAAK,KAAK,oBAAkB,MAAK,KAAK,WAAS,MAAK,KAAK,QAAM,MAAK,KAAK,iBAAe,MAAK,KAAK,qBAAmB,MAAK,KAAK,YAAU,MAAK,KAAK,QAAM,MAAK,KAAK,sBAAoB,MAAK,KAAK,oBAAkB,MAAK,KAAK,qBAAmB,MAAK,KAAK,+BAA6B,MAAK,KAAK,+BAA6B,MAAG,KAAK,oBAAkB,OAAG,KAAK,gCAA8B,OAAG,KAAK,qBAAmB,OAAG,KAAK,UAAQ;AAAA,EAAE;AAAC;AAAC,IAAMA,MAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,iBAAe,GAAE,KAAK,qBAAmB,GAAE,KAAK,gBAAc;AAAA,EAAE;AAAC;;;ACAqiB,IAAMC,KAAE,IAAIC,GAAE,OAAO,CAAAA,QAAGC,GAAED,KAAE,CAAC,GAAG,MAAK,IAAG,CAAC;AAAzC,IAA2CE,KAAEC,GAAE;AAAE,IAAMC,KAAN,MAAO;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,gBAAc;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAO,KAAK,OAAO,KAAM,CAAAJ,QAAGA,OAAA,gBAAAA,IAAG,iBAAkB;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAEK,KAAEF,KAAEG,KAAEC,KAAE;AAAC,SAAK,UAAQP,KAAE,KAAK,mBAAiBK,KAAE,KAAK,SAAOF,KAAE,KAAK,gBAAcK,GAAE,WAAU,KAAK,wBAAsB,GAAE,EAAEH,IAAE,YAAW,KAAK,4BAA0BE,MAAEA,IAAEA,KAAEP,KAAEM,GAAC,IAAE;AAAA,EAAI;AAAA,EAAC,WAAWN,KAAE;AAAC,SAAK,SAAOA,KAAE,KAAK,2BAA4B,CAAAK,QAAG;AAAC,MAAAA,IAAE,WAAWL,GAAC,GAAEK,IAAE,cAAc,KAAK,UAAU,CAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,2BAA4B,CAAAL,QAAGA,IAAE,QAAQ,CAAE,GAAE,KAAK,gBAAc,MAAK,EAAE,KAAK,iBAAiB,YAAW,KAAK,mBAAiB;AAAA,EAAI;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,QAAM,KAAK;AAAA,EAAM;AAAA,EAAC,qBAAoB;AAAC,SAAK,qBAAsB,CAAAA,QAAGA,IAAE,QAAQ,CAAE,GAAE,KAAK,eAAa;AAAA,EAAI;AAAA,EAAC,gBAAgBA,KAAEK,KAAE;AAAC,SAAK,iBAAe,KAAK,eAAa,IAAI,UAAO,KAAK,aAAa,KAAKL,GAAC,GAAEA,IAAE,WAAWK,GAAC,GAAEL,IAAE,cAAc,KAAK,UAAUE,GAAE,KAAK,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBF,KAAE;AAAC,SAAK,gBAAcA,KAAE,KAAK,WAASA,IAAE,WAAW,KAAK,MAAM,GAAEA,IAAE,cAAc,KAAK,UAAU,CAAC;AAAA,EAAE;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK;AAAA,EAAa;AAAA,EAAC,IAAI,WAAU;AAAC,QAAIA,MAAE;AAAG,WAAO,KAAK,2BAA4B,CAAAK,QAAG;AAAC,mBAAWA,IAAE,SAAOL,MAAE;AAAA,IAAG,CAAE,GAAEA;AAAA,EAAC;AAAA,EAAC,UAAUA,MAAEE,GAAE,SAAQG,KAAE;AAAC,UAAMF,MAAEE,MAAE,KAAK,gBAAcA,MAAEH,GAAE,QAAMG,MAAE,KAAK;AAAc,WAAOL,QAAIE,GAAE,WAASC,MAAEK,GAAE,iBAAeA,GAAE,eAAaL,MAAEK,GAAE,eAAaA,GAAE;AAAA,EAAS;AAAA,EAAC,kBAAkBR,KAAEK,KAAEF,KAAE;AAAC,UAAMG,MAAE,KAAK,UAAUN,GAAC;AAAE,IAAAG,MAAE,KAAK,iBAAeH,MAAEK,MAAE,KAAK,iBAAe,EAAEL,MAAEK;AAAG,UAAME,MAAE,KAAK,UAAUP,GAAC;AAAE,QAAGM,QAAIC;AAAE,aAAM;AAAG,QAAGP,QAAIE,GAAE;AAAM,WAAK,qBAAsB,CAAAF,QAAGA,IAAE,cAAcO,GAAC,CAAE;AAAA,SAAM;AAAC,WAAK,2BAA4B,CAAAP,QAAGA,IAAE,cAAcO,GAAC,CAAE;AAAE,YAAMP,MAAE,KAAK,UAAUE,GAAE,KAAK;AAAE,WAAK,qBAAsB,CAAAG,QAAGA,IAAE,cAAcL,GAAC,CAAE;AAAA,IAAC;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,kBAAkBA,KAAEK,KAAE;AAAC,WAAO,MAAI,KAAK,gBAAcL,MAAEK;AAAA,EAAE;AAAA,EAAC,cAAcL,KAAE;AAAC,QAAG,CAAC,KAAK,SAAQ;AAAC,YAAMK,MAAE,KAAK,QAAQ;AAAS,UAAG,QAAMA;AAAE,eAAM;AAAG,WAAK,UAAQF,GAAE,GAAEM,GAAEJ,KAAE,KAAK,OAAO;AAAE,YAAMF,MAAEE,IAAE;AAAiB,UAAG,CAAC,EAAEF,KAAEH,GAAC,KAAG,CAAC,GAAE,KAAK,SAAQG,KAAE,KAAK,SAAQH,GAAC;AAAE,eAAO,KAAK,UAAQ,MAAK;AAAA,IAAE;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,uBAAuBA,KAAEK,KAAE;AAAC,WAAO,KAAK,uBAAqB,KAAK,qBAAmB,KAAK,mCAAmC,KAAK,SAAQL,KAAEK,GAAC,IAAG,KAAK;AAAA,EAAkB;AAAA,EAAC,mCAAmCL,KAAEK,KAAEF,KAAE;AAAC,QAAIG,MAAEN,IAAE;AAAS,WAAM,WAASM,IAAE,QAAM,aAAWA,IAAE,SAAOA,MAAEI,GAAE,WAAW,WAASJ,IAAE,OAAKA,IAAE,SAAOA,GAAC,IAAG,GAAEA,KAAED,KAAEF,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,QAAIH,MAAEK,GAAE,KAAK,QAAQ,UAAU;AAAE,WAAO,KAAK,2BAA4B,CAAAA,QAAG;AAAC,YAAMF,MAAEE,IAAE,sBAAsB;AAAW,UAAG,QAAMF;AAAE;AAAO,YAAMG,MAAE,aAAWD,IAAE,OAAKF,IAAE,OAAO,SAAOA,IAAE;AAAO,MAAAH,OAAGM,IAAE,iBAAgBA,IAAE,uBAAqBN,OAAGW,GAAE,KAAK,QAAQ,QAAQ,IAAEL,IAAE;AAAA,IAAmB,CAAE,GAAEN;AAAA,EAAC;AAAA,EAAC,0BAAyB;AAAC,UAAMA,MAAE,EAAC,QAAO,EAAC,QAAOY,GAAE,GAAE,KAAI,EAAC,GAAE,QAAO,EAAC,QAAOA,GAAE,GAAE,KAAI,EAAC,EAAC;AAAE,eAAUP,OAAK,KAAK;AAAO,cAAMA,OAAGA,IAAE,wBAAwBL,GAAC;AAAE,WAAOA,IAAE,OAAO,MAAI,KAAG,EAAEA,IAAE,OAAO,QAAOA,IAAE,OAAO,QAAO,IAAEA,IAAE,OAAO,GAAG,GAAEA,IAAE,OAAO,MAAI,KAAGa,GAAEb,IAAE,OAAO,QAAOA,IAAE,OAAO,QAAO,IAAEA,IAAE,OAAO,GAAG,GAAEA;AAAA,EAAC;AAAA,EAAC,MAAM,wBAAwBA,KAAEG,KAAEG,KAAEC,KAAEO,KAAE;AAAC,WAAOA,QAAIA,MAAE,EAAC,aAAY,MAAK,yBAAwB,OAAG,oBAAmB,CAAC,EAAC,IAAGA,IAAE,cAAYC,GAAED,IAAE,WAAW,IAAEA,IAAE,cAAYC,GAAE,GAAED,IAAE,0BAAwB,OAAG,MAAMA,GAAE,KAAK,QAAQ,OAAMT,QAAG;AAAC,UAAG,QAAMA;AAAE;AAAO,YAAMW,MAAE,aAAWX,IAAE,OAAKF,MAAEH,KAAEY,MAAEb,GAAE,QAAQ,GAAEc,MAAE,MAAMR,IAAE,wBAAwBW,KAAEV,KAAEQ,IAAE,oBAAmBP,KAAEK,GAAC;AAAE,eAASC,IAAE,CAAC,CAAC,KAAG,SAASA,IAAE,CAAC,CAAC,MAAIC,IAAE,0BAAwB,OAAID,OAAGG,GAAEF,IAAE,aAAYF,GAAC,GAAEb,GAAE,QAAQa,GAAC;AAAA,IAAC,CAAE,GAAEC,GAAEC,IAAE,WAAW,KAAGf,GAAEK,GAAEU,IAAE,aAAYZ,EAAC,CAAC,IAAEY,MAAE;AAAA,EAAI;AAAA,EAAC,wBAAuB;AAJhkJ;AAIikJ,eAAUd,OAAK,KAAK;AAAO,UAAG,QAAMA,QAAI,eAAaA,IAAE,QAAM,mBAAiBA,IAAE,SAAOA,IAAE;AAAsB,eAAM;AAAG,aAAO,UAAK,iBAAL,mBAAmB,KAAM,CAAAA,SAAGA,OAAA,gBAAAA,IAAG,0BAAuB,WAAM;AAAA,EAAE;AAAA,EAAC,mBAAmBA,KAAEK,KAAEF,KAAE;AAAC,SAAK,wBAAyB,CAAAG,QAAG;AAAC,qBAAaA,IAAE,QAAM,mBAAiBA,IAAE,QAAMA,IAAE,mBAAmBN,KAAEK,KAAE,KAAK,2BAA0BF,GAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,2BAA2BH,KAAEK,KAAEF,KAAE;AAAC,SAAK,wBAAyB,CAAAG,QAAG;AAAC,qBAAaA,IAAE,QAAMA,IAAE,2BAA2BN,KAAEK,KAAEF,GAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,kBAAkBH,KAAEK,KAAE;AAAC,SAAK,2BAA4B,CAAAF,QAAGA,IAAE,eAAeH,KAAEK,GAAC,CAAE;AAAA,EAAC;AAAA,EAAC,kBAAkBL,KAAE;AAAC,SAAK,2BAA4B,CAAAK,QAAGA,IAAE,kBAAkBL,GAAC,CAAE;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAEK,KAAE;AAAC,IAAAL,OAAA,gBAAAA,IAAG,QAAS,CAAAA,QAAGA,OAAGK,IAAEL,GAAC;AAAA,EAAG;AAAA,EAAC,2BAA2BA,KAAE;AAAC,SAAK,oBAAoB,KAAK,QAAOA,GAAC,GAAE,KAAK,iBAAeA,IAAE,KAAK,aAAa;AAAA,EAAC;AAAA,EAAC,qBAAqBA,KAAE;AAAC,SAAK,oBAAoB,KAAK,cAAaA,GAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBA,KAAE;AAAC,SAAK,2BAA2BA,GAAC,GAAE,KAAK,qBAAqBA,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,OAAM;AAAC,UAAMA,MAAE;AAAK,WAAM,EAAC,eAAc,CAAAK,QAAG;AAAC,MAAAL,IAAE,iBAAeA,IAAE,eAAa,IAAI,UAAOA,IAAE,aAAa,KAAKK,GAAC;AAAA,IAAC,EAAC;AAAA,EAAC;AAAC;;;ACAjqK,SAASY,IAAEC,KAAE;AAAC,QAAMC,MAAE,CAAC,CAACC,GAAE,UAASF,IAAE,OAAO,CAAC,GAAED,MAAE,CAAC,CAACG,GAAE,UAAS,IAAIH,GAAEC,IAAE,cAAc,UAAS,GAAE,IAAE,CAAC,CAAC;AAAE,SAAO,QAAMA,IAAE,cAAc,gBAAcD,IAAE,KAAK,CAACG,GAAE,uBAAsB,IAAIH,GAAE,CAACC,IAAE,cAAc,YAAY,GAAE,GAAE,IAAE,CAAC,CAAC,GAAEC,IAAE,KAAK,CAACC,GAAE,uBAAsB,IAAI,MAAMF,IAAE,QAAQ,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,KAAGA,IAAE,cAAc,UAAQD,IAAE,KAAK,CAACG,GAAE,OAAM,IAAIH,GAAEC,IAAE,cAAc,OAAM,GAAE,IAAE,CAAC,CAAC,GAAEC,IAAE,KAAK,CAACC,GAAE,OAAMC,IAAEH,IAAE,QAAQ,MAAM,CAAC,CAAC,IAAGA,IAAE,cAAc,eAAaD,IAAE,KAAK,CAACG,GAAE,YAAW,IAAIH,GAAEC,IAAE,cAAc,YAAW,GAAE,IAAE,CAAC,CAAC,GAAEC,IAAE,KAAK,CAACC,GAAE,YAAWF,IAAE,OAAO,CAAC,IAAGA,IAAE,cAAc,iBAAeD,IAAE,KAAK,CAACG,GAAE,cAAa,IAAIH,GAAEC,IAAE,cAAc,cAAa,GAAE,IAAE,CAAC,CAAC,GAAEC,IAAE,KAAK,CAACC,GAAE,cAAaF,IAAE,OAAO,CAAC,IAAG,IAAII,GAAEJ,IAAE,UAASD,KAAEE,KAAED,IAAE,cAAaK,IAAE,MAAKL,IAAE,cAAc,qBAAqB;AAAC;AAAC,SAASM,IAAEC,KAAEP,MAAE,MAAK;AAAC,QAAMC,MAAE,CAAC,CAACC,GAAE,UAASK,IAAE,OAAO,GAAE,CAACL,GAAE,KAAIK,IAAE,OAAO,CAAC,GAAER,MAAE,CAAC,CAACG,GAAE,UAAS,IAAIH,GAAEQ,IAAE,cAAc,UAAS,GAAE,IAAE,CAAC,GAAE,CAACL,GAAE,KAAI,IAAIH,GAAEQ,IAAE,cAAc,KAAI,GAAE,IAAE,CAAC,CAAC;AAAE,SAAO,IAAIH,GAAEG,IAAE,UAASR,KAAEE,KAAEM,IAAE,cAAaF,IAAE,MAAKL,GAAC;AAAC;AAAC,SAASQ,IAAED,KAAE;AAAC,UAAOA,IAAE,MAAK;AAAA,IAAC,KAAI;AAAS,UAAGA,eAAaE;AAAE,eAAOC,GAAE,WAAWH,GAAC;AAAE;AAAA,IAAM,KAAI;AAAU,aAAOA;AAAA,EAAC;AAAC,SAAO;AAAI;AAAC,IAAMI,MAAN,MAAO;AAAA,EAAC,YAAYJ,KAAEF,KAAEO,KAAE;AAAC,SAAK,aAAWL,KAAE,KAAK,WAASF,KAAE,KAAK,aAAWO,KAAE,KAAK,gBAAc,IAAI;AAAA,EAAK;AAAC;;;ACArtC,SAASC,IAAEC,KAAEC,KAAEC,KAAEH,KAAE;AAAC,QAAMI,MAAEC,GAAEJ,IAAE,OAAM,CAAC,CAACA,IAAE,MAAKK,GAAE,WAAW,GAAEC,MAAEC,GAAEJ,IAAE,SAAS,MAAM,GAAEE,MAAEG,GAAEL,IAAE,UAASH,IAAE,kBAAiB,GAAEM,KAAE,GAAEH,IAAE,UAAS,GAAEA,IAAE,SAAS,SAAO,GAAEF,KAAEC,KAAEH,GAAC,GAAEU,MAAE,QAAMJ;AAAE,SAAO,IAAID,IAAED,IAAE,UAASG,KAAEE,IAAEL,IAAE,UAASA,IAAE,UAASG,GAAC,GAAEI,IAAEP,IAAE,UAASA,IAAE,UAASG,GAAC,GAAEG,KAAEJ,GAAC;AAAC;AAAC,SAASF,IAAEI,KAAEN,KAAE;AAAC,QAAMU,MAAEP,GAAEG,IAAE,OAAM,OAAGF,GAAE,WAAW,GAAEN,MAAE,GAAEY,IAAE,UAASJ,IAAE,kBAAiB,GAAEI,IAAE,UAASV,KAAE,GAAEU,IAAE,SAAS,SAAO,CAAC;AAAE,WAAQX,MAAE,GAAEA,MAAEW,IAAE,SAAS,QAAOX,OAAG;AAAE,IAAAW,IAAE,SAASX,GAAC,IAAE;AAAE,SAAM,EAAC,UAASW,IAAE,UAAS,UAASH,IAAEG,IAAE,UAASA,IAAE,QAAQ,GAAE,UAASD,IAAEC,IAAE,UAASA,IAAE,QAAQ,GAAE,mBAAkBZ,IAAC;AAAC;AAAC,SAASW,IAAEV,KAAEO,KAAEK,MAAE,MAAK;AAAC,SAAOZ,IAAE,OAAQ,CAAC,EAAC,OAAMA,IAAC,MAAIA,MAAE,CAAE,EAAE,IAAK,CAAC,EAAC,OAAMA,KAAE,OAAMa,IAAC,MAAI;AAAC,UAAMF,MAAE,IAAEX,KAAEE,MAAE,IAAEW;AAAE,WAAO,QAAMD,MAAE,IAAIP,IAAEL,KAAEa,KAAER,GAAEE,KAAEI,KAAET,GAAC,GAAEG,GAAEO,KAAED,KAAET,GAAC,CAAC,IAAE,IAAII,IAAEN,KAAEa,KAAER,GAAEE,KAAEI,KAAET,GAAC,CAAC;AAAA,EAAC,CAAE;AAAC;AAAC,SAASM,IAAER,KAAEO,KAAEK,MAAE,MAAK;AAAC,QAAMC,MAAE,IAAI;AAAM,aAAS,EAAC,OAAMF,KAAE,OAAMT,KAAE,aAAYH,KAAE,aAAYI,IAAC,KAAIH,KAAE;AAAC,QAAGE,OAAG;AAAE;AAAS,UAAMF,MAAE,IAAEW,KAAED,MAAE,IAAER,KAAEM,MAAET,IAAE,IAAK,CAAAC,QAAGA,MAAEW,GAAE,GAAEL,MAAE,QAAMM,MAAE,IAAIH,IAAEE,KAAET,KAAEG,GAAEE,KAAE,IAAEI,KAAE,IAAET,GAAC,GAAEG,GAAEO,KAAEZ,KAAEU,GAAC,GAAEF,KAAEL,GAAC,IAAE,IAAIW,GAAEH,KAAET,KAAEG,GAAEE,KAAE,IAAEI,KAAE,IAAET,GAAC,GAAEM,KAAEL,GAAC;AAAE,IAAAU,IAAE,KAAKP,GAAC;AAAA,EAAC;AAAC,SAAOO;AAAC;AAAC,IAAMP,MAAN,MAAO;AAAA,EAAC,YAAYN,KAAEO,KAAEN,KAAE;AAAC,SAAK,QAAMD,KAAE,KAAK,QAAMO,KAAE,KAAK,WAASN;AAAA,EAAC;AAAC;AAAC,IAAMI,MAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYN,KAAEO,KAAEN,KAAEW,KAAE;AAAC,UAAMZ,KAAEO,KAAEN,GAAC,GAAE,KAAK,eAAaW;AAAA,EAAC;AAAC;AAAC,IAAMH,MAAN,cAAgBJ,IAAC;AAAA,EAAC,YAAYL,KAAEO,KAAEN,KAAEW,KAAEC,KAAEF,KAAE;AAAC,UAAMX,KAAEO,KAAEN,KAAEW,GAAC,GAAE,KAAK,cAAYC,KAAE,KAAK,cAAYF;AAAA,EAAC;AAAC;AAAC,IAAMG,KAAN,cAAgBR,IAAC;AAAA,EAAC,YAAYN,KAAEO,KAAEN,KAAEW,KAAEC,KAAE;AAAC,UAAMb,KAAEO,KAAEN,GAAC,GAAE,KAAK,cAAYW,KAAE,KAAK,cAAYC;AAAA,EAAC;AAAC;AAAC,IAAMT,MAAN,MAAO;AAAA,EAAC,YAAYJ,KAAEO,KAAEN,KAAEW,KAAEC,KAAEF,KAAE;AAAC,SAAK,WAASX,KAAE,KAAK,eAAaO,KAAE,KAAK,WAASN,KAAE,KAAK,WAASW,KAAE,KAAK,oBAAkBC,KAAE,KAAK,mBAAiBF;AAAA,EAAC;AAAC;;;ACAtwD,SAASI,IAAEC,KAAEC,KAAEF,KAAEG,KAAEC,KAAEC,MAAE,GAAE;AAAC,QAAMC,MAAE,KAAG,KAAK,IAAIN,GAAC,IAAE,KAAK,IAAIG,GAAC,IAAE,KAAK,IAAIC,GAAC,IAAGG,MAAEP,MAAEM,KAAEE,MAAEL,MAAEG,KAAEG,MAAEL,OAAG,KAAGG,OAAG,IAAE,IAAE,OAAK,IAAE,KAAK,IAAIC,GAAC,KAAGD,KAAEG,MAAEN,OAAG,KAAGI,OAAG,IAAE,IAAE,OAAK,IAAE,KAAK,IAAID,GAAC,KAAGC,KAAEG,MAAET,MAAEG;AAAE,EAAAJ,IAAEU,GAAC,IAAEC,IAAEH,GAAC,GAAER,IAAEU,MAAE,CAAC,IAAEC,IAAEF,GAAC;AAAC;AAAC,SAASP,IAAEF,KAAE;AAAC,QAAMC,MAAED,IAAE,SAAO,GAAEE,MAAE,IAAI,WAAW,IAAED,GAAC;AAAE,MAAIE,MAAE;AAAE,WAAQQ,MAAE,GAAEA,MAAEV,KAAE,EAAEU;AAAE,IAAAZ,IAAEG,KAAES,KAAEX,IAAEG,KAAG,GAAEH,IAAEG,KAAG,GAAEH,IAAEG,KAAG,CAAC;AAAE,SAAOD;AAAC;AAAC,SAASC,IAAEH,KAAED,KAAEG,KAAEC,MAAE,GAAE;AAAC,QAAMQ,MAAET,MAAEC,KAAEE,MAAED,IAAEL,IAAEY,GAAC,CAAC,GAAEL,MAAEF,IAAEL,IAAEY,MAAE,CAAC,CAAC,GAAEJ,MAAE,IAAE,KAAK,IAAIF,GAAC,IAAE,KAAK,IAAIC,GAAC;AAAE,EAAAN,IAAE,CAAC,IAAEO,KAAEA,MAAE,KAAGP,IAAE,CAAC,KAAGK,OAAG,IAAE,IAAE,OAAK,IAAE,KAAK,IAAIC,GAAC,IAAGN,IAAE,CAAC,KAAGM,OAAG,IAAE,IAAE,OAAK,IAAE,KAAK,IAAID,GAAC,OAAKL,IAAE,CAAC,IAAEK,KAAEL,IAAE,CAAC,IAAEM,MAAG,EAAEN,KAAEA,GAAC;AAAC;AAAC,SAASW,IAAEV,KAAE;AAAC,SAAO,EAAE,KAAK,MAAM,QAAMA,GAAC,GAAE,QAAO,KAAK;AAAC;AAAC,SAASG,IAAEH,KAAE;AAAC,SAAO,EAAEA,MAAE,OAAM,IAAG,CAAC;AAAC;;;ACAmkE,IAAMW,KAAE,CAAC,WAAU,QAAQ;AAAE,IAAM,KAAN,cAAiBC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,GAAC,GAAE,KAAK,mBAAmB,KAAE;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAJj3F;AAIk3F,QAAG,CAAC,KAAK,kBAAkB,MAAK;AAAC,YAAMF,MAAEG,GAAE,KAAK,eAAe,CAAC;AAAE,UAAGH;AAAE,cAAM,IAAIC,GAAE,6CAA4CD,GAAC;AAAA,IAAC;AAAC,UAAMA,OAAE,gBAAK,gBAAL,mBAAkB,aAAlB,mBAA4B,OAAMC,MAAE,KAAK,4BAA4BD,GAAC,GAAEE,MAAEH,GAAEE,GAAC,GAAEG,MAAEH,IAAE,CAAC,GAAEI,MAAED,MAAE,KAAG,KAAK,4BAA2BE,MAAE,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,MAAG,SAAQJ,KAAE,SAAQA,KAAE,SAAQE,KAAE,aAAYC,KAAE,UAASA,MAAED,GAAE,OAAKA,GAAE,MAAK,iBAAgB,MAAG,eAAc,KAAK,SAAS,mBAAkB,aAAY,KAAK,YAAY,aAAY,4BAA2B,MAAG,YAAWG,IAAE,WAAU;AAAE,SAAK,YAAU,IAAIJ,GAAEG,GAAC,GAAE,KAAK,kBAAgB,IAAIH,GAAE,EAAC,GAAGG,KAAE,UAASF,GAAE,KAAI,CAAC,GAAE,KAAK,SAAS,MAAM,IAAI,KAAK,SAAS,GAAE,KAAK,SAAS,MAAM,IAAI,KAAK,eAAe;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,cAAY,KAAK,SAAS,MAAM,OAAO,KAAK,SAAS,GAAE,KAAK,SAAS,MAAM,OAAO,KAAK,eAAe;AAAA,EAAE;AAAA,EAAC,wBAAwBL,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,UAASH,IAAE,KAAK,YAAY,IAAI;AAAE,aAAO;AAAK,UAAMI,MAAE,KAAK,0BAA0BF,IAAE,eAAc,GAAG,GAAEG,MAAE,KAAK,2BAA2BF,KAAE,IAAIM,KAAC;AAAE,WAAO,KAAK,iBAAiBN,KAAED,IAAE,eAAcE,KAAEC,KAAEF,IAAE,GAAG;AAAA,EAAC;AAAA,EAAC,oBAAoBD,KAAEC,KAAE;AAJ9/H;AAI+/H,UAAMC,OAAE,gBAAK,gBAAL,mBAAkB,aAAlB,mBAA4B,OAAMC,MAAE,KAAK,oBAAoBD,GAAC,GAAEG,MAAEF,MAAE,KAAG,KAAK;AAA2B,SAAK,UAAU,cAAc,EAAC,SAAQA,KAAE,aAAYE,IAAC,CAAC,GAAE,KAAK,gBAAgB,cAAc,EAAC,SAAQF,KAAE,aAAYE,IAAC,CAAC;AAAE,UAAMC,MAAE,KAAK,iBAAiB;AAAE,IAAAN,IAAE,QAAS,CAAAA,QAAG;AAAC,YAAME,MAAED,IAAED,GAAC;AAAE,cAAME,OAAGA,IAAE,oBAAoBI,KAAE,KAAK,SAAS,OAAO;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,0BAA0BN,KAAEC,KAAE;AAAC,WAAO,KAAK,qCAAqCD,KAAEC,KAAEQ,EAAC;AAAA,EAAC;AAAA,EAAC,yBAAyBT,KAAEC,KAAE;AAAC,WAAO,KAAK,UAAU,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC,GAAE,KAAK,gBAAgB,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC,GAAED,IAAE,QAAS,CAAAA,QAAG;AAAC,YAAME,MAAED,IAAED,GAAC;AAAE,cAAME,OAAGA,IAAE,yBAAyB,KAAK,SAAS,mBAAkB,KAAK,SAAS,OAAO;AAAA,IAAC,CAAE,GAAE;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAO,KAAK,UAAU,cAAc,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,KAAE,CAAC,GAAE,KAAK,gBAAgB,cAAc,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,KAAE,CAAC,GAAE;AAAA,EAAE;AAAA,EAAC,kBAAkBF,KAAE;AAAC,QAAIC;AAAE,WAAOA,MAAED,IAAE,QAAM,KAAK,kBAAkB,OAAKQ,IAAER,IAAE,MAAK,CAAC,KAAG,IAAE,KAAK,eAAe,GAAEC,OAAG,KAAK,SAAS,mBAAmB,cAAaA;AAAA,EAAC;AAAA,EAAC,kBAAkBD,KAAEC,KAAE;AAAC,WAAO,KAAK,yBAAyBA,GAAC,IAAED,IAAE,iBAAeA,IAAE;AAAA,EAAgB;AAAA,EAAC,MAAM,iBAAiBA,KAAEG,KAAEE,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,kBAAkBF,GAAC,IAAE,KAAK,SAAS,mBAAmB,eAAaK,GAAEP,GAAC,GAAE,EAAC,UAASK,KAAE,QAAOG,IAAC,IAAEX,KAAEY,MAAE,EAAED,GAAC;AAAE,YAAOC,IAAE,KAAGA,IAAE,KAAG,KAAGL,KAAEP,IAAE,MAAK;AAAA,MAAC,KAAI,QAAO;AAAC,cAAK,EAAC,OAAME,KAAE,KAAIC,IAAC,IAAEH,KAAEK,MAAE,EAAEH,GAAC,GAAEI,MAAE,EAAEH,GAAC;AAAE,eAAOE,IAAE,KAAGA,IAAE,KAAG,KAAGE,KAAED,IAAE,KAAGA,IAAE,KAAG,KAAGC,KAAE,CAACP,GAAEQ,KAAEI,KAAE,IAAE,GAAEP,KAAEC,GAAC,CAAC;AAAA,MAAC;AAAA,MAAC,KAAI;AAAS,eAAM,CAACL,GAAEO,KAAEI,KAAE,IAAE,CAAC,GAAEZ,GAAEQ,KAAEG,KAAE,IAAE,GAAEA,KAAEC,GAAC,CAAC;AAAA,MAAE;AAAQ,eAAM,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,iBAAgB;AAAC,WAAO,KAAK,YAAY,QAAM;AAAA,EAAC;AAAA,EAAC,iBAAiBZ,KAAEC,KAAEC,KAAEM,KAAEI,KAAE;AAAC,UAAMb,MAAEa,IAAEZ,IAAE,QAAQ;AAAE,QAAG,QAAMD;AAAE,aAAO;AAAK,QAAG,MAAIA,IAAE,MAAM,UAAQ,CAACA,IAAE,MAAM,KAAM,CAAAC,QAAGA,IAAE,SAAO,CAAE;AAAE,aAAO,KAAK,+BAA+BD,IAAE,OAAM,SAAQ,sBAAsB,GAAE;AAAK,UAAMc,MAAEJ,IAAEV,KAAE,KAAK,SAAS,mBAAkB,KAAK,SAAS,oBAAmBS,GAAC;AAAE,SAAK,6BAA6BK,KAAEd,IAAE,OAAM,SAAQ,sBAAsB;AAAE,UAAMU,MAAEK,GAAEf,GAAC;AAAE,QAAG,QAAMU;AAAE,aAAO;AAAK,UAAMM,MAAE,IAAI,SAAMC,MAAE,IAAI,SAAMC,MAAEX,GAAE,GAAEY,MAAElB,IAAE,GAAEmB,MAAEd,GAAE,GAAEe,MAAE,KAAK,SAAS,mBAAmB,gBAAcT,IAAE;AAAO,IAAAS,OAAG,KAAK,SAAS,mBAAmB,kBAAkB,MAAKD,GAAC,GAAE,GAAEpB,IAAE,kBAAiB,CAACU,IAAE,GAAEA,IAAE,GAAE,CAAC,GAAES,KAAE,KAAK,SAAS,mBAAmB,gBAAgB;AAAE,UAAMG,KAAErB,IAAE;AAAE,IAAAD,GAAEsB,IAAEH,GAAC;AAAE,UAAMI,MAAEtB,IAAE;AAAE,IAAAe,GAAEO,KAAED,EAAC;AAAE,UAAK,EAAC,UAASE,KAAE,cAAaC,IAAE,UAASC,IAAC,IAAEZ;AAAE,eAAUR,OAAKkB,KAAE;AAAC,YAAMvB,MAAEK,IAAE;AAAM,UAAG,KAAK,SAAS,mBAAiBqB,GAAET,GAAC,GAAEL,GAAEK,KAAEZ,IAAE,YAAY,GAAE,CAAC,EAAEY,KAAE,KAAK,SAAS,cAAc;AAAG;AAAS,YAAMX,MAAEA,GAAED,IAAE,cAAaA,IAAE,aAAY,CAAC;AAAE,UAAG,MAAIC,IAAE;AAAO;AAAS,YAAMC,MAAED,IAAE,QAAOE,MAAE,IAAER,KAAEW,MAAEL,GAAEE,MAAED,GAAC,GAAER,MAAEO,GAAEC,GAAC,GAAEM,MAAEZ,GAAE,IAAEO,GAAC,GAAEC,MAAER,GAAE,IAAEO,GAAC,GAAEmB,MAAE1B,GAAE,IAAEO,GAAC,GAAEoB,MAAE3B,GAAEO,GAAC;AAAE,SAAGiB,KAAED,IAAElB,KAAED,KAAEQ,KAAEc,KAAElB,KAAEmB,KAAEjB,KAAEZ,KAAE,KAAK,kBAAkBE,GAAC,GAAEkB,KAAEC,GAAC,GAAEjB,IAAEU,KAAEA,KAAEQ,EAAC;AAAE,YAAMQ,MAAE,KAAK,SAAS,MAAM,WAAW,yBAAyB,EAAC,YAAWjB,KAAE,UAAS,KAAK,SAAS,MAAM,IAAG,CAAC,GAAEM,MAAE,IAAI,GAAGL,KAAEc,KAAEzB,IAAEO,GAAC,GAAEmB,GAAC;AAAE,MAAAb,IAAE,KAAK,GAAG,KAAK,WAAUJ,KAAEA,IAAE,SAAOZ,IAAE,QAAOmB,KAAEhB,KAAE2B,GAAC,GAAE,GAAG,KAAK,iBAAgB9B,KAAE,GAAEmB,KAAEhB,KAAE2B,GAAC,CAAC,GAAEb,IAAE,KAAKE,IAAE,OAAO;AAAA,IAAC;AAAC,QAAG,MAAIH,IAAE;AAAO,aAAO;AAAK,UAAMe,KAAE,IAAIC,GAAE,EAAC,YAAWhB,KAAE,UAAS,KAAK,SAAS,MAAM,KAAI,YAAWH,KAAE,mBAAkB,KAAE,CAAC;AAAE,IAAAkB,GAAE,iBAAeZ;AAAE,UAAMc,MAAEf,GAAE,KAAK,aAAY,EAAC,SAAQ,KAAK,iBAAiB,EAAC,CAAC,GAAEgB,KAAE,QAAMD,MAAE,EAAC,cAAa,KAAK,WAAU,eAAc,CAACA,GAAC,GAAE,YAAW,EAAC,iBAAgB,MAAG,eAAc,KAAK,SAAS,kBAAiB,EAAC,IAAE,MAAKE,KAAE,IAAIzB,GAAE,MAAKqB,IAAEf,KAAE,MAAK,MAAM,CAACf,KAAEC,KAAEC,KAAEC,KAAEE,QAAI,GAAGL,KAAEC,KAAEC,KAAEC,KAAEE,KAAEW,GAAC,GAAGR,KAAEyB,EAAC;AAAE,WAAOC,GAAE,0BAAwBrB,IAAE,kBAAiBqB,GAAE,wBAAsBzB,GAAED,IAAE,IAAI,GAAE0B;AAAA,EAAC;AAAC;AAAC,SAAS,GAAGlC,KAAEC,KAAEC,KAAEC,KAAEE,KAAEC,KAAE;AAAC,QAAMC,MAAEI,IAAEV,IAAE,MAAM,GAAEO,MAAE,CAAC,CAAC2B,GAAE,UAAS,IAAIjC,GAAEC,IAAE,WAAU,GAAE,IAAE,CAAC,GAAE,CAACgC,GAAE,kBAAiB,IAAIjC,GAAEC,IAAE,SAAQ,GAAE,IAAE,CAAC,GAAE,CAACgC,GAAE,OAAM,IAAIjC,GAAEG,KAAE,GAAE,IAAE,CAAC,CAAC,GAAEM,MAAE,CAAC,CAACwB,GAAE,UAASlC,GAAC,GAAE,CAACkC,GAAE,kBAAiBlC,GAAC,GAAE,CAACkC,GAAE,OAAM5B,GAAC,CAAC;AAAE,SAAO,IAAIsB,GAAE7B,KAAEQ,KAAEG,KAAER,IAAE,WAAUH,IAAE,MAAKM,KAAEJ,GAAC;AAAC;AAAC,SAAS,GAAGF,KAAEC,KAAEC,KAAEC,KAAEE,KAAEC,KAAEC,KAAEC,KAAEG,KAAEC,KAAEb,KAAEc,KAAEJ,KAAE;AAAC,QAAMM,MAAEb,IAAE,SAAO;AAAE,MAAIc,MAAE,GAAEC,MAAE,IAAEd,IAAE;AAAM,KAAGH,KAAEC,KAAEE,IAAE,OAAMA,IAAE,OAAMD,KAAE,GAAEa,KAAEV,KAAEC,KAAEC,KAAEC,KAAEG,KAAEC,KAAEK,KAAElB,KAAEc,KAAEJ,GAAC;AAAE,MAAIkB,MAAE,IAAExB,IAAE;AAAM,EAAAc,MAAE,GAAE,GAAGZ,KAAEC,KAAEE,KAAED,KAAES,KAAEb,IAAE,YAAY,CAAC,GAAEA,IAAE,OAAMwB,KAAEhB,KAAEM,KAAElB,GAAC,GAAE4B,OAAG,IAAExB,IAAE,YAAY,CAAC,GAAEc,OAAG,IAAEd,IAAE,YAAY,CAAC,GAAEa,OAAGb,IAAE,YAAY,CAAC;AAAE,WAAQyB,MAAE,GAAEA,MAAEzB,IAAE,YAAY,QAAO,EAAEyB;AAAE,OAAGvB,KAAEC,KAAEE,KAAED,KAAES,KAAEb,IAAE,YAAYyB,GAAC,GAAEzB,IAAE,OAAMwB,KAAEhB,KAAEM,KAAElB,GAAC,GAAE4B,OAAG,IAAExB,IAAE,YAAYyB,GAAC,GAAEX,OAAG,IAAEd,IAAE,YAAYyB,GAAC,GAAEZ,OAAGb,IAAE,YAAYyB,GAAC;AAAC;AAAC,SAAS,GAAG5B,KAAEC,KAAEC,KAAEC,KAAEE,KAAEC,KAAEC,KAAEC,KAAEG,KAAEE,KAAEJ,KAAEM,KAAEC,KAAEC,KAAEU,KAAEC,KAAEC,KAAE;AAAC,EAAA1B,GAAE,IAAGyB,GAAC;AAAE,QAAMQ,MAAET,MAAE,IAAE,IAAE;AAAG,MAAIU,MAAE,IAAEnC,KAAEoC,MAAE,GAAEC,MAAE,IAAED,KAAEZ,MAAEvB,KAAEe,MAAE,IAAEQ;AAAE,WAAQd,MAAE,GAAEA,MAAET,KAAE,EAAES;AAAE,IAAAiB,QAAI,GAAG,CAAC,IAAE7B,IAAEqC,GAAC,GAAE,GAAG,CAAC,IAAErC,IAAEqC,MAAE,CAAC,GAAE,GAAG,CAAC,IAAErC,IAAEqC,MAAE,CAAC,GAAE,EAAE,IAAG,EAAE,IAAG7B,IAAE+B,GAAC,IAAEvC,IAAEqC,GAAC,GAAE7B,IAAE+B,MAAE,CAAC,IAAEvC,IAAEqC,MAAE,CAAC,GAAE7B,IAAE+B,MAAE,CAAC,IAAEvC,IAAEqC,MAAE,CAAC,GAAE1B,IAAE4B,GAAC,IAAEtC,IAAEoC,GAAC,GAAE1B,IAAE4B,MAAE,CAAC,IAAEtC,IAAEoC,MAAE,CAAC,GAAE1B,IAAE4B,MAAE,CAAC,IAAEtC,IAAEoC,MAAE,CAAC,GAAExB,IAAE0B,GAAC,IAAE,CAACH,MAAE,GAAG,CAAC,GAAEvB,IAAE0B,MAAE,CAAC,IAAE,CAACH,MAAE,GAAG,CAAC,GAAEvB,IAAE0B,MAAE,CAAC,IAAE,CAACH,MAAE,GAAG,CAAC,GAAE3B,IAAE6B,GAAC,IAAE,GAAE9B,IAAEU,GAAC,IAAElB,IAAEqC,GAAC,IAAEV,MAAE,GAAG,CAAC,GAAEnB,IAAEU,MAAE,CAAC,IAAElB,IAAEqC,MAAE,CAAC,IAAEV,MAAE,GAAG,CAAC,GAAEnB,IAAEU,MAAE,CAAC,IAAElB,IAAEqC,MAAE,CAAC,IAAEV,MAAE,GAAG,CAAC,GAAEhB,IAAEO,GAAC,IAAEjB,IAAEoC,GAAC,GAAE1B,IAAEO,MAAE,CAAC,IAAEjB,IAAEoC,MAAE,CAAC,GAAE1B,IAAEO,MAAE,CAAC,IAAEjB,IAAEoC,MAAE,CAAC,GAAExB,IAAEK,GAAC,IAAEkB,MAAE,GAAG,CAAC,GAAEvB,IAAEK,MAAE,CAAC,IAAEkB,MAAE,GAAG,CAAC,GAAEvB,IAAEK,MAAE,CAAC,IAAEkB,MAAE,GAAG,CAAC,GAAE3B,IAAEiB,GAAC,IAAEC,KAAEY,OAAG,GAAErB,OAAG,GAAEmB,OAAG,GAAEC,OAAG,GAAEZ,OAAG;AAAE,EAAAW,MAAE,IAAE/B,KAAEiC,MAAE,GAAErB,MAAE,IAAED;AAAE,QAAMH,KAAEa,MAAE,IAAE,KAAG,IAAGR,MAAEQ,MAAE,IAAE,KAAG;AAAG,WAAQf,MAAE,GAAEA,MAAEL,KAAE,EAAEK;AAAE,IAAAI,IAAEuB,GAAC,IAAElC,IAAEgC,MAAEvB,GAAE,CAAC,CAAC,GAAEE,IAAEuB,MAAE,CAAC,IAAElC,IAAEgC,MAAEvB,GAAE,CAAC,CAAC,GAAEE,IAAEuB,MAAE,CAAC,IAAElC,IAAEgC,MAAEvB,GAAE,CAAC,CAAC,GAAEC,IAAEG,GAAC,IAAEb,IAAEgC,MAAElB,IAAE,CAAC,CAAC,IAAEhB,KAAEY,IAAEG,MAAE,CAAC,IAAEb,IAAEgC,MAAElB,IAAE,CAAC,CAAC,IAAEhB,KAAEY,IAAEG,MAAE,CAAC,IAAEb,IAAEgC,MAAElB,IAAE,CAAC,CAAC,IAAEhB,KAAEoC,OAAG,GAAErB,OAAG,GAAEmB,OAAG;AAAC;AAAC,SAASG,IAAGxC,KAAEC,KAAEC,KAAEC,KAAEE,KAAEC,KAAEC,KAAE;AAAC,EAAAJ,IAAEG,GAAC,IAAEH,IAAEI,GAAC,GAAEA,OAAG,GAAEP,IAAEM,OAAG,CAAC,IAAEN,IAAEO,GAAC,GAAEP,IAAEM,MAAE,CAAC,IAAEN,IAAEO,MAAE,CAAC,GAAEP,IAAEM,MAAE,CAAC,IAAEN,IAAEO,MAAE,CAAC,GAAEN,IAAEK,GAAC,IAAEL,IAAEM,GAAC,GAAEN,IAAEK,MAAE,CAAC,IAAEL,IAAEM,MAAE,CAAC,GAAEN,IAAEK,MAAE,CAAC,IAAEL,IAAEM,MAAE,CAAC,GAAEL,IAAEI,GAAC,IAAED,IAAE,CAAC,GAAEH,IAAEI,MAAE,CAAC,IAAED,IAAE,CAAC,GAAEH,IAAEI,MAAE,CAAC,IAAED,IAAE,CAAC;AAAC;AAAC,IAAM,KAAGA,GAAE;AAAE,SAAS,GAAGL,KAAEC,KAAEC,KAAEC,KAAEE,KAAEC,KAAEC,KAAEC,KAAEG,KAAEC,KAAEb,KAAE;AAAC,MAAIc,MAAER,KAAEI,MAAEJ,MAAE,GAAEU,MAAEV,MAAEE,KAAES,MAAEX,MAAEE,MAAE,GAAEU,MAAET,KAAEmB,MAAEnB,MAAE,GAAEoB,MAAEpB,MAAE,IAAEF,KAAEuB,MAAErB,MAAE,IAAEF,MAAE;AAAE,EAAAP,MAAE,MAAIc,MAAER,MAAEE,MAAE,GAAES,MAAEX,MAAGO,OAAG;AAAE,WAAQwB,MAAE,GAAEA,MAAE9B,KAAE,EAAE8B;AAAE,IAAAA,QAAI9B,MAAE,MAAIP,MAAE,KAAGU,MAAEJ,KAAEW,MAAEX,MAAEE,QAAIE,MAAEJ,KAAEQ,MAAER,MAAEE,OAAI,GAAGP,KAAEa,KAAEJ,KAAEM,KAAE,EAAE,GAAEyB,IAAGxC,KAAEC,KAAEE,KAAED,KAAE,IAAGe,KAAEJ,GAAC,GAAE2B,IAAGxC,KAAEC,KAAEE,KAAED,KAAE,IAAGyB,KAAElB,GAAC,GAAE+B,IAAGxC,KAAEC,KAAEE,KAAED,KAAE,IAAG0B,KAAEb,GAAC,GAAEyB,IAAGxC,KAAEC,KAAEE,KAAED,KAAE,IAAG2B,KAAEb,GAAC,GAAEL,IAAEC,KAAG,IAAEK,KAAEN,IAAEC,KAAG,IAAEgB,KAAEjB,IAAEC,KAAG,IAAEiB,KAAElB,IAAEC,KAAG,IAAEK,KAAEN,IAAEC,KAAG,IAAEiB,KAAElB,IAAEC,KAAG,IAAEe,KAAEd,OAAIJ,OAAIM,OAAIC,OAAIC,OAAG,GAAEU,OAAG,GAAEC,OAAG,GAAEC,OAAG;AAAC;AAAC,IAAM,KAAGxB,GAAE;AAAX,IAAa,KAAGA,GAAE;AAAlB,IAAoB,KAAGA,GAAE;AAAzB,IAA2B,KAAGA,GAAE;AAAhC,IAAkC,KAAGA,GAAE;AAAE,SAAS,GAAGL,KAAEC,KAAEC,KAAEC,KAAEE,KAAE;AAAC,EAAAJ,OAAG,GAAEC,OAAG,GAAEC,OAAG,GAAE,EAAE,IAAGH,IAAEC,KAAG,GAAED,IAAEC,KAAG,GAAED,IAAEC,KAAG,CAAC,GAAE,EAAE,IAAGD,IAAEE,KAAG,GAAEF,IAAEE,KAAG,GAAEF,IAAEE,KAAG,CAAC,GAAE,EAAE,IAAGF,IAAEG,KAAG,GAAEH,IAAEG,KAAG,GAAEH,IAAEG,KAAG,CAAC,GAAEH,GAAE,IAAG,IAAG,EAAE,GAAEA,GAAE,IAAG,IAAG,EAAE,GAAE,EAAEK,KAAE,IAAG,EAAE,GAAE,EAAEA,KAAEA,GAAC;AAAC;AAAC,IAAM,KAAGA,GAAE;AAAE,SAAS,GAAGL,KAAEC,KAAEC,KAAEC,KAAEE,KAAEC,KAAE;AAAC,QAAMC,MAAEP,IAAE,aAAYY,MAAEL,IAAE,YAAWR,MAAEa,IAAE,QAAOH,MAAE,sBAAoBR,IAAE;AAAK,MAAIc,MAAE;AAAE,QAAME,MAAEV,IAAE,gBAAeoB,MAAE3B,GAAEA,IAAE,GAAEiB,GAAC;AAAE,WAAQT,MAAE,GAAEA,MAAET,KAAES,OAAG,GAAE;AAAC,UAAMR,MAAEY,IAAEJ,GAAC;AAAE,QAAG,CAACR,IAAEA,GAAC;AAAE;AAAS,UAAMC,MAAED,IAAE,oBAAoBmC,GAAE,QAAQ,EAAE,MAAKxB,MAAEL,IAAEE,MAAE,CAAC,GAAET,MAAE,IAAII,IAAEH,IAAE,YAAY,GAAE4B,MAAE3B,IAAE,SAAO;AAAE,QAAI4B,MAAE,GAAEO,MAAE,OAAGC,MAAE;AAAE,aAAQ/B,MAAE,GAAEA,MAAEsB,KAAEtB,OAAI;AAAC,SAAG,CAAC,IAAEL,IAAE4B,GAAC,GAAE,GAAG,CAAC,IAAE5B,IAAE4B,MAAE,CAAC,GAAE,GAAG,CAAC,IAAE5B,IAAE4B,MAAE,CAAC,GAAE1B,IAAEJ,KAAE,EAAE,GAAEU,QAAI4B,OAAG,GAAG,mBAAkBpC,IAAE,+BAA6B,EAAE,IAAGF,IAAE,MAAMA,IAAE,MAAM,GAAEA,IAAE,MAAMA,IAAE,SAAO,CAAC,GAAE,GAAG,IAAEY,IAAEkB,MAAE,CAAC,CAAC,GAAE,QAAM3B,OAAGG,IAAE,eAAe,IAAGH,KAAE,EAAE,GAAE,EAAE,IAAG,IAAGyB,GAAC,MAAI,EAAE,IAAG1B,IAAE4B,GAAC,GAAE5B,IAAE4B,MAAE,CAAC,GAAE5B,IAAE4B,MAAE,CAAC,CAAC,GAAE,EAAE,IAAG,IAAGZ,GAAC,GAAEZ,IAAE,YAAY,IAAG,GAAG,IAAEM,IAAEkB,MAAE,CAAC,CAAC,GAAE,EAAE,IAAG,IAAGF,GAAC,IAAG1B,IAAE4B,GAAC,IAAE,GAAG,CAAC,GAAE5B,IAAE4B,MAAE,CAAC,IAAE,GAAG,CAAC,GAAE5B,IAAE4B,MAAE,CAAC,IAAE,GAAG,CAAC;AAAE,YAAM7B,MAAE,KAAGK,IAAE;AAAa,OAAC,KAAK,IAAI,GAAG,CAAC,IAAEJ,IAAE4B,GAAC,CAAC,KAAG7B,OAAG,KAAK,IAAI,GAAG,CAAC,IAAEC,IAAE4B,MAAE,CAAC,CAAC,KAAG7B,OAAG,KAAK,IAAI,GAAG,CAAC,IAAEC,IAAE4B,MAAE,CAAC,CAAC,KAAG7B,SAAKoC,MAAE,OAAIrC,IAAE,UAAQ,GAAE8B,OAAG;AAAA,IAAC;AAAC,IAAAO,QAAIpC,IAAE,uBAAuB,GAAEO,IAAE,2BAA2BK,IAAEJ,GAAC,CAAC,GAAEI,IAAEJ,MAAE,CAAC,EAAE,uBAAuB,GAAED,IAAE,2BAA2BK,IAAEJ,MAAE,CAAC,CAAC,IAAGO,OAAGsB,MAAET;AAAA,EAAC;AAAC,SAAOb,MAAEhB;AAAC;AAAC,IAAM,KAAGM,GAAE;AAAX,IAAa,KAAGA,GAAE;AAAlB,IAAoB,KAAG,IAAIoB;AAA3B,IAA6B,KAAG,CAAC,GAAE,GAAE,CAAC;AAAtC,IAAwC,KAAG,CAAC,GAAE,GAAE,CAAC;AAAjD,IAAmD,KAAG;AAAI,IAAM,KAAN,MAAQ;AAAA,EAAC,YAAYzB,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,YAAUH,KAAE,KAAK,YAAUC,KAAE,KAAK,UAAQC,KAAE,KAAK,UAAQC;AAAA,EAAC;AAAC;;;ACAj9T,IAAMsC,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,wBAAsBH,KAAE,KAAK,mBAAiBC,KAAE,KAAK,cAAYC,KAAE,KAAK,uBAAqBC,KAAE,KAAK,OAAK,UAAS,KAAK,QAAM,MAAK,KAAK,WAAS,OAAG,KAAK,gBAAc,OAAG,KAAK,oBAAkB;AAAA,EAAE;AAAA,EAAC,WAAWH,KAAE;AAAC,SAAK,QAAMA,IAAE;AAAA,EAAK;AAAA,EAAC,cAAcA,KAAE;AAAC,QAAG,QAAM,KAAK,SAAO,KAAK,aAAWA,KAAE;AAAC,UAAG,KAAK,WAASA,KAAEA,OAAG,CAAC,KAAK;AAAc,eAAO,KAAK,gBAAc,MAAG,KAAK,KAAK,qBAAqB,cAAc,KAAK,kBAAiBI,GAAE,GAAG;AAAE,UAAGJ,OAAG,KAAK,eAAc;AAAC,mBAAUA,OAAK,KAAK;AAAiB,UAAAA,IAAE,UAAQ,KAAK;AAAS,aAAK,qBAAqB,iBAAiB,KAAK,kBAAiBK,GAAE,UAAU;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,SAAO,KAAK,iBAAe,KAAK,qBAAqB,iBAAiB,KAAK,kBAAiBD,GAAE,MAAM,GAAE,KAAK,gBAAc,OAAG,KAAK,WAAS,OAAG,KAAK,QAAM;AAAA,EAAI;AAAA,EAAC,qBAAqBF,MAAEI,GAAE,GAAE;AAAC,WAAO,EAAEJ,KAAE,GAAE,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BF,MAAEG,GAAE,GAAE;AAAC,WAAOI,GAAEP,GAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,KAAEC,KAAE;AAAC,IAAAD,QAAIC,IAAE,cAAY,KAAK,iBAAiB,QAAS,CAAAD,QAAG;AAAC,YAAME,MAAEF,IAAE,SAAS,aAAa;AAAE,MAAAC,IAAE,kBAAkBD,KAAEE,KAAE,IAAI;AAAA,IAAC,CAAE,GAAE,KAAK,iBAAe,KAAK,qBAAqB,iBAAiB,KAAK,kBAAiBG,GAAE,SAAS;AAAA,EAAE;AAAA,EAAC,kBAAkBL,KAAE;AAAC,SAAK,iBAAiB,QAAS,CAAAC,QAAG;AAAC,MAAAD,IAAE,qBAAqBC,GAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,gCAAgCD,KAAEC,KAAE;AAAC,IAAAD,IAAE,SAAS,gBAAgBC,GAAC,GAAE,KAAK,iBAAe,KAAK,qBAAqB,iBAAiB,KAAK,kBAAiBI,GAAE,SAAS;AAAA,EAAC;AAAA,EAAC,wBAAwBL,KAAE;AAAC,eAAUC,OAAK,KAAK;AAAiB,MAAAA,IAAE,SAAS,wBAAwBO,GAAC,MAAIR,IAAE,OAAO,OAAO,CAAC,KAAGQ,IAAE,CAAC,GAAER,IAAE,OAAO,OAAO,CAAC,KAAGQ,IAAE,CAAC,GAAER,IAAE,OAAO;AAAA,EAAM;AAAA,EAAC,MAAM,wBAAwBA,KAAEC,KAAEC,KAAEO,KAAEH,KAAE;AAAC,IAAAC,GAAED,GAAC;AAAE,aAAQH,MAAE,GAAEA,MAAE,KAAK,iBAAiB,QAAOA,OAAI;AAAC,YAAMF,MAAE,KAAK,iBAAiBE,GAAC;AAAE,WAAK,wCAAwCF,KAAED,KAAEU,KAAER,GAAC,GAAEM,GAAEF,KAAEI,GAAC;AAAA,IAAC;AAAC,QAAGT,KAAE;AAAC,UAAID;AAAE,QAAEM,KAAEE,GAAC;AAAE,YAAMN,MAAES,GAAEL,KAAEL,IAAE,QAAQ,kBAAiBA,GAAC;AAAE,UAAG;AAAC,QAAAD,MAAE,MAAMC,IAAE,QAAQ,eAAeO,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEC,KAAEP,KAAE,QAAQ;AAAA,MAAC,SAAOU,KAAE;AAAA,MAAC;AAAC,cAAMZ,QAAIM,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAEN,GAAC,GAAEM,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAEN,GAAC;AAAA,IAAE;AAAC,WAAOM;AAAA,EAAC;AAAA,EAAC,wCAAwCN,KAAEC,KAAEC,KAAEC,KAAE;AAAC,QAAG,KAAK;AAAY,MAAAU,GAAEC,KAAE,KAAK,WAAW;AAAA,SAAM;AAAC,YAAMb,MAAED,IAAE,gBAAeE,MAAED,IAAE,CAAC;AAAE,MAAAa,IAAE,CAAC,IAAEb,IAAE,CAAC,IAAEC,KAAEY,IAAE,CAAC,IAAEb,IAAE,CAAC,IAAEC,KAAEY,IAAE,CAAC,IAAEb,IAAE,CAAC,IAAEC,KAAEY,IAAE,CAAC,IAAEb,IAAE,CAAC,IAAEC,KAAEY,IAAE,CAAC,IAAEb,IAAE,CAAC,IAAEC,KAAEY,IAAE,CAAC,IAAEb,IAAE,CAAC,IAAEC;AAAA,IAAC;AAAC,WAAOD,IAAEa,KAAE,GAAE,CAAC,GAAE,KAAK,iCAA+BX,IAAE,KAAK,EAAC,UAAS,EAAEW,GAAC,GAAE,yBAAwB,KAAK,8BAA8B,EAAC,CAAC,GAAEC,GAAED,KAAEZ,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMQ,MAAEP,GAAE;AAAV,IAAYW,MAAEX,GAAE;AAAhB,IAAkBK,MAAEF,GAAE;;;ACAlP,IAAMU,KAAEC,IAAE;AAAV,IAAYC,KAAEC,GAAE,GAAE,GAAE,CAAC;AAArB,IAAuBC,KAAE;AAAzB,IAA4BC,KAAE;AAA9B,IAAkCC,KAAEC;AAApC,IAAsCC,MAAG,CAACF,KAAE,GAAEA,KAAE,GAAE,IAAEA,KAAE,GAAE,IAAEA,KAAE,CAAC;AAA7D,IAA+DG,MAAG,CAACR,MAAEK,IAAEL,MAAEK,EAAC;AAAE,IAAMI,MAAN,MAAM,YAAWC,IAAC;AAAA,EAAC,gBAAe;AAAC,WAAM,EAAC,MAAK,KAAK,aAAa,EAAC;AAAA,EAAC;AAAA,EAAC,YAAYV,KAAEW,KAAET,KAAEU,KAAE;AAAC,UAAMZ,KAAEW,KAAET,KAAEU,GAAC,GAAE,KAAK,aAAW,MAAK,KAAK,sBAAoB,oBAAI,OAAI,KAAK,qBAAmB,oBAAI,OAAI,KAAK,6BAA2B,MAAK,KAAK,qBAAmB,MAAK,KAAK,4BAA0B,MAAK,KAAK,QAAM,MAAK,KAAK,sBAAoB,GAAE,KAAK,eAAa,GAAE,KAAK,oBAAkB,EAAC,0BAAyB,MAAG,qBAAoB,KAAE;AAAA,EAAC;AAAA,EAAC,MAAM,OAAOZ,KAAE;AAAC,SAAK,iBAAiB;AAAE,UAAMW,MAAE,KAAK,2BAA2B,GAAET,MAAE,KAAK,cAAc;AAAE,QAAG,QAAMA;AAAE,WAAK,2BAA2BS,KAAET,GAAC;AAAA,SAAM;AAAC,YAAMA,MAAEQ,IAAE,KAAK,WAAW,GAAEE,MAAE,GAAEV,GAAC;AAAE,MAAAU,OAAG,uBAAqBA,IAAE,YAAU,MAAM,KAAK,qBAAqBD,KAAE,KAAK,MAAMC,IAAE,IAAI,GAAEZ,GAAC,IAAE,MAAM,KAAK,sBAAsBW,KAAET,KAAEF,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,QAAG,KAAK,kBAAkB;AAAK;AAAO,UAAMA,MAAEa,GAAE,KAAK,aAAa,CAAC;AAAE,QAAGb;AAAE,YAAM,IAAIc,GAAE,0CAAyCd,GAAC;AAAA,EAAC;AAAA,EAAC,eAAc;AAAC,UAAMA,MAAE,KAAK,aAAYW,MAAE,KAAK,MAAM,QAAMX,IAAE,OAAKe,GAAEf,IAAE,IAAI,IAAEG,EAAC;AAAE,WAAO,KAAK,kBAAkB,OAAK,KAAK,IAAIQ,KAAE,EAAE,IAAEA;AAAA,EAAC;AAAA,EAAC,oBAAoBX,KAAE;AAAC,UAAMW,MAAE,KAAK,gBAAgBX,GAAC;AAAE,QAAIE,MAAE,OAAKS,MAAE,OAAK,KAAK,mBAAmB,IAAIA,GAAC;AAAE,QAAG,CAACT,KAAE;AAAC,YAAMU,MAAE,EAAC,aAAY,KAAK,0BAAyB,GAAEE,MAAE,KAAK,SAAS,gBAAgB,oBAAoB,qBAAqB,KAAK,YAAWd,KAAE,qBAAoBY,KAAE,QAAO,MAAM;AAAE,WAAK,2BAA2B,iBAAe,KAAK,cAAc,YAAWE,IAAE,cAAc;AAAE,YAAMR,MAAE,EAAC,OAAMQ,IAAE,UAAU,OAAM,QAAOA,IAAE,UAAU,OAAM;AAAE,MAAAZ,MAAE,IAAIc,GAAEF,IAAE,WAAUR,GAAC,GAAE,KAAK,mBAAmB,IAAIK,KAAET,GAAC,GAAE,KAAK,SAAS,MAAM,IAAIA,GAAC;AAAA,IAAC;AAAC,WAAOA;AAAA,EAAC;AAAA,EAAC,6BAA4B;AAAC,UAAMF,MAAE,EAAC,gBAAe,KAAK,cAAc,KAAK,YAAY,QAAO,KAAK,YAAY,cAAc,EAAC,GAAEW,MAAE,KAAK;AAAO,QAAGM,IAAGN,GAAC,GAAE;AAAC,YAAK,EAAC,cAAaT,KAAE,gBAAeU,KAAE,gBAAeE,IAAC,IAAEH,IAAE;AAAe,MAAAX,IAAE,iBAAe,EAAC,cAAae,GAAEb,GAAC,GAAE,gBAAeU,OAAG,GAAE,gBAAe,QAAME,MAAEA,MAAE,IAAE,EAAC;AAAA,IAAC;AAAC,WAAO,KAAK,SAAS,iCAA+Bd,IAAE,wBAAsB,KAAK,SAAS,gBAAgB,gCAA+BA,IAAE,gBAAc,MAAGA,IAAE,gBAAc,KAAK,SAAS,mBAAkBA;AAAA,EAAC;AAAA,EAAC,2BAA2BA,KAAEW,KAAE;AAAC,UAAMT,MAAE,KAAK,gBAAgB;AAAE,QAAGgB,IAAGP,GAAC,KAAG,MAAIT;AAAE,YAAM,IAAI,MAAM,mBAAmB;AAAE,QAAG,KAAK,eAAaA,KAAEF,IAAE,QAAM,KAAK,cAAc,GAAEA,IAAE,eAAa,KAAK,iBAAiB,GAAEA,IAAE,cAAY,KAAK,cAAa,QAAM,KAAK,SAAS,gBAAgB,UAAS;AAAC,YAAME,MAAE,KAAK,SAAS,gBAAgB,SAAS,SAAS,GAAGS,GAAC,SAAS,MAAIQ,IAAER,GAAC,CAAE;AAAE,WAAK,WAAST,IAAE,SAAQ,KAAK,kBAAgBA,KAAEF,IAAE,YAAU,KAAK,SAAS;AAAA,IAAE;AAAC,IAAAA,IAAE,+BAA6B,MAAGA,IAAE,2BAAyBO;AAAG,UAAMK,MAAE,KAAK,aAAa;AAAE,SAAK,QAAM,CAACA,KAAEA,GAAC,GAAE,KAAK,sBAAoB,IAAEP,IAAE,KAAK,6BAA6BL,KAAE,KAAK,SAAS,KAAK;AAAA,EAAC;AAAA,EAAC,MAAM,sBAAsBA,KAAEY,KAAEN,KAAE;AAAC,SAAK,eAAa,KAAK,gBAAgB,GAAEN,IAAE,QAAM,KAAK,cAAc,GAAEA,IAAE,eAAa,KAAK,iBAAiB,GAAEA,IAAE,cAAY,KAAK,cAAaA,IAAE,+BAA6B;AAAG,UAAMmB,MAAE,KAAK,aAAa,GAAEC,MAAED,MAAE,KAAK,SAAS,kBAAkB,KAAK,MAAM;AAAiB,QAAG,QAAM,KAAK,SAAS,gBAAgB,UAAS;AAAC,YAAME,MAAE,MAAMC,GAAE,KAAK,SAAS,gBAAgB,SAAS,QAAQV,KAAEQ,KAAE,EAAC,QAAOd,IAAC,CAAC,CAAC;AAAE,UAAG,UAAKe,IAAE,IAAG;AAAC,QAAAE,GAAEF,IAAE,KAAK;AAAE,cAAM,IAAIP,GAAE,4CAA2C,qDAAqDF,GAAC,GAAG;AAAA,MAAC;AAAC,WAAK,kBAAgBS,IAAE;AAAM,YAAMG,MAAEH,IAAE,MAAM,SAAQX,MAAEc,IAAE,WAAW,QAAMA,IAAE,WAAW;AAAO,WAAK,QAAMd,MAAE,IAAE,CAACS,KAAE,KAAK,MAAMA,MAAET,GAAC,CAAC,IAAE,CAAC,KAAK,MAAMS,MAAET,GAAC,GAAES,GAAC,GAAEnB,IAAE,YAAUwB,IAAE;AAAA,IAAE;AAAC,SAAK,6BAA6BxB,KAAE,KAAK,SAAS,KAAK;AAAA,EAAC;AAAA,EAAC,MAAM,qBAAqBA,KAAEW,KAAET,KAAE;AAAC,UAAMU,MAAE,IAAIa,GAAE,EAAC,MAAKd,IAAC,CAAC;AAAE,QAAG,CAAC,KAAK,SAAS,gBAAgB,qBAAoB;AAAC,YAAMX,OAAG,MAAM,OAAO,mCAAgD,GAAG;AAAoB,MAAAc,GAAEZ,GAAC,GAAE,KAAK,SAAS,gBAAgB,wBAAsB,KAAK,SAAS,gBAAgB,sBAAoB,IAAIF,IAAE,KAAK,SAAS,mBAAmB,kBAAiB,IAAE;AAAA,IAAE;AAAC,UAAMc,MAAE,KAAK,SAAS,MAAM,SAAO,KAAK,SAAS,MAAM,OAAO,IAAK,CAAAd,QAAGA,IAAE,OAAO,CAAE,IAAE;AAAK,QAAImB,KAAEC;AAAE,QAAG,KAAK,aAAW,MAAM,KAAK,SAAS,gBAAgB,oBAAoB,mBAAmBR,KAAEE,KAAE,KAAK,SAAS,YAAU,iBAAe,KAAK,SAAS,SAAS,OAAK,KAAK,SAAS,SAAS,WAAS,MAAK,qBAAoB,EAAC,QAAOZ,IAAC,CAAC,GAAE,KAAK,SAAS,YAAU,iBAAe,KAAK,SAAS,SAAS,QAAM,KAAK,SAAS,SAAS,iBAAgB;AAAC,YAAMF,MAAE,KAAK,SAAS;AAAS,UAAG,MAAMA,IAAE,eAAe,GAAE;AAAC,cAAMW,MAAEX,IAAE,iBAAgBE,MAAE,MAAMkB,IAAET,KAAE,KAAK,SAAS,MAAM,kBAAiBG,GAAC;AAAE,QAAAM,MAAE,CAACpB,KAAEW,KAAEC,QAAI;AAAC,gBAAME,MAAEA,GAAEZ,KAAEF,KAAE,EAAC,OAAMY,IAAC,GAAE,qBAAoBD,GAAC;AAAE,iBAAO,SAAOG,MAAEA,MAAE;AAAA,QAAC;AAAA,MAAC;AAAM,QAAAK,MAAE,OAAOnB,IAAE,eAAe;AAAA,IAAC;AAAC,SAAK,4BAA0BmB,OAAGC,OAAG;AAAE,UAAMC,MAAE,KAAK,SAAS,WAAS,MAAM,KAAK,SAAS,SAAS,kBAAkB,KAAK,SAAS,MAAM,WAAW,IAAE,CAAC;AAAE,IAAAP,GAAEZ,GAAC;AAAE,UAAMsB,MAAE,KAAK,SAAS,MAAM;AAAY,SAAK,qBAAmBH,IAAE,IAAK,CAAArB,QAAGwB,IAAE,IAAIxB,GAAC,EAAE,IAAK,GAAE,KAAK,6BAA2BA,KAAE,KAAK,2BAA2B,QAAM,KAAK,cAAc,GAAE,KAAK,2BAA2B,eAAa,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,KAAK,2BAA2B,cAAY,GAAE,KAAK,2BAA2B,+BAA6B;AAAA,EAAE;AAAA,EAAC,gBAAe;AAAC,WAAO,KAAK,YAAY,YAAU,KAAK,YAAY,SAAS,OAAK,OAAK,KAAK,YAAY,YAAU,KAAK,YAAY,SAAS,aAAW0B;AAAA,EAAC;AAAA,EAAC,kBAAiB;AAAC,QAAI1B,MAAE;AAAE,UAAMW,MAAE,KAAK;AAAY,QAAG,QAAMA,IAAE,WAAS,QAAMA,IAAE,QAAQ;AAAK,aAAO,KAAK,IAAII,GAAEJ,IAAE,QAAQ,IAAI,GAAE,CAAC;AAAE,WAAOX,MAAEkB,IAAG,KAAK,cAAc,CAAC,IAAEd,KAAE,GAAE,KAAK,IAAIJ,KAAE,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAJp7P;AAIq7P,UAAMW,MAAE,KAAK,iBAAiB,GAAET,MAAE,KAAK,aAAYU,OAAE,KAAAV,OAAA,gBAAAA,IAAG,YAAH,mBAAY;AAAM,QAAG,QAAMU,KAAE;AAAC,YAAMV,MAAEQ,GAAE,UAAUE,GAAC,GAAEE,MAAEF,IAAE,IAAED;AAAE,aAAM,CAACT,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEY,GAAC;AAAA,IAAC;AAAC,WAAM,CAAC,GAAE,GAAE,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAe;AAJ/lQ;AAIgmQ,QAAGI,IAAG,KAAK,cAAc,CAAC;AAAE,aAAOM;AAAE,UAAMxB,MAAE,QAAM,KAAK,cAAc,GAAEW,OAAE,gBAAK,gBAAL,mBAAkB,aAAlB,mBAA4B;AAAM,WAAO,KAAK,4BAA4BA,KAAE,EAAC,mBAAkBX,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,cAAcA,KAAEW,KAAE;AAAC,WAAM,eAAaX,MAAEE,IAAGS,IAAE,KAAG,KAAG,KAAG,OAAIA,IAAE,KAAG,EAAE,IAAEX,OAAKmB,MAAEA,IAAEnB,GAAC,IAAEmB,IAAE;AAAA,EAAM;AAAA,EAAC,6BAA6BnB,KAAEW,KAAE;AAAC,QAAG,KAAK,YAAW;AAAC,WAAK,eAAa;AAAK,UAAIT,MAAEF,IAAE,YAAU,KAAK,oBAAoB,IAAIA,IAAE,SAAS,IAAE;AAAK,aAAOE,QAAIA,MAAE,IAAI,EAAEF,GAAC,GAAE,KAAK,oBAAoB,IAAIA,IAAE,aAAW,GAAEE,GAAC,GAAES,IAAE,IAAIT,GAAC,IAAGA;AAAA,IAAC;AAAC,WAAO,KAAK,eAAayB,GAAE,KAAK,SAAS,UAAS,KAAK,kCAAkC,CAAC,GAAE,KAAK,iBAAe3B,MAAE,EAAC,GAAGA,KAAE,GAAG,KAAK,aAAa,mBAAkB,IAAG,KAAK,YAAU,IAAI,EAAEA,GAAC,GAAEW,IAAE,IAAI,KAAK,SAAS,GAAE,KAAK;AAAA,EAAS;AAAA,EAAC,yCAAwC;AAAC,SAAK,WAAS,KAAK,iBAAkB,CAAAX,QAAG;AAAC,MAAAA,IAAE,cAAc,EAAC,gBAAe,MAAK,uBAAsB,MAAK,eAAc,OAAG,eAAc,OAAG,qBAAoB,GAAE,UAAS,KAAK,OAAM,CAAC;AAAA,IAAC,CAAE,GAAE,KAAK,oBAAoB;AAAA,EAAE;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,iBAAkB,CAAAA,QAAG,KAAK,SAAS,MAAM,OAAOA,GAAC,CAAE,GAAE,KAAK,YAAU,MAAK,KAAK,oBAAoB,MAAM,GAAE,KAAK,mBAAmB,QAAS,CAAAA,QAAG,KAAK,SAAS,MAAM,OAAOA,GAAC,CAAE,GAAE,KAAK,mBAAmB,MAAM,GAAE,KAAK,kBAAgB,EAAE,KAAK,eAAe;AAAA,EAAC;AAAA,EAAC,gBAAgBA,KAAEW,KAAE;AAAC,QAAG,KAAK,kBAAkB,QAAMX,IAAE,MAAK;AAAC,eAAQW,MAAE,GAAEA,MAAE,GAAEA,OAAI;AAAC,cAAMT,MAAEF,IAAE,KAAKW,GAAC;AAAE,QAAAT,OAAG,mBAAiBA,OAAG,mBAAiBA,QAAIF,IAAE,KAAKW,GAAC,IAAEI,GAAEb,GAAC;AAAA,MAAE;AAAC,UAAG,mBAAiBF,IAAE,KAAK,CAAC;AAAE,eAAO;AAAE,UAAG,SAAS,CAACA,IAAE,KAAK,CAAC,CAAC;AAAE,eAAM,CAACA,IAAE,KAAK,CAAC,IAAEW;AAAE,UAAG,SAAS,CAACX,IAAE,KAAK,CAAC,CAAC;AAAE,eAAM,CAACA,IAAE,KAAK,CAAC,IAAEW;AAAA,IAAC;AAAC,WAAO;AAAA,EAAC;AAAA,EAAC,wBAAwBX,KAAE;AAJ7nT;AAI8nT,UAAMW,MAAEX,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBW,IAAE,QAAQ;AAAE,aAAO;AAAK,QAAIT,KAAEU,MAAE,CAAC,GAAE,CAAC;AAAE,QAAG,KAAK,YAAW;AAAC,UAAG,CAAC,KAAK,WAAW;AAAO,eAAO;AAAK,YAAMZ,MAAE,KAAK,oBAAoBW,GAAC,GAAEG,MAAE,EAAC,WAAUd,IAAE,IAAG,GAAG,KAAK,2BAA0B;AAAE,MAAAE,MAAE,KAAK,6BAA6BY,KAAE,KAAK,SAAS,KAAK,GAAEF,MAAE,CAACZ,IAAE,WAAW,OAAMA,IAAE,WAAW,MAAM;AAAA,IAAC;AAAM,MAAAY,MAAE,KAAK,OAAMV,MAAE,KAAK;AAAU,UAAMY,MAAEC,IAAEJ,IAAE,QAAQ;AAAE,QAAG,QAAMG;AAAE,aAAO,KAAK,OAAO,KAAK,8CAA8CH,IAAE,SAAS,IAAI,EAAE,GAAE;AAAK,UAAML,MAAEN,IAAE,eAAcmB,MAAE,KAAK,0BAA0Bb,GAAC;AAAE,QAAIc,MAAE;AAAE,QAAG,GAAC,UAAK,iBAAL,mBAAmB,gBAAgB,OAAK;AAAC,YAAMpB,MAAEY,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC;AAAE,MAAAQ,MAAE,KAAK,gBAAgBd,KAAEN,GAAC;AAAA,IAAC;AAAC,IAAAoB,OAAG,KAAK;AAAoB,UAAMC,MAAEnB,GAAEU,IAAE,CAAC,IAAEQ,KAAER,IAAE,CAAC,IAAEQ,GAAC,GAAEI,MAAE,KAAK,2BAA2Bb,KAAE,IAAIQ,KAAC;AAAE,WAAO,KAAK,mBAAmB,oBAAkBK,IAAE,IAAI,KAAG,KAAK,uCAAuC,GAAE,KAAK,SAAO,KAAK,iBAAiBb,KAAEG,KAAEZ,KAAEiB,KAAEE,KAAErB,IAAE,MAAM,GAAG,IAAE,KAAK,iBAAiBW,KAAEG,KAAEZ,KAAEiB,KAAEE,KAAEG,KAAEb,IAAE,GAAG;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,UAAMX,MAAE,KAAK,cAAc,GAAEW,MAAE,KAAK,iBAAiB;AAAE,SAAK,iBAAkB,CAAAT,QAAG;AAAC,MAAAA,IAAE,cAAc,EAAC,OAAMF,IAAC,CAAC,GAAEE,IAAE,cAAc,EAAC,cAAaS,IAAC,CAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,0BAA0BX,KAAEW,KAAET,KAAE;AAAC,UAAMU,MAAE,KAAK,kBAAkB,MAAKE,MAAEW,GAAE,IAAG,0BAAyBvB,KAAEU,GAAC;AAAE,QAAGE,QAAIc,GAAE;AAAO,aAAOd;AAAE,UAAMR,MAAEuB,GAAEjB,GAAC,KAAG,sBAAoBA;AAAE,WAAO,KAAK,qCAAqCZ,KAAEW,KAAG,MAAIL,GAAE;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,WAAO,KAAK,UAAQ,KAAK,iBAAkB,CAAAN,QAAG;AAAC,MAAAA,IAAE,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC;AAAA,IAAC,CAAE,GAAE;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAO,QAAM,KAAK,cAAc;AAAA,EAAC;AAAA,EAAC,kBAAkBA,KAAEW,KAAE;AAAC,eAAUT,OAAKF,IAAE,MAAK;AAAC,UAAG,sBAAoBE;AAAE,eAAOF,IAAE;AAAe,UAAG,CAAC8B,GAAE,KAAK,cAAanB,KAAE,KAAK,kCAAkC,CAAC;AAAE,eAAOX,IAAE;AAAe,cAAM,KAAK,aAAW,KAAK,UAAU,cAAc,KAAK,aAAa,kBAAkB;AAAA,IAAC;AAAC,WAAOA,IAAE;AAAA,EAAU;AAAA,EAAC,2BAA0B;AAAC,WAAO+B;AAAA,EAAE;AAAA,EAAC,iBAAiB/B,KAAEW,KAAET,KAAEU,KAAEE,KAAER,KAAEa,KAAE;AAAC,UAAMC,MAAE,KAAK,wBAAwBpB,GAAC,GAAEqB,MAAED,OAAG,KAAK,eAAa,CAAApB,QAAG,EAAE,KAAK,aAAa,oBAAmBoB,KAAEpB,GAAC,IAAE,QAAOwB,MAAE,KAAK,SAAS,MAAM,KAAId,MAAE,KAAK,SAAS,MAAM,WAAW,yBAAyB,EAAC,YAAWS,KAAE,UAASK,IAAC,CAAC,GAAEK,MAAEG,IAAE9B,KAAED,IAAE,MAAKW,KAAEE,KAAEmB,KAAG,MAAKb,KAAEV,GAAC,GAAEK,MAAES,IAAE,KAAK,UAASb,KAAEkB,KAAEvB,KAAEa,KAAEE,GAAC;AAAE,QAAG,QAAMN;AAAE,aAAO;AAAK,UAAMU,MAAE,IAAIS,GAAE,MAAKnB,IAAE,QAAO,CAACc,GAAC,GAAE,MAAK,MAAKK,IAAE5B,GAAC;AAAE,WAAOmB,IAAE,0BAAwBV,IAAE,kBAAiBU,IAAE,wBAAsBI,GAAEvB,IAAE,IAAI,KAAG,sBAAoBA,IAAE,MAAKmB,IAAE,gBAAc,KAAK,wBAAwBX,KAAEO,GAAC,GAAEI,IAAE,gCAA8B,CAAAzB,QAAGE,IAAE,8BAA8BuB,IAAE,cAAc,GAAE,GAAEzB,GAAC,GAAEkC,GAAET,KAAEd,KAAE,KAAK,SAAS,iBAAiB,GAAEc;AAAA,EAAC;AAAA,EAAC,iBAAiBzB,KAAEW,KAAET,KAAEU,KAAEE,KAAER,KAAE;AAAC,IAAAJ,IAAE,iBAAe,KAAK;AAAgB,UAAMiB,MAAEC,GAAE;AAAE,OAAET,KAAEQ,KAAE,KAAK,SAAS,SAAS,GAAEA,IAAE,CAAC,IAAE;AAAE,UAAMC,MAAE,KAAK,SAAS;AAAe,QAAG,QAAMA,OAAG,CAACe,GAAEf,KAAED,GAAC;AAAE,aAAO;AAAK,UAAME,MAAE,KAAK,wBAAwBrB,GAAC,GAAEwB,MAAEH,OAAG,KAAK,eAAa,CAAArB,QAAG,EAAE,KAAK,aAAa,oBAAmBqB,KAAErB,GAAC,IAAE,QAAOU,MAAE,KAAK,SAAS,MAAM,WAAW,yBAAyB,EAAC,YAAWV,IAAE,KAAI,UAAS,KAAK,SAAS,MAAM,IAAG,CAAC,GAAE6B,MAAEG,IAAE9B,KAAED,IAAEkB,KAAEP,KAAEE,KAAE,MAAK,MAAKO,KAAEX,GAAC,GAAEK,MAAE,IAAIT,IAAEuB,KAAE,EAAC,UAASvB,KAAE,YAAWN,IAAE,KAAI,mBAAkBwB,IAAC,CAAC,GAAEC,MAAE,IAAIV,IAAE,MAAK,CAACA,GAAC,GAAE,MAAK,KAAK,SAAS,mBAAmB;AAAE,WAAOU,IAAE,gBAAc,KAAK,wBAAwBX,KAAEU,GAAC,GAAEC,IAAE,gCAA8B,CAAAzB,QAAGE,IAAE,8BAA8BuB,IAAE,cAAc,GAAE,GAAEzB,GAAC,GAAEyB;AAAA,EAAC;AAAA,EAAC,wBAAwBzB,KAAEW,KAAE;AAAC,UAAMT,MAAE,KAAK,eAAa;AAAE,QAAG,KAAK,gBAAcS,KAAE;AAAC,YAAMC,MAAEZ,IAAE,CAAC,IAAE,KAAK,qBAAoBc,MAAEd,IAAE,CAAC,IAAE,KAAK;AAAoB,aAAM,CAACA,MAAEoB,GAAE,MAAI;AAAC,cAAMd,MAAEK,IAAEZ,EAAC;AAAE,eAAOC,IAAE,CAAC,IAAEM,IAAE,CAAC,IAAEM,MAAEV,KAAEF,IAAE,CAAC,IAAEM,IAAE,CAAC,IAAEQ,MAAEZ,KAAEF;AAAA,MAAC;AAAA,IAAC;AAAC;AAAC,YAAMW,MAAEX,IAAE,CAAC,IAAE,KAAK,sBAAoBE,KAAEU,MAAEZ,IAAE,CAAC,IAAE,KAAK,sBAAoBE;AAAE,aAAM,CAACF,MAAEoB,GAAE,OAAKpB,IAAE,CAAC,IAAEW,KAAEX,IAAE,CAAC,IAAEY,KAAEZ;AAAA,IAAE;AAAA,EAAC;AAAA,EAAC,oCAAmC;AAAC,UAAMA,MAAE,KAAK,IAAI,KAAK,MAAM,CAAC,GAAE,KAAK,MAAM,CAAC,CAAC,GAAEW,MAAET,GAAEF,KAAEA,KAAEA,GAAC,GAAEE,MAAEF,GAAE,CAAC,GAAEY,MAAEZ,MAAEE,KAAEY,MAAEZ,GAAEU,KAAEA,KAAEA,GAAC;AAAE,WAAO,IAAI,EAAE,EAAC,MAAK,MAAG,OAAM,MAAG,UAAS,MAAG,SAAQ,MAAE,GAAED,KAAEG,KAAEZ,GAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBF,KAAE;AAAC,QAAIW,MAAE;AAAG,eAAUT,OAAK,KAAK;AAAmB,MAAAS,OAAGT,MAAEF,IAAE,WAAWE,GAAC;AAAE,WAAOS;AAAA,EAAC;AAAA,EAAC,iBAAiBX,KAAE;AAAC,YAAM,KAAK,aAAWA,IAAE,KAAK,SAAS,GAAE,KAAK,oBAAoB,QAAQA,GAAC;AAAA,EAAC;AAAA,EAAC,OAAM;AAAC,WAAM,EAAC,GAAG,MAAM,KAAK,GAAE,UAAS,KAAK,UAAS;AAAA,EAAC;AAAC;AAAC,SAASiB,IAAGjB,KAAE;AAAC,SAAOA,OAAG,eAAaA,IAAE,QAAMA,IAAE,yBAAyB;AAAC;AAAC,SAASkB,IAAGlB,KAAE;AAAC,SAAO,QAAMA,QAAI,YAAUA,OAAG,QAAMA;AAAE;AAACS,IAAG,iBAAeD,KAAGC,IAAG,2BAAyB,EAAC,gBAAemB,GAAE,QAAO,kBAAiBA,GAAE,MAAK,oBAAmBA,GAAE,SAAQ;AAAE,IAAMG,MAAG,EAAC,MAAK,sBAAqB,QAAO,EAAC;AAA5C,IAA8CE,MAAG/B,GAAE,GAAE,GAAE,GAAE,CAAC;;;ACAzzb,SAASkC,IAAEA,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAI;AAAO,aAAOC,IAAE;AAAA,IAAK,KAAI;AAAS,aAAOA,IAAE;AAAA,IAAO,KAAI;AAAQ,aAAOA,IAAE;AAAA,IAAM;AAAQ,aAAO;AAAA,EAAI;AAAC;AAAC,SAASA,IAAEC,KAAE;AAAC,SAAM,cAAYA,MAAE,SAAOA;AAAC;;;ACA2J,SAASC,IAAEC,KAAEC,KAAEC,KAAEH,KAAE;AAAC,QAAMI,MAAE,cAAYH,IAAE,OAAKI,GAAE,cAAYA,GAAE,MAAKC,MAAE,cAAYL,IAAE,OAAKA,IAAE,QAAMA,IAAE,OAAM,EAAC,UAASI,KAAE,UAASE,IAAC,IAAEC,GAAEF,KAAE,CAAC,CAACL,IAAE,MAAKG,GAAC,GAAEK,MAAEC,GAAEL,IAAE,MAAM,GAAEM,MAAEL,GAAED,KAAEJ,IAAE,kBAAiB,GAAEQ,KAAE,GAAEJ,KAAE,GAAEA,IAAE,SAAO,GAAEH,KAAEC,KAAEH,GAAC,GAAEQ,MAAE,QAAMG;AAAE,SAAM,EAAC,OAAMH,MAAEI,IAAEL,KAAEF,KAAEI,GAAC,IAAE,CAAC,GAAE,mBAAkBD,KAAE,kBAAiBG,IAAC;AAAC;AAAC,SAASP,IAAEM,KAAER,KAAE;AAAC,QAAMW,MAAE,cAAYH,IAAE,OAAKL,GAAE,cAAYA,GAAE,MAAKL,MAAE,cAAYU,IAAE,OAAKA,IAAE,QAAMA,IAAE,OAAM,EAAC,UAASN,KAAE,UAASE,IAAC,IAAEE,GAAER,KAAE,OAAGa,GAAC,GAAER,MAAE,GAAED,KAAEM,IAAE,kBAAiB,GAAEN,KAAEF,KAAE,GAAEE,IAAE,SAAO,CAAC;AAAE,WAAQH,MAAE,GAAEA,MAAEG,IAAE,QAAOH,OAAG;AAAE,IAAAG,IAAEH,GAAC,IAAE;AAAE,SAAM,EAAC,OAAMI,MAAEO,IAAEN,KAAEF,GAAC,IAAE,CAAC,GAAE,mBAAkBC,IAAC;AAAC;AAAC,SAASO,IAAEX,KAAES,KAAEI,MAAE,MAAK;AAAC,QAAMC,MAAE,IAAI;AAAM,aAAS,EAAC,OAAMF,KAAE,OAAMV,IAAC,KAAIF,KAAE;AAAC,QAAGE,OAAG;AAAE;AAAS,UAAMF,MAAE,IAAEY,KAAEb,MAAE,IAAEG;AAAE,IAAAY,IAAE,KAAK,EAAC,UAASV,GAAEK,KAAE,IAAEG,KAAE,IAAEV,GAAC,GAAE,cAAa,QAAMW,MAAET,GAAES,KAAEb,KAAED,GAAC,IAAE,OAAM,CAAC;AAAA,EAAC;AAAC,SAAOe;AAAC;;;ACA6tB,IAAMC,MAAE,CAAC,YAAW,WAAU,QAAQ;AAAtC,IAAwCC,KAAE,IAAI,EAAE,EAAC,MAAK,MAAG,OAAM,MAAG,UAAS,OAAG,SAAQ,KAAE,CAAC;AAAE,IAAMC,MAAN,MAAM,WAAUC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAAC,QAAG,KAAK,eAAaP,GAAE,KAAK,SAAS,UAASC,EAAC,GAAE,CAAC,KAAK,kBAAkB,MAAK;AAAC,WAAI,QAAM,KAAK,YAAY,OAAK,KAAK,YAAY,OAAKG,GAAE,CAAC,KAAG;AAAE,cAAM,IAAII,GAAE,0CAAyC,yCAAyC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,uBAAuBJ,KAAEC,MAAE,OAAG;AAJpyE;AAIqyE,UAAMC,MAAE,KAAK,4BAA4BD,OAAG,KAAK,gBAAc,KAAK,cAAc;AAAE,SAAK,qBAAmB,CAACA,QAAIC,IAAE,CAAC,IAAE;AAAG,UAAMC,MAAE,EAAC,OAAM,KAAK,uBAAsB,UAAK,gBAAL,mBAAkB,IAAI,GAAE,OAAMD,KAAE,kBAAiB,MAAG,MAAK,KAAK,YAAY,QAAM,SAAQ,KAAIG,IAAE,KAAK,YAAY,OAAK,MAAM,GAAE,eAAc,KAAK,SAAS,mBAAkB,UAASL,KAAE,gBAAeK,IAAE,KAAK,YAAY,OAAO,GAAE,2BAA0B,KAAE;AAAE,aAAO,UAAK,iBAAL,mBAAmB,mBAAgB,EAAC,GAAGF,KAAE,GAAG,KAAK,aAAa,mBAAkB,IAAEA;AAAA,EAAC;AAAA,EAAC,IAAI,iBAAgB;AAJrzF;AAIszF,YAAO,UAAK,YAAY,aAAjB,mBAA2B;AAAA,EAAK;AAAA,EAAC,IAAI,eAAc;AAJh3F;AAIi3F,YAAO,UAAK,YAAY,WAAjB,mBAAyB;AAAA,EAAK;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,QAAM,KAAK,wBAAsB,KAAK,sBAAoB,IAAIG,GAAE,KAAK,uBAAuB,KAAE,CAAC,GAAE,KAAK,SAAS,MAAM,IAAI,KAAK,mBAAmB,IAAG,KAAK;AAAA,EAAmB;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,QAAM,KAAK,wBAAsB,KAAK,sBAAoB,IAAIA,GAAE,KAAK,uBAAuB,IAAE,CAAC,GAAE,KAAK,SAAS,MAAM,IAAI,KAAK,mBAAmB,IAAG,KAAK;AAAA,EAAmB;AAAA,EAAC,IAAI,yBAAwB;AAAC,WAAO,QAAM,KAAK,iCAA+B,KAAK,+BAA6B,IAAIA,GAAE,EAAC,GAAG,KAAK,uBAAuB,KAAE,GAAE,WAAU,KAAE,CAAC,GAAE,KAAK,SAAS,MAAM,IAAI,KAAK,4BAA4B,IAAG,KAAK;AAAA,EAA4B;AAAA,EAAC,IAAI,yBAAwB;AAAC,WAAO,QAAM,KAAK,iCAA+B,KAAK,+BAA6B,IAAIA,GAAE,EAAC,GAAG,KAAK,uBAAuB,IAAE,GAAE,WAAU,KAAE,CAAC,GAAE,KAAK,SAAS,MAAM,IAAI,KAAK,4BAA4B,IAAG,KAAK;AAAA,EAA4B;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,QAAM,KAAK,yBAAuB,QAAM,KAAK,YAAY,WAAS,KAAK,wBAAsB,IAAIC,GAAE,EAAC,GAAG,KAAK,uBAAuB,OAAG,IAAE,GAAE,WAAU,KAAK,YAAY,OAAO,WAAU,iBAAgBL,IAAE,KAAK,YAAY,OAAO,KAAK,EAAC,CAAC,GAAE,KAAK,SAAS,MAAM,IAAI,KAAK,qBAAqB,IAAG,KAAK;AAAA,EAAqB;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,iBAAkB,CAAAF,QAAG,KAAK,SAAS,MAAM,OAAOA,GAAC,CAAE,GAAE,KAAK,sBAAoB,MAAK,KAAK,sBAAoB,MAAK,KAAK,+BAA6B,MAAK,KAAK,+BAA6B,MAAK,KAAK,wBAAsB;AAAA,EAAI;AAAA,EAAC,eAAeA,KAAE;AAAC,WAAO,KAAK,kBAAkB,QAAMA,IAAE,OAAKQ,GAAEJ,IAAEJ,IAAE,IAAI,CAAC,IAAE;AAAA,EAAC;AAAA,EAAC,gBAAgBA,KAAE;AAAC,UAAMC,MAAEC,GAAE,GAAE,GAAE,GAAE,CAAC;AAAE,WAAO,KAAK,kBAAkB,SAAOF,IAAE,UAAQC,IAAE,CAAC,IAAED,IAAE,MAAM,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,MAAM,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,MAAM,CAAC,GAAEA,IAAE,MAAM,SAAO,MAAIC,IAAE,CAAC,IAAED,IAAE,MAAM,CAAC,KAAI,KAAK,kBAAkB,WAASA,IAAE,YAAUC,IAAE,CAAC,IAAED,IAAE,UAASC;AAAA,EAAC;AAAA,EAAC,wBAAwBD,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,UAASL,KAAE,KAAK,YAAY,IAAI;AAAE,aAAO;AAAK,UAAMM,MAAE,KAAK,2BAA2BD,KAAE,IAAIQ,KAAC;AAAE,WAAO,KAAK,mBAAmB,oBAAkBP,IAAE,IAAI,GAAE,KAAK,SAAO,KAAK,iBAAiBF,KAAE,KAAK,SAAS,MAAM,GAAG,IAAE,KAAK,iBAAiBA,KAAEE,KAAED,IAAE,GAAG;AAAA,EAAC;AAAA,EAAC,kBAAkBD,KAAEC,KAAE;AAAC,eAAUC,OAAKF,IAAE,MAAK;AAAC,UAAG,sBAAoBE;AAAE,eAAOF,IAAE;AAAe;AAAC,cAAMA,MAAE,KAAK;AAAa,YAAG,CAACU,GAAEV,KAAEC,KAAEJ,EAAC;AAAE,iBAAOG,IAAE;AAAe,aAAK,iBAAkB,CAAAC,QAAGA,IAAE,cAAcD,IAAE,kBAAkB,CAAE;AAAA,MAAC;AAAA,IAAC;AAAC,WAAOA,IAAE;AAAA,EAAU;AAAA,EAAC,wBAAwBA,KAAE;AAJ7wK;AAI8wK,QAAG,cAAYA,IAAE,KAAK;AAAK;AAAO,UAAMC,MAAED,IAAE,KAAK,MAAKE,MAAE,CAAC;AAAE,qBAAa,KAAAD,IAAE,SAAF,mBAAQ,UAAOC,IAAE,QAAM,KAAK,sBAAsBD,IAAE,KAAK,QAAQ,GAAE,OAAOA,IAAE,OAAM,iBAAa,KAAAA,IAAE,QAAF,mBAAO,UAAOC,IAAE,MAAIG,IAAEJ,IAAE,IAAI,YAAU,MAAM,GAAE,OAAOA,IAAE;AAAK,UAAME,MAAE,KAAK,oBAAoBH,KAAEC,GAAC;AAAE,SAAK,sBAAsBD,KAAEC,KAAEE,GAAC,GAAEH,IAAE,wBAAwB,KAAM,MAAI,KAAK,iBAAkB,CAAAA,QAAGA,IAAE,cAAcE,GAAC,CAAE,CAAE;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,SAAK,iBAAkB,CAACF,KAAEC,QAAI,KAAK,4BAA4BD,KAAEC,GAAC,CAAE;AAAA,EAAC;AAAA,EAAC,iBAAiBD,KAAE;AAAC,YAAM,KAAK,uBAAqBA,IAAE,KAAK,mBAAmB,GAAE,QAAM,KAAK,uBAAqBA,IAAE,KAAK,mBAAmB,GAAE,QAAM,KAAK,gCAA8BA,IAAE,KAAK,4BAA4B,GAAE,QAAM,KAAK,gCAA8BA,IAAE,KAAK,4BAA4B,GAAE,QAAM,KAAK,yBAAuBA,IAAE,KAAK,uBAAsB,IAAE;AAAA,EAAC;AAAA,EAAC,4BAA4BA,KAAEC,MAAE,OAAG;AAJxnM;AAIynM,UAAMC,MAAEF,IAAE,WAAW,OAAMW,OAAE,gBAAK,gBAAL,mBAAkB,aAAlB,mBAA4B,OAAMC,MAAE,KAAK,qBAAmB,CAACX,MAAE,IAAE,KAAK,oBAAoBU,GAAC,GAAEP,MAAEF,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEU,GAAC;AAAE,IAAAZ,IAAE,cAAc,EAAC,OAAMI,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BJ,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,kBAAkB,MAAKQ,MAAEE,GAAE,GAAE,0BAAyBX,KAAEC,GAAC;AAAE,QAAGQ,QAAIG,GAAE;AAAO,aAAOH;AAAE,UAAMC,MAAEG,GAAEZ,GAAC;AAAE,WAAO,KAAK,qCAAqCH,KAAEC,KAAG,MAAIW,GAAE;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,UAAMZ,MAAE,EAAC,eAAc,KAAK,SAAS,kBAAiB;AAAE,WAAO,KAAK,iBAAkB,CAAAC,QAAGA,IAAE,cAAcD,GAAC,CAAE,GAAE;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,gCAAgCA,KAAE;AAAC,YAAOA,IAAE,MAAK;AAAA,MAAC,KAAI;AAAS,YAAGA,eAAagB;AAAE,iBAAOC,GAAE,WAAWjB,GAAC;AAAE;AAAA,MAAM,KAAI;AAAA,MAAU,KAAI;AAAW,eAAOA;AAAA,IAAC;AAAC,WAAO;AAAA,EAAI;AAAA,EAAC,iBAAiBA,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAEH,IAAE,SAAQW,MAAE,KAAK,gCAAgCR,IAAE,QAAQ,GAAEJ,MAAE,cAAYY,IAAE,OAAKA,IAAE,QAAMA,IAAE,OAAMO,MAAE,IAAI,SAAMH,MAAEZ,GAAE,GAAEU,MAAEM,IAAER,KAAE,KAAK,SAAS,mBAAkB,KAAK,SAAS,oBAAmBV,GAAC,GAAEmB,MAAE,cAAYT,IAAE,OAAK,UAAQ;AAAQ,SAAK,6BAA6BE,KAAEd,KAAEqB,KAAE,mBAAmB;AAAE,aAAQR,MAAE,GAAEA,MAAEC,IAAE,MAAM,QAAOD,OAAI;AAAC,YAAMX,MAAEY,IAAE,MAAMD,GAAC,GAAET,MAAEF,IAAE,UAASF,MAAEE,IAAE;AAAa,UAAG,QAAM,KAAK,SAAS,mBAAiBoB,GAAEN,GAAC,GAAEG,GAAEH,KAAEhB,GAAC,GAAE,CAAC,EAAEgB,KAAE,KAAK,SAAS,cAAc;AAAG;AAAS,YAAMI,MAAE,KAAK,gBAAgB,cAAYR,IAAE,OAAK,KAAK,gBAAc,KAAK,eAAcX,KAAEG,KAAEJ,KAAEY,IAAE,MAAKG,GAAE,UAASZ,GAAC;AAAE,MAAAgB,IAAE,KAAKC,GAAC,GAAElB,IAAE,mBAAiBiB,IAAE,KAAKC,IAAE,YAAY,EAAC,UAAS,cAAYR,IAAE,OAAK,KAAK,yBAAuB,KAAK,uBAAsB,CAAC,CAAC,GAAE,QAAM,KAAK,mBAAiBO,IAAE,KAAKC,IAAE,YAAY,EAAC,UAAS,KAAK,gBAAe,CAAC,CAAC;AAAA,IAAC;AAAC,QAAG,MAAID,IAAE;AAAO,aAAO;AAAK,UAAMV,MAAE,IAAIX,GAAE,EAAC,YAAWqB,KAAE,YAAW,OAAG,UAAS,KAAK,SAAS,MAAM,KAAI,YAAWhB,IAAC,CAAC,GAAEoB,MAAE,IAAIH,GAAE,MAAKX,KAAEU,KAAE,MAAK,MAAKpB,IAAEG,GAAC;AAAE,WAAOqB,IAAE,0BAAwBT,IAAE,kBAAiBS,IAAE,wBAAsBP,GAAEd,IAAE,IAAI,GAAEqB;AAAA,EAAC;AAAA,EAAC,gBAAgBtB,KAAEC,KAAEC,KAAEC,KAAEQ,KAAEC,KAAER,KAAE;AAJp5P;AAIq5P,UAAMC,MAAEO,QAAIE,GAAE,SAAO,EAAC,kBAAiB,KAAK,SAAS,WAAU,oBAAmB,KAAK,SAAS,mBAAkB,IAAE,MAAKL,MAAE,cAAYE,KAAEZ,OAAE,UAAK,iBAAL,mBAAmB,gBAAgB,OAAMmB,OAAE,UAAK,iBAAL,mBAAmB,gBAAgB,MAAKC,OAAE,UAAK,iBAAL,mBAAmB,gBAAgB,SAAQJ,MAAE,KAAK,SAAS,MAAM,WAAW,yBAAyB,EAAC,YAAWX,KAAE,UAAS,KAAK,SAAS,MAAM,IAAG,CAAC,GAAES,MAAE,EAAC,UAASX,KAAE,MAAKgB,MAAE,OAAK,KAAK,eAAejB,IAAE,aAAa,GAAE,OAAMF,MAAE,OAAK,KAAK,gBAAgBE,IAAE,aAAa,GAAE,aAAYiB,MAAE,EAAEA,IAAE,OAAMjB,IAAE,OAAO,IAAE,MAAK,cAAaF,MAAE,EAAEA,IAAE,OAAME,IAAE,OAAO,IAAE,MAAK,gBAAekB,MAAE,EAAEA,IAAE,OAAMlB,IAAE,OAAO,IAAE,KAAI;AAAE,WAAOF,IAAEC,KAAE,EAAC,aAAYK,KAAE,yBAAwBI,KAAE,cAAaN,KAAE,eAAcU,IAAC,GAAEE,GAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBf,KAAEC,KAAE;AAAC,UAAMC,MAAEF,IAAE,SAAQG,MAAE,KAAK,gCAAgCD,IAAE,QAAQ,GAAES,MAAE,cAAYR,IAAE,OAAKA,IAAE,QAAMA,IAAE,OAAMe,MAAE,cAAYf,IAAE,OAAK,KAAK,gBAAc,KAAK;AAAc,IAAAe,IAAE,iBAAe,KAAK;AAAgB,UAAMC,MAAElB,IAAE,kBAAgB,cAAYE,IAAE,OAAK,KAAK,yBAAuB,KAAK,yBAAuB,MAAKY,MAAE,KAAK;AAAgB,YAAMI,QAAIA,IAAE,iBAAe,KAAK,kBAAgB,OAAM,QAAMJ,QAAIA,IAAE,iBAAe,KAAK,kBAAgB;AAAM,UAAMF,MAAE,IAAI,SAAMU,MAAEpB,GAAE,GAAEiB,MAAEC,GAAE,GAAEG,MAAEZ,IAAET,KAAE,KAAK,SAAS,SAAS,GAAEmB,MAAE,cAAYnB,IAAE,OAAK,UAAQ;AAAQ,SAAK,6BAA6BqB,KAAEb,KAAEW,KAAE,mBAAmB;AAAE,eAAUV,OAAKY,IAAE,OAAM;AAAC,UAAGH,GAAEE,GAAC,GAAEL,GAAEK,KAAEX,IAAE,QAAQ,GAAE,CAAC,EAAEW,KAAE,KAAK,SAAS,cAAc;AAAE;AAAS,MAAAd,GAAEW,KAAEG,GAAC;AAAE,YAAMZ,MAAE,CAAAA,QAAG;AAAC,cAAMP,MAAE,KAAK,gBAAgBO,KAAEX,KAAEY,IAAE,UAAS,QAAOT,IAAE,MAAKW,GAAE,QAAOZ,IAAE,GAAG,GAAEG,MAAE,IAAIM,IAAEP,KAAE,EAAC,UAASH,KAAE,YAAWC,IAAE,IAAG,CAAC;AAAE,QAAAW,IAAE,KAAKR,GAAC;AAAA,MAAC;AAAE,UAAG,QAAMU,KAAE;AAAC,QAAAJ,IAAEI,GAAC;AAAE,cAAMf,MAAE,KAAK,YAAY,OAAO;AAAU,oBAAUA,OAAG,gBAAcA,OAAGkB,GAAEK,KAAEX,IAAE,UAAS,GAAE,CAAC,GAAE,UAAQZ,OAAG,gBAAcA,OAAGkB,GAAEK,KAAEX,IAAE,UAASA,IAAE,SAAS,SAAO,GAAE,CAAC;AAAA,MAAC;AAAC,MAAAD,IAAEO,GAAC,GAAEjB,IAAE,mBAAiBU,IAAEQ,GAAC;AAAA,IAAC;AAAC,WAAO,IAAIX,IAAE,MAAKK,KAAEO,KAAE,KAAK,SAAS,mBAAmB;AAAA,EAAC;AAAA,EAAC,IAAI,oBAAmB;AAAC,UAAMpB,MAAE,KAAK,YAAY;AAAQ,WAAO,QAAMA,OAAG,YAAUA,IAAE,QAAM,WAASA,IAAE;AAAA,EAAK;AAAA,EAAC,sBAAsBA,KAAE;AAJpzT;AAIqzT,WAAOA,MAAEA,OAAGA,GAAE,CAAC,GAAE,KAAK,kBAAkB,SAAK,UAAK,iBAAL,mBAAmB,gBAAgB,QAAKQ,GAAE,CAAC,IAAE,IAAEA,GAAER,GAAC;AAAA,EAAC;AAAA,EAAC,sBAAsBA,KAAEC,KAAEC,KAAE;AAJl7T;AAIm7T,UAAMC,MAAEF,IAAE;AAAS,QAAG,QAAME;AAAE,aAAO,MAAKD,IAAE,WAASA,IAAE,oBAAkB,KAAK,oBAAoB,KAAK,4BAA4B,KAAK,cAAc,GAAE,KAAK,uBAAsBF,GAAC;AAAG,QAAG,iBAAeG,IAAE;AAAK;AAAO,UAAMS,MAAE,eAAaT,IAAE,QAAK,KAAAA,IAAE,aAAF,mBAAY,QAAM,iBAAa,KAAAA,IAAE,KAAK,UAAP,mBAAc,QAAKA,IAAE,KAAK,MAAM,WAAS,MAAKC,MAAE,KAAK,4BAA4BQ,GAAC;AAAE,IAAAV,IAAE,oBAAkB,KAAK,oBAAoBD,GAAEG,GAAC,GAAE,KAAK,uBAAsBJ,GAAC,GAAE,KAAK,sBAAoBI,IAAE,CAAC,IAAE,IAAG,KAAK,oBAAoBA,KAAE,KAAK,qBAAoBJ,GAAC,GAAE,OAAOC,IAAE;AAAA,EAAQ;AAAA,EAAC,oBAAoBD,KAAEC,KAAE;AAJ3+U;AAI4+U,UAAMC,MAAED,IAAE,QAAOE,MAAE,KAAK;AAAgB,QAAG,QAAMD,OAAG,cAAYA,IAAE,QAAM,QAAMA,IAAE,QAAM,QAAMA,IAAE,KAAK,aAAW,QAAMA,IAAE,KAAK,SAAO,eAAaA,IAAE,KAAK,MAAM,QAAM,QAAMA,IAAE,KAAK,SAAO,eAAaA,IAAE,KAAK,MAAM,QAAM,QAAMC;AAAE,aAAM,EAAC,SAAQ,OAAG,kBAAiB,QAAM,KAAK,aAAY;AAAE,UAAMQ,MAAET,IAAE,KAAK,OAAMU,MAAE,QAAMD,KAAEP,MAAEQ,MAAED,IAAE,WAAS,MAAKN,MAAE,QAAMD,OAAG,QAAM,KAAK;AAAa,IAAAA,OAAG,KAAK,oBAAoB,KAAK,4BAA4BA,GAAC,GAAED,KAAEH,GAAC;AAAE,UAAMS,OAAE,KAAAP,IAAE,KAAK,UAAP,mBAAc;AAAS,WAAOO,OAAGT,IAAE,wBAAwB,KAAM,MAAIG,IAAE,cAAc,EAAC,iBAAgBD,IAAEO,GAAC,EAAC,CAAC,CAAE,GAAE,OAAOR,IAAE,QAAO,EAAC,SAAQW,KAAE,kBAAiBP,IAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBL,KAAEC,KAAEC,KAAE;AAAC,YAAMD,OAAGC,IAAE,wBAAwB,KAAM,MAAID,IAAE,cAAc,EAAC,OAAMD,IAAC,CAAC,CAAE;AAAA,EAAC;AAAC;AAAC,IAAIc;AAAEhB,IAAE,2BAAyB,EAAC,gBAAegB,GAAE,UAAS,kBAAiBA,GAAE,MAAK,oBAAmBA,GAAE,SAAQ,GAAE,SAASd,KAAE;AAAC,EAAAA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,IAAEA,IAAE,WAAS,CAAC,IAAE;AAAU,EAAEc,OAAIA,KAAE,CAAC,EAAE;;;ACAjxV,EAAE,UAAU,kEAAkE;AAAE,IAAMW,MAAN,cAAgBC,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,sBAAoB,CAAC,GAAE,KAAK,+BAA6B;AAAA,EAAE;AAAA,EAAC,IAAI,8BAA6B;AAAC,WAAO,KAAK;AAAA,EAA4B;AAAA,EAAC,2BAA2BC,KAAEC,KAAE;AAAC,QAAG,KAAK;AAA6B;AAAO,SAAK,+BAA6B;AAAG,UAAK,EAAC,aAAYC,IAAC,IAAE,MAAKC,MAAED,IAAE,WAAW,MAAM;AAAE,IAAAA,IAAE,oBAAoB;AAAE,UAAME,MAAE,EAAEL,KAAEG,IAAE,cAAc,GAAEG,MAAEJ,IAAE,UAAUG,GAAC;AAAE,eAAUE,OAAKH,KAAE;AAAC,YAAMF,MAAED,IAAEM,IAAE,QAAQ,GAAEH,MAAEG,IAAE,YAAY,EAAC,UAASL,IAAC,CAAC;AAAE,MAAAE,IAAE,cAAYE,KAAEH,IAAE,YAAYC,GAAC;AAAA,IAAC;AAAC,SAAK,sBAAoBA;AAAA,EAAC;AAAA,EAAC,4BAA4BH,KAAE;AAAC,QAAG,CAAC,KAAK;AAA6B;AAAO,SAAK,+BAA6B;AAAG,UAAK,EAAC,aAAYM,IAAC,IAAE,MAAKL,MAAEK,IAAE,WAAW,IAAK,CAAAA,QAAGN,IAAEM,IAAE,QAAQ,CAAE;AAAE,IAAAA,IAAE,oBAAoB;AAAE,aAAQJ,MAAE,GAAEA,MAAE,KAAK,oBAAoB,QAAOA,OAAI;AAAC,YAAMF,MAAE,KAAK,oBAAoBE,GAAC,GAAEC,MAAEF,IAAEC,GAAC;AAAE,MAAAC,IAAE,cAAc,EAAC,qBAAoB,KAAI,CAAC,GAAEA,QAAIH,IAAE,WAASM,IAAE,YAAYN,GAAC,IAAEM,IAAE,YAAYN,IAAE,YAAY,EAAC,UAASG,IAAC,CAAC,CAAC;AAAA,IAAC;AAAC,SAAK,oBAAoB,SAAO;AAAA,EAAC;AAAA,EAAC,sBAAsBH,KAAEC,KAAEC,KAAE;AAAC,QAAG,CAAC,KAAK;AAA6B;AAAO,UAAK,EAAC,aAAYC,IAAC,IAAE;AAAK,QAAG,MAAIA,IAAE,WAAW;AAAO;AAAO,UAAMC,MAAED,IAAE,WAAW,CAAC,EAAE,aAAYI,MAAE,EAAER,KAAEC,GAAC,GAAEQ,MAAEN,IAAE,UAAUK,GAAC;AAAE,QAAGC,QAAIJ;AAAE;AAAO,UAAMK,OAAER,OAAA,gBAAAA,IAAG,gBAAaG;AAAE,IAAAD,IAAE,0BAA0B,GAAEA,IAAE,iBAAeH,KAAEG,IAAE,WAAW,QAAS,CAAAH,QAAG;AAAC,MAAAA,IAAE,iBAAeS,KAAET,IAAE,cAAYQ;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,gBAAgBR,KAAEM,KAAEJ,KAAE;AAAC,UAAK,EAAC,aAAYC,IAAC,IAAE,MAAKC,OAAEE,OAAA,gBAAAA,IAAG,gBAAaF;AAAE,QAAG,CAAC,KAAK;AAA6B,aAAOD,IAAE,0BAA0B,GAAEA,IAAE,iBAAeH,KAAEG,IAAE,WAAW,QAAS,CAAAH,QAAG;AAAC,QAAAA,IAAE,iBAAeI;AAAA,MAAC,CAAE,GAAE,KAAK,KAAK,gBAAgBF,GAAC;AAAE,UAAMK,MAAEJ,IAAE,gBAAeK,MAAEL,IAAE,WAAW,CAAC,EAAE,gBAAeM,MAAET,KAAEU,MAAEN,KAAEO,MAAEA,GAAEC,IAAEL,KAAEC,GAAC,GAAEK,MAAEF,GAAEG,IAAEL,KAAEC,GAAC;AAAE,IAAAP,IAAE,uBAAqBM,KAAE,KAAK,+BAA+B,EAAC,MAAKE,KAAE,MAAKE,IAAC,CAAC;AAAE,UAAME,MAAE,MAAIL;AAAE,eAAUT,OAAKE,IAAE;AAAW,MAAAF,IAAE,oBAAkBc;AAAE,SAAK,gBAAgBb,GAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBF,KAAEM,KAAEH,KAAEC,KAAE;AAAC,QAAG,CAAC,KAAK;AAA6B,aAAO,KAAK,MAAM,mBAAmBJ,KAAEM,KAAEH,KAAEC,GAAC;AAAE,YAAMD,OAAGO,IAAE,KAAK,iBAAiB,8BAA6BP,GAAC;AAAE,UAAME,MAAE,CAACJ,KAAEC,QAAIS,IAAEV,KAAED,KAAE,KAAK,kBAAiBM,KAAEJ,GAAC,GAAE,EAAC,aAAYK,IAAC,IAAE;AAAK,QAAG,CAACA,IAAE,WAAW,CAAC,EAAE,SAAS,WAAW;AAAoB;AAAO,UAAMC,MAAED,IAAE,gBAAeE,MAAEF,IAAE,WAAW,CAAC,EAAE,gBAAeQ,MAAEJ,GAAEC,IAAEJ,KAAEC,GAAC,GAAEX,MAAES,GAAES,KAAET,IAAE,oBAAoB;AAAE,SAAK,0BAAwBR,GAAE,MAAK,KAAK,kBAAiBC,IAAE,kBAAiBK,KAAEC,KAAER,GAAC,GAAES,IAAE,uBAAqBT;AAAE,UAAMC,MAAEQ,IAAE,WAAW,CAAC,EAAE,sBAAqBU,MAAEN,GAAEG,IAAEhB,KAAEC,GAAC;AAAE,SAAK,+BAA+B,EAAC,MAAKgB,KAAE,MAAKE,IAAC,CAAC,GAAE,KAAK,gBAAgBb,GAAC;AAAA,EAAC;AAAA,EAAC,+BAA+B,EAAC,MAAKJ,KAAE,MAAKM,IAAC,GAAE;AAAC,UAAK,EAAC,aAAYJ,IAAC,IAAE;AAAK,QAAG,MAAIA,IAAE,WAAW;AAAO;AAAO,UAAMG,MAAEH,IAAE,WAAW,CAAC,EAAE,aAAYK,MAAEW,GAAEC,KAAE,EAAEpB,KAAEM,IAAE,MAAK,EAAE,CAAC,GAAEI,MAAEE,GAAEM,IAAEV,KAAEP,GAAC,GAAEU,MAAEC,GAAES,IAAEb,KAAED,GAAC,GAAEK,MAAEE,GAAEI,IAAER,GAAC,GAAEI,MAAEF,GAAES,IAAEV,KAAEC,GAAC;AAAE,eAAUV,OAAKC,IAAE;AAAW,MAAAD,IAAE,SAAS,cAAc,EAAC,qBAAoBY,IAAC,CAAC;AAAA,EAAC;AAAC;AAAC,IAAMd,MAAEQ,GAAE;AAAV,IAAYK,KAAEN,IAAE;AAAhB,IAAkBQ,KAAER,IAAE;AAAtB,IAAwBU,MAAEV,IAAE;AAA5B,IAA8BW,KAAEX,IAAE;AAAlC,IAAoCc,KAAEd,IAAE;AAAxC,IAA0Ca,MAAEb,IAAE;;;ACAz2G,IAAMe,MAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,kCAAgC,oBAAI,OAAI,KAAK,gCAA8B,oBAAI,OAAI,KAAK,yBAAuB;AAAA,EAAC;AAAA,EAAC,OAAOA,KAAEC,KAAEC,KAAE;AAAC,IAAAF,IAAE,2BAA4B,CAAAA,QAAG;AAAC,UAAG,KAAK,0BAAwB,GAAE;AAAC,YAAG,KAAK,gCAAgC,IAAIA,GAAC;AAAE,iBAAOA;AAAE,cAAMG,MAAEF,IAAE,WAAWD,GAAC;AAAE,eAAO,KAAK,gCAAgC,IAAIA,KAAEG,GAAC,GAAEF,IAAE,OAAOD,GAAC,GAAEA;AAAA,MAAC;AAAC,YAAMI,MAAE,IAAIC,GAAEL,IAAE,UAAU;AAAE,aAAOE,IAAE,MAAM,IAAIE,GAAC,GAAE,KAAK,8BAA8B,IAAIA,KAAEJ,GAAC,GAAEI;AAAA,IAAC,GAAGF,IAAE,kBAAkB;AAAA,EAAC;AAAA,EAAC,QAAQC,KAAEH,KAAEC,KAAE;AAAC,UAAMC,MAAE,oBAAI,OAAIE,MAAE,oBAAI;AAAI,IAAAD,IAAE,4BAA6B,CAAAA,QAAG;AAAC,UAAG,CAAC,KAAK,8BAA8B,IAAIA,GAAC,GAAE;AAAC,cAAMF,MAAEE,KAAEG,MAAE,KAAK,gCAAgC,IAAIL,GAAC;AAAE,eAAOD,IAAE,IAAIM,IAAE,GAAG,KAAGJ,IAAE,IAAID,GAAC,GAAED,IAAE,MAAMM,IAAE,GAAG,EAAE,aAAWF,IAAE,IAAIH,GAAC,GAAEK,IAAE;AAAA,MAAS;AAAC,YAAMA,MAAEH,KAAEI,MAAE,KAAK,8BAA8B,IAAID,GAAC;AAAE,aAAO,KAAK,8BAA8B,OAAOA,GAAC,GAAEL,IAAE,MAAM,OAAOK,GAAC,GAAEA,IAAE,QAAQ,GAAEC;AAAA,IAAC,CAAE;AAAE,eAAUD,OAAKJ;AAAE,WAAK,gCAAgC,OAAOI,GAAC,GAAEL,IAAE,MAAM,OAAOK,GAAC,GAAEA,IAAE,QAAQ;AAAE,eAAUA,OAAKF,KAAE;AAAC,YAAMD,MAAE,KAAK,gCAAgC,IAAIG,GAAC;AAAE,WAAK,gCAAgC,OAAOA,GAAC,GAAEN,IAAE,IAAIG,IAAE,KAAIA,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,eAAc;AAAC,SAAK;AAAA,EAAwB;AAAA,EAAC,gBAAgBA,KAAEH,KAAEC,KAAE;AAAC,SAAK,0BAAyB,KAAK,QAAQE,KAAEH,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBE,KAAE;AAAC,SAAK,gCAAgC,QAAQA,GAAC;AAAA,EAAC;AAAA,EAAC,sBAAsBA,KAAE;AAAC,SAAK,8BAA8B,QAAQA,GAAC;AAAA,EAAC;AAAA,EAAC,QAAQA,KAAE;AAAC,IAAAA,IAAE,WAAW,MAAM,KAAK,KAAK,8BAA8B,KAAK,CAAC,CAAC,GAAEA,IAAE,WAAW,MAAM,KAAK,KAAK,gCAAgC,OAAO,GAAG,CAAC,EAAC,UAASA,IAAC,MAAIA,GAAE,CAAC,GAAE,KAAK,8BAA8B,MAAM,GAAE,KAAK,gCAAgC,MAAM;AAAA,EAAC;AAAC;AAAC,IAAMF,MAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,SAAO,oBAAI,OAAI,KAAK,cAAY,oBAAI;AAAA,EAAG;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,MAAM,KAAK,KAAK,OAAO,OAAO,GAAG,CAAAE,QAAGA,IAAE,QAAS;AAAA,EAAC;AAAA,EAAC,MAAMA,KAAE;AAAC,WAAO,KAAK,OAAO,IAAIA,GAAC;AAAA,EAAC;AAAA,EAAC,WAAWA,KAAE;AAAC,WAAO,KAAK,YAAY,IAAIA,GAAC;AAAA,EAAC;AAAA,EAAC,IAAIA,KAAEH,KAAE;AAAC,SAAK,OAAO,IAAIG,KAAEH,GAAC,GAAE,KAAK,YAAY,IAAIA,IAAE,UAASA,GAAC;AAAA,EAAC;AAAA,EAAC,OAAOG,KAAE;AAJz9D;AAI09D,UAAMH,OAAE,UAAK,YAAY,IAAIG,GAAC,MAAtB,mBAAyB;AAAI,IAAAH,QAAI,KAAK,OAAO,OAAOA,GAAC,GAAE,KAAK,YAAY,OAAOG,GAAC;AAAA,EAAE;AAAA,EAAC,IAAIA,KAAE;AAAC,WAAO,KAAK,OAAO,IAAIA,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAE;AAAC,SAAK,OAAO,QAAQA,GAAC;AAAA,EAAC;AAAA,EAAC,QAAO;AAAC,SAAK,OAAO,MAAM,GAAE,KAAK,YAAY,MAAM;AAAA,EAAC;AAAC;;;ACA0uC,IAAMK,MAAG,CAAC,MAAM;AAAE,IAAMC,MAAN,cAAiBC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,GAAC,GAAE,KAAK,qBAAmB,IAAID,OAAG,KAAK,uBAAqB,IAAIF,OAAG,KAAK,YAAU,oBAAI,OAAI,KAAK,mBAAmB,KAAE;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAAC,IAAAC,IAAG,+BAA6B,KAAK,6BAA2B,IAAIG,GAAG,EAAC,OAAM,CAAC,GAAE,GAAE,GAAE,CAAC,EAAC,CAAC,GAAE,KAAK,2BAAyB,IAAIA,GAAG,EAAC,OAAM,CAAC,GAAE,GAAE,GAAE,CAAC,EAAC,CAAC;AAAA,EAAE;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,SAAS,MAAM,WAAW,KAAK,mBAAmB,SAAS,GAAE,KAAK,SAAS,MAAM,WAAW,MAAM,KAAK,KAAK,UAAU,OAAO,CAAC,CAAC,GAAE,KAAK,mBAAmB,MAAM,GAAE,KAAK,UAAU,MAAM,GAAE,KAAK,qBAAqB,QAAQ,KAAK,SAAS,KAAK;AAAA,EAAC;AAAA,EAAC,wBAAwBJ,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,UAASJ,KAAG,iBAAiB;AAAE,aAAO;AAAK,UAAMK,MAAE,KAAK,2BAA2BD,KAAE,IAAIE,KAAC,GAAEA,MAAEH,IAAE;AAAc,WAAO,KAAK,iBAAiBC,KAAEE,KAAED,KAAED,IAAE,GAAG;AAAA,EAAC;AAAA,EAAC,gBAAgBD,KAAE;AAAC,SAAK,qBAAqB,gBAAgBA,KAAE,KAAK,oBAAmB,KAAK,QAAQ;AAAA,EAAC;AAAA,EAAC,oBAAoBA,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,iBAAiB;AAAE,SAAK,0BAA2B,CAAAF,QAAG;AAAC,MAAAA,IAAE,SAAS,cAAc,EAAC,cAAaE,IAAC,CAAC;AAAE,YAAMD,MAAED,IAAE,SAAS;AAAW,WAAK,iCAAiCC,KAAED,GAAC,GAAEA,IAAE,SAAS,cAAc,EAAC,aAAYC,IAAE,YAAW,CAAC;AAAA,IAAC,CAAE,GAAED,IAAE,QAAS,CAAAA,QAAG;AAAC,YAAMG,MAAEF,IAAED,GAAC;AAAE,cAAMG,OAAGA,IAAE,oBAAoBD,KAAE,KAAK,SAAS,OAAO;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,0BAA0BF,KAAEC,KAAE;AAAC,WAAO,KAAK,qCAAqCD,KAAEC,KAAEI,EAAC;AAAA,EAAC;AAAA,EAAC,yBAAyBL,KAAEC,KAAE;AAAC,WAAO,KAAK,0BAA2B,CAAC,EAAC,UAASD,IAAC,MAAI;AAAC,MAAAA,IAAE,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC;AAAA,IAAC,CAAE,GAAEA,IAAE,QAAS,CAAAA,QAAG;AAAC,YAAME,MAAED,IAAED,GAAC;AAAE,cAAME,OAAGA,IAAE,yBAAyB,KAAK,SAAS,mBAAkB,KAAK,SAAS,OAAO;AAAA,IAAC,CAAE,GAAE;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,UAAMF,MAAE,KAAK,QAAQ;AAAE,WAAO,KAAK,0BAA2B,CAAC,EAAC,UAASC,IAAC,MAAIA,IAAE,cAAc,EAAC,QAAOD,IAAC,CAAC,CAAE,GAAE;AAAA,EAAE;AAAA,EAAC,gBAAgBA,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMG,MAAE,KAAK,SAAS,mBAAmB,kBAAiBC,MAAE,IAAG,EAAC,QAAOC,KAAE,WAAUC,IAAC,IAAEP;AAAE,YAAO,GAAED,KAAE,EAAE,IAAGO,IAAE,GAAEA,IAAE,GAAEA,IAAE,KAAG,CAAC,GAAED,KAAED,GAAC,GAAEH,KAAE;AAAA,MAAC,KAAKG,IAAE;AAAkB,aAAK,qBAAqB,OAAON,KAAE,KAAK,oBAAmB,KAAK,QAAQ;AAAE;AAAA,MAAM,KAAKM,IAAE;AAAmB,aAAK,qBAAqB,QAAQN,KAAE,KAAK,oBAAmB,KAAK,QAAQ;AAAE;AAAA,MAAM,KAAKM,IAAE;AAAsB,QAAAN,IAAE,sBAAsBO,KAAEE,KAAE,KAAK,SAAS,kBAAkB;AAAA,IAAC;AAAC,UAAK,EAAC,kBAAiBC,IAAC,IAAEV;AAAE,IAAAU,IAAE,2BAAyB,KAAK,6BAA6BH,GAAC;AAAE,UAAK,EAAC,mBAAkBI,KAAE,oBAAmBC,IAAC,IAAE,KAAK,UAASb,MAAE,CAACC,KAAEC,QAAIW,IAAEZ,KAAEW,KAAED,KAAEE,KAAEX,GAAC;AAAE,WAAOD,IAAE,0BAAwBK,GAAEL,KAAEU,KAAEC,IAAE,kBAAiBZ,KAAEa,KAAEL,GAAC,GAAEP,IAAE,gBAAgBO,KAAEE,KAAE,KAAK,SAAS,OAAO,GAAE;AAAA,EAAE;AAAA,EAAC,8BAA6B;AAAC,WAAO,KAAK,kBAAkB,SAAO,KAAK,kBAAkB;AAAA,EAAO;AAAA,EAAC,mBAAmBR,KAAE;AAAC,WAAO,QAAMA,MAAE,MAAIA,eAAaF,KAAEE,IAAE,MAAM,IAAEA,IAAE;AAAA,EAAW;AAAA,EAAC,2BAA2BD,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,4BAA4B,GAAEC,MAAE,CAAC,CAACH,IAAE,iBAAiB,OAAMM,MAAE,CAAC,CAACN,IAAE,iBAAiB;AAAQ,WAAM,EAAC,uBAAsBE,KAAE,iBAAgBC,KAAE,mBAAkBG,KAAE,KAAI,MAAMH,GAAC,OAAOG,GAAC,OAAOL,GAAC,QAAQC,GAAC,GAAE;AAAA,EAAC;AAAA,EAAC,qBAAqBF,KAAE;AAAC,UAAK,EAAC,QAAOC,KAAE,OAAMC,KAAE,UAASC,IAAC,IAAEH,OAAG;AAAG,WAAM,GAAGC,IAAE,CAAC,CAAC,IAAIA,IAAE,CAAC,CAAC,IAAIE,GAAC,IAAID,IAAE,CAAC,CAAC,IAAIA,IAAE,CAAC,CAAC;AAAA,EAAE;AAAA,EAAC,oBAAoBF,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,2BAA2BH,KAAEE,GAAC;AAAE,QAAG,CAACD,IAAE;AAAS,aAAOE;AAAE,UAAK,EAAC,OAAMG,KAAE,cAAaC,KAAE,uBAAsBC,KAAE,eAAcC,KAAE,wBAAuBC,KAAE,aAAYC,KAAE,aAAYC,KAAE,WAAUC,IAAC,IAAEZ,IAAE,UAASF,MAAE,KAAK,mBAAmBO,GAAC,GAAEQ,MAAE,KAAK,mBAAmBP,GAAC,GAAEF,MAAE,KAAK,qBAAqBG,GAAC,GAAEO,MAAE,KAAK,mBAAmBN,GAAC,GAAEO,MAAE,KAAK,qBAAqBN,GAAC;AAAE,QAAGP,IAAE,QAAMG,KAAEH,IAAE,eAAaI,KAAEJ,IAAE,gBAAcM,KAAEN,IAAE,MAAI,GAAGA,IAAE,GAAG,UAAUJ,GAAC,WAAWe,GAAC,WAAWT,GAAC,WAAWU,GAAC,WAAWC,GAAC,OAAOL,GAAC,OAAOC,GAAC,OAAOC,GAAC,IAAGZ,IAAE,oBAAoBW,KAAE;AAAC,YAAK,EAAC,UAASZ,KAAE,WAAUE,KAAE,0BAAyBI,KAAE,mCAAkCC,KAAE,eAAcE,KAAE,iBAAgBE,KAAE,0BAAyBC,KAAE,kBAAiBC,KAAE,2BAA0Bd,IAAC,IAAEE,IAAE,UAASa,MAAE,KAAK,mBAAmBR,GAAC,GAAED,MAAE,KAAK,qBAAqBE,GAAC,GAAEQ,MAAE,KAAK,mBAAmBN,GAAC,GAAEO,MAAE,KAAK,mBAAmBL,GAAC,GAAEM,MAAE,KAAK,qBAAqBL,GAAC,GAAEM,MAAE,KAAK,mBAAmBL,GAAC,GAAEM,MAAE,KAAK,qBAAqBpB,GAAC;AAAE,MAAAI,IAAE,WAASH,KAAEG,IAAE,YAAUD,KAAEC,IAAE,2BAAyBG,KAAEH,IAAE,gBAAcM,KAAEN,IAAE,kBAAgBQ,KAAER,IAAE,mBAAiBU,KAAEV,IAAE,wBAAsB,KAAK,yBAAyBK,GAAC,GAAEL,IAAE,yBAAuB,KAAK,yBAAyBO,GAAC,GAAEP,IAAE,2BAAyB,KAAK,yBAAyBS,GAAC,GAAET,IAAE,4BAA0B,KAAK,yBAAyBJ,GAAC,GAAEI,IAAE,oCAAkC,KAAK,yBAAyBI,GAAC,GAAEJ,IAAE,MAAI,GAAGA,IAAE,GAAG,QAAQH,GAAC,QAAQE,GAAC,QAAQY,GAAC,SAAST,GAAC,UAAUU,GAAC,WAAWC,GAAC,QAAQC,GAAC,WAAWC,GAAC,QAAQC,GAAC;AAAA,IAAE;AAAC,WAAOhB;AAAA,EAAC;AAAA,EAAC,yBAAyBH,KAAE;AAAC,QAAG,CAACA;AAAE,aAAO;AAAK,UAAK,EAAC,OAAME,KAAE,QAAOC,KAAE,UAASG,IAAC,IAAEN;AAAE,WAAM,EAAC,OAAME,KAAE,QAAOC,KAAE,UAAS,EAAEG,GAAC,EAAC;AAAA,EAAC;AAAA,EAAC,iCAAiCL,KAAEC,KAAE;AAAC,IAAAA,IAAE,UAAQH,GAAE,UAAUE,GAAC,GAAEC,IAAE,UAAQD,IAAE;AAAA,EAAC;AAAA,EAAC,4BAA4BD,KAAE;AAAC,WAAOA,IAAE,OAAKA,IAAE,OAAKA,IAAE;AAAA,EAAG;AAAA,EAAC,sBAAsBA,KAAE;AAAC,UAAMC,MAAE,KAAK,oBAAoBD,KAAES,GAAG,MAAM;AAAE,WAAO,QAAMR,MAAEA,IAAE,KAAG;AAAA,EAAI;AAAA,EAAC,oBAAoBD,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,4BAA4BF,GAAC;AAAE,QAAG,CAACE;AAAE,aAAO;AAAK,UAAMC,MAAE,GAAGH,IAAE,WAAW,IAAIC,GAAC;AAAG,QAAIK,MAAE,KAAK,UAAU,IAAIH,GAAC;AAAE,WAAOG,QAAIA,MAAE,IAAIc,GAAGnB,IAAEC,GAAC,IAAEA,IAAE,OAAKA,KAAE,EAAC,QAAO,MAAG,MAAK,KAAK,iBAAiBF,IAAE,IAAI,GAAE,cAAa,MAAG,kBAAiB,CAACC,IAAEC,GAAC,KAAGD,QAAIQ,GAAG,QAAO,UAASR,IAAEC,GAAC,KAAG,QAAMA,IAAE,WAASA,IAAE,WAAS,OAAM,CAAC,GAAE,KAAK,UAAU,IAAIC,KAAEG,GAAC,GAAE,KAAK,SAAS,MAAM,IAAIA,GAAC,GAAE,KAAK,SAAS,MAAM,cAAcA,GAAC,IAAGA;AAAA,EAAC;AAAA,EAAC,iBAAiBN,MAAE,UAAS;AAAC,QAAG,YAAU,OAAOA,KAAE;AAAC,YAAMC,MAAE,KAAK,2BAA2BD,GAAC;AAAE,aAAM,EAAC,GAAEC,KAAE,GAAAA,IAAC;AAAA,IAAC;AAAC,WAAM,EAAC,GAAE,KAAK,2BAA2BD,IAAE,UAAU,GAAE,GAAE,KAAK,2BAA2BA,IAAE,QAAQ,EAAC;AAAA,EAAC;AAAA,EAAC,2BAA2BA,KAAE;AAAC,YAAOA,KAAE;AAAA,MAAC,KAAI;AAAQ,eAAOqB,GAAG;AAAA,MAAc,KAAI;AAAS,eAAOA,GAAG;AAAA,MAAgB;AAAQ,eAAOA,GAAG;AAAA,IAAM;AAAA,EAAC;AAAA,EAAC,+BAA+BpB,KAAEC,KAAE;AAAC,QAAG,QAAMD,IAAE,SAAO,KAAK,iCAAiCA,IAAE,OAAMC,GAAC,GAAE,QAAMD,IAAE,cAAa;AAAC,YAAMD,MAAE,KAAK,oBAAoBC,IAAE,cAAaC,IAAE,gBAAgB;AAAE,cAAMF,OAAGE,IAAE,YAAUF,IAAE,IAAGE,IAAE,4BAA0B,CAAC,CAACF,IAAE,WAAW,oBAAkBE,IAAE,YAAU;AAAA,IAAM;AAAC,YAAMD,IAAE,kBAAgBC,IAAE,kBAAgB,KAAK,sBAAsBD,IAAE,aAAa,IAAG,QAAMA,IAAE,kBAAgBC,IAAE,iBAAeH,GAAE,UAAUE,IAAE,aAAa,IAAG,QAAMA,IAAE,oBAAkBC,IAAE,oBAAkB,KAAK,sBAAsBD,IAAE,eAAe,IAAG,QAAMA,IAAE,qBAAmBC,IAAE,qBAAmB,KAAK,sBAAsBD,IAAE,gBAAgB,IAAG,QAAMA,IAAE,6BAA2BC,IAAE,6BAA2B,KAAK,sBAAsBD,IAAE,wBAAwB,IAAGC,IAAE,8BAA4BA,IAAED,IAAE,qBAAqB,GAAEC,IAAE,+BAA6BA,IAAED,IAAE,sBAAsB,GAAEC,IAAE,kCAAgCA,IAAED,IAAE,yBAAyB,GAAEC,IAAE,iCAA+BA,IAAED,IAAE,wBAAwB,GAAEC,IAAE,0CAAwCA,IAAED,IAAE,iCAAiC;AAAA,EAAC;AAAA,EAAC,+BAA+BA,KAAE;AAAC,UAAMC,MAAE,KAAK,kBAAkB;AAAM,QAAIC,MAAE,QAAM,KAAK,YAAY,WAAS,KAAK,YAAY,SAAS,eAAa;AAAK,QAAGD;AAAE,MAAAD,IAAE,gBAAciB;AAAA,SAAM;AAAC,YAAMhB,MAAE,QAAM,KAAK,YAAY,WAAS,KAAK,YAAY,SAAS,QAAM;AAAK,cAAMA,MAAED,IAAE,gBAAcF,GAAE,WAAWG,GAAC,KAAGC,MAAE,MAAKF,IAAE,gBAAciB;AAAA,IAAE;AAAC,IAAAf,QAAIF,IAAE,eAAaE,MAAGF,IAAE,cAAY,CAAC,CAAC,KAAK,YAAY;AAAA,EAAW;AAAA,EAAC,4BAA4BD,KAAE;AAAC,UAAMC,MAAED,IAAE,iBAAiB;AAAM,QAAG,QAAMC;AAAE,aAAM;AAAG,aAAQC,MAAE,GAAEA,MAAED,IAAE,QAAOC,OAAG;AAAE,UAAG,QAAMD,IAAEC,GAAC;AAAE,eAAM;AAAG,WAAM;AAAA,EAAE;AAAA,EAAC,qBAAqBD,KAAEC,KAAE;AAJhoV;AAIioV,UAAMC,OAAE,KAAAD,IAAE,aAAF,mBAAY,OAAMI,OAAE,KAAAJ,IAAE,aAAF,mBAAY,cAAaK,OAAE,KAAAL,IAAE,aAAF,mBAAY,WAAUM,MAAE,YAAUD,KAAEE,MAAE,EAAE,aAAWF,SAAK,KAAK,4BAA4BN,GAAC,KAAG,QAAME,OAAGA,IAAE,IAAE,KAAG,QAAMG,OAAGA,IAAE,eAAaE,MAAGE,MAAE,KAAK,oBAAoBT,KAAEC,KAAEO,GAAC,GAAEE,MAAE,KAAK,mBAAmB,MAAMD,IAAE,GAAG;AAAE,QAAGC;AAAE,aAAOA,IAAE;AAAS,UAAMC,MAAE,EAAC,KAAIF,IAAE,KAAI,UAAS,MAAK,wBAAuBD,KAAE,WAAUP,IAAE,WAASA,IAAE,SAAS,YAAU,SAAQ,GAAEW,MAAEF,GAAG,EAAC,eAAcD,IAAE,eAAc,0BAAyBA,IAAE,0BAAyB,gBAAeA,IAAE,UAAS,iBAAgBA,IAAE,WAAU,iBAAgBA,IAAE,iBAAgB,gBAAeX,GAAE,UAAUW,IAAE,aAAa,GAAE,kBAAiBA,IAAE,iBAAgB,CAAC,GAAEX,MAAE,EAAC,QAAO,KAAK,QAAQ,GAAE,aAAYc,KAAE,iBAAgBH,IAAE,iBAAgB,iBAAgBA,IAAE,uBAAsB,mBAAkBA,IAAE,mBAAkB,SAAQI,IAAE,SAAQJ,IAAE,SAAQ,GAAE,aAAY,MAAG,iBAAgB,iBAAgB,UAASH,GAAG,MAAK,cAAa,KAAK,iBAAiB,GAAE,eAAc,KAAK,SAAS,mBAAkB,wBAAuB,KAAE;AAAE,IAAAR,IAAE,aAAWc,MAAE,CAAC,GAAGX,GAAE,IAAE,CAACQ,IAAE,UAASA,IAAE,WAAUH,IAAG,CAAC,CAAC,GAAEL,IAAE,aAAWH,IAAE,cAAYG,IAAE,SAAS,aAAYH,IAAE,WAASG,IAAE,SAAS,cAAYK,GAAG,OAAKA,GAAG,MAAKR,IAAE,qBAAmBG,IAAE,SAAS,cAAa,KAAK,+BAA+BH,GAAC,GAAE,KAAK,iCAAiCA,KAAEa,GAAC,GAAE,KAAK,+BAA+BF,KAAEX,GAAC;AAAE,UAAMe,MAAE,IAAIQ,GAAGvB,GAAC;AAAE,WAAOa,IAAE,WAASE,KAAE,KAAK,mBAAmB,IAAIJ,IAAE,KAAIE,GAAC,GAAE,KAAK,SAAS,MAAM,IAAIE,GAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,WAAO,KAAK,SAAS;AAAA,EAA6B;AAAA,EAAC,iCAAiCd,KAAEC,KAAE;AAAC,IAAAD,IAAE,cAAY,KAAK,8BAA4BC,IAAE,0BAAwBD,IAAE,eAAa,KAAGA,IAAE,UAAQ,KAAGA,IAAE,iBAAeA,IAAE,cAAc,CAAC,IAAE,GAAE,WAASC,IAAE,YAAUD,IAAE,mBAAiBA,IAAE,cAAYS,GAAG,YAAUA,GAAG,SAAOT,IAAE,mBAAiB,aAAWC,IAAE,YAAUQ,GAAG,SAAO,WAASR,IAAE,YAAUQ,GAAG,OAAKA,GAAG;AAAA,EAAK;AAAA,EAAC,iBAAiBT,KAAEC,KAAE;AAAC,UAAMC,MAAED,IAAE,QAAOE,MAAEH,IAAE,iBAAiB,eAAa,WAAS,MAAI,GAAEM,MAAE,MAAG,KAAK,IAAIN,IAAE,OAAO,QAAMG,KAAEH,IAAE,OAAO,SAAOG,KAAEH,IAAE,OAAO,OAAKA,IAAE,OAAO,IAAI,GAAEO,MAAE,CAAC,GAAEC,MAAE,CAAC,GAAEC,MAAE,CAAC,GAAEC,MAAE,CAAC;AAAE,aAAQL,MAAE,GAAEA,MAAEH,KAAEG,OAAI;AAAC,YAAML,MAAEC,IAAEI,GAAC,GAAEH,MAAEF,IAAE,iBAAiB,IAAIuB,GAAG,QAAQ,GAAEpB,MAAEH,IAAE,iBAAiB,IAAIuB,GAAG,MAAM,GAAEZ,MAAEX,IAAE,QAAQ,IAAIuB,GAAG,QAAQ,GAAEX,MAAEZ,IAAE,QAAQ,IAAIuB,GAAG,MAAM,GAAEV,MAAEX,IAAE,MAAKa,MAAEZ,IAAE;AAAK,eAAQF,MAAE,GAAEA,MAAEU,IAAE,QAAOV,OAAI;AAAC,cAAMD,MAAE,IAAEW,IAAEV,GAAC,GAAEC,MAAE,IAAEU,IAAEX,GAAC;AAAE,iBAAQA,MAAE,GAAEA,MAAE,GAAEA;AAAI,UAAAM,IAAE,KAAKM,IAAEb,MAAEC,GAAC,CAAC;AAAE,iBAAQA,MAAE,GAAEA,MAAE,GAAEA;AAAI,UAAAM,IAAE,KAAKM,IAAEb,MAAEC,GAAC,IAAEc,IAAEb,MAAED,GAAC,IAAEK,GAAC;AAAE,YAAGE,IAAE,KAAKA,IAAE,MAAM,GAAEA,IAAE,KAAKA,IAAE,MAAM,GAAEP,MAAE,KAAG,GAAE;AAAC,eAAK,qBAAqBY,KAAEF,KAAEV,KAAEuB,GAAE,GAAE,KAAK,iBAAiBX,KAAEF,KAAEV,KAAE,IAAG,IAAG,EAAE,GAAE,EAAE,IAAG,IAAG,EAAE,GAAE,EAAE,IAAG,IAAG,EAAE,GAAE,EAAE,IAAG,IAAG,IAAE,CAAC;AAAE,mBAAQD,MAAE,GAAEA,MAAE,GAAEA;AAAI,YAAAS,IAAE,KAAK,GAAGT,GAAC,CAAC;AAAE,mBAAQA,MAAE,GAAEA,MAAE,GAAEA;AAAI,YAAAS,IAAE,KAAK,GAAGT,GAAC,IAAEwB,IAAGxB,GAAC,IAAEM,GAAC;AAAE,UAAAI,IAAE,KAAKA,IAAE,MAAM,GAAEA,IAAE,KAAKA,IAAE,MAAM;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC;AAAC,UAAMC,MAAEV,IAAE,CAAC,EAAE,gBAAeW,MAAE,IAAIa,GAAG,KAAK,4BAA2B,CAAC,CAACF,GAAG,UAAS,IAAIf,GAAGD,KAAE,GAAE,IAAE,CAAC,CAAC,GAAE,CAAC,CAACgB,GAAG,UAASf,GAAC,CAAC,GAAE,MAAKR,IAAG,IAAI;AAAE,IAAAC,IAAE,KAAKW,GAAC,GAAEA,IAAE,iBAAeD;AAAE,UAAME,MAAE,IAAIY,GAAG,KAAK,0BAAyB,CAAC,CAACF,GAAG,UAAS,IAAIf,GAAGC,KAAE,GAAE,IAAE,CAAC,CAAC,GAAE,CAAC,CAACc,GAAG,UAASb,GAAC,CAAC,GAAE,MAAKV,IAAG,IAAI;AAAE,IAAAa,IAAE,iBAAeF,KAAEV,IAAE,KAAKY,GAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBb,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMG,MAAEN,IAAE;AAAS,QAAG,WAASM,IAAE;AAAK,aAAO;AAAK,UAAMC,MAAE,KAAK,oBAAoBD,KAAEL,KAAEE,GAAC;AAAE,QAAG,QAAMI;AAAE,aAAO;AAAK,UAAK,EAAC,YAAWC,KAAE,sBAAqBC,IAAC,IAAEF;AAAE,IAAAN,IAAG,8BAA4B,KAAK,iBAAiBK,KAAEE,GAAC;AAAE,UAAME,MAAE,IAAIgB,GAAG,EAAC,YAAWlB,KAAE,UAAS,KAAK,SAAS,MAAM,KAAI,YAAWL,IAAC,CAAC;AAAE,IAAAO,IAAE,iBAAeD;AAAE,UAAME,MAAEA,GAAG,KAAK,aAAY,EAAC,SAAQ,KAAK,iBAAiB,EAAC,CAAC,GAAEC,MAAE,QAAMD,MAAE,IAAIE,GAAEL,IAAE,CAAC,EAAE,UAAS,CAACG,GAAC,GAAE,EAAC,iBAAgB,MAAG,eAAc,KAAK,SAAS,kBAAiB,CAAC,IAAE,MAAKE,MAAE,IAAIE,IAAE,MAAKL,KAAEF,KAAE,MAAK,MAAKH,IAAEH,KAAEU,GAAC;AAAE,SAAK,qBAAqB,aAAa,GAAEC,IAAE,wBAAsBR,GAAEH,IAAE,IAAI,GAAEW,IAAE,oCAAkC,MAAGX,IAAE,2BAAyB,KAAK,6BAA6BQ,IAAE,cAAc;AAAE,UAAK,EAAC,mBAAkBX,KAAE,oBAAmBe,IAAC,IAAE,KAAK,UAAST,MAAE,CAACL,KAAEC,QAAIW,IAAEZ,KAAED,KAAEG,KAAEY,KAAEb,GAAC;AAAE,WAAOY,IAAE,0BAAwBR,GAAEQ,KAAEX,KAAEH,IAAE,kBAAiBM,KAAES,GAAC,GAAED;AAAA,EAAC;AAAA,EAAC,6BAA6Bb,KAAE;AAAC,UAAMC,MAAE,EAAE,GAAE,GAAE,GAAE,QAAM,KAAK,SAAS,kBAAkB,mBAAiB,KAAK,SAAS,kBAAkB,mBAAiB,IAAI;AAAE,WAAO,GAAE,CAACD,IAAE,EAAE,GAAEA,IAAE,EAAE,GAAEA,IAAE,EAAE,CAAC,GAAE,KAAK,SAAS,mBAAmB,kBAAiBC,GAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,wBAAwBD,KAAEC,KAAEC,KAAEC,KAAE;AAAC,YAAOD,IAAE,WAAS,QAAO;AAAA,MAAC;AAAA,MAAQ,KAAI;AAAS,eAAO,KAAK,8BAA8BF,KAAEC,KAAEC,KAAEC,GAAC;AAAA,MAAE,KAAI;AAAO,eAAO,KAAK,4BAA4BH,KAAEG,GAAC;AAAA,MAAE,KAAI;AAAS,eAAO,KAAK,8BAA8BH,KAAEG,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,8BAA8BH,KAAEC,KAAEC,KAAEC,KAAE;AAAC,QAAG,QAAMF;AAAE,aAAO,KAAK,4BAA4BD,KAAEG,GAAC;AAAE,QAAIG,MAAE;AAAG,QAAG,CAACJ,IAAE;AAAmB,eAAQK,MAAE,GAAEA,MAAEJ,IAAE,QAAOI,OAAG,GAAE;AAAC,aAAK,qBAAqBP,KAAEG,KAAEI,KAAEiB,GAAE;AAAE,iBAAQxB,MAAE,GAAEA,MAAE,GAAEA,OAAI;AAAC,gBAAME,MAAE,IAAEC,IAAEI,MAAEP,GAAC;AAAE,aAAG,CAAC,IAAEC,IAAEC,GAAC,GAAE,GAAG,CAAC,IAAED,IAAEC,MAAE,CAAC,GAAE,GAAG,CAAC,IAAED,IAAEC,MAAE,CAAC,GAAE,EAAEsB,KAAG,EAAE,IAAE,MAAIvB,IAAEC,GAAC,IAAE,CAACD,IAAEC,GAAC,GAAED,IAAEC,MAAE,CAAC,IAAE,CAACD,IAAEC,MAAE,CAAC,GAAED,IAAEC,MAAE,CAAC,IAAE,CAACD,IAAEC,MAAE,CAAC,GAAEI,MAAE;AAAA,QAAG;AAAA,MAAC;AAAC,WAAO,IAAI,GAAGL,KAAEE,KAAEG,GAAC;AAAA,EAAC;AAAA,EAAC,4BAA4BN,KAAEC,KAAE;AAAC,UAAMC,MAAED,IAAEA,IAAE,MAAM,GAAEE,MAAE,IAAI,MAAM,IAAEF,IAAE,MAAM;AAAE,aAAQK,MAAE,GAAEA,MAAEL,IAAE,QAAOK,OAAG,GAAE;AAAC,YAAMC,MAAE,KAAK,qBAAqBP,KAAEC,KAAEK,KAAEkB,GAAE;AAAE,eAAQxB,MAAE,GAAEA,MAAE,GAAEA;AAAI,QAAAE,IAAEI,MAAEN,GAAC,IAAEO,IAAEP,GAAC,GAAEG,IAAEG,MAAEN,GAAC,IAAEM,MAAE;AAAA,IAAC;AAAC,WAAO,IAAI,GAAGJ,KAAEC,KAAE,KAAE;AAAA,EAAC;AAAA,EAAC,8BAA8BH,KAAEC,KAAE;AAAC,UAAMC,MAAE,CAAC;AAAE,aAAQK,MAAE,GAAEA,MAAEN,IAAE,QAAOM,OAAG,GAAE;AAAC,YAAMJ,MAAE,KAAK,qBAAqBH,KAAEC,KAAEM,KAAEiB,GAAE;AAAE,eAAQxB,MAAE,GAAEA,MAAE,GAAEA,OAAI;AAAC,cAAMM,MAAEL,IAAEM,MAAEP,GAAC;AAAE,YAAIQ,MAAEN,IAAEI,GAAC;AAAE,QAAAE,QAAIA,MAAE,EAAC,QAAOD,GAAE,GAAE,OAAM,EAAC,GAAEL,IAAEI,GAAC,IAAEE,MAAG,EAAEA,IAAE,QAAOA,IAAE,QAAOL,GAAC,GAAEK,IAAE;AAAA,MAAO;AAAA,IAAC;AAAC,UAAML,MAAEF,IAAE,IAAEA,IAAE,MAAM,GAAEK,MAAE,IAAI,MAAM,IAAEL,IAAE,MAAM;AAAE,aAAQM,MAAE,GAAEA,MAAEN,IAAE,QAAOM,OAAI;AAAC,YAAMP,MAAEE,IAAED,IAAEM,GAAC,CAAC;AAAE,YAAIP,IAAE,UAAQ,EAAEA,IAAE,QAAOA,IAAE,MAAM,GAAEA,IAAE,QAAM;AAAG,eAAQC,MAAE,GAAEA,MAAE,GAAEA;AAAI,QAAAE,IAAE,IAAEI,MAAEN,GAAC,IAAED,IAAE,OAAOC,GAAC;AAAE,MAAAK,IAAEC,GAAC,IAAEA;AAAA,IAAC;AAAC,WAAO,IAAI,GAAGJ,KAAEG,KAAE,KAAE;AAAA,EAAC;AAAA,EAAC,iBAAiBN,KAAEC,KAAEC,KAAEC,KAAEG,KAAEC,KAAE;AAAC,UAAMC,MAAE,IAAEP,IAAEC,GAAC,GAAEO,MAAE,IAAER,IAAEC,MAAE,CAAC,GAAEQ,MAAE,IAAET,IAAEC,MAAE,CAAC;AAAE,IAAAC,IAAE,CAAC,IAAEH,IAAEQ,GAAC,GAAEL,IAAE,CAAC,IAAEH,IAAEQ,MAAE,CAAC,GAAEL,IAAE,CAAC,IAAEH,IAAEQ,MAAE,CAAC,GAAEF,IAAE,CAAC,IAAEN,IAAES,GAAC,GAAEH,IAAE,CAAC,IAAEN,IAAES,MAAE,CAAC,GAAEH,IAAE,CAAC,IAAEN,IAAES,MAAE,CAAC,GAAEF,IAAE,CAAC,IAAEP,IAAEU,GAAC,GAAEH,IAAE,CAAC,IAAEP,IAAEU,MAAE,CAAC,GAAEH,IAAE,CAAC,IAAEP,IAAEU,MAAE,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBV,KAAEC,KAAEC,KAAEC,KAAE;AAAC,WAAO,KAAK,iBAAiBH,KAAEC,KAAEC,KAAE,IAAG,IAAG,EAAE,GAAEF,GAAE,IAAG,IAAG,EAAE,GAAEA,GAAE,IAAG,IAAG,EAAE,GAAE,EAAE,IAAG,IAAG,EAAE,GAAE,EAAEG,KAAE,EAAE,GAAEA;AAAA,EAAC;AAAA,EAAC,uBAAuBH,KAAE;AAAC,WAAOA,IAAE,cAAY;AAAA,EAAE;AAAA,EAAC,sBAAsBA,KAAEC,KAAE;AAAC,QAAIC,MAAEF,IAAE,iBAAiB;AAAS,UAAMG,MAAEF,IAAE,iBAAe,GAAG,OAAKA,IAAE,yBAAuB;AAAK,QAAG,QAAME,QAAID,MAAEA,IAAE,IAAI,aAAaA,IAAE,MAAM,GAAEA,KAAEC,GAAC,IAAGF,IAAE,iBAAe,GAAG;AAAK,aAAOA,IAAE,kBAAgB,IAAI,aAAaC,GAAC,IAAEA;AAAE,UAAMI,MAAE,QAAMH,MAAED,MAAE,IAAI,aAAaA,IAAE,MAAM;AAAE,WAAO,GAAEA,KAAEF,IAAE,kBAAiB,GAAEM,KAAE,KAAK,SAAS,mBAAmB,kBAAiB,GAAEJ,IAAE,SAAO,CAAC,GAAEI;AAAA,EAAC;AAAA,EAAC,oBAAoBN,KAAEC,KAAEC,KAAE;AAAC,QAAIC,MAAEH,IAAE,iBAAiB;AAAO,QAAG,QAAMG;AAAE,aAAO;AAAK,UAAMG,MAAEJ,IAAE,iBAAe,GAAG,OAAKA,IAAE,yBAAuB;AAAK,YAAMI,QAAIH,MAAEwB,GAAExB,KAAE,IAAI,aAAaA,IAAE,MAAM,GAAEG,GAAC;AAAG,QAAG,YAAU,KAAK,SAAS,kBAAkB,KAAK,eAAaJ,IAAE,iBAAe,GAAG;AAAK,aAAOA,IAAE,mBAAiBF,IAAE,iBAAiB,WAASG,MAAE,IAAI,aAAaA,GAAC,IAAEA;AAAE,UAAMI,MAAEP,IAAE,iBAAiB,UAASQ,MAAE,QAAMF,MAAEH,MAAE,IAAI,aAAaA,IAAE,MAAM;AAAE,WAAOe,GAAEf,KAAEI,KAAEN,KAAED,IAAE,kBAAiBQ,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBR,KAAEC,KAAEC,KAAE;AAAC,QAAIC,MAAEH,IAAE,iBAAiB;AAAQ,QAAG,QAAMG;AAAE,aAAO;AAAK,UAAMG,MAAEJ,IAAE,iBAAe,GAAG,OAAKA,IAAE,yBAAuB;AAAK,YAAMI,QAAIH,MAAEoB,GAAEpB,KAAE,IAAI,aAAaA,IAAE,MAAM,GAAEG,GAAC;AAAG,QAAG,YAAU,KAAK,SAAS,kBAAkB,KAAK,eAAaJ,IAAE,iBAAe,GAAG;AAAK,aAAOA,IAAE,mBAAiBF,IAAE,iBAAiB,WAASG,MAAE,IAAI,aAAaA,GAAC,IAAEA;AAAE,UAAMI,MAAEP,IAAE,iBAAiB,UAASQ,MAAE,QAAMF,MAAEH,MAAE,IAAI,aAAaA,IAAE,MAAM;AAAE,WAAOyB,GAAEzB,KAAEI,KAAEN,KAAED,IAAE,kBAAiBQ,GAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBR,KAAE;AAAC,WAAOA,IAAE,iBAAiB;AAAA,EAAK;AAAA,EAAC,yBAAyBA,KAAE;AAJrgjB;AAIsgjB,QAAG,KAAK,4BAA4B,GAAE;AAAC,YAAMC,MAAE,KAAK,0BAA0BD,GAAC,GAAEE,MAAEF,KAAG,gBAAK,gBAAL,mBAAkB,aAAlB,mBAA4B,YAAY,GAAEG,MAAE,IAAI,WAAW,CAAC;AAAE,aAAOD,IAAGD,KAAEC,KAAEC,GAAC,GAAEA;AAAA,IAAC;AAAC,WAAO;AAAA,EAAI;AAAA,EAAC,eAAeH,KAAEC,KAAE;AAAC,UAAMC,MAAEF,IAAE,oBAAkBA,IAAE,iBAAiB;AAAS,QAAG,CAACE;AAAE,aAAO,KAAK,OAAO,KAAK,uDAAuD,GAAE;AAAK,UAAMC,MAAEH,IAAE,iBAAiB,QAAOM,MAAEN,IAAE,iBAAiB,IAAGO,MAAEP,IAAE,iBAAiB;AAAQ,QAAG,QAAMG,OAAGA,IAAE,WAASD,IAAE;AAAO,aAAO,KAAK,OAAO,KAAK,2FAA2F,GAAE;AAAK,QAAG,QAAMK,OAAGA,IAAE,SAAO,KAAGL,IAAE,SAAO;AAAE,aAAO,KAAK,OAAO,KAAK,4FAA4F,GAAE;AAAK,QAAG,QAAMI,OAAGA,IAAE,SAAO,KAAGJ,IAAE,SAAO;AAAE,aAAO,KAAK,OAAO,KAAK,uFAAuF,GAAE;AAAK,UAAMM,MAAE,KAAK,yBAAyBR,GAAC,GAAES,MAAE,KAAK,sBAAsBT,KAAEQ,GAAC,GAAEG,MAAE,KAAK,mBAAmBX,GAAC,GAAEY,MAAE,KAAK,yBAAyBX,GAAC,GAAEY,MAAE,KAAK,oBAAoBb,KAAES,KAAED,GAAC,GAAET,MAAE,KAAK,qBAAqBC,KAAES,KAAED,GAAC;AAAE,WAAM,EAAC,gBAAeC,KAAE,cAAaI,KAAE,eAAcd,KAAE,UAASO,KAAE,aAAYK,KAAE,mBAAkBC,KAAE,sBAAqBJ,IAAE,iBAAe,GAAG,QAAM,QAAMA,IAAE,uBAAqBA,IAAE,uBAAqB,KAAK,sBAAsBR,KAAES,KAAEI,KAAEd,GAAC,GAAE,wBAAuBS,IAAE,iBAAe,GAAG,QAAM,QAAMA,IAAE,yBAAuBA,IAAE,yBAAuBR,IAAE,EAAC;AAAA,EAAC;AAAA,EAAC,yBAAyBA,KAAE;AAJ78lB;AAI88lB,UAAK,EAAC,aAAYC,IAAC,IAAED,KAAEE,MAAED,IAAE,YAAWE,MAAEF,IAAE,kBAAgB,KAAK,SAAS,mBAAmB,gBAAcS,IAAE,QAAM,GAAG,OAAK,GAAG,OAAK,GAAG;AAAK,QAAGR,KAAE;AAAC,YAAK,EAAC,QAAOA,IAAC,IAAED,KAAEK,MAAEN,IAAE,GAAES,QAAE,KAAAT,IAAE,cAAF,mBAAa,gBAAaG;AAAE,UAAGA,QAAI,GAAG,MAAK;AAAC,WAAEH,IAAE,kBAAiBE,KAAEI,KAAE,KAAK,SAAS,mBAAmB,gBAAgB;AAAE,eAAM,EAAC,cAAaH,KAAE,sBAAqBG,KAAE,wBAAuBJ,IAAEO,GAAC,GAAE,iBAAgB,MAAE;AAAA,MAAC;AAAC,YAAMI,MAAEgB,GAAE7B,IAAE,GAAEE,GAAC;AAAE,aAAOU,GAAEC,KAAEA,KAAEJ,GAAC,GAAE,EAAC,cAAaN,KAAE,wBAAuBU,KAAE,iBAAgB,KAAE;AAAA,IAAC;AAAC,WAAM,EAAC,cAAaV,KAAE,iBAAgB,KAAE;AAAA,EAAC;AAAA,EAAC,sBAAsBH,KAAEC,KAAEK,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAS,mBAAmB,kBAAiBG,MAAEX,IAAE;AAAO,OAAG,CAAC,IAAEW,IAAE,GAAE,GAAG,CAAC,IAAEA,IAAE,GAAE,GAAG,CAAC,IAAEA,IAAE,KAAG;AAAE,UAAMC,MAAEZ,IAAE;AAAE,WAAO,GAAEA,IAAE,kBAAiB,IAAGY,KAAEJ,GAAC,GAAET,GAAE,IAAGa,GAAC,GAAEV,IAAED,KAAEA,KAAE,EAAE,GAAE,QAAMK,OAAG,QAAMC,QAAID,GAAE,IAAGM,GAAC,GAAET,GAAE,IAAG,EAAE,GAAE,QAAMG,OAAGC,GAAED,KAAEA,KAAE,EAAE,GAAE,QAAMC,OAAGA,GAAEA,KAAEA,KAAE,IAAG,CAAC,IAAGK;AAAA,EAAC;AAAA,EAAC,eAAeZ,KAAEC,KAAE;AAAC,UAAMC,MAAEF,IAAE,iBAAiB,SAAS,SAAO,GAAEG,MAAEF,IAAE;AAAM,QAAGE,KAAE;AAAC,UAAIH,MAAE;AAAG,eAAQC,MAAE,GAAEA,MAAEE,IAAE,QAAOF,OAAI;AAAC,cAAMC,MAAEC,IAAEF,GAAC;AAAE,QAAAC,MAAEF,QAAIA,MAAEE;AAAA,MAAE;AAAC,UAAGA,OAAGF;AAAE,eAAO,KAAK,OAAO,KAAK,gBAAgBA,GAAC,+CAA+C,GAAE;AAAA,IAAE,WAASE,MAAE,KAAG;AAAE,aAAO,KAAK,OAAO,KAAK,uIAAuI,GAAE;AAAG,WAAM;AAAA,EAAE;AAAA,EAAC,kBAAkBF,KAAEC,KAAE;AAAC,WAAOA,IAAE,SAAO6B,GAAE9B,IAAE,iBAAiB,SAAS,SAAO,CAAC;AAAA,EAAC;AAAA,EAAC,uBAAuBA,KAAE;AAAC,QAAG,CAAC,KAAK,SAAS;AAAe,aAAM;AAAG,UAAMC,MAAED,IAAE,oBAAkBA,IAAE,iBAAiB;AAAS,QAAG,CAACC;AAAE,aAAM;AAAG,UAAMC,MAAE,KAAK,SAAS,kBAAkB;AAAiB,QAAIC;AAAE,UAAMG,MAAEL,IAAE,SAAO;AAAE,WAAO,QAAMC,OAAGF,IAAE,iBAAiB,OAAOE,GAAC,IAAEC,MAAEF,OAAGE,MAAE,IAAI,aAAaF,IAAE,MAAM,GAAE,GAAED,IAAE,iBAAiB,UAASA,IAAE,kBAAiB,GAAEG,KAAED,KAAE,GAAEI,GAAC,IAAGyB,GAAE,EAAE,GAAEnB,GAAE,IAAGT,KAAE,GAAEG,GAAC,GAAE,CAAC,EAAE,IAAG,KAAK,SAAS,cAAc;AAAA,EAAC;AAAA,EAAC,oBAAoBN,KAAEC,KAAEC,KAAE;AAAC,QAAG,CAAC,GAAEF,IAAE,kBAAiB,KAAK,SAAS,kBAAkB,KAAK,gBAAgB;AAAE,aAAO,KAAK,OAAO,KAAK,4DAA4D,GAAE;AAAK,QAAG,KAAK,uBAAuBA,GAAC;AAAE,aAAO;AAAK,UAAMG,MAAE,KAAK,eAAeH,KAAEC,GAAC;AAAE,QAAG,QAAME;AAAE,aAAO;AAAK,UAAK,EAAC,gBAAeG,KAAE,UAASC,KAAE,aAAYC,KAAE,mBAAkBC,KAAE,cAAaC,KAAE,eAAcC,KAAE,sBAAqBC,KAAE,wBAAuBC,IAAC,IAAEV,KAAEJ,MAAE,KAAK,uBAAuBC,GAAC,GAAEc,MAAE,IAAI;AAAM,QAAIT,MAAE;AAAG,eAAUU,OAAKhB,KAAE;AAAC,UAAG,CAAC,KAAK,eAAeC,KAAEe,GAAC;AAAE,eAAO;AAAK,YAAMd,MAAE,KAAK,kBAAkBD,KAAEe,GAAC;AAAE,UAAG,MAAId,IAAE;AAAO;AAAS,YAAME,MAAE,KAAK,wBAAwBG,KAAEI,KAAEK,KAAEd,GAAC;AAAE,MAAAE,IAAE,mBAAiBE,MAAE;AAAI,YAAMO,MAAE,CAAC,CAACW,GAAG,UAAS,IAAIf,GAAGF,KAAE,GAAE,IAAE,CAAC,GAAE,CAACiB,GAAG,QAAO,IAAIf,GAAGL,IAAE,SAAQ,GAAE,IAAE,CAAC,CAAC,GAAEJ,MAAE,CAAC,CAACwB,GAAG,UAAStB,GAAC,GAAE,CAACsB,GAAG,QAAOpB,IAAE,OAAO,CAAC;AAAE,cAAMK,QAAII,IAAE,KAAK,CAACW,GAAG,OAAM,IAAIf,GAAGA,KAAE,GAAE,IAAE,CAAC,CAAC,GAAET,IAAE,KAAK,CAACwB,GAAG,OAAMtB,GAAC,CAAC,IAAG,QAAMQ,QAAIG,IAAE,KAAK,CAACW,GAAG,aAAY,IAAIf,GAAGC,KAAE,GAAE,IAAE,CAAC,CAAC,GAAEV,IAAE,KAAK,CAACwB,GAAG,aAAYb,IAAET,IAAE,MAAM,CAAC,CAAC,IAAG,QAAMM,QAAIK,IAAE,KAAK,CAACW,GAAG,KAAI,IAAIf,GAAGD,KAAE,GAAE,IAAE,CAAC,CAAC,GAAER,IAAE,KAAK,CAACwB,GAAG,KAAItB,GAAC,CAAC,IAAG,QAAMU,QAAIC,IAAE,KAAK,CAACW,GAAG,SAAQ,IAAIf,GAAGG,KAAE,GAAE,IAAE,CAAC,CAAC,GAAEZ,IAAE,KAAK,CAACwB,GAAG,SAAQtB,GAAC,CAAC;AAAG,YAAMe,MAAE,KAAK,SAAS,MAAM,WAAW,yBAAyB,EAAC,YAAWd,KAAE,UAAS,KAAK,SAAS,MAAM,IAAG,CAAC,GAAEe,MAAE,KAAK,qBAAqBjB,KAAEe,GAAC,GAAEG,MAAE,IAAIO,GAAGR,KAAEL,KAAEb,KAAE,MAAKC,IAAG,MAAKgB,GAAC;AAAE,MAAAE,IAAE,iBAAeL,KAAEC,IAAE,KAAKI,GAAC;AAAA,IAAC;AAAC,WAAOb,OAAG,KAAK,OAAO,KAAK,iLAAiL,GAAE,EAAC,YAAWS,KAAE,sBAAqBF,IAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BZ,KAAE;AAAC,SAAK,mBAAmB,oBAAoBA,GAAC,GAAE,KAAK,qBAAqB,oBAAoBA,GAAC,GAAE,KAAK,qBAAqB,sBAAuB,CAACA,KAAEC,QAAI;AAAC,MAAAA,IAAE,cAAcD,IAAE,UAAU;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,OAAM;AAAC,WAAM,EAAC,GAAG,MAAM,KAAK,GAAE,WAAU,KAAK,mBAAmB,UAAS;AAAA,EAAC;AAAC;AAAC,IAAM,KAAN,MAAQ;AAAA,EAAC,YAAYA,KAAEC,KAAEC,KAAE;AAAC,SAAK,UAAQF,KAAE,KAAK,UAAQC,KAAE,KAAK,iBAAeC;AAAA,EAAC;AAAC;AAAC,IAAM,KAAGK,GAAE;AAAX,IAAa,KAAGA,GAAE;AAAlB,IAAoB,KAAGA,GAAE;AAAzB,IAA2B,KAAGA,GAAE;AAAhC,IAAkCiB,MAAGjB,GAAE;AAAvC,IAAyC,KAAGP,IAAE;AAA9C,IAAgD,KAAGA,IAAE;AAArD,IAAuD,KAAGA,IAAE;AAA5D,IAA8D,KAAGS,GAAE;AAAnE,IAAqE,KAAG,CAAC,IAAIO,IAAC;AAA9E,IAAgF,KAAG,IAAIJ;AAAE,IAAI;AAAG,CAAC,SAASZ,KAAE;AAAC,EAAAA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,OAAK,CAAC,IAAE;AAAM,EAAE,OAAK,KAAG,CAAC,EAAE;;;ACA1hsB,IAAMgC,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,wBAAsBH,KAAE,KAAK,gBAAcC,KAAE,KAAK,mBAAiBC,KAAE,KAAK,mBAAiBC,KAAE,KAAK,OAAK,gBAAe,KAAK,cAAY,oBAAI,OAAI,KAAK,0BAAwB,GAAE,KAAK,oBAAkB,OAAG,KAAK,wBAAsB;AAAA,EAAE;AAAA,EAAC,aAAY;AAAA,EAAC;AAAA,EAAC,cAAcH,KAAE;AAAC,UAAMC,MAAE,KAAK,aAAa;AAAa,IAAAD,QAAIC,IAAE,WAAW,KAAK,aAAa,KAAGA,IAAE,WAAW,KAAK,eAAcD,GAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,YAAM,KAAK,kBAAgB,KAAK,aAAa,aAAa,eAAe,KAAK,aAAa,GAAE,KAAK,sBAAsB,0BAA0B,IAAI;AAAA,EAAE;AAAA,EAAC,mBAAmBA,KAAEC,KAAEC,KAAE;AAAC,QAAG,KAAK,kBAAiB;AAAC,MAAAE,IAAE,KAAK,iBAAiB,8BAA6BF,GAAC;AAAE,YAAMC,MAAE,CAACD,KAAEC,QAAIE,IAAEH,KAAEF,KAAE,KAAK,kBAAiBC,KAAEE,GAAC,GAAEG,MAAE,KAAK,iBAAiB,MAAK,KAAK,kBAAiBN,IAAE,kBAAiBG,KAAEF,GAAC;AAAE,cAAMK,QAAI,KAAK,0BAAwBA;AAAA,IAAE;AAAA,EAAC;AAAA,EAAC,qBAAqBN,MAAEG,GAAE,GAAE;AAAC,WAAO,KAAK,aAAa,aAAa,0BAA0B,KAAK,eAAcI,GAAC,GAAE,EAAEP,KAAE,KAAK,aAAa,mBAAmB,QAAOO,GAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BP,MAAEE,GAAE,GAAE;AAAC,SAAK,aAAa,aAAa,0BAA0B,KAAK,eAAcK,GAAC;AAAE,UAAMJ,MAAE,KAAK,aAAa;AAAgB,IAAAK,GAAER,GAAC;AAAE,aAAQM,MAAE,GAAEA,MAAE,GAAE,EAAEA;AAAE,QAAEG,IAAE,MAAI,IAAEH,OAAGH,IAAE,CAAC,IAAEA,IAAE,CAAC,GAAE,MAAI,IAAEG,OAAGH,IAAE,CAAC,IAAEA,IAAE,CAAC,GAAE,MAAI,IAAEG,OAAGH,IAAE,CAAC,IAAEA,IAAE,CAAC,CAAC,GAAE,EAAEM,IAAEA,IAAEF,GAAC,GAAEG,GAAEV,KAAES,EAAC;AAAE,WAAOT;AAAA,EAAC;AAAA,EAAC,wBAAwBA,KAAE;AAAC,SAAK,aAAa,aAAa,mBAAmB,KAAK,eAAcO,GAAC,GAAEP,IAAE,OAAO,OAAO,CAAC,KAAGO,IAAE,EAAE,GAAEP,IAAE,OAAO,OAAO,CAAC,KAAGO,IAAE,EAAE,GAAEP,IAAE,OAAO,OAAO,CAAC,KAAGO,IAAE,EAAE,GAAEP,IAAE,OAAO;AAAA,EAAK;AAAA,EAAC,MAAM,wBAAwBA,KAAEE,KAAEC,KAAEQ,KAAEC,KAAE;AAAC,UAAMP,MAAE,KAAK,0BAA0BO,GAAC,GAAEC,MAAEC,IAAEC,MAAEC,GAAEX,GAAC,IAAE,IAAEQ,IAAE;AAAO,SAAK,aAAa,aAAa,mBAAmB,KAAK,eAAcN,GAAC;AAAE,aAAQD,MAAE,GAAEA,MAAES,KAAET,OAAI;AAAC,YAAMN,MAAEa,IAAEP,GAAC;AAAE,MAAAG,GAAE,CAAC,IAAEJ,IAAEL,IAAE,CAAC,CAAC,GAAES,GAAE,CAAC,IAAEJ,IAAEL,IAAE,CAAC,CAAC,GAAES,GAAE,CAAC,IAAEJ,IAAEL,IAAE,CAAC,CAAC,GAAE,EAAES,IAAEA,IAAEF,GAAC,GAAEU,IAAE,IAAEX,GAAC,IAAEG,GAAE,CAAC,GAAEQ,IAAE,IAAEX,MAAE,CAAC,IAAEG,GAAE,CAAC,GAAEQ,IAAE,IAAEX,MAAE,CAAC,IAAEG,GAAE,CAAC;AAAA,IAAC;AAAC,QAAG,CAACT,IAAEiB,KAAE,GAAEF,GAAC;AAAE,aAAO;AAAK,IAAAP,GAAEH,GAAC;AAAE,QAAIa,MAAE;AAAK,SAAK,kCAAgCA,MAAE,KAAK,8BAA8B;AAAG,aAAQjB,MAAE,GAAEA,MAAE,IAAEc,KAAEd,OAAG,GAAE;AAAC,eAAQD,MAAE,GAAEA,MAAE,GAAEA;AAAI,QAAAK,IAAEL,GAAC,IAAE,KAAK,IAAIK,IAAEL,GAAC,GAAEiB,IAAEhB,MAAED,GAAC,CAAC,GAAEK,IAAEL,MAAE,CAAC,IAAE,KAAK,IAAIK,IAAEL,MAAE,CAAC,GAAEiB,IAAEhB,MAAED,GAAC,CAAC;AAAE,MAAAkB,OAAGf,IAAE,KAAK,EAAC,UAASc,IAAE,MAAMhB,KAAEA,MAAE,CAAC,GAAE,yBAAwBiB,IAAC,CAAC;AAAA,IAAC;AAAC,QAAGhB,QAAI,EAAEG,KAAEc,EAAC,GAAE,sBAAoB,KAAK,iBAAiB,OAAM;AAAC,UAAInB;AAAE,YAAMC,MAAEmB,GAAEf,KAAEH,IAAE,QAAQ,kBAAiBA,GAAC;AAAE,UAAG;AAAC,QAAAF,MAAE,MAAME,IAAE,QAAQ,eAAeiB,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAER,KAAEV,KAAE,QAAQ;AAAA,MAAC,SAAOF,KAAE;AAAA,MAAC;AAAC,cAAMC,OAAG,EAAEK,KAAE,GAAE,GAAE,CAAC,KAAK,0BAAwBL,GAAC;AAAA,IAAC;AAAC,WAAOK;AAAA,EAAC;AAAA,EAAC,eAAeL,KAAEC,KAAE;AAAC,QAAGD,QAAIC,IAAE,WAAU;AAAC,YAAMC,MAAE,IAAIU,IAAEZ,GAAC;AAAE,WAAK,gBAAgBE,GAAC,GAAED,IAAE,YAAa,CAAAD,QAAG;AAAC,aAAK,mBAAmBA,GAAC;AAAA,MAAC,GAAGE,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBF,KAAE;AAAC,SAAK,YAAY,QAAS,CAAAC,QAAGD,IAAE,OAAOC,GAAC,CAAE;AAAA,EAAC;AAAA,EAAC,gBAAgBD,KAAE;AAAC,SAAK,YAAY,IAAIA,GAAC,GAAE,KAAK,aAAa,aAAa,aAAa,KAAK,eAAc,IAAE;AAAA,EAAC;AAAA,EAAC,mBAAmBA,KAAE;AAAC,SAAK,YAAY,OAAOA,GAAC,GAAE,KAAK,aAAa,aAAa,aAAa,KAAK,eAAc,KAAK,YAAY,OAAK,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,sBAAsB;AAAA,EAAW;AAAC;AAAC,IAAMiB,MAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC;AAAxD,IAA0DR,KAAEN,GAAE;AAA9D,IAAgEgB,KAAEhB,GAAE;AAApE,IAAsEW,KAAE,CAAC,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,CAAC,CAAC;AAAxI,IAA0IP,MAAEP,IAAE;;;ACA76G,SAASqB,IAAEA,KAAE;AAAC,QAAMC,MAAE,IAAI;AAAM,SAAOD,IAAE,eAAe,WAAW,QAAS,CAAAE,QAAG;AAAC,UAAMC,MAAEH,IAAE,eAAe;AAAS,IAAAC,IAAE,KAAK,IAAIG,IAAEF,KAAEC,GAAC,CAAC;AAAA,EAAC,CAAE,GAAE,EAAC,YAAWF,KAAE,sBAAqBD,IAAE,gBAAc,GAAE,aAAYA,IAAE,YAAW;AAAC;AAAC,SAASC,IAAEG,KAAE;AAAC,SAAM,EAAC,QAAOA,IAAE,IAAK,CAAAA,QAAGJ,IAAEI,GAAC,CAAE,EAAC;AAAC;;;ACAhG,eAAeC,IAAEA,KAAE;AAJpR;AAIqR,MAAG,SAAOA,OAAG,QAAMA,IAAE,aAAW,QAAMA,IAAE;AAAS,WAAO;AAAK,QAAMC,MAAED,IAAE;AAAK,MAAG,QAAMC;AAAE,UAAM,IAAIC,GAAE,wDAAuD,wCAAwC;AAAE,QAAMC,MAAE,EAAC,QAAOH,IAAE,OAAM,GAAEI,MAAE,MAAMC,GAAEL,KAAEG,GAAC,EAAE,MAAO,MAAI,IAAK;AAAE,MAAG,SAAOC;AAAE,WAAO;AAAK,QAAME,MAAEC,GAAEN,KAAEG,IAAE,IAAI;AAAE,MAAGE,OAAG,GAAC,KAAAA,IAAE,gBAAF,mBAAe,KAAM,CAAAE,QAAG,kBAAgBA,IAAE;AAAO,WAAO;AAAK,QAAMC,MAAE,MAAMC,GAAEN,KAAEH,KAAEE,KAAE,UAAU,CAACK,KAAEG,QAAID,GAAEF,KAAEG,KAAE,CAAC,eAAc,MAAM,CAAC,CAAE,EAAE,MAAO,MAAI,IAAK;AAAE,MAAG,SAAOF,OAAG,eAAaA,IAAE;AAAK,WAAO;AAAK,QAAMG,MAAEH,IAAE,aAAa,MAAM,CAAC;AAAE,SAAM,aAAWG,IAAE,OAAKA,IAAE,WAAS;AAAI;;;ACA7tB,IAAMC,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAEC,KAAEC,KAAE;AAAC,SAAK,eAAaD,KAAE,KAAK,UAAQE,IAAE,aAAaH,KAAEI,GAAE,WAAW,GAAE,KAAK,OAAOF,GAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,QAAQ,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK;AAAA,EAAY;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK;AAAA,EAAS;AAAA,EAAC,IAAI,QAAO;AAAC,WAAO,KAAK;AAAA,EAAM;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,cAAa;AAAC,WAAM,EAAC,KAAI,KAAK,YAAU,KAAK,cAAa,KAAI,KAAK,YAAU,KAAK,aAAY;AAAA,EAAC;AAAA,EAAC,UAAUG,KAAEC,KAAEN,KAAEC,MAAE,GAAE;AAAC,UAAMC,MAAE,IAAI,WAAW,KAAK,OAAMG,MAAE,KAAK,cAAaC,MAAED,OAAG,KAAK,WAAW;AAAE,QAAI,WAAWL,IAAE,OAAMC,MAAE,KAAK,WAAW,EAAE,IAAIC,GAAC;AAAA,EAAC;AAAA,EAAC,cAAa;AAAC,SAAK,QAAQ,QAAQ,KAAK,MAAM;AAAA,EAAC;AAAA,EAAC,cAAcG,KAAEC,KAAE;AAAC,UAAMN,MAAEK,MAAE,KAAK,cAAaJ,MAAEK,MAAE,KAAK;AAAa,SAAK,QAAQ,WAAW,IAAI,WAAW,KAAK,MAAM,GAAEN,KAAEA,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,OAAOI,KAAE;AAAC,UAAMC,MAAED,MAAE,KAAK,cAAaL,MAAE,IAAI,YAAYM,GAAC;AAAE,SAAK,WAASD,OAAG,KAAK,YAAU,IAAI,WAAWL,GAAC,EAAE,IAAI,IAAI,WAAW,KAAK,MAAM,CAAC,IAAE,IAAI,WAAWA,GAAC,EAAE,IAAI,IAAI,WAAW,KAAK,MAAM,EAAE,SAAS,GAAEK,MAAE,KAAK,YAAY,CAAC,IAAG,KAAK,SAAOL,KAAE,KAAK,QAAQ,QAAQM,GAAC,GAAE,KAAK,YAAUD;AAAA,EAAC;AAAC;;;ACA3rB,IAAME,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAE;AAAC,SAAK,gBAAcA,IAAE,SAASC,GAAE,eAAcC,EAAC,GAAE,KAAK,gBAAcF,IAAE,SAASC,GAAE,eAAcC,EAAC,GAAE,KAAK,QAAMF,IAAE,SAASC,GAAE,OAAME,EAAC,GAAE,KAAK,cAAYH,IAAE,SAASC,GAAE,aAAYE,EAAC,GAAE,KAAK,mBAAiBH,IAAE,SAASC,GAAE,0BAAyBF,EAAC,GAAE,KAAK,QAAMC,IAAE,SAASC,GAAE,eAAcG,EAAC,GAAE,KAAK,wBAAsBJ,IAAE,SAASC,GAAE,+BAA8BG,EAAC;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAN,MAAO;AAAA,EAAC,YAAYL,KAAEE,KAAE;AAAC,SAAK,aAAW,GAAE,KAAK,aAAW,GAAE,KAAK,cAAY,MAAK,KAAK,qBAAmB,MAAG,KAAK,YAAU,OAAG,KAAK,iBAAe,GAAE,KAAK,WAAS,OAAG,KAAK,QAAMF,KAAE,KAAK,wBAAsBE,KAAE,KAAK,eAAaA,IAAE,QAAO,KAAK,YAAU;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,WAAS,KAAK,QAAQ,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK,QAAQ;AAAA,EAAM;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK;AAAA,EAAS;AAAA,EAAC,IAAI,OAAM;AAAC,UAAMF,MAAE,KAAK,YAAWE,MAAE,KAAK;AAAW,WAAOF,OAAGE,MAAEF,MAAEE,MAAEF,MAAE,KAAK,YAAUE;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK,eAAa,KAAK;AAAA,EAAU;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK,gBAAc,KAAK,aAAW,KAAG,KAAK;AAAA,EAAS;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,KAAK;AAAA,EAAU;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,KAAK;AAAA,EAAU;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK;AAAA,EAAW;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,UAAQ,KAAK,QAAQ,cAAY,EAAC,KAAI,GAAE,KAAI,EAAC;AAAA,EAAC;AAAA,EAAC,QAAO;AAAC,SAAK,aAAW,GAAE,KAAK,aAAW,GAAE,KAAK,cAAY;AAAA,EAAI;AAAA,EAAC,mBAAkB;AAAC,SAAK,qBAAmB;AAAA,EAAE;AAAA,EAAC,cAAa;AAAC,IAAAI,GAAE,CAAC,KAAK,WAAU,kBAAkB,GAAE,KAAK,YAAU,MAAG,KAAK,iBAAe,KAAK;AAAA,EAAU;AAAA,EAAC,YAAW;AAAC,IAAAA,GAAE,KAAK,WAAU,cAAc,GAAE,KAAK,OAAK,IAAE,KAAK,YAAU,KAAK,QAAQ,GAAE,KAAK,YAAU,KAAK,QAAQ,YAAY,GAAE,KAAK,WAAS,SAAI,KAAK,eAAe,KAAK,gBAAe,KAAK,UAAU,GAAE,KAAK,YAAU;AAAA,EAAE;AAAA,EAAC,eAAc;AAAC,IAAAA,GAAE,KAAK,WAAU,cAAc,GAAE,KAAK,UAAQ,KAAK,MAAM;AAAE,UAAMN,MAAE,KAAK;AAAU,WAAO,KAAK,uBAAqB,KAAK,cAAYA,KAAE,KAAK,qBAAmB,QAAI,KAAK,eAAe,GAAEM,GAAE,KAAK,eAAa,KAAK,YAAW,kBAAkB,GAAEN;AAAA,EAAC;AAAA,EAAC,WAAU;AAAC,IAAAM,GAAE,KAAK,WAAU,cAAc,GAAEA,GAAE,KAAK,OAAK,GAAE,cAAc;AAAE,UAAMN,MAAE,KAAK,eAAa,KAAK;AAAY,SAAK,eAAe,GAAEA,QAAI,KAAK,cAAY,KAAK;AAAA,EAAW;AAAA,EAAC,QAAO;AAAC,UAAMA,MAAE,KAAK,IAAIO,KAAE,KAAK,MAAM,KAAK,YAAU,CAAC,CAAC;AAAE,SAAK,QAAQP,GAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAMA,MAAE,KAAK,IAAIO,KAAE,KAAK,MAAM,KAAK,YAAUC,EAAC,CAAC;AAAE,SAAK,QAAQR,GAAC;AAAA,EAAC;AAAA,EAAC,QAAQA,KAAE;AAAC,QAAGM,GAAE,KAAK,WAAU,cAAc,GAAEN,QAAI,KAAK;AAAU;AAAO,UAAME,MAAE,IAAIO,IAAE,KAAK,OAAM,KAAK,cAAaT,GAAC;AAAE,QAAG,KAAK,SAAQ;AAAC,WAAK,gBAAc,KAAK,eAAa,KAAK,cAAY,KAAK,YAAU,KAAK,cAAY,KAAK;AAAW,YAAMA,MAAE,KAAK,MAAKQ,MAAE,KAAK,kBAAkBN,GAAC;AAAE,MAAAI,GAAEE,QAAIR,KAAE,oBAAoB,GAAE,KAAK,QAAQ,QAAQ,GAAE,KAAK,aAAW,GAAE,KAAK,aAAWQ,KAAE,KAAK,iBAAe;AAAA,IAAC;AAAC,SAAK,WAAS,MAAG,KAAK,YAAUR,KAAE,KAAK,UAAQE,KAAE,KAAK,QAAM,IAAIH,IAAE,KAAK,sBAAsB,WAAW,KAAK,QAAQ,KAAK,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBC,KAAE;AAAC,UAAME,MAAE,KAAK,YAAWM,MAAE,KAAK;AAAW,WAAOA,MAAEN,OAAG,KAAK,QAAQ,UAAUM,KAAEN,KAAEF,GAAC,GAAEE,MAAEM,OAAGA,MAAEN,OAAG,KAAK,QAAQ,UAAUM,KAAE,KAAK,WAAUR,GAAC,GAAEE,MAAE,KAAG,KAAK,QAAQ,UAAU,GAAEA,KAAEF,KAAE,KAAK,YAAUQ,GAAC,GAAEN,OAAG,KAAK,YAAUM,QAAI;AAAA,EAAC;AAAA,EAAC,eAAeR,MAAE,GAAE;AAAC,SAAK,cAAY,KAAK,aAAWA,OAAG,KAAK;AAAA,EAAS;AAAA,EAAC,eAAeA,MAAE,GAAE;AAAC,SAAK,cAAY,KAAK,aAAWA,OAAG,KAAK;AAAA,EAAS;AAAA,EAAC,eAAeA,KAAEE,KAAE;AAAC,IAAAF,MAAEE,MAAE,KAAK,QAAQ,cAAcF,KAAEE,GAAC,IAAEF,MAAEE,QAAIA,MAAE,KAAG,KAAK,QAAQ,cAAc,GAAEA,GAAC,GAAE,KAAK,QAAQ,cAAcF,KAAE,KAAK,SAAS;AAAA,EAAE;AAAC;AAAC,IAAMO,MAAE;;;ACAhyE,IAAIG;AAAE,SAASC,GAAEC,KAAE;AAAC,MAAIC,MAAEC,GAAE,EAAE,QAAQC,GAAE,cAAc,EAAE,QAAQA,GAAE,eAAe,EAAE,QAAQA,GAAE,cAAc,EAAE,QAAQA,GAAE,WAAW,EAAE,MAAMA,GAAE,KAAK,EAAE,MAAMA,GAAE,WAAW,EAAE,MAAMA,GAAE,iBAAiB;AAAE,SAAOH,IAAE,SAASG,GAAE,gBAAgB,MAAIF,MAAEA,IAAE,MAAME,GAAE,gBAAgB,IAAGH,IAAE,SAASG,GAAE,KAAK,MAAIF,MAAEA,IAAE,OAAOE,GAAE,KAAK,IAAGH,IAAE,SAASG,GAAE,qBAAqB,MAAIF,MAAEA,IAAE,OAAOE,GAAE,qBAAqB,IAAGF,MAAEA,IAAE,GAAGE,GAAE,KAAK,EAAE,GAAGA,GAAE,QAAQ,GAAEF;AAAC;AAAC,CAAC,SAASD,KAAE;AAAC,EAAAA,IAAEA,IAAE,YAAU,CAAC,IAAE,aAAYA,IAAEA,IAAE,iBAAe,CAAC,IAAE,kBAAiBA,IAAEA,IAAE,UAAQ,CAAC,IAAE,WAAUA,IAAEA,IAAE,YAAU,CAAC,IAAE,aAAYA,IAAEA,IAAE,mBAAiB,EAAE,IAAE,oBAAmBA,IAAEA,IAAE,SAAO,EAAE,IAAE,UAASA,IAAEA,IAAE,oBAAkB,EAAE,IAAE,qBAAoBA,IAAEA,IAAE,SAAO,EAAE,IAAE;AAAQ,EAAEF,OAAIA,KAAE,CAAC,EAAE;AAAE,IAAMM,KAAN,MAAO;AAAA,EAAC,YAAYJ,KAAE;AAAC,SAAK,iBAAeA,IAAE,SAASG,GAAE,gBAAeE,EAAC,GAAE,KAAK,kBAAgBL,IAAE,SAASG,GAAE,iBAAgBE,EAAC,GAAE,KAAK,cAAYL,IAAE,SAASG,GAAE,aAAYG,EAAC,GAAE,KAAK,QAAMN,IAAE,SAASG,GAAE,OAAMI,EAAC,GAAE,KAAK,cAAYP,IAAE,SAASG,GAAE,aAAYI,EAAC,GAAE,KAAK,oBAAkBP,IAAE,SAASG,GAAE,mBAAkBK,EAAC,GAAE,KAAK,iBAAeR,IAAE,SAASG,GAAE,gBAAeM,EAAC,GAAE,KAAK,mBAAiBT,IAAE,SAASG,GAAE,kBAAiBO,EAAC,GAAE,KAAK,QAAMV,IAAE,SAASG,GAAE,OAAMQ,EAAC,GAAE,KAAK,wBAAsBX,IAAE,SAASG,GAAE,uBAAsBQ,EAAC,GAAE,KAAK,QAAMX,IAAE,SAASG,GAAE,OAAMS,EAAC,GAAE,KAAK,WAASZ,IAAE,SAASG,GAAE,UAASS,EAAC;AAAA,EAAC;AAAC;AAAC,IAAIC,KAAE,cAAcC,GAAC;AAAA,EAAC,YAAYd,KAAEC,KAAE;AAAC,UAAMD,GAAC,GAAE,KAAK,SAAO,IAAIe,MAAE,KAAK,YAAU,GAAE,KAAK,QAAM,GAAE,KAAK,QAAM,GAAE,KAAK,UAAQhB,GAAEE,GAAC,GAAE,KAAK,YAAUO,KAAE,KAAK,UAAQ,KAAK,QAAQ,aAAa,KAAK,SAAS,GAAE,KAAK,QAAM,IAAIJ,GAAE,KAAK,OAAO;AAAA,EAAC;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK;AAAA,EAAS;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,IAAI,OAAM;AAAC,WAAO,KAAK;AAAA,EAAK;AAAA,EAAC,cAAa;AAAC,SAAK,QAAM,IAAE,KAAK,aAAW,KAAK,MAAM;AAAE,UAAMJ,MAAE,KAAK,UAAU;AAAE,WAAO,KAAK,MAAM,MAAM,IAAIA,KAAEF,GAAE,SAAS,GAAE,KAAK,SAAQ,KAAK,OAAO,KAAK,mBAAmB,GAAEE;AAAA,EAAC;AAAA,EAAC,eAAeA,KAAE;AAAC,UAAMC,MAAE,KAAK,MAAM;AAAM,IAAAe,GAAEhB,OAAG,KAAGA,MAAE,KAAK,aAAW,MAAIC,IAAE,IAAID,GAAC,IAAEF,GAAE,YAAW,yBAAyB,GAAE,KAAK,cAAcE,KAAEF,GAAE,MAAM,IAAE,KAAK,eAAeE,KAAEF,GAAE,MAAM,IAAE,KAAK,aAAaE,GAAC,GAAE,KAAK,OAAO,KAAK,mBAAmB;AAAA,EAAC;AAAA,EAAC,aAAaA,KAAE;AAAC,UAAMC,MAAE,KAAK,MAAM;AAAM,IAAAe,GAAEhB,OAAG,KAAGA,MAAE,KAAK,aAAW,MAAIC,IAAE,IAAID,GAAC,IAAEF,GAAE,YAAW,yBAAyB,GAAEG,IAAE,IAAID,KAAE,CAAC,GAAE,KAAK;AAAA,EAAO;AAAA,EAAC,kBAAkBA,KAAEC,KAAEe,MAAE,MAAG;AAAC,SAAK,MAAM,eAAe,OAAOhB,KAAEC,GAAC,GAAEe,OAAG,KAAK,qBAAqBhB,GAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBA,KAAEC,KAAE;AAAC,SAAK,MAAM,eAAe,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBD,KAAEC,KAAEe,MAAE,MAAG;AAAC,SAAK,MAAM,gBAAgB,OAAOhB,KAAEC,GAAC,GAAEe,OAAG,KAAK,qBAAqBhB,GAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBA,KAAEC,KAAE;AAAC,SAAK,MAAM,gBAAgB,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBD,KAAE;AAAC,UAAMC,MAAE,KAAK,OAAMe,MAAEC,IAAEC,MAAEC;AAAE,IAAAlB,IAAE,eAAe,OAAOD,KAAEoB,EAAC,GAAEnB,IAAE,gBAAgB,OAAOD,KAAEE,EAAC;AAAE,UAAMmB,MAAEX,GAAER,IAAEA,IAAEkB,EAAC;AAAE,MAAEJ,KAAEK,IAAE,EAAE,GAAEA,IAAE,EAAE,GAAEA,IAAE,EAAE,CAAC,GAAEpB,IAAE,YAAY,OAAOD,KAAEgB,GAAC,GAAEK,GAAEH,KAAEG,GAAC,GAAEpB,IAAE,MAAM,OAAOD,KAAEkB,GAAC;AAAE,UAAMI,MAAEC,GAAEN,IAAEI,GAAC;AAAE,IAAAC,IAAE,KAAK,GAAErB,IAAE,kBAAkB,IAAID,KAAE,GAAEsB,IAAE,CAAC,CAAC,GAAErB,IAAE,kBAAkB,IAAID,KAAE,GAAEsB,IAAE,CAAC,CAAC,GAAEd,GAAEU,KAAEA,GAAC,GAAEM,GAAEN,KAAEA,GAAC,GAAEjB,IAAE,YAAY,OAAOD,KAAEkB,GAAC,GAAE,KAAK,eAAelB,KAAEF,GAAE,iBAAiB,GAAE,KAAK,OAAO,KAAK,8BAA6B,EAAC,OAAME,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBA,KAAEC,KAAE;AAAC,UAAMe,MAAE,KAAK;AAAM,IAAAA,IAAE,MAAM,OAAOhB,KAAEmB,EAAC,GAAEH,IAAE,YAAY,OAAOhB,KAAEiB,EAAC,GAAEhB,IAAE,CAAC,IAAEkB,GAAE,CAAC,GAAElB,IAAE,CAAC,IAAEkB,GAAE,CAAC,GAAElB,IAAE,CAAC,IAAEkB,GAAE,CAAC,GAAElB,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAEkB,GAAE,CAAC,GAAElB,IAAE,CAAC,IAAEkB,GAAE,CAAC,GAAElB,IAAE,CAAC,IAAEkB,GAAE,CAAC,GAAElB,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAEkB,GAAE,CAAC,GAAElB,IAAE,CAAC,IAAEkB,GAAE,CAAC,GAAElB,IAAE,EAAE,IAAEkB,GAAE,CAAC,GAAElB,IAAE,EAAE,IAAE,GAAEA,IAAE,EAAE,IAAEgB,GAAE,CAAC,GAAEhB,IAAE,EAAE,IAAEgB,GAAE,CAAC,GAAEhB,IAAE,EAAE,IAAEgB,GAAE,CAAC,GAAEhB,IAAE,EAAE,IAAE;AAAA,EAAC;AAAA,EAAC,0BAA0BD,KAAEC,KAAE;AAAC,YAAM,KAAK,wBAAsB,KAAK,qBAAqB,eAAe,MAAKD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BD,KAAEC,KAAE;AAAC,WAAO,KAAK,kBAAkBD,KAAEC,GAAC,GAAE,QAAM,KAAK,wBAAsB,KAAK,qBAAqB,eAAe,MAAKD,KAAEC,GAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,0BAA0BD,KAAEC,KAAE;AAAC,SAAK,MAAM,eAAe,OAAOD,KAAEC,GAAC,GAAE,QAAM,KAAK,wBAAsB,KAAK,qBAAqB,eAAe,MAAKD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BD,KAAE;AAAC,QAAIC,MAAE,KAAK,MAAM,kBAAkB,IAAID,KAAE,CAAC;AAAE,WAAO,QAAM,KAAK,yBAAuB,KAAK,qBAAqB,YAAYiB,IAAE,MAAKjB,GAAC,GAAEC,OAAG,KAAK,IAAIgB,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,IAAGhB;AAAA,EAAC;AAAA,EAAC,6BAA6BD,KAAE;AAAC,QAAIC,MAAE,KAAK,MAAM,kBAAkB,IAAID,KAAE,CAAC;AAAE,WAAO,QAAM,KAAK,yBAAuB,KAAK,qBAAqB,YAAYiB,IAAE,MAAKjB,GAAC,GAAEC,OAAGI,GAAEY,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,IAAGhB;AAAA,EAAC;AAAA,EAAC,SAASD,KAAEC,KAAE;AAAC,SAAK,MAAM,MAAM,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBD,KAAEC,KAAE;AAAC,SAAK,MAAM,iBAAiB,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBD,KAAEC,KAAE;AAAC,SAAK,MAAM,iBAAiB,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,SAASD,KAAEC,KAAE;AAAC,SAAK,MAAM,MAAM,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,yBAAyBD,KAAEC,KAAE;AAAC,SAAK,MAAM,sBAAsB,OAAOD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,WAAWD,KAAEC,KAAE;AAAC,IAAAA,QAAI,KAAK,WAAWD,GAAC,MAAI,KAAK,cAAcA,KAAEF,GAAE,SAAQG,GAAC,GAAE,KAAK,OAAO,KAAK,+BAA8B,EAAC,OAAMD,IAAC,CAAC;AAAA,EAAE;AAAA,EAAC,WAAWA,KAAE;AAAC,WAAO,KAAK,cAAcA,KAAEF,GAAE,OAAO;AAAA,EAAC;AAAA,EAAC,aAAaE,KAAEC,KAAE;AAAC,IAAAA,QAAI,KAAK,aAAaD,GAAC,MAAI,KAAK,cAAcA,KAAEF,GAAE,WAAUG,GAAC,GAAE,KAAK,OAAO,KAAK,4BAA4B;AAAA,EAAE;AAAA,EAAC,aAAaD,KAAE;AAAC,WAAO,KAAK,cAAcA,KAAEF,GAAE,SAAS;AAAA,EAAC;AAAA,EAAC,SAASE,KAAE;AAAC,WAAO,KAAK,MAAM,MAAM,IAAIA,GAAC;AAAA,EAAC;AAAA,EAAC,YAAYA,KAAE;AAAC,WAAO,KAAK,MAAM,SAAS,IAAIA,GAAC;AAAA,EAAC;AAAA,EAAC,WAAWA,KAAE;AAAC,QAAIC,MAAE;AAAE,aAAQe,MAAE,GAAEA,MAAE,KAAK,WAAU,EAAEA,KAAE;AAAC,WAAK,SAASA,GAAC,IAAEhB,OAAG,EAAEC;AAAA,IAAC;AAAC,WAAOA;AAAA,EAAC;AAAA,EAAC,eAAeD,KAAEC,KAAE;AAAC,UAAMe,MAAE,KAAK,MAAM;AAAM,IAAAf,MAAEe,IAAE,IAAIhB,GAAC,IAAEC,KAAEe,IAAE,IAAIhB,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBD,KAAEC,KAAE;AAAC,UAAMe,MAAE,KAAK,MAAM;AAAM,IAAAf,MAAEe,IAAE,IAAIhB,GAAC,IAAE,CAACC,KAAEe,IAAE,IAAIhB,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,cAAcD,KAAEC,KAAEe,KAAE;AAAC,IAAAA,MAAE,KAAK,eAAehB,KAAEC,GAAC,IAAE,KAAK,iBAAiBD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,cAAcD,KAAEC,KAAE;AAAC,WAAM,CAAC,EAAE,KAAK,MAAM,MAAM,IAAID,GAAC,IAAEC;AAAA,EAAE;AAAA,EAAC,QAAO;AAAC,SAAK,YAAU,KAAK,IAAIO,KAAE,KAAK,MAAM,KAAK,YAAU,CAAC,CAAC,GAAE,KAAK,UAAQ,KAAK,QAAQ,aAAa,KAAK,SAAS,EAAE,SAAS,KAAK,OAAO,GAAE,KAAK,QAAM,IAAIJ,GAAE,KAAK,OAAO;AAAA,EAAC;AAAA,EAAC,YAAW;AAAC,UAAMJ,MAAE,KAAK,MAAM;AAAM,QAAIC,MAAE,KAAK;AAAM,WAAKD,IAAE,IAAIC,GAAC,IAAEH,GAAE;AAAW,MAAAG,MAAEA,MAAE,MAAI,KAAK,YAAU,IAAEA,MAAE;AAAE,WAAO,KAAK,QAAMA,MAAE,MAAI,KAAK,YAAU,IAAEA,MAAE,GAAEA;AAAA,EAAC;AAAC;AAAE,SAASI,GAAEL,KAAEC,KAAEe,KAAE;AAAC,SAAO,KAAK,IAAI,KAAK,IAAIhB,KAAEC,GAAC,GAAE,KAAK,IAAI,KAAK,IAAID,KAAEC,GAAC,GAAEe,GAAC,CAAC;AAAC;AAAC,EAAE,CAAC,EAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAEH,GAAE,WAAU,wBAAuB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,SAAQ,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,QAAO,IAAI,GAAEA,KAAE,EAAE,CAACQ,GAAE,0DAA0D,CAAC,GAAER,EAAC;AAAE,IAAMI,KAAEF,GAAE;AAAV,IAAYI,KAAElB,IAAE;AAAhB,IAAkBmB,KAAEnB,IAAE;AAAtB,IAAwBC,KAAED,IAAE;;;ACAxrN,IAAMwB,MAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYC,KAAEC,KAAE;AAAC,UAAO,CAAAC,QAAGC,GAAE,KAAK,cAAc,KAAK,eAAe,OAAOD,KAAE,KAAK,UAAU,CAAC,GAAG,EAAC,cAAa,GAAE,CAAC,GAAE,KAAK,gBAAcF,KAAE,KAAK,kBAAgBC,KAAE,KAAK,aAAWG,GAAE,GAAE,KAAK,WAASJ,IAAE;AAAA,EAAC;AAAA,EAAC,YAAYE,KAAE;AAAC,UAAMG,MAAE,KAAK,cAAc,KAAK,gBAAeC,MAAE,KAAK,cAAc,0BAA0BJ,KAAE,KAAK,QAAQ;AAAE,MAAE,KAAK,YAAW,KAAK,gBAAgB,QAAOI,GAAC,GAAE,KAAK,WAAW,CAAC,IAAE,KAAK,gBAAgB,SAAOC,IAAED,GAAC,GAAED,IAAE,OAAOH,KAAE,KAAK,UAAU,GAAE,KAAK,IAAI,CAACA,GAAC,CAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,KAAE;AAAC,SAAK,OAAO,CAACA,GAAC,CAAC;AAAA,EAAC;AAAC;;;ACA9vB,IAAMM,MAAN,MAAO;AAAA,EAAC,YAAYA,KAAEC,KAAE;AAAC,SAAK,oBAAkBD,KAAE,KAAK,uBAAqBC;AAAA,EAAC;AAAA,EAAC,YAAYD,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAED,IAAE,yBAAyBF,GAAC,GAAEI,MAAE,KAAK,oBAAkBH,MAAEE;AAAE,QAAIE,MAAE;AAAE,aAAQC,MAAE,GAAEA,MAAE,KAAK,qBAAqB,QAAO,EAAEA;AAAE,MAAAF,OAAG,KAAK,qBAAqBE,GAAC,MAAID,MAAEC;AAAG,WAAOD;AAAA,EAAC;AAAC;;;ACAsQ,IAAME,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAE;AAAC,UAAMC,MAAEF,IAAE,cAAc,MAAKG,MAAEF,IAAE;AAAS,SAAK,sBAAoBD,IAAE,oBAAmBG,IAAE,SAAS,cAAc,EAAC,0BAAyB,KAAE,CAAC;AAAE,UAAMJ,MAAEI,IAAE,SAAS,mBAAmB,GAAEC,MAAEL,IAAE,oBAAmBM,MAAEN,IAAE,aAAaI,GAAC,GAAEG,MAAEF,IAAE,aAAaC,GAAC;AAAE,IAAAN,IAAE,MAAM,MAAK,MAAKI,KAAEG,KAAE,CAAC,GAAE,KAAK,WAASH,KAAE,KAAK,WAASA,IAAE,UAAS,KAAK,cAAY,IAAII,IAAEJ,IAAE,UAAS,KAAK,mBAAmB,GAAE,KAAK,qBAAmBC,KAAE,KAAK,MAAII,IAAE,aAAaN,KAAEO,GAAE,aAAYH,IAAE,MAAM,GAAE,KAAK,MAAI,IAAIC,IAAEL,KAAEQ,IAAE,EAAC,UAASH,GAAEH,GAAC,EAAC,GAAE,EAAC,UAAS,KAAK,IAAG,CAAC,GAAE,KAAK,cAAYC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,YAAY,QAAQ,GAAE,KAAK,IAAI,QAAQ,GAAE,KAAK,IAAI,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,SAAS;AAAA,EAAY;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,KAAK,cAAY;AAAA,EAAC;AAAA,EAAC,UAAUE,KAAEI,KAAEC,KAAEC,KAAEC,KAAEC,KAAEhB,KAAEK,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAS;AAAG,SAAK,SAAS,UAAU,KAAK,UAASE,IAAE,UAAU,WAAUA,KAAEK,KAAEC,KAAG,CAACD,KAAEC,KAAEP,KAAEE,KAAEQ,QAAI;AAAC,UAAGJ,OAAG,GAAE;AAAC,YAAG,QAAMD,OAAG,CAACA,IAAEJ,IAAE,UAASA,IAAE,QAAOK,GAAC;AAAE;AAAO,cAAMJ,MAAE,IAAIR,IAAEe,IAAE,UAASA,IAAE,WAAWD,GAAC,GAAET,KAAEC,KAAEP,KAAEK,GAAC;AAAE,aAAI,QAAMG,IAAE,QAAQ,IAAI,oBAAkBS,OAAGT,IAAE,QAAQ,IAAI,sBAAoB,QAAMA,IAAE,QAAQ,IAAI,QAAMK,MAAEL,IAAE,QAAQ,IAAI,SAAOA,IAAE,QAAQ,IAAI,IAAIL,IAAE,KAAIM,KAAEI,KAAEC,KAAEN,IAAE,UAAU,WAAUS,GAAC,GAAET,IAAE,QAAQ,UAAQI,IAAE,QAAM,QAAMJ,IAAE,QAAQ,IAAI,oBAAkBS,OAAGT,IAAE,QAAQ,IAAI,sBAAoB,QAAMA,IAAE,QAAQ,IAAI,QAAMK,MAAEL,IAAE,QAAQ,IAAI,SAAOA,IAAE,QAAQ,IAAI,IAAIL,IAAE,KAAIM,KAAEI,KAAEC,KAAEN,IAAE,UAAU,WAAUS,GAAC,GAAET,IAAE,QAAQ,UAAQI,IAAE,KAAI;AAAC,gBAAMA,MAAEM,GAAEV,IAAE,QAAQ,IAAI,GAAG;AAAE,UAAAI,IAAE,IAAIT,IAAE,KAAIM,KAAEI,KAAEC,KAAEN,IAAE,UAAU,WAAUS,GAAC,GAAET,IAAE,QAAQ,IAAI,KAAKI,GAAC;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAC;;;ACAjmD,IAAMO,MAAN,MAAM,GAAC;AAAA,EAAC,aAAa,OAAOC,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,MAAM,QAAQ,WAAWF,IAAE,WAAW,IAAK,CAAAG,QAAGJ,IAAE,WAAW,SAAU,MAAI,IAAIK,IAAEL,KAAEI,GAAC,GAAGF,GAAC,CAAE,CAAC,GAAEI,MAAEH,IAAE,IAAK,CAAAC,QAAG,gBAAcA,IAAE,SAAOA,IAAE,QAAM,IAAK,EAAE,OAAO,CAAC;AAAE,QAAGL,GAAEG,GAAC,KAAGI,IAAE,WAASH,IAAE,QAAO;AAAC,MAAAG,IAAE,QAAS,CAAAF,QAAGA,IAAE,QAAQ,CAAE,GAAED,GAAED,GAAC;AAAE,iBAAUE,OAAKD;AAAE,YAAG,eAAaC,IAAE;AAAO,gBAAMA,IAAE;AAAA,IAAM;AAAC,WAAO,IAAI,GAAEH,IAAE,sBAAqBK,GAAC;AAAA,EAAC;AAAA,EAAC,YAAYF,KAAEG,KAAE;AAAC,SAAK,uBAAqBH,KAAE,KAAK,aAAWG;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,WAAW,QAAS,CAAAH,QAAGA,IAAE,QAAQ,CAAE;AAAA,EAAC;AAAA,EAAC,UAAUA,KAAEG,KAAEC,KAAER,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,WAAW,QAAS,CAAAG,QAAGA,IAAE,UAAUF,KAAEG,KAAEC,KAAER,KAAEC,KAAEC,KAAE,KAAK,gBAAeC,GAAC,CAAE;AAAA,EAAC;AAAA,EAAC,IAAI,cAAa;AAAC,QAAG,QAAM,KAAK,cAAa;AAAC,YAAMC,MAAEK,GAAE;AAAE,WAAK,WAAW,QAAS,CAAAF,QAAG;AAAC,gBAAMA,IAAE,iBAAeG,GAAEN,KAAEG,IAAE,aAAa,KAAK,GAAEG,GAAEN,KAAEG,IAAE,aAAa,KAAK;AAAA,MAAE,CAAE,GAAE,KAAK,eAAaH;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAY;AAAA,EAAC,IAAI,iBAAgB;AAAC,QAAG,QAAM,KAAK,iBAAgB;AAAC,YAAMA,MAAE,KAAK,aAAYG,MAAEH,GAAE;AAAE,QAAEA,KAAEG,GAAC,GAAE,KAAK,kBAAgB,EAAC,QAAOA,KAAE,QAAO,MAAGI,GAAEP,GAAC,EAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAe;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,KAAK,WAAW,OAAQ,CAACA,KAAEG,QAAIH,MAAEG,IAAE,eAAe,CAAC;AAAA,EAAC;AAAC;;;ACAksB,IAAMK,KAAE,CAAAC,QAAG;AAAC,QAAMC,MAAED,IAAE,mBAAmB,QAAOE,MAAEF,IAAE,OAAO,IAAK,CAAAA,QAAGA,IAAE,oBAAqB;AAAE,SAAO,IAAIA,IAAEC,KAAEC,GAAC;AAAC;AAAE,IAAIC,KAAE,cAAcC,GAAC;AAAA,EAAC,YAAYJ,KAAEC,KAAE;AAAC,UAAMD,GAAC,GAAE,KAAK,OAAKK,IAAE,KAAI,KAAK,WAAS,OAAG,KAAK,WAAS,IAAI,KAAE,KAAK,UAAQ,CAAC,GAAE,KAAK,6BAA2B,CAAC,IAAI,OAAK,GAAE,KAAK,+BAA6B,CAAC,IAAI,OAAK,GAAE,KAAK,yBAAuB,CAAC,KAAK,2BAA2B,CAAC,GAAE,KAAK,6BAA6B,CAAC,CAAC,GAAE,KAAK,iBAAe,GAAE,KAAK,mBAAiB,GAAE,KAAK,cAAY,OAAG,KAAK,UAAQ,IAAI,KAAE,KAAK,gCAA8B,IAAG,KAAK,iBAAe,OAAG,KAAK,QAAM,CAACC,GAAE,iBAAgBA,GAAE,oBAAoB,GAAE,KAAK,YAAU,MAAG,KAAK,gBAAc,IAAIC,GAAE,EAAC,sBAAqBP,IAAE,qBAAoB,GAAEA,IAAE,cAAc,GAAE,KAAK,SAAS,IAAIC,IAAE,aAAaO,GAAE,cAAa,IAAI,CAAC;AAAA,EAAC;AAAA,EAAC,aAAY;AAAC,SAAK,wBAAsBC,GAAE,KAAK,cAAc,GAAE,KAAK,0BAAwBP,GAAE,KAAK,uBAAsB,CAAC,GAAE,KAAK,SAAS,IAAI,CAAC,KAAK,cAAc,OAAO,GAAG,qBAAqB,MAAI,KAAK,oBAAoB,CAAE,GAAE,KAAK,cAAc,OAAO,GAAG,8BAA8B,CAAC,EAAC,OAAMF,IAAC,MAAI;AAAC,WAAK,oBAAoB,GAAE,KAAK,SAAS,6BAA6BA,GAAC;AAAA,IAAC,CAAE,GAAE,KAAK,cAAc,OAAO,GAAG,+BAA+B,CAAC,EAAC,OAAMA,IAAC,MAAI;AAAC,WAAK,oBAAoB,IAAE,GAAE,KAAK,SAAS,+BAA+BA,GAAC;AAAA,IAAC,CAAE,GAAE,KAAK,cAAc,OAAO,GAAG,8BAA8B,MAAI,KAAK,oBAAoB,IAAE,CAAE,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,SAAS,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,wBAAuB;AAAC,WAAO,KAAK,OAAO,OAAO,SAAO;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,KAAK,QAAQ,KAAK,QAAQ,SAAO,CAAC,EAAE;AAAA,EAAW;AAAA,EAAC,IAAI,qBAAoB;AAAC,WAAO,KAAK,QAAQ,KAAK,QAAQ,SAAO,CAAC,EAAE;AAAA,EAAc;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,QAAQ,KAAK,QAAQ,SAAO,CAAC,EAAE,WAAW,CAAC,EAAE;AAAA,EAAQ;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAO,KAAK;AAAA,EAAW;AAAA,EAAC,IAAI,kBAAkBA,KAAE;AAAC,SAAK,cAAYA;AAAA,EAAC;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK,SAAS;AAAA,EAAQ;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK;AAAA,EAAa;AAAA,EAAC,IAAI,cAAa;AAAC,UAAMA,MAAE,EAAC,KAAI,GAAE,KAAI,EAAC;AAAE,WAAO,KAAK,uBAAuB,QAAS,CAAAC,QAAGA,IAAE,QAAS,CAAAA,QAAG;AAAC,MAAAD,IAAE,OAAKC,IAAE,YAAY,KAAID,IAAE,OAAKC,IAAE,YAAY;AAAA,IAAG,CAAE,CAAE,GAAED;AAAA,EAAC;AAAA,EAAC,IAAI,cAAa;AAAC,UAAMA,MAAE,KAAK,cAAc,MAAKC,MAAE,CAAC;AAAE,WAAO,KAAK,QAAQ,QAAS,CAACD,KAAEE,QAAI;AAAC,YAAMQ,MAAE,KAAK,uBAAuB,CAAC,EAAER,GAAC,EAAE,OAAK,KAAK,uBAAuB,CAAC,EAAEA,GAAC,EAAE,MAAKS,MAAEX,IAAE;AAAc,MAAAC,IAAE,KAAK,EAAC,mBAAkBS,KAAE,mBAAkBA,MAAEC,KAAE,sBAAqBA,IAAC,CAAC;AAAA,IAAC,CAAE,GAAE,EAAC,gBAAeX,KAAE,mBAAkBC,IAAE,OAAQ,CAACD,KAAEC,QAAID,MAAEC,IAAE,mBAAmB,CAAC,GAAE,mBAAkBA,IAAE,OAAQ,CAACD,KAAEC,QAAID,MAAEC,IAAE,mBAAmB,CAAC,GAAE,QAAOA,IAAC;AAAA,EAAC;AAAA,EAAC,MAAM,wBAAwBD,KAAEC,KAAE;AAAC,SAAK,WAASD;AAAE,UAAMU,MAAEV,IAAE,cAAc,MAAKW,MAAE,MAAM,QAAQ,WAAW,KAAK,OAAO,OAAO,IAAK,CAAAT,SAAI,KAAK,2BAA2B,CAAC,EAAE,KAAK,IAAIU,IAAEF,KAAE,KAAK,qBAAqB,CAAC,GAAE,KAAK,6BAA6B,CAAC,EAAE,KAAK,IAAIE,IAAEF,KAAE,KAAK,qBAAqB,CAAC,GAAEA,IAAE,OAAOV,KAAEE,KAAED,GAAC,EAAG,CAAC,GAAEY,MAAEF,IAAE,IAAK,CAAAX,QAAG,gBAAcA,IAAE,SAAOA,IAAE,QAAM,IAAK,EAAE,OAAO,CAAC;AAAE,QAAGU,GAAET,GAAC,KAAGY,IAAE,WAASF,IAAE,QAAO;AAAC,MAAAE,IAAE,QAAS,CAAAb,QAAGA,IAAE,QAAQ,CAAE,GAAEW,GAAEV,GAAC;AAAE,iBAAUD,OAAKW;AAAE,YAAG,eAAaX,IAAE;AAAO,gBAAMA,IAAE;AAAA,IAAM;AAAC,SAAK,UAAQa,KAAE,KAAK,iBAAed,GAAE,IAAI;AAAA,EAAC;AAAA,EAAC,4BAA2B;AAAC,SAAK,kBAAkB,GAAE,KAAK,QAAQ,QAAS,CAAAC,QAAGA,IAAE,QAAQ,CAAE,GAAE,KAAK,2BAA2B,CAAC,EAAE,QAAS,CAAAA,QAAGA,IAAE,QAAQ,CAAE,GAAE,KAAK,6BAA6B,CAAC,EAAE,QAAS,CAAAA,QAAGA,IAAE,QAAQ,CAAE;AAAA,EAAC;AAAA,EAAC,IAAI,uBAAsB;AAAC,WAAO,KAAK,QAAQ,KAAM,CAAAA,QAAGA,IAAE,WAAW,KAAM,CAAAA,QAAGA,IAAE,SAAS,aAAaM,GAAE,sBAAqBQ,GAAE,KAAK,CAAE,CAAE;AAAA,EAAC;AAAA,EAAC,IAAI,iBAAgB;AAAC,WAAO,KAAK,6BAA6B,CAAC,EAAE,KAAM,CAAAd,QAAGA,IAAE,OAAK,CAAE;AAAA,EAAC;AAAA,EAAC,cAAcA,KAAE;AAAC,QAAG,CAACC,IAAE,uCAAsC;AAAC,UAAG,KAAK,uBAAsB;AAAC,cAAMA,MAAED,IAAE,eAAe,cAAc,OAAO,KAAK,OAAO;AAAE,aAAK,QAAQ,SAASA,IAAE,eAAe,aAAa,GAAEC,OAAG,KAAK,oBAAoB;AAAA,MAAC;AAAC,WAAK,mBAAiB,KAAK,QAAQc,EAAC,GAAE,KAAK,iBAAe;AAAA,IAAG;AAAA,EAAC;AAAA,EAAC,kBAAkBf,KAAE;AAAC,QAAG,CAAC,KAAK,aAAa,UAAU,KAAG,CAAC,KAAK,aAAa,mBAAmBA,IAAE,MAAM;AAAE,aAAO;AAAK,UAAMC,MAAE,KAAK,kBAAkBD,IAAE,MAAM;AAAE,QAAG,CAACC;AAAE,aAAO;AAAK,UAAMC,MAAE,IAAI;AAAM,WAAOD,IAAE,QAAS,CAAAA,QAAG,KAAK,OAAO,QAAS,CAACS,KAAEC,QAAI;AAAC,MAAAD,IAAE,WAAW,QAAS,CAAAA,QAAGR,IAAE,KAAK,KAAK,gBAAgBF,KAAEC,IAAEU,GAAC,GAAED,GAAC,CAAC,CAAE;AAAA,IAAC,CAAE,CAAE,GAAER;AAAA,EAAC;AAAA,EAAC,OAAOF,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,kBAAkBF,IAAE,MAAM;AAAE,QAAG,CAACE;AAAE;AAAO,QAAIQ,MAAE;AAAE,IAAAV,IAAE,KAAK,QAAQ,GAAEE,IAAE,QAAS,CAAAA,QAAG,KAAK,OAAO,QAAS,CAACS,KAAEK,QAAI;AAAC,MAAAL,IAAE,WAAW,QAAS,CAAAA,QAAG,KAAK,iBAAiBX,KAAEC,IAAES,KAAG,GAAER,IAAEc,GAAC,GAAEL,KAAEK,GAAC,CAAE;AAAA,IAAC,CAAE,CAAE;AAAA,EAAC;AAAA,EAAC,kBAAkBhB,KAAE;AAAC,UAAMC,MAAED,QAAIc,GAAE,aAAWd,QAAIc,GAAE,iBAAgBZ,MAAEF,QAAIc,GAAE;AAAuB,WAAOb,OAAGC,MAAE,KAAK,yBAAuBD,MAAE,KAAK,6BAA2BC,MAAE,KAAK,+BAA6B;AAAA,EAAI;AAAA,EAAC,UAAUF,KAAEC,KAAEC,KAAEQ,KAAE;AAAC,QAAG,CAAC,KAAK,aAAa,UAAU,KAAG,QAAM,KAAK;AAAQ;AAAO,UAAMC,MAAEK,GAAE;AAAE,IAAAhB,GAAEW,KAAED,KAAER,GAAC;AAAE,UAAMc,MAAE,CAAAL,QAAG;AAAC,WAAK,cAAc,0BAA0BA,KAAEM,EAAC,GAAEjB,IAAE,UAAU,IAAIiB,EAAC,GAAE,EAAEC,IAAEhB,KAAEF,IAAE,UAAU,OAAO,GAAE,EAAE,GAAEU,KAAEV,IAAE,UAAU,OAAO;AAAE,YAAMgB,MAAE,KAAK,cAAc,SAASL,GAAC,GAAEN,MAAE,KAAK,cAAc,YAAYM,GAAC,GAAEE,MAAE,KAAK,QAAQ;AAAO,MAAAF,GAAE,MAAIK,MAAEG,GAAE,SAAQ,wBAAwB,GAAER,GAAEN,OAAG,KAAGA,MAAEQ,KAAE,kBAAkB,GAAE,KAAK,QAAQR,GAAC,EAAE,UAAUL,KAAEC,KAAEiB,IAAE,GAAEP,KAAE,KAAK,UAASE,GAAC;AAAA,IAAC;AAAE,SAAK,aAAa,WAAW,iBAAe,KAAK,QAAQ,QAAQG,GAAC,IAAE,KAAK,QAAQ,gBAAgBd,KAAES,KAAEK,GAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBhB,KAAE;AAAC,WAAO,KAAK,uBAAuBA,GAAC;AAAA,EAAC;AAAA,EAAC,oCAAmC;AAAC,SAAK,kBAAkB,GAAE,KAAK,oBAAoB;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAJ1tO;AAI2tO,QAAG,QAAM,KAAK,eAAc;AAAC,YAAMA,MAAE,KAAK,eAAcC,OAAE,KAAAD,IAAE,SAAF,mBAAQ;AAAM,UAAG,CAACC;AAAE,eAAO;AAAK,WAAK,gBAAc,IAAIe,IAAEhB,KAAE,KAAK,kBAAkB;AAAE,eAAQE,MAAE,GAAEA,MAAEF,IAAE,UAAS,EAAEE;AAAE,QAAAD,IAAE,IAAIC,GAAC,IAAEiB,GAAE,UAAQ,KAAK,cAAc,YAAYjB,GAAC;AAAA,IAAC;AAAC,WAAO,KAAK;AAAA,EAAa;AAAA,EAAC,oBAAmB;AAAC,SAAK,gBAAc,EAAE,KAAK,aAAa;AAAA,EAAC;AAAA,EAAC,uBAAuBF,KAAE;AAAC,QAAG,QAAM,KAAK;AAAQ,aAAM,EAAC,MAAK,IAAE,GAAE,KAAI,KAAG,EAAC;AAAE,UAAMC,MAAED,IAAE,aAAYE,MAAE,KAAK,QAAQ,YAAYD,KAAEmB,GAAE,WAAW,eAAcpB,IAAE,OAAO,GAAEU,MAAE,KAAK,QAAQ,YAAYT,KAAEmB,GAAE,WAAW,eAAcpB,IAAE,OAAO;AAAE,QAAG,QAAME,OAAG,QAAMQ;AAAE,aAAM,EAAC,MAAK,IAAE,GAAE,KAAI,KAAG,EAAC;AAAE,UAAMC,MAAEX,IAAE,KAAIgB,MAAE,KAAK,cAAc;AAAK,IAAAA,IAAE,eAAe,OAAOd,KAAEkB,EAAC,GAAEpB,GAAEoB,IAAEA,IAAET,GAAC;AAAE,UAAMN,MAAE,EAAEe,IAAEnB,GAAC,IAAEmB,GAAE,CAAC;AAAE,IAAAJ,IAAE,eAAe,OAAON,KAAEU,EAAC,GAAEpB,GAAEoB,IAAEA,IAAET,GAAC;AAAE,UAAME,MAAE,EAAEO,IAAEnB,GAAC,IAAEmB,GAAE,CAAC;AAAE,WAAM,EAAC,MAAK,KAAK,IAAIpB,IAAE,MAAKK,GAAC,GAAE,KAAI,KAAK,IAAIL,IAAE,KAAIa,GAAC,EAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBb,MAAE,OAAG;AAAC,SAAK,gCAA8B,IAAG,KAAK,mBAAiB,KAAK,gBAAeA,QAAI,KAAK,iBAAe,MAAG,KAAK,SAAS,cAAc;AAAA,EAAE;AAAA,EAAC,oBAAmB;AAAC,SAAK,iCAAgC,KAAK,uBAAuB,QAAS,CAAAA,QAAGA,IAAE,QAAS,CAAAA,QAAGA,IAAE,iBAAiB,CAAE,CAAE;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK,cAAc,OAAK,KAAG,KAAK,gCAA8B;AAAA,EAAC;AAAA,EAAC,QAAQA,KAAE;AAAC,UAAK,EAAC,uBAAsBC,KAAE,SAAQC,KAAE,gBAAeQ,IAAC,IAAE;AAAK,SAAK,uBAAuB,QAAS,CAAAV,QAAGA,IAAE,QAAS,CAAAA,QAAGA,IAAE,YAAY,CAAE,CAAE;AAAE,UAAMW,MAAE,KAAK,eAAcK,MAAEL,IAAE;AAAK,QAAIN,MAAEM,IAAE;AAAK,UAAME,MAAEF,IAAE;AAAS,QAAIU,MAAE,KAAK;AAAe,aAAQC,MAAE,GAAEA,MAAEjB,OAAG,CAACL,IAAE,MAAK,EAAEsB,KAAE;AAAC,MAAAD,QAAI,KAAK,oBAAkB,KAAK,kBAAkB;AAAE,YAAMC,MAAEN,IAAE,MAAM,IAAIK,GAAC;AAAE,UAAIP,MAAE;AAAE,UAAG,EAAEQ,MAAEH,GAAE,YAAW;AAAC,QAAAE,MAAEA,MAAE,MAAIR,MAAE,IAAEQ,MAAE,GAAEhB;AAAI;AAAA,MAAQ;AAAC,YAAMkB,MAAEP,IAAE,SAAS,IAAIK,GAAC;AAAE,UAAGC,MAAEH,GAAE,kBAAgB,KAAK,2BAA2B,CAAC,EAAEI,GAAC,EAAE,SAAS,GAAED,MAAEH,GAAE,oBAAkB,KAAK,6BAA6B,CAAC,EAAEI,GAAC,EAAE,SAAS,GAAED,MAAEH,GAAE;AAAO,QAAAR,IAAE,aAAaU,GAAC;AAAA,eAAUC,MAAEH,GAAE,SAAQ;AAAC,YAAInB,MAAE;AAAE,QAAAC,QAAIe,IAAE,YAAY,OAAOK,KAAEG,EAAC,GAAExB,MAAEU,IAAE,YAAYc,IAAEb,IAAE,6BAA6BU,GAAC,GAAEnB,GAAC,IAAGY,MAAEQ,MAAE,EAAEH,GAAE,SAAOA,GAAE,oBAAmBnB,OAAG,MAAIsB,MAAEH,GAAE,aAAWM,GAAE,KAAK,6BAA6B,CAAC,EAAEzB,GAAC,GAAEgB,KAAEK,GAAC,GAAEP,OAAGK,GAAE,qBAAmBM,GAAE,KAAK,2BAA2B,CAAC,EAAEzB,GAAC,GAAEgB,KAAEK,GAAC,GAAEP,OAAGK,GAAE,kBAAiBH,IAAE,MAAM,IAAIK,KAAEP,GAAC,GAAEE,IAAE,SAAS,IAAIK,KAAErB,GAAC;AAAA,MAAC;AAAM,QAAAc,MAAEQ,MAAE,EAAEH,GAAE,SAAOA,GAAE,oBAAmBH,IAAE,MAAM,IAAIK,KAAEP,GAAC;AAAE,UAAG,QAAM,KAAK,eAAc;AAAC,cAAMd,MAAE,CAAC,EAAEsB,MAAEH,GAAE,SAAQlB,MAAE,CAAC,EAAEa,MAAEK,GAAE;AAAQ,SAACnB,OAAGC,MAAE,KAAK,cAAc,YAAYoB,GAAC,IAAErB,OAAG,CAACC,MAAE,KAAK,cAAc,eAAeoB,GAAC,IAAErB,OAAGC,OAAGqB,MAAEH,GAAE,sBAAoB,KAAK,cAAc,eAAeE,GAAC,GAAE,KAAK,cAAc,YAAYA,GAAC;AAAA,MAAE;AAAC,MAAAA,MAAEA,MAAE,MAAIR,MAAE,IAAEQ,MAAE,GAAErB,IAAE,aAAa;AAAA,IAAC;AAAC,SAAK,iBAAeqB,KAAE,KAAK,uBAAuB,QAAS,CAAArB,QAAGA,IAAE,QAAS,CAAAA,QAAGA,IAAE,UAAU,CAAE,CAAE,GAAE,KAAK,SAAS,cAAc;AAAA,EAAC;AAAA,EAAC,gBAAgBA,KAAEC,KAAEC,KAAE;AAAC,UAAK,EAAC,gBAAeQ,KAAE,MAAKC,KAAE,QAAOK,IAAC,IAAEhB;AAAE,QAAG,MAAIC,IAAE,QAAM,CAACC,IAAE,SAAS,aAAaQ,IAAE,MAAKV,IAAE,MAAM;AAAE,aAAO;AAAK,UAAMK,MAAEH,IAAE,YAAY,KAAKS,KAAED,IAAE,MAAKM,GAAC;AAAE,WAAO,QAAMX,MAAEA,IAAE,UAAUK,GAAC,IAAE;AAAA,EAAI;AAAA,EAAC,iBAAiBV,KAAEC,KAAEC,KAAEQ,KAAEC,KAAE;AAJl/T;AAIm/T,QAAG,CAACV;AAAE;AAAO,UAAK,EAAC,gBAAee,KAAE,MAAKX,IAAC,IAAEL;AAAE,UAAAK,IAAE,yBAAF,mBAAwB;AAAmB,UAAMQ,MAAER,IAAE,cAAcJ,KAAES,IAAE,SAAS,YAAWM,GAAC;AAAE,IAAAX,IAAE,QAAQK,IAAE,GAAG,GAAET,IAAE,yBAAyBS,IAAE,GAAG,GAAEG,IAAE,SAASa,IAAEV,KAAEN,IAAE,SAAS,UAAU,GAAET,IAAE,2CAAyCD,IAAE,WAASc,GAAE,UAAQD,IAAE,cAAc,iBAAgBc,GAAE,KAAK,IAAIhB,KAAEgB,GAAE,SAAO,CAAC,CAAC,CAAC,GAAEd,IAAE,aAAa,gBAAeY,GAAE,OAAO;AAAG,UAAMJ,MAAEhB,IAAE,aAAa,YAAWiB,MAAEpB,IAAE,UAASY,MAAEZ,IAAE,WAAUqB,MAAErB,IAAE,WAAU0B,MAAE1B,IAAE,YAAWE,MAAE,KAAK,yBAAwByB,MAAE,CAAC7B,KAAEW,QAAI;AAAC,MAAAmB,GAAEzB,KAAEC,IAAEJ,IAAE,QAAOE,KAAEJ,GAAC,GAAEqB,IAAE,oBAAoBpB,IAAE,eAAc,GAAES,IAAE,aAAYC,MAAEX,GAAC,GAAEa,GAAER,KAAEC,IAAEJ,IAAE,QAAOE,GAAC;AAAA,IAAC;AAAE,IAAAM,IAAE,SAAS,WAAW,eAAa,QAAMkB,MAAEd,MAAES,OAAGZ,GAAEiB,OAAGL,OAAGK,OAAGd,KAAE,oBAAoB,GAAEe,IAAED,KAAEd,GAAC,GAAEe,IAAEN,KAAEK,GAAC,KAAGd,MAAES,QAAIK,OAAGd,OAAGH,GAAEiB,OAAG,KAAGA,OAAGd,KAAE,oBAAoB,GAAEe,IAAED,KAAEd,GAAC,GAAEe,IAAEN,KAAED,GAAC,GAAEO,IAAE,GAAED,GAAC,MAAIjB,GAAEiB,OAAGL,OAAGK,OAAGN,KAAE,oBAAoB,GAAEO,IAAED,KAAEN,GAAC,GAAEO,IAAE,GAAEf,GAAC,GAAEe,IAAEN,KAAEK,GAAC,MAAId,MAAES,MAAEM,IAAEN,KAAET,GAAC,IAAEA,MAAES,QAAIM,IAAE,GAAEf,GAAC,GAAEe,IAAEN,KAAED,GAAC,IAAGjB,IAAE,QAAQ,IAAI;AAAA,EAAC;AAAC;AAAE,SAASoB,GAAEzB,KAAEC,KAAEC,KAAE;AAAC,QAAMQ,MAAEV,IAAE,aAAa;AAAE,EAAA+B,GAAE9B,KAAEC,KAAEF,IAAE,MAAKU,GAAC;AAAC;AAAC,SAASqB,GAAE/B,KAAEC,KAAEC,KAAEQ,KAAE;AAAC,EAAAC,IAAEX,IAAE,aAAYC,KAAEC,IAAE,eAAcA,IAAE,eAAcQ,GAAC,GAAER,IAAE,MAAM,SAASQ,KAAEV,IAAE,OAAMC,GAAC,GAAEC,IAAE,YAAY,SAASQ,KAAEV,IAAE,aAAYC,GAAC,GAAED,IAAE,SAAOE,IAAE,SAAOA,IAAE,MAAM,SAASQ,KAAEV,IAAE,OAAMC,GAAC,GAAED,IAAE,yBAAuBE,IAAE,yBAAuBA,IAAE,sBAAsB,SAASQ,KAAEV,IAAE,uBAAsBC,GAAC,GAAED,IAAE,oBAAkBE,IAAE,oBAAkBA,IAAE,iBAAiB,SAASQ,KAAEV,IAAE,kBAAiBC,GAAC;AAAC;AAAC,SAASQ,GAAET,KAAE;AAAC,MAAIC,MAAE+B,GAAE,EAAE,MAAMC,GAAE,aAAa,EAAE,MAAMA,GAAE,aAAa,EAAE,MAAMA,GAAE,KAAK,EAAE,MAAMA,GAAE,WAAW;AAAE,SAAO,QAAMjC,OAAGA,IAAE,SAAS,kBAAkB,MAAIC,MAAEA,IAAE,MAAMgC,GAAE,wBAAwB,IAAG,QAAMjC,OAAGA,IAAE,SAAS,OAAO,MAAIC,MAAEA,IAAE,OAAOgC,GAAE,aAAa,IAAG,QAAMjC,OAAGA,IAAE,SAAS,uBAAuB,MAAIC,MAAEA,IAAE,OAAOgC,GAAE,6BAA6B,IAAGhC;AAAC;AAAC,EAAE,CAAC,EAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAEE,GAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,kBAAiB,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,eAAc,KAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,wBAAuB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,oBAAmB,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,yBAAwB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,iCAAgC,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAEA,GAAE,WAAU,WAAU,IAAI,GAAEA,KAAE,EAAE,CAACO,GAAE,yDAAyD,CAAC,GAAEP,EAAC;AAAE,IAAMqB,KAAER,GAAE;AAAV,IAAYI,KAAEJ,GAAE;AAAhB,IAAkBC,KAAEjB,IAAE;AAAtB,IAAwBkB,KAAEF,GAAE;AAA5B,IAA8B,IAAEA,GAAE;AAAlC,IAAoCW,KAAE,CAACzB,GAAE,GAAE,GAAE,GAAE,CAAC,GAAEA,GAAE,GAAE,GAAE,GAAE,CAAC,GAAEA,GAAE,GAAE,GAAE,GAAE,CAAC,GAAEA,GAAE,GAAE,GAAE,GAAE,CAAC,GAAEA,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC;AAA7F,IAA+FwB,KAAE,IAAI;;;ACAt9S,IAAMQ,MAAN,MAAQ;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAK,eAAaX,KAAE,KAAK,cAAYC,KAAE,KAAK,iBAAeC,KAAE,KAAK,6BAA2BC,KAAE,KAAK,eAAaC,KAAE,KAAK,uBAAqBC,KAAE,KAAK,SAAOC,KAAE,KAAK,sBAAoBC,KAAE,KAAK,aAAWC,KAAE,KAAK,gBAAcC,KAAE,KAAK,gCAA8BC,KAAE,KAAK,cAAYC;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAN,cAAiBF,IAAC;AAAA,EAAC,gBAAe;AAAC,UAAK,CAACV,KAAEC,KAAEC,GAAC,IAAE,QAAM,KAAK,aAAW,KAAK,WAAW,aAAW,CAAC,GAAE,GAAE,CAAC;AAAE,WAAM,EAAC,OAAMF,KAAE,OAAMC,KAAE,QAAOC,IAAC;AAAA,EAAC;AAAA,EAAC,YAAYF,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,GAAC,GAAE,KAAK,aAAW,MAAK,KAAK,kBAAgB,IAAI,SAAM,KAAK,6BAA2B,oBAAI,OAAI,KAAK,wBAAsB,OAAG,KAAK,0BAAwB,IAAI,SAAM,KAAK,4BAA0B,OAAG,KAAK,mBAAmB,KAAE,GAAE,KAAK,wBAAsBD,IAAE;AAAA,EAA6B;AAAA,EAAC,MAAM,OAAOF,KAAE;AAAC,QAAG,CAAC,KAAK,kBAAkB,MAAK;AAAC,UAAGa,GAAE,KAAK,WAAW;AAAE,cAAM,IAAI;AAAA,IAAK;AAAC,QAAG,KAAK,cAAa;AAAC,YAAMZ,MAAE,KAAK,YAAY,UAASC,MAAED,OAAGK,IAAEL,IAAE,SAAS,IAAEA,IAAE,YAAUU;AAAE,WAAK,aAAW,MAAM,KAAK,6BAA6BT,KAAEF,GAAC;AAAA,IAAC,OAAK;AAAC,YAAMC,MAAE,MAAME,IAAE,KAAK,OAAO,WAAW,GAAED,OAAED,OAAA,gBAAAA,IAAG,SAAM,KAAK,YAAY,SAAS;AAAK,WAAK,aAAW,MAAM,KAAK,uBAAuBC,KAAEF,GAAC;AAAA,IAAC;AAAC,SAAK,oBAAoB,GAAE,KAAK,yBAAyB,GAAE,KAAK,8BAA8B,GAAE,KAAK,aAAW,KAAK,kBAAkB;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,QAAM,KAAK,aAAW,KAAK,WAAW,gBAAc;AAAA,EAAC;AAAA,EAAC,IAAI,eAAc;AAJluI;AAImuI,WAAM,GAAC,UAAK,YAAY,aAAjB,mBAA2B;AAAA,EAAI;AAAA,EAAC,IAAI,cAAa;AAJ3xI;AAI4xI,YAAO,UAAK,eAAL,mBAAiB;AAAA,EAAW;AAAA,EAAC,+BAA+BA,KAAEC,OAAE,kCAAK,gBAAL,mBAAkB,gBAAlB,mBAA4B,UAAM;AAAC,UAAMC,MAAE,KAAK,oBAAoBD,GAAC,GAAEE,MAAED,MAAE,KAAG,KAAK;AAA2B,WAAOF,IAAE,cAAYG,KAAEH,IAAE,UAAQE,KAAEF,IAAE,WAASG,MAAEI,GAAG,OAAKA,GAAG,MAAKP;AAAA,EAAC;AAAA,EAAC,MAAM,6BAA6BC,KAAEE,KAAE;AAAC,UAAMC,MAAE,KAAK,aAAYC,MAAED,GAAEK,GAAER,GAAC,CAAC,GAAEK,MAAEN,GAAE,EAAEK,GAAC,CAAC,GAAEE,MAAEP,GAAEC,GAAEK,KAAEF,GAAC,CAAC,GAAEI,MAAEN,GAAEK,GAAC,GAAEG,MAAE,OAAGC,MAAE,OAAGG,MAAE,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,MAAG,YAAW,CAAC,GAAGX,GAAE,GAAE,SAAQK,IAAE,SAAQA,IAAE,eAAc,KAAK,SAAS,mBAAkB,mBAAkB,OAAG,aAAY,KAAK,YAAY,aAAY,4BAA2B,CAAC,KAAK,YAAY,YAAW,GAAEO,MAAE,CAAC,CAACD,IAAE;AAAO,SAAK,+BAA+BA,GAAC;AAAE,UAAME,MAAE,KAAK;AAAO,QAAG,eAAaA,IAAE,QAAMA,IAAE,gBAAe;AAAC,YAAK,EAAC,cAAahB,KAAE,gBAAeC,KAAE,gBAAeE,IAAC,IAAEa,IAAE;AAAe,MAAAF,IAAE,iBAAe,EAAC,cAAaE,GAAEhB,GAAC,GAAE,gBAAeC,OAAG,GAAE,gBAAe,QAAME,MAAEA,MAAE,IAAE,EAAC,GAAEW,IAAE,cAAY;AAAA,IAAE;AAAC,QAAG,KAAK,SAAS,iCAA+BA,IAAE,wBAAsB,KAAK,SAAS,gBAAgB,gCAA+B,KAAK,kBAAkB;AAAM,MAAAA,IAAE,gBAAcG;AAAA,SAAM;AAAC,YAAMhB,MAAE,QAAMG,IAAE,WAASA,IAAE,SAAS,QAAM,MAAKF,MAAE,QAAMD,MAAES,GAAE,WAAWT,GAAC,IAAEgB;AAAE,MAAAH,IAAE,gBAAcZ;AAAA,IAAC;AAAC,SAAK,eAAagB,GAAE,KAAK,SAAS,UAAS,KAAK,kCAAkCb,KAAEE,KAAED,KAAE,IAAI,CAAC,GAAEQ,IAAE,cAAY,MAAG,KAAK,gBAAc,OAAO,OAAOA,KAAE,KAAK,aAAa,kBAAkB,GAAE,KAAK,gBAAgB,KAAKI,GAAG,gBAAgB,KAAG,KAAK,qBAAqB,MAAIJ,IAAE,oBAAkB,MAAG,KAAK,gBAAgB,KAAKI,GAAG,KAAK,IAAG,IAAI,2CAA2C,KAAG,KAAK,gBAAgB,KAAKA,GAAG,qBAAqB;AAAE,UAAMD,MAAE,IAAIJ,GAAGC,GAAC,GAAEK,MAAEH,IAAEf,KAAEgB,GAAC;AAAE,QAAG,CAACE;AAAE,YAAM,IAAI,MAAM,oCAAoClB,GAAC,EAAE;AAAE,UAAMmB,MAAEd,IAAGa,GAAC,EAAE,IAAK,CAAAnB,SAAI,EAAC,SAAQ,GAAE,aAAYA,IAAE,WAAW,YAAW,EAAG,GAAEqB,MAAE,MAAM,KAAK,sBAAsBF,KAAEJ,KAAEZ,GAAC,GAAEmB,MAAE,MAAM,KAAK,mBAAmBH,KAAEhB,GAAC;AAAE,WAAO,IAAIJ,IAAGoB,KAAEG,KAAED,KAAED,KAAEd,KAAEI,KAAEC,KAAEN,KAAEE,KAAEC,KAAEO,KAAE,IAAI;AAAA,EAAC;AAAA,EAAC,MAAM,uBAAuBf,KAAEC,KAAE;AAJvrM;AAIwrM,UAAME,MAAE,EAAC,qBAAoB,EAAC,aAAY,MAAG,eAAc,KAAK,SAAS,mBAAkB,aAAY,KAAK,YAAY,YAAW,GAAE,qBAAoB,KAAK,SAAS,qBAAoB,OAAM,KAAK,SAAS,gBAAgB,oBAAmB;AAAE,SAAK,eAAae,GAAE,KAAK,SAAS,UAAS,KAAK,kCAAkC,MAAK,MAAK,MAAK,IAAI,CAAC,GAAE,KAAK,gBAAc,OAAO,OAAOf,IAAE,qBAAoB,KAAK,aAAa,kBAAkB,GAAE,KAAK,gBAAgB,KAAKe,GAAG,gBAAgB,KAAG,KAAK,qBAAqB,MAAIf,IAAE,oBAAoB,oBAAkB,MAAG,KAAK,gBAAgB,KAAKe,GAAG,KAAK,IAAG,IAAI,2CAA2C,KAAG,KAAK,gBAAgB,KAAKA,GAAG,qBAAqB;AAAE,UAAMd,MAAE,KAAK;AAAO,QAAG,eAAaA,IAAE,QAAMA,IAAE,gBAAe;AAAC,YAAK,EAAC,cAAaJ,KAAE,gBAAeC,KAAE,gBAAeI,IAAC,IAAED,IAAE;AAAe,MAAAD,IAAE,oBAAoB,iBAAe,EAAC,cAAaa,GAAEhB,GAAC,GAAE,gBAAeC,OAAG,GAAE,gBAAe,QAAMI,MAAEA,MAAE,IAAE,EAAC,GAAEF,IAAE,oBAAoB,cAAY;AAAA,IAAE;AAAC,IAAAA,IAAE,SAAOF,KAAEE,IAAE,SAAO,KAAK,SAAS,+BAA8BA,IAAE,eAAa,KAAK,SAAS;AAAmB,UAAME,MAAEF,IAAE,QAAOG,MAAE,MAAMiB,GAAEvB,KAAEG,GAAC,GAAEI,MAAED,IAAE,sBAAqBE,MAAEF,IAAE,QAAOI,MAAER,IAAEI,IAAE,IAAI;AAAE,IAAAI,IAAE,OAAO,KAAM,CAACV,KAAEC,QAAID,IAAE,uBAAqBC,IAAE,oBAAqB;AAAE,UAAMU,MAAE,KAAK,UAASG,MAAE,KAAK,YAAY,UAASC,MAAE,KAAK,4BAA4BD,GAAC,GAAEE,OAAE,gBAAK,gBAAL,mBAAkB,aAAlB,mBAA4B,OAAMQ,MAAE,KAAK,oBAAoBR,KAAE,EAAC,mBAAkB,KAAE,CAAC,GAAEC,MAAE,KAAK,4BAA2BE,MAAEb,IAAGI,GAAC,GAAEU,MAAEd,IAAGI,GAAC,EAAE,IAAK,CAAAV,SAAI,EAAC,SAAQA,IAAE,WAAW,WAAS,GAAE,aAAYA,IAAE,WAAW,YAAW,EAAG;AAAE,IAAAmB,IAAE,QAAS,CAAAnB,QAAG;AAAC,YAAMC,MAAED,IAAE;AAAW,MAAAA,IAAE,cAAce,GAAC;AAAE,YAAMb,MAAED,IAAE,UAAQuB,KAAErB,MAAED,MAAE,KAAGe,OAAGhB,IAAE;AAAY,MAAAD,IAAE,cAAc,EAAC,SAAQE,KAAE,aAAYC,IAAC,CAAC,GAAEQ,IAAE,gCAA8BX,IAAE,cAAc,EAAC,uBAAsBW,IAAE,gBAAgB,8BAA6B,CAAC;AAAA,IAAC,CAAE;AAAE,UAAMc,MAAEnB,IAAE,sBAAqBe,MAAErB,GAAE,EAAEyB,GAAC,CAAC,GAAEH,MAAEtB,GAAEU,IAAE,OAAO,CAAC,EAAE,WAAW,GAAEgB,MAAE1B,GAAEC,GAAEoB,KAAE,KAAK,WAAW,CAAC,GAAEM,KAAEzB,GAAEwB,GAAC,GAAEE,MAAE,KAAK;AAAa,IAAAC,GAAED,KAAE,KAAK,SAAS,UAAS,KAAK,kCAAkCH,KAAEC,KAAEL,KAAEC,GAAC,CAAC,KAAGH,IAAE,QAAS,CAAAnB,QAAGA,IAAE,cAAc4B,IAAE,kBAAkB,CAAE;AAAE,UAAME,MAAE,MAAM,KAAK,sBAAsBpB,KAAEL,KAAEJ,GAAC,GAAE8B,MAAE,MAAM,KAAK,mBAAmBrB,KAAET,GAAC;AAAE,WAAO,IAAIF,IAAGW,KAAEqB,KAAED,KAAEV,KAAEC,KAAEd,KAAEC,KAAEiB,KAAEC,KAAEC,IAAEtB,KAAEiB,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBtB,KAAE;AAAC,SAAK,wBAAwB,KAAKA,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,sBAAsBA,KAAEE,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAS,OAAMC,MAAEC,IAAGN,GAAC;AAAE,IAAAE,QAAI,KAAK,SAAS,iCAA+B,KAAK,8BAA8B,GAAEE,IAAE,QAAQC,GAAC,GAAE,KAAK,oBAAqB,MAAID,IAAE,WAAWC,GAAC,CAAE;AAAE,UAAMC,MAAEH,IAAGH,GAAC;AAAE,IAAAI,IAAE,QAAQE,GAAC,GAAE,KAAK,oBAAqB,MAAIF,IAAE,WAAWE,GAAC,CAAE,GAAE,MAAMF,IAAE,KAAKE,KAAEH,GAAC,GAAED,GAAEC,GAAC;AAAE,UAAMI,MAAEL,IAAGF,GAAC;AAAE,WAAOI,IAAE,QAAQG,GAAC,GAAE,KAAK,oBAAqB,MAAIH,IAAE,WAAWG,GAAC,CAAE,GAAE,EAAC,WAAUF,KAAE,UAASC,KAAE,YAAWC,IAAC;AAAA,EAAC;AAAA,EAAC,MAAM,mBAAmBP,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAS,OAAMC,MAAE,EAAC,UAAS,KAAK,SAAS,MAAM,KAAI,YAAW,CAAAH,QAAG,KAAK,2BAA2B,IAAIA,GAAC,GAAE,8BAA6B,CAAAA,QAAG,KAAK,SAAS,6BAA6B,KAAK,2BAA2B,IAAIA,GAAC,CAAC,GAAE,gCAA+B,CAAAA,QAAG,KAAK,SAAS,+BAA+B,KAAK,2BAA2B,IAAIA,GAAC,CAAC,EAAC,GAAEI,MAAE,KAAK,cAAaC,MAAED,MAAE,EAAC,gBAAe,CAACJ,KAAEC,KAAEC,QAAI;AAAC,MAAAF,IAAE,oBAAoBC,KAAE+B,GAAE,GAAEzB,GAAEL,KAAE,EAAGE,IAAE,oBAAmB4B,KAAG9B,GAAC,CAAC;AAAA,IAAC,GAAE,aAAY,CAACF,KAAEC,KAAEC,QAAI;AAAC,MAAAD,IAAE,oBAAoBC,KAAE8B,GAAE,GAAEC,GAAGjC,KAAEI,IAAE,oBAAmB4B,GAAE;AAAA,IAAC,EAAC,IAAE,MAAK1B,MAAE,IAAI4B,GAAG,EAAC,QAAOlC,KAAE,gBAAe,KAAK,iBAAgB,UAASG,KAAE,sBAAqBE,IAAC,GAAE,KAAK,SAAS,SAAS;AAAE,WAAOC,IAAE,oBAAkB,KAAK,SAAS,mBAAkB,KAAK,oBAAqB,MAAI;AAAC,MAAAJ,IAAE,mBAAmBI,GAAC,GAAEA,IAAE,QAAQ;AAAA,IAAC,CAAE,GAAE,MAAMJ,IAAE,gBAAgBI,IAAE,OAAMA,KAAEL,GAAC,GAAEK;AAAA,EAAC;AAAA,EAAC,4BAA4BL,KAAE;AAAC,UAAMC,MAAE,CAAC;AAAE,WAAO,KAAK,kBAAkB,QAAMA,IAAE,gBAAce,KAAE,QAAMhB,OAAG,QAAMA,IAAE,QAAMC,IAAE,gBAAcQ,GAAE,WAAWT,IAAE,KAAK,KAAGC,IAAE,gBAAce,IAAEf,IAAE,eAAa,WAAUA;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,kBAAkB;AAAA,EAAC;AAAA,EAAC,oBAAmB;AAAC,SAAK,wBAAwB,QAAS,CAAAF,QAAGA,IAAE,CAAE,GAAE,KAAK,wBAAwB,SAAO,GAAE,KAAK,aAAW;AAAA,EAAI;AAAA,EAAC,wBAAwBA,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,QAAQ;AAAE,aAAO;AAAK,UAAMC,MAAEc,IAAEf,IAAE,QAAQ;AAAE,QAAG,QAAMC;AAAE,aAAO,KAAK,OAAO,KAAK,8CAA8CD,IAAE,SAAS,IAAI,EAAE,GAAE;AAAK,UAAME,MAAE,KAAK,2BAA2BF,KAAE,IAAIK,KAAC,GAAEF,MAAEJ,IAAE;AAAc,WAAO,KAAK,iBAAiBC,KAAEC,KAAEE,KAAED,KAAEF,IAAE,KAAID,IAAE,MAAM,GAAG;AAAA,EAAC;AAAA,EAAC,0BAA0BA,KAAE;AAAC,SAAK,2BAA2B,OAAOA,IAAE,aAAa;AAAA,EAAC;AAAA,EAAC,0BAAyB;AAAC,WAAO;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAJjgV;AAIkgV,QAAG,QAAM,KAAK;AAAW;AAAO,UAAMA,MAAE,KAAK,kBAAkB,SAAQC,MAAE,CAAC,KAAK,cAAaC,MAAE,KAAK,WAAW,eAAe,WAAUC,MAAE,KAAK,WAAW;AAA2B,aAAQC,MAAE,GAAEA,MAAEF,IAAE,QAAOE,OAAI;AAAC,YAAMC,MAAEH,IAAEE,GAAC,GAAEE,OAAE,gBAAK,gBAAL,mBAAkB,aAAlB,mBAA4B,OAAMC,MAAEJ,IAAEC,GAAC,GAAEI,MAAE,KAAK,oBAAoBF,KAAE,EAAC,mBAAkBL,IAAC,CAAC,IAAEM,IAAE,SAAQE,MAAED,MAAE,KAAGR,OAAGO,IAAE;AAAY,MAAAF,IAAE,cAAc,EAAC,SAAQG,KAAE,aAAYC,IAAC,CAAC,GAAE,KAAK,gBAAcJ,IAAE,cAAc,EAAC,UAASI,MAAEF,GAAG,OAAKA,GAAG,KAAI,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BP,KAAEC,KAAE;AAAC,WAAO,KAAK,qCAAqCD,KAAEC,KAAEc,EAAC;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,QAAG,QAAM,KAAK;AAAW,aAAM;AAAG,SAAK,WAAW,YAAY,oBAAkB,KAAK,SAAS;AAAkB,eAAUf,OAAK,KAAK,WAAW,eAAe;AAAU,MAAAA,IAAE,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC;AAAE,WAAM;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,QAAG,QAAM,KAAK;AAAW,aAAM;AAAG,UAAK,EAAC,gBAAeA,KAAE,QAAOC,IAAC,IAAE,KAAK;AAAW,eAAUC,OAAKF,IAAE;AAAU,WAAK,eAAaE,IAAE,cAAc,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,KAAE,CAAC,IAAED,OAAGC,IAAE,cAAc,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,MAAE,CAAC;AAAE,WAAM,UAAK,KAAK,yBAAuB,SAAK,KAAK,SAAS,kCAAgC,KAAK,wBAAsB,MAAG;AAAA,EAAG;AAAA,EAAC,kBAAkBF,KAAEC,KAAE;AAAC,QAAG,QAAM,KAAK;AAAW,aAAOD,IAAE;AAAe,UAAK,EAAC,gBAAe,EAAC,WAAUE,IAAC,GAAE,aAAYC,KAAE,qBAAoBC,KAAE,YAAWC,KAAE,cAAaC,KAAE,aAAYC,IAAC,IAAE,KAAK;AAAW,eAAUC,OAAKR,IAAE,MAAK;AAAC,UAAG,sBAAoBQ;AAAE,eAAOR,IAAE;AAAe,UAAG,CAAC6B,GAAE,KAAK,cAAa5B,KAAE,KAAK,kCAAkCG,KAAEC,KAAEC,KAAEC,GAAC,CAAC;AAAE,eAAOP,IAAE;AAAe,iBAAUA,OAAKE;AAAE,QAAAF,IAAE,cAAc,KAAK,aAAa,kBAAkB;AAAE,MAAAG,IAAE,kCAAkC;AAAA,IAAC;AAAC,WAAOH,IAAE;AAAA,EAAU;AAAA,EAAC,oBAAmB;AAAC,QAAG,QAAM,KAAK;AAAW,aAAO,MAAM,kBAAkB;AAAE,UAAMA,MAAE,KAAK,WAAW,cAAaC,MAAEM,IAAGP,IAAE,OAAO,CAAC,CAAC,EAAE,OAAQ,CAACA,KAAEC,QAAID,MAAEC,IAAE,QAAQ,IAAIiB,GAAG,QAAQ,EAAE,QAAQ,CAAC,IAAE,GAAEhB,MAAE,CAAAF,QAAG,MAAM,KAAKA,IAAE,iBAAiB,OAAO,CAAC,EAAE,OAAQ,CAACA,KAAEC,QAAID,MAAE,EAAEC,IAAE,IAAI,GAAG,CAAC,IAAE,MAAM,KAAKD,IAAE,QAAQ,OAAO,CAAC,EAAE,OAAQ,CAACA,KAAEC,QAAID,MAAE,EAAEC,GAAC,GAAG,CAAC,GAAEG,MAAED,IAAGH,GAAC,EAAE,OAAQ,CAACA,KAAEC,QAAID,OAAGC,IAAE,WAAW,YAAU,iBAAeA,IAAE,WAAW,WAASA,IAAE,iBAAeA,IAAE,iBAAe,IAAI,CAAC,IAAEC,IAAGF,GAAC,EAAE,OAAQ,CAACA,KAAEC,QAAID,MAAEE,IAAED,GAAC,GAAG,CAAC;AAAE,WAAM,EAAC,sBAAqBA,KAAE,yBAAwB,GAAE,qBAAoB,GAAE,WAAU,OAAG,QAAO,EAAC,GAAGkC,GAAE,KAAK,QAAO,KAAK,WAAW,GAAE,eAAc/B,IAAC,EAAC;AAAA,EAAC;AAAA,EAAC,kBAAiB;AAAC,WAAO,QAAM,KAAK;AAAA,EAAU;AAAA,EAAC,iBAAiBJ,KAAEC,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,QAAG,CAAC,KAAK,gBAAgB,KAAG,QAAM,KAAK;AAAW,aAAO;AAAK,UAAMC,MAAE,KAAK,wBAAwBN,GAAC,GAAEO,MAAE,KAAK,SAAS;AAAe,QAAG,GAAEN,KAAEmC,KAAG,KAAK,SAAS,kBAAkB,gBAAgB,GAAE,QAAM7B,OAAG,CAAC8B,GAAE9B,KAAE6B,GAAE;AAAE,aAAO;AAAK,UAAM5B,MAAE,KAAK,0BAA0BL,GAAC,GAAEM,MAAE,KAAK,wBAAwBR,KAAEE,KAAEmC,KAAGC,GAAE,GAAE7B,MAAE,KAAK,uBAAuB,KAAK,YAAW,KAAK,aAAYR,KAAEsC,GAAE,GAAE7B,MAAE,KAAK,WAAW,YAAY,cAAaG,MAAEH,IAAE,YAAY;AAAE,SAAK,2BAA2B,IAAIG,KAAEV,GAAC,GAAEO,IAAE,kBAAkBG,KAAEJ,KAAE,KAAE,GAAEC,IAAE,mBAAmBG,KAAEL,GAAC,GAAEH,OAAGK,IAAE,oBAAoBG,KAAER,GAAC,GAAE,QAAM,KAAK,gBAAc,KAAK,qBAAqB,KAAGK,IAAE,SAASG,KAAE2B,GAAEvC,IAAE,OAAMA,IAAE,SAAQ,GAAG,CAAC,GAAE,QAAM,KAAK,SAAS,MAAM,WAAW,gCAA8BS,IAAE,yBAAyBG,KAAE,KAAK,SAAS,MAAM,WAAW,6BAA6B,yBAAyB,EAAC,YAAWV,KAAE,UAASC,IAAC,CAAC,CAAC;AAAE,UAAMU,MAAE,IAAIS,IAAE,MAAKV,KAAEK,IAAEhB,GAAC;AAAE,WAAOK,QAAIO,IAAE,0BAAwBwB,IAAG,mBAAkBxB,IAAE,wBAAsBA,GAAEZ,IAAE,IAAI,GAAEY,GAAEA,KAAEd,KAAE,KAAK,SAAS,iBAAiB,GAAEc;AAAA,EAAC;AAAA,EAAC,wBAAwBf,KAAEC,KAAEC,KAAEC,KAAE;AAAC,WAAOM,IAAET,KAAE,KAAK,SAAS,mBAAkBC,KAAE,KAAK,SAAS,oBAAmBE,GAAC,GAAEiC,IAAG,CAAC,IAAEpC,IAAE,GAAEoC,IAAG,CAAC,IAAEpC,IAAE,GAAEoC,IAAG,CAAC,IAAEjC,IAAE,GAAE,GAAEH,IAAE,kBAAiBoC,KAAGlC,KAAE,KAAK,SAAS,mBAAmB,gBAAgB,GAAEA;AAAA,EAAC;AAAA,EAAC,uBAAuBF,KAAEC,KAAEC,KAAEC,KAAE;AAAC,WAAOA,GAAEA,GAAC,GAAE,KAAK,qBAAqBD,KAAE,OAAGC,GAAC,GAAE,KAAK,qBAAqBF,KAAE,MAAGE,GAAC,GAAE,KAAK,kBAAkBH,KAAEE,KAAEC,GAAC,GAAE,KAAK,aAAaH,KAAEC,KAAEE,GAAC,GAAEA;AAAA,EAAC;AAAA,EAAC,kBAAkBH,KAAEC,KAAEC,KAAE;AAJt1c;AAIu1c,SAAG,UAAK,iBAAL,mBAAmB;AAA6B;AAAO,UAAMC,MAAE,KAAK,kBAAkB,QAAMF,IAAE,OAAKA,IAAE,OAAKD,IAAE,YAAWI,MAAEsC,GAAEvC,KAAEH,IAAE,YAAWA,IAAE,cAAa,KAAK,SAAS,mBAAmB,YAAY;AAAE,UAAII,IAAE,CAAC,KAAG,MAAIA,IAAE,CAAC,KAAG,MAAIA,IAAE,CAAC,KAAGoB,GAAEtB,KAAEA,KAAEE,GAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBJ,KAAE;AAAC,QAAG,cAAYA,IAAE,KAAK;AAAK;AAAO,UAAMC,MAAED,IAAE,KAAK;AAAK,SAAK,uBAAuBA,KAAEC,GAAC,GAAE,KAAK,mBAAmBD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,eAAeD,KAAEC,KAAE;AAAC,QAAG,QAAM,KAAK;AAAW,aAAM;AAAG,UAAMC,MAAED,OAAGe,IAAEf,GAAC;AAAE,QAAG,QAAMC;AAAE,aAAM;AAAG,UAAMC,MAAE,KAAK,yBAAyBF,GAAC;AAAE,WAAOD,IAAE,iBAAiB,SAAOG,QAAI,KAAK,wBAAwBD,KAAEF,IAAE,kBAAiBsC,KAAGC,GAAE,GAAE,KAAK,0BAA0BvC,IAAE,gBAAgB,MAAIA,IAAE,0BAAwBuC,IAAG,mBAAkB,KAAK,WAAW,YAAY,aAAa,mBAAmBvC,IAAE,eAAcsC,KAAG,IAAE,GAAEvB,GAAEf,KAAEE,KAAE,KAAK,SAAS,iBAAiB,GAAE;AAAA,EAAG;AAAA,EAAC,uBAAuBF,KAAEC,KAAE;AAAC,QAAG,EAAEA,IAAE,WAASA,IAAE,QAAMA,IAAE,QAAMA,IAAE,SAAOA,IAAE,UAAQA,IAAE,SAAOA,IAAE,UAAQA,IAAE;AAAgB;AAAO,QAAG,QAAM,KAAK;AAAW;AAAO,UAAMC,MAAE,CAACF,KAAEC,KAAEC,SAAK,QAAMF,OAAG,eAAaA,IAAE,OAAKA,IAAE,WAASC,QAAIC,KAAEC,MAAED,IAAED,IAAE,SAAQ,KAAK,YAAY,SAAQ,CAAC,GAAEG,MAAEF,IAAED,IAAE,MAAK,KAAK,YAAY,MAAK,CAAC,GAAEI,MAAEH,IAAED,IAAE,MAAK,KAAK,YAAY,MAAK,CAAC,GAAEK,MAAEJ,IAAED,IAAE,OAAM,KAAK,YAAY,OAAM,MAAM,GAAEM,MAAEL,IAAED,IAAE,QAAO,KAAK,YAAY,QAAO,MAAM,GAAEO,MAAEN,IAAED,IAAE,OAAM,KAAK,YAAY,OAAM,MAAM,GAAEQ,MAAEP,IAAED,IAAE,QAAO,KAAK,YAAY,QAAO,MAAM,GAAES,MAAER,IAAED,IAAE,gBAAe,KAAK,YAAY,gBAAe,MAAM;AAAE,WAAOA,IAAE,SAAQ,OAAOA,IAAE,MAAK,OAAOA,IAAE,MAAK,OAAOA,IAAE,OAAM,OAAOA,IAAE,QAAO,OAAOA,IAAE,OAAM,OAAOA,IAAE,QAAO,OAAOA,IAAE;AAAe,UAAMU,MAAE,EAAC,SAAQR,KAAE,MAAKC,KAAE,MAAKC,KAAE,QAAOI,KAAE,gBAAeC,IAAC,GAAEI,MAAE,KAAK;AAAW,SAAK,eAAaN,IAAE,UAAQR,IAAE,wBAAwB,KAAM,MAAI;AAAC,MAAAc,IAAE,aAAWd,GAAEC,GAAEa,IAAE,cAAa,EAAC,OAAMR,KAAE,QAAOC,KAAE,OAAMC,KAAE,aAAY,KAAK,YAAY,YAAW,CAAC,CAAC;AAAA,IAAC,CAAE,GAAER,IAAE,yBAAyB,KAAM,CAACA,KAAEC,QAAI;AAAC,YAAMC,MAAE,KAAK,uBAAuBY,KAAEH,KAAEV,KAAEuC,GAAE,GAAErC,MAAEH,IAAE;AAAc,MAAAc,IAAE,YAAY,aAAa,kBAAkBX,KAAED,KAAE,IAAE;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,mBAAmBD,KAAEC,KAAE;AAAC,QAAG,CAACA,IAAE,YAAU,cAAYA,IAAE,SAAS;AAAK;AAAO,UAAMC,MAAED,IAAE,SAAS;AAAK,QAAG,CAACC,IAAE,SAAO,eAAaA,IAAE,MAAM,QAAM,QAAMA,IAAE,MAAM,YAAU,QAAMA,IAAE,MAAM;AAAS;AAAO,UAAMC,MAAED,IAAE,MAAM,UAASE,MAAE,QAAMD,MAAEM,GAAE,WAAWN,GAAC,IAAEa;AAAE,WAAOd,IAAE;AAAM,UAAMG,MAAE,KAAK;AAAW,YAAMA,OAAGL,IAAE,yBAAyB,KAAM,CAAAD,QAAG;AAAC,UAAIC;AAAE,WAAK,qBAAqB,KAAGK,IAAE,YAAY,aAAa,SAASN,IAAE,eAAcK,GAAC,GAAEJ,MAAE,KAAK,+BAA+B,CAAC,GAAEG,GAAC,KAAGH,MAAE,KAAK,+BAA+B,EAAC,eAAcI,IAAC,GAAED,GAAC;AAAE,iBAAUF,OAAKI,IAAE,eAAe;AAAU,QAAAJ,IAAE,cAAcD,GAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,0BAA0BD,KAAE;AAAC,WAAM,sBAAoBA,IAAE;AAAA,EAAI;AAAA,EAAC,qBAAqBA,KAAEC,KAAEC,KAAE;AAJv5hB;AAIw5hB,QAAG,GAAC,UAAK,iBAAL,mBAAmB,iCAA8B,CAACD;AAAE,aAAO2B,GAAE5B,IAAE,SAAQA,IAAE,MAAKA,IAAE,MAAKE,GAAC;AAAA,EAAC;AAAA,EAAC,eAAeF,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAEI,GAAE;AAAE,YAAOL,IAAE,QAAO;AAAA,MAAC,KAAI;AAAS,QAAAC,GAAEA,KAAE,EAAEH,GAAC,CAAC,GAAE,EAAEG,KAAEA,GAAC;AAAE;AAAA,MAAM,KAAI,OAAM;AAAC,cAAMF,MAAE,EAAED,GAAC;AAAE,UAAEG,KAAE,CAACF,IAAE,CAAC,GAAE,CAACA,IAAE,CAAC,GAAE,CAACD,IAAE,CAAC,CAAC;AAAE;AAAA,MAAK;AAAA,MAAC,KAAI,UAAS;AAAC,cAAMC,MAAE,EAAED,GAAC;AAAE,UAAEG,KAAE,CAACF,IAAE,CAAC,GAAE,CAACA,IAAE,CAAC,GAAE,CAACD,IAAE,CAAC,CAAC;AAAE;AAAA,MAAK;AAAA,MAAC,KAAI,YAAW;AAAC,cAAMC,MAAE,EAAED,GAAC,GAAEI,MAAE,EAAEJ,GAAC,GAAEK,MAAEH,IAAE,gBAAeI,MAAED,MAAEF,GAAEE,IAAE,GAAEA,IAAE,GAAEA,IAAE,CAAC,IAAEmB;AAAE,QAAAf,GAAEN,KAAEC,KAAEE,GAAC,GAAE,EAAEH,KAAEA,KAAEF,GAAC,GAAE,EAAEE,KAAEA,GAAC;AAAE;AAAA,MAAK;AAAA,MAAC;AAAQ,gBAAMF,MAAE,EAAEE,KAAEF,GAAC,IAAEE,GAAEA,KAAEqB,EAAC;AAAA,IAAC;AAAC,WAAOrB;AAAA,EAAC;AAAA,EAAC,aAAaH,KAAEC,KAAEC,KAAE;AAJ71iB;AAI81iB,SAAG,UAAK,iBAAL,mBAAmB;AAA6B;AAAO,UAAMC,MAAE,KAAK,eAAeH,IAAE,qBAAoBA,IAAE,aAAYC,GAAC;AAAE,IAAAE,OAAGC,GAAEF,KAAEA,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,uBAAsB;AAAC,WAAO,KAAK,kBAAkB,SAAO,KAAK,kBAAkB;AAAA,EAAO;AAAA,EAAC,kCAAkCH,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,QAAMJ,MAAEA,GAAE,EAAEA,GAAC,CAAC,IAAEQ,IAAEH,MAAE,QAAML,MAAE,KAAK,eAAeA,KAAEG,KAAE,KAAK,WAAW,IAAEqB,IAAElB,MAAE,KAAK,SAAS,mBAAmB,cAAaC,MAAEmC,GAAE,QAAMzC,MAAEA,MAAE,QAAOA,KAAEC,KAAEI,GAAC,GAAEE,MAAEL,GAAE,KAAK,YAAY,QAAM,GAAE,KAAK,YAAY,QAAM,GAAE,KAAK,YAAY,WAAS,CAAC;AAAE,WAAO,IAAI,EAAG,EAAC,MAAK,MAAG,OAAM,MAAG,UAAS,MAAG,SAAQ,MAAE,GAAEC,KAAEH,OAAGO,IAAEF,KAAED,KAAEE,KAAEC,GAAC;AAAA,EAAC;AAAC;AAAC,IAAM4B,MAAG7B,GAAE;AAAX,IAAaiC,MAAGxC,IAAE;AAAlB,IAAoBsC,MAAGtC,IAAE;AAAzB,IAA2BgC,MAAGzB,GAAE;AAAhC,IAAkCgC,MAAG,IAAIlB;;;ACApxjB,IAAMsB,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEH,KAAE;AAAC,SAAK,WAASC,KAAE,KAAK,cAAYC,KAAE,KAAK,SAAOF;AAAE,UAAMI,MAAEH,IAAE,QAAOI,MAAE,KAAK,MAAMD,MAAE,CAAC,GAAEE,MAAE,KAAK,SAAO,IAAED,KAAEE,MAAEJ,IAAEG,GAAC,GAAEE,MAAEL,IAAEG,MAAE,CAAC,GAAEG,MAAEN,IAAEG,MAAE,CAAC;AAAE,SAAK,SAAOD,GAAEE,KAAEC,KAAEC,GAAC,GAAE,KAAK,YAAUR,IAAE,IAAEG,GAAC;AAAE,UAAMM,MAAE,KAAK,SAAO,IAAEN;AAAE,aAAQO,MAAE,KAAK,QAAOA,MAAED,KAAEC,OAAG;AAAE,WAAK,UAAUA,GAAC,IAAER,IAAEQ,GAAC,IAAEJ,KAAE,KAAK,UAAUI,MAAE,CAAC,IAAER,IAAEQ,MAAE,CAAC,IAAEH,KAAE,KAAK,UAAUG,MAAE,CAAC,IAAER,IAAEQ,MAAE,CAAC,IAAEF;AAAE,SAAK,4BAA4B;AAAA,EAAC;AAAA,EAAC,8BAA6B;AAAC,UAAME,MAAE,KAAK,SAAS,QAAOC,MAAE,KAAK,SAAS,CAAC;AAAE,QAAIZ,MAAE,KAAK;AAAO,UAAMI,MAAE,KAAK;AAAU,IAAAQ,IAAE,OAAO,CAAC,IAAER,IAAEJ,MAAE,CAAC,IAAEI,IAAEJ,GAAC,GAAEY,IAAE,OAAO,CAAC,IAAER,IAAEJ,MAAE,CAAC,IAAEI,IAAEJ,MAAE,CAAC,GAAEY,IAAE,OAAO,CAAC,IAAER,IAAEJ,MAAE,CAAC,IAAEI,IAAEJ,MAAE,CAAC,GAAEA,OAAG;AAAE,QAAIK,MAAEF,GAAES,IAAE,MAAM;AAAE,IAAAA,IAAE,oBAAkBP,KAAE,EAAEO,IAAE,QAAOA,IAAE,MAAM;AAAE,QAAIN,MAAEM;AAAE,aAAQL,MAAE,GAAEA,MAAEI,KAAE,EAAEJ,KAAE;AAAC,YAAMK,MAAE,KAAK,SAASL,GAAC;AAAE,UAAGK,IAAE,QAAMN,IAAE,QAAOC,MAAEI,MAAE,GAAE;AAAC,QAAAC,IAAE,OAAO,CAAC,IAAER,IAAEJ,MAAE,CAAC,IAAEI,IAAEJ,GAAC,GAAEY,IAAE,OAAO,CAAC,IAAER,IAAEJ,MAAE,CAAC,IAAEI,IAAEJ,MAAE,CAAC,GAAEY,IAAE,OAAO,CAAC,IAAER,IAAEJ,MAAE,CAAC,IAAEI,IAAEJ,MAAE,CAAC;AAAE,cAAMG,MAAEA,GAAES,IAAE,MAAM;AAAE,QAAAA,IAAE,oBAAkB,KAAK,IAAIP,KAAEF,GAAC,GAAEE,MAAEF,KAAE,EAAES,IAAE,QAAOA,IAAE,MAAM;AAAA,MAAC;AAAM,QAAAP,GAAEO,IAAE,QAAOA,IAAE,KAAK,GAAEA,IAAE,oBAAkBP;AAAE,MAAAC,MAAEM,KAAEZ,OAAG;AAAA,IAAC;AAAA,EAAC;AAAC;;;ACAh6B,IAAMa,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAED,KAAEE,KAAEC,KAAEC,KAAEC,MAAE,CAAC,GAAE;AAAC,SAAK,OAAKJ,KAAE,KAAK,UAAQD,KAAE,KAAK,WAASE,KAAE,KAAK,WAASC,KAAE,KAAK,SAAOC,KAAE,KAAK,UAAQC,KAAE,KAAK,wBAAsB;AAAE,UAAMC,MAAE,KAAK,KAAK,SAAS,SAAO;AAAE,SAAK,uBAAqBJ,IAAE,mBAAmB,IAAEI,MAAE,GAAE,KAAK,mBAAiBN,IAAE,SAAS,SAAO,KAAK,sBAAqB,KAAK,SAAS,oBAAkB,KAAK;AAAiB,UAAMO,MAAE,KAAK,SAAS;AAAY,SAAK,oBAAkBA,KAAE,KAAK,OAAO,oBAAkB,KAAK;AAAiB,UAAMC,MAAE,KAAK,OAAO;AAAY,SAAK,oBAAkBA,KAAE,KAAK,iBAAeC,GAAE,IAAE,KAAK,gBAAgB,GAAE,KAAK,mBAAiBC,IAAE,IAAE,KAAK,gBAAgB,GAAE,KAAK,gBAAcA,IAAE,IAAE,KAAK,gBAAgB,GAAE,KAAK,0BAAwBA,IAAE,IAAE,KAAK,gBAAgB,GAAE,KAAK,YAAUP,GAAEF,IAAE,WAAUA,IAAE,QAAO,IAAEA,IAAE,SAAS,MAAM,GAAE,KAAK,iBAAiB,GAAE,KAAK,cAAc;AAAA,EAAC;AAAA,EAAC,WAAWS,KAAEC,KAAEC,KAAEX,KAAED,KAAE;AAAC,UAAME,MAAE,IAAE,KAAK;AAAsB,QAAG,KAAK,iBAAiBA,GAAC,IAAES,IAAE,MAAM,CAAC,GAAE,KAAK,iBAAiBT,MAAE,CAAC,IAAES,IAAE,MAAM,CAAC,GAAE,KAAK,iBAAiBT,MAAE,CAAC,IAAES,IAAE,MAAM,CAAC,GAAE,KAAK,cAAcT,GAAC,IAAES,IAAE,GAAG,CAAC,GAAE,KAAK,cAAcT,MAAE,CAAC,IAAES,IAAE,GAAG,CAAC,GAAE,KAAK,cAAcT,MAAE,CAAC,IAAES,IAAE,GAAG,CAAC,GAAE,KAAK,wBAAwBT,GAAC,IAAEU,IAAE,CAAC,GAAE,KAAK,wBAAwBV,MAAE,CAAC,IAAEU,IAAE,CAAC,GAAE,KAAK,wBAAwBV,MAAE,CAAC,IAAED,IAAE,CAAC,GAAE,KAAK,wBAAwBC,MAAE,CAAC,IAAED,IAAE,CAAC,GAAE,KAAK,eAAe,KAAK,qBAAqB,IAAES,KAAEV,KAAE;AAAC,YAAMW,MAAE,KAAK,KAAK,SAASD,GAAC,GAAEE,MAAED,IAAE;AAAmB,WAAK,iBAAiBT,MAAE,CAAC,IAAES,IAAE,cAAc,CAAC,IAAEC,KAAE,KAAK,cAAcV,MAAE,CAAC,IAAES,IAAE,cAAc,CAAC,IAAEC;AAAA,IAAC;AAAM,WAAK,iBAAiBV,MAAE,CAAC,IAAE,GAAE,KAAK,cAAcA,MAAE,CAAC,IAAE;AAAE,MAAE,KAAK;AAAA,EAAqB;AAAA,EAAC,cAAcQ,KAAEC,KAAEC,KAAEX,KAAED,KAAEE,KAAE;AAAC,UAAMC,MAAE,IAAE,KAAK;AAAsB,SAAK,iBAAiBA,GAAC,IAAEQ,IAAE,MAAM,CAAC,GAAE,KAAK,iBAAiBR,MAAE,CAAC,IAAEQ,IAAE,MAAM,CAAC,GAAE,KAAK,iBAAiBR,MAAE,CAAC,IAAEQ,IAAE,MAAM,CAAC,GAAE,KAAK,iBAAiBR,MAAE,CAAC,IAAEH,KAAE,KAAK,cAAcG,GAAC,IAAEQ,IAAE,GAAG,CAAC,GAAE,KAAK,cAAcR,MAAE,CAAC,IAAEQ,IAAE,GAAG,CAAC,GAAE,KAAK,cAAcR,MAAE,CAAC,IAAEQ,IAAE,GAAG,CAAC,GAAE,KAAK,cAAcR,MAAE,CAAC,IAAED,KAAE,KAAK,wBAAwBC,GAAC,IAAES,IAAE,CAAC,GAAE,KAAK,wBAAwBT,MAAE,CAAC,IAAES,IAAE,CAAC,GAAE,KAAK,wBAAwBT,MAAE,CAAC,IAAEF,IAAE,CAAC,GAAE,KAAK,wBAAwBE,MAAE,CAAC,IAAEF,IAAE,CAAC,GAAE,KAAK,eAAe,KAAK,qBAAqB,IAAES,KAAE,EAAE,KAAK;AAAA,EAAqB;AAAA,EAAC,mBAAkB;AAAC,SAAK,wBAAsB;AAAE,UAAK,EAAC,WAAUA,KAAE,QAAOE,KAAE,UAASX,IAAC,IAAE,KAAK;AAAK,SAAK,YAAUE,GAAEO,KAAEE,KAAE,IAAEX,IAAE,MAAM;AAAE,QAAID,MAAE;AAAE,UAAME,MAAE,CAACQ,KAAEC,KAAEC,KAAEX,KAAEC,QAAI,KAAK,cAAcF,KAAEU,KAAEC,KAAEC,KAAEX,KAAEC,GAAC,GAAEC,MAAE,CAACO,KAAEC,KAAEC,KAAEX,QAAI,KAAK,WAAWD,KAAEU,KAAEC,KAAEC,KAAEX,GAAC;AAAE,SAAI,KAAK,SAAS,iCAAiCA,IAAED,GAAC,GAAE,KAAK,SAAQE,GAAC,GAAEF,MAAE,GAAEA,MAAEC,IAAE,SAAO,GAAE,EAAED;AAAE,WAAK,SAAS,QAAQC,IAAED,GAAC,GAAE,KAAK,SAAQG,GAAC;AAAE,SAAK,OAAO,iCAAiCF,IAAED,GAAC,GAAE,KAAK,SAAQE,GAAC,GAAEF,MAAE,GAAE,KAAK,SAAS,mBAAmBC,IAAED,GAAC,GAAEE,GAAC,GAAEF,MAAEC,IAAE,SAAO,GAAE,KAAK,OAAO,mBAAmBA,IAAED,GAAC,GAAEE,GAAC;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,UAAMQ,MAAE,KAAK,QAAQ,SAAS,QAAOC,MAAE,KAAK,QAAQ,aAAYC,MAAE,KAAK,uBAAqB;AAAE,QAAIZ,MAAE,KAAG,KAAGW,MAAEC;AAAI,SAAK,SAAS,mBAAiBZ,KAAE,KAAK,SAAS,0BAAwB,GAAEA,OAAG,KAAK,SAAS,YAAW,KAAK,OAAO,mBAAiBA,KAAE,KAAK,OAAO,0BAAwBU,OAAG,KAAK,uBAAqB;AAAG,UAAMR,MAAE,IAAI,SAAMC,MAAE,IAAI,SAAMC,MAAE,IAAI,SAAMC,MAAE,CAACK,KAAEC,KAAEC,QAAI;AAAC,MAAAV,IAAE,KAAKQ,GAAC,GAAER,IAAE,KAAKS,GAAC,GAAET,IAAE,KAAKU,GAAC,GAAET,IAAE,KAAKO,GAAC,GAAEP,IAAE,KAAKQ,GAAC,GAAER,IAAE,KAAKS,GAAC,GAAER,IAAE,KAAK,KAAK,eAAeM,GAAC,CAAC,GAAEN,IAAE,KAAK,KAAK,eAAeO,GAAC,CAAC,GAAEP,IAAE,KAAK,KAAK,eAAeQ,GAAC,CAAC;AAAA,IAAC;AAAE,aAAQX,MAAE,GAAEA,MAAEU,KAAE,EAAEV,KAAE;AAAC,YAAMU,MAAE,KAAK,QAAQ,QAAQ,IAAEV,GAAC,GAAED,MAAE,KAAK,QAAQ,QAAQ,IAAEC,MAAE,CAAC;AAAE,eAAQA,MAAE,GAAEA,MAAEW,KAAE,EAAEX,KAAE;AAAC,cAAMW,MAAEX,MAAES,MAAEC,KAAET,OAAGD,MAAE,KAAGS,MAAEV,KAAEG,MAAEF,MAAES,MAAEV;AAAE,QAAAK,IAAEO,MAAGX,MAAE,KAAGS,MAAEC,KAAET,GAAC,GAAEG,IAAEO,KAAEV,KAAEC,GAAC;AAAA,MAAC;AAAA,IAAC;AAAC,SAAK,SAAS,cAAc,KAAK,KAAK,SAAS,CAAC,GAAEE,GAAC,GAAE,KAAK,OAAO,cAAc,KAAK,KAAK,SAAS,KAAK,KAAK,SAAS,SAAO,CAAC,GAAEA,GAAC,GAAE,KAAK,gBAAcK,GAAER,GAAC,GAAE,KAAK,gBAAcQ,GAAEP,GAAC,GAAE,KAAK,oBAAkBO,GAAEN,GAAC;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,SAAK,iBAAiB;AAAA,EAAC;AAAC;;;ACA3jH,IAAMS,MAAN,MAAO;AAAA,EAAC,iCAAiCC,KAAEC,KAAEC,KAAE;AAAC,aAAQC,MAAE,GAAEA,MAAEF,IAAE,SAAS,QAAO,EAAEE;AAAE,MAAAD,IAAEF,IAAE,OAAMC,IAAE,SAASE,GAAC,GAAEF,IAAE,QAAQE,GAAC,GAAE,GAAE,CAAC;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAN,cAAgBL,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAE,KAAK,cAAY,GAAE,KAAK,aAAW;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAA,EAAC;AAAC;AAAC,IAAMM,MAAN,cAAgBN,IAAC;AAAA,EAAC,YAAYC,KAAEC,MAAE,GAAEC,MAAE,OAAG;AAAC,UAAM,GAAE,KAAK,UAAQF,KAAE,KAAK,qBAAmBC,KAAE,KAAK,OAAKC;AAAA,EAAC;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,QAAQ,SAAS;AAAA,EAAM;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,IAAE,KAAK,QAAQ;AAAA,EAAW;AAAA,EAAC,iCAAiCF,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK;AAAmB,aAAQG,MAAE,GAAEA,MAAEL,IAAE,SAAS,QAAO,EAAEK;AAAE,MAAAJ,IAAEF,IAAE,OAAMC,IAAE,SAASK,GAAC,GAAEL,IAAE,QAAQK,GAAC,GAAEH,KAAE,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBF,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAQG,MAAE,KAAK,OAAK,IAAE,IAAGC,MAAE,KAAK,oBAAmBR,MAAES;AAAE,IAAAF,GAAEP,KAAE,GAAE,CAAC;AAAE,aAAQC,MAAE,GAAEA,MAAEG,IAAE,SAAS,QAAO,EAAEH;AAAE,MAAAE,IAAED,IAAE,OAAME,IAAE,SAASH,GAAC,GAAED,KAAEQ,KAAED,GAAC;AAAA,EAAC;AAAA,EAAC,cAAcN,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAQC,MAAE,KAAK,oBAAkBD,IAAE,QAAQ,CAAC;AAAE,aAAQI,MAAE,GAAEA,MAAEJ,IAAE,aAAY,EAAEI,KAAE;AAAC,YAAMN,MAAEE,IAAE,QAAQ,IAAEI,GAAC,GAAEC,MAAEL,IAAE,QAAQ,IAAEI,MAAE,CAAC,GAAEP,MAAE,KAAK,oBAAkBC,KAAEI,MAAE,KAAK,oBAAkBG;AAAE,WAAK,OAAKN,IAAEG,KAAEL,KAAEI,GAAC,IAAEF,IAAEE,KAAEJ,KAAEK,GAAC;AAAA,IAAC;AAAA,EAAC;AAAC;AAAC,IAAMK,MAAN,cAAgBV,IAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAM,GAAE,KAAK,OAAK,OAAG,KAAK,OAAK,GAAE,KAAK,eAAa,OAAG,KAAK,cAAY,GAAE,KAAK,UAAQA,IAAE,SAAQ,KAAK,OAAKA,IAAE,MAAK,KAAK,OAAK,KAAK,OAAK,IAAE,IAAG,KAAK,eAAaA,IAAE,cAAa,KAAK,cAAYA,IAAE;AAAA,EAAY;AAAA,EAAC,IAAI,cAAa;AAAC,QAAIA,MAAE,KAAK,QAAQ,SAAS,UAAQ,KAAK,cAAY,KAAG,KAAK,QAAQ,MAAM;AAAO,WAAO,KAAK,iBAAeA,OAAG,KAAK,QAAQ,SAAS,SAAQA;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,QAAIA,MAAE;AAAE,UAAMC,MAAE,KAAK;AAAQ,IAAAD,OAAG,IAAEC,IAAE,eAAa,KAAK,cAAY;AAAG,aAAQC,MAAE,GAAEA,MAAED,IAAE,aAAY,EAAEC,KAAE;AAAC,YAAMC,MAAEF,IAAE,QAAQ,IAAEC,GAAC,GAAEI,MAAEL,IAAE,QAAQ,IAAEC,MAAE,CAAC;AAAE,MAAAD,IAAE,YAAYE,GAAC,MAAIF,IAAE,YAAYK,GAAC,IAAEN,OAAG,IAAEA,OAAG;AAAA,IAAC;AAAC,WAAO,IAAEA;AAAA,EAAC;AAAA,EAAC,mBAAmBO,KAAER,KAAE;AAAC,UAAMK,MAAE,KAAK,SAAQC,MAAEE,IAAE,OAAME,MAAE,MAAG,KAAK,MAAKC,MAAEC,KAAEC,MAAEJ;AAAE,IAAAF,GAAEM,KAAE,GAAE,CAAC;AAAE,eAAUZ,OAAKI,IAAE;AAAM,MAAAJ,IAAE,SAAOD,IAAEM,KAAEL,IAAE,UAASA,IAAE,QAAOS,KAAE,CAAC,IAAEV,IAAEM,KAAEL,IAAE,UAASY,KAAEH,KAAE,KAAK,IAAI;AAAE,QAAG,KAAK;AAAa,eAAQT,MAAE,GAAEA,MAAEI,IAAE,SAAS,QAAO,EAAEJ;AAAE,QAAAD,IAAEM,KAAED,IAAE,SAASJ,GAAC,GAAEI,IAAE,QAAQJ,GAAC,GAAE,GAAE,CAAC;AAAE,aAAQA,MAAE,GAAEA,MAAE,KAAK,cAAY,GAAE,EAAEA,KAAE;AAAC,YAAMO,OAAG,KAAGP,MAAE,KAAG,KAAK,eAAa,KAAK,KAAG,KAAGW,MAAE,KAAK,IAAIJ,GAAC,GAAEC,MAAE,KAAK,IAAID,GAAC;AAAE,eAAQP,MAAE,GAAEA,MAAEI,IAAE,SAAS,QAAO,EAAEJ,KAAE;AAAC,cAAMO,MAAEH,IAAE,MAAMA,IAAE,YAAYJ,GAAC,CAAC;AAAE,QAAAD,GAAEW,KAAEN,IAAE,SAASJ,GAAC,GAAEO,IAAE,QAAQ,GAAEH,GAAEM,KAAEA,KAAEC,GAAC,GAAEJ,IAAE,UAAQL,GAAEQ,KAAEA,KAAEH,IAAE,QAAQ,GAAER,IAAEM,KAAEK,KAAEH,IAAE,QAAOE,MAAED,KAAE,CAAC,MAAI,EAAEI,KAAEF,GAAC,GAAEN,GAAEQ,KAAEA,KAAED,GAAC,GAAET,GAAEQ,KAAEA,KAAEH,IAAE,QAAQ,GAAER,IAAEM,KAAEK,KAAEE,KAAEH,MAAED,KAAE,KAAK,OAAKA,GAAC;AAAA,MAAE;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,cAAcR,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,SAAQC,MAAE,KAAK,eAAa,KAAK,oBAAkBD,IAAE,MAAM,SAAO,KAAK,yBAAwBI,MAAE,KAAK,eAAa,KAAK,oBAAkBJ,IAAE,MAAM,SAAOA,IAAE,SAAS,SAAO,KAAK,oBAAkBA,IAAE,MAAM;AAAO,aAAQK,MAAE,GAAEA,MAAEL,IAAE,aAAY,EAAEK,KAAE;AAAC,YAAMP,MAAEE,IAAE,QAAQ,IAAEK,GAAC,GAAER,MAAEG,IAAE,QAAQ,IAAEK,MAAE,CAAC,GAAEH,MAAE,KAAK,oBAAkBF,IAAE,YAAYF,GAAC,GAAEK,MAAE,KAAK,oBAAkBH,IAAE,YAAYH,GAAC;AAAE,UAAIU,MAAEN,MAAEH,KAAEW,MAAER,MAAEJ;AAAE,eAAQI,MAAE,GAAEA,MAAE,KAAK,cAAY,GAAE,EAAEA,KAAE;AAAC,cAAMI,MAAED,MAAEH,MAAED,IAAE,SAAS,SAAOF,KAAEI,MAAEE,MAAEH,MAAED,IAAE,SAAS,SAAOH;AAAE,aAAK,QAAME,IAAEM,KAAEI,KAAEF,GAAC,GAAER,IAAEU,KAAEJ,KAAEH,GAAC,MAAIH,IAAEQ,KAAEE,KAAEJ,GAAC,GAAEN,IAAEG,KAAEG,KAAEI,GAAC,IAAGF,MAAEF,KAAEI,MAAEP;AAAA,MAAC;AAAC,WAAK,QAAMH,IAAEG,KAAEO,KAAEF,GAAC,GAAEL,QAAIC,OAAGJ,IAAEG,KAAEC,KAAEM,GAAC,MAAIV,IAAEQ,KAAEE,KAAEP,GAAC,GAAEA,QAAIC,OAAGJ,IAAEU,KAAEN,KAAED,GAAC;AAAA,IAAE;AAAA,EAAC;AAAC;AAAC,IAAMO,MAAEJ,GAAE;AAAV,IAAYC,KAAED,GAAE;;;ACA9oF,IAAMM,MAAN,MAAO;AAAA,EAAC,qBAAoB;AAAC,WAAO;AAAA,EAAC;AAAA,EAAC,QAAQC,KAAEC,KAAEC,KAAE;AAAC,aAAQC,MAAE,GAAEA,MAAEF,IAAE,SAAS,QAAO,EAAEE;AAAE,MAAAD,IAAEF,IAAE,OAAMC,IAAE,SAASE,GAAC,GAAEF,IAAE,QAAQE,GAAC,GAAE,KAAE;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAN,MAAO;AAAA,EAAC,YAAYJ,KAAEC,KAAE;AAAC,SAAK,cAAYD,KAAE,KAAK,sBAAoBC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,KAAK,sBAAoB;AAAA,EAAC;AAAA,EAAC,QAAQA,KAAEE,KAAEE,KAAE;AAAC,UAAMC,MAAEC,KAAE,EAAC,eAAcC,KAAE,eAAcT,KAAE,OAAMK,IAAC,IAAEH;AAAE,QAAG,KAAK,IAAIO,GAAC,KAAG,KAAK,aAAY;AAAC,YAAMC,MAAER,IAAE;AAAgB,eAAQM,MAAE,GAAEA,MAAE,KAAK,sBAAoB,GAAE,EAAEA,KAAE;AAAC,QAAAG,GAAEC,KAAE,MAAG,CAACH,MAAED,MAAEC,MAAE,KAAK,qBAAoBC,GAAC,GAAEG,IAAEN,KAAEF,KAAEO,GAAC;AAAE,iBAAQX,MAAE,GAAEA,MAAEG,IAAE,SAAS,QAAO,EAAEH,KAAE;AAAC,cAAGa,GAAEV,IAAE,SAASH,GAAC,GAAED,GAAC,IAAES,OAAG;AAAE,YAAAH,IAAEC,KAAEH,IAAE,SAASH,GAAC,GAAEG,IAAE,QAAQH,GAAC,GAAE,KAAE;AAAA,eAAM;AAAC,YAAAK,IAAED,KAAEH,IAAE,kBAAkBa,KAAEX,IAAE,SAASH,GAAC,CAAC,GAAEG,IAAE,QAAQH,GAAC,GAAE,IAAE;AAAA,UAAC;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC;AAAM,eAAQA,MAAE,GAAEA,MAAE,KAAK,sBAAoB,GAAE,EAAEA;AAAE,iBAAQM,MAAE,GAAEA,MAAEH,IAAE,SAAS,QAAO,EAAEG,KAAE;AAAC,gBAAMN,MAAEa,GAAEV,IAAE,SAASG,GAAC,GAAEP,GAAC,IAAES,OAAG;AAAE,UAAAH,IAAED,KAAEH,IAAE,kBAAkBa,KAAEX,IAAE,SAASG,GAAC,CAAC,GAAEH,IAAE,QAAQG,GAAC,GAAE,CAACN,GAAC;AAAA,QAAC;AAAA,EAAC;AAAC;AAAC,IAAMS,MAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,KAAGH,GAAE,GAAE,KAAK,QAAMA,GAAE;AAAA,EAAC;AAAC;AAAC,SAASM,IAAEZ,KAAEC,KAAEC,KAAE;AAAC,IAAEF,IAAE,IAAGC,IAAE,IAAGC,GAAC,GAAE,EAAEF,IAAE,OAAMC,IAAE,OAAMC,GAAC;AAAC;AAAC,IAAMY,MAAER,GAAE;AAAV,IAAYK,MAAET,IAAE;AAAhB,IAAkBK,MAAE,IAAIE;;;ACAnoC,IAAMM,MAAN,cAAgBC,GAAC;AAAA,EAAC,YAAYC,KAAEF,KAAEG,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAML,KAAEF,KAAEG,KAAE,MAAKH,IAAE,MAAKO,GAAC,GAAE,KAAK,OAAKH,KAAE,KAAK,aAAWC,KAAE,KAAK,eAAaC;AAAA,EAAC;AAAC;AAAC,IAAIH;AAAE,SAASC,IAAEI,KAAE;AAAC,SAAM,UAASA;AAAC;AAAC,CAAC,SAASA,KAAE;AAAC,EAAAA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,IAAEA,IAAE,OAAK,CAAC,IAAE;AAAM,EAAEL,QAAIA,MAAE,CAAC,EAAE;;;ACA6U,IAAMM,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAE;AAAC,SAAK,UAAQA;AAAA,EAAC;AAAA,EAAC,cAAcA,KAAE;AAAC,SAAK,QAAQ,cAAc;AAAA,EAAC;AAAC;AAAC,IAAMC,KAAN,cAAgBF,IAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAMA,GAAC,GAAE,KAAK,uBAAqBE,GAAE,KAAI,KAAI,KAAI,GAAG,GAAE,KAAK,OAAK,IAAI,SAAM,KAAK,0BAAwBF,IAAE,IAAE,KAAK,QAAQ,gBAAgB,GAAE,KAAK,wBAAsB,IAAI,WAAW,IAAE,KAAK,QAAQ,gBAAgB;AAAA,EAAC;AAAA,EAAC,iBAAiBA,KAAE;AAAC,SAAK,qBAAqB,CAAC,IAAE,MAAIA,IAAE,CAAC,GAAE,KAAK,qBAAqB,CAAC,IAAE,MAAIA,IAAE,CAAC,GAAE,KAAK,qBAAqB,CAAC,IAAE,MAAIA,IAAE,CAAC,GAAE,KAAK,qBAAqB,CAAC,IAAE,OAAKA,IAAE,SAAO,IAAEA,IAAE,CAAC,IAAE;AAAA,EAAE;AAAA,EAAC,KAAKG,KAAE;AAAC,SAAK,OAAKA;AAAE,UAAK,EAAC,kBAAiBC,KAAE,gBAAeC,KAAE,MAAKC,KAAE,WAAUC,KAAE,kBAAiBC,KAAE,eAAcC,KAAE,yBAAwBC,IAAC,IAAE,KAAK;AAAQ,aAAQX,MAAE,GAAEA,MAAEK,KAAE,EAAEL,KAAE;AAAC,UAAIK,MAAEC,IAAEN,GAAC;AAAE,YAAME,MAAE,MAAIG,OAAGA,QAAIE,IAAE,SAAS,SAAO;AAAE,MAAAF,OAAG;AAAE,YAAMO,MAAEC;AAAE,UAAIC,MAAE,GAAEC,KAAE;AAAE,YAAMC,KAAE,IAAEhB,KAAEiB,KAAE,EAAEC,IAAET,IAAEO,EAAC,GAAEP,IAAEO,KAAE,CAAC,GAAEP,IAAEO,KAAE,CAAC,CAAC,GAAEG,KAAE,EAAEC,IAAEV,IAAEM,EAAC,GAAEN,IAAEM,KAAE,CAAC,GAAEN,IAAEM,KAAE,CAAC,CAAC,GAAEK,MAAElB,GAAEmB,KAAEX,IAAEK,EAAC,IAAEZ,IAAE,CAAC,GAAEO,IAAEK,KAAE,CAAC,IAAEZ,IAAE,CAAC,CAAC;AAAE,UAAGF;AAAE,UAAEU,KAAEO,IAAEF,EAAC,GAAEH,MAAEL,IAAEO,KAAE,CAAC,IAAEZ,IAAE,CAAC,GAAEW,KAAEL,IAAEM,KAAE,CAAC;AAAA,WAAM;AAAC,cAAMZ,MAAEmB,KAAEC,MAAEC;AAAE,QAAAtB,GAAEC,KAAEK,IAAEO,KAAE,CAAC,GAAEN,IAAEM,KAAE,CAAC,CAAC;AAAE,cAAMX,MAAEqB,GAAEtB,GAAC;AAAE,UAAEA,KAAEA,GAAC;AAAE,cAAME,MAAEqB,GAAEN,KAAEjB,GAAC;AAAE,YAAG,KAAK,IAAIE,GAAC,IAAED,KAAE;AAAC,UAAAF,GAAEqB,KAAE,CAACpB,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC;AAAE,gBAAMwB,MAAED,GAAEN,KAAEG,GAAC;AAAE,UAAAnB,GAAED,KAAEA,KAAEC,MAAE,KAAK,KAAKC,GAAC,CAAC,GAAED,GAAEmB,KAAEA,KAAEI,GAAC,GAAEC,GAAER,KAAEjB,KAAEoB,GAAC;AAAA,QAAC;AAAC,UAAEZ,KAAE,GAAE,GAAE,CAAC;AAAA,MAAC;AAAC,YAAMe,MAAE,EAAEG,KAAEb,GAAE,CAAC,IAAEI,IAAE,CAAC,IAAEF,GAAE,CAAC,IAAEE,IAAE,CAAC,GAAEJ,GAAE,CAAC,IAAEI,IAAE,CAAC,IAAEF,GAAE,CAAC,IAAEE,IAAE,CAAC,GAAEJ,GAAE,CAAC,IAAEI,IAAE,CAAC,IAAEF,GAAE,CAAC,IAAEE,IAAE,CAAC,CAAC,GAAEU,MAAE,IAAE/B;AAAE,WAAK,wBAAwB+B,GAAC,IAAEvB,IAAEH,GAAC,IAAEsB,IAAE,CAAC,IAAEf,IAAE,CAAC,IAAEE,KAAE,KAAK,wBAAwBiB,MAAE,CAAC,IAAEvB,IAAEH,MAAE,CAAC,IAAEsB,IAAE,CAAC,IAAEf,IAAE,CAAC,IAAEE,KAAE,KAAK,wBAAwBiB,MAAE,CAAC,IAAEvB,IAAEH,MAAE,CAAC,IAAEsB,IAAE,CAAC,IAAEf,IAAE,CAAC,IAAEE;AAAE,YAAMkB,MAAE7B,GAAEmB,KAAEX,IAAEK,KAAE,CAAC,GAAEL,IAAEK,KAAE,CAAC,CAAC;AAAE,MAAAZ,IAAE,KAAK,uBAAsBJ,KAAEiB,GAAE,CAAC,IAAEe,IAAE,CAAC,IAAEb,GAAE,CAAC,IAAEa,IAAE,CAAC,IAAEpB,IAAE,CAAC,IAAEG,IAAEE,GAAE,CAAC,IAAEe,IAAE,CAAC,IAAEb,GAAE,CAAC,IAAEa,IAAE,CAAC,IAAEpB,IAAE,CAAC,IAAEG,IAAEE,GAAE,CAAC,IAAEe,IAAE,CAAC,IAAEb,GAAE,CAAC,IAAEa,IAAE,CAAC,IAAEpB,IAAE,CAAC,IAAEG,EAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,UAAMd,MAAE,KAAK,QAAQ,cAAc;AAAO,WAAO,IAAIa,GAAE,CAAC,CAACS,GAAE,UAAS,IAAIM,GAAE,KAAK,yBAAwB,GAAE,IAAE,CAAC,GAAE,CAACN,GAAE,kBAAiB,IAAIM,GAAE,KAAK,uBAAsB,GAAE,IAAE,CAAC,GAAE,CAACN,GAAE,OAAM,IAAIM,GAAE,KAAK,sBAAqB,CAAC,CAAC,CAAC,GAAE,CAAC,CAACN,GAAE,UAAS,KAAK,QAAQ,aAAa,GAAE,CAACA,GAAE,kBAAiB,KAAK,QAAQ,aAAa,GAAE,CAACA,GAAE,OAAMlB,IAAEJ,GAAC,CAAC,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,cAAcA,KAAE;AAAC,UAAM,cAAcA,GAAC,GAAE,KAAK,KAAK,KAAK,IAAI;AAAA,EAAC;AAAA,EAAC,UAAUA,KAAE2B,KAAEK,KAAE;AAAC,UAAMJ,MAAE,KAAK,QAAQ,eAAc1B,MAAE,IAAI0B,GAAE,KAAK,yBAAwB,CAAC,GAAEK,MAAEL,IAAE,SAAO;AAAE,IAAAC,GAAE7B,KAAE2B,KAAE,GAAEM,KAAEL,KAAE1B,KAAE,QAAO,QAAO8B,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMrB,MAAN,cAAgBZ,IAAC;AAAA,EAAC,YAAYC,KAAE2B,KAAEK,KAAEJ,KAAE;AAAC,UAAM5B,GAAC,GAAE,KAAK,qBAAmB2B,KAAE,KAAK,sBAAoBK,KAAE,KAAK,wBAAsBJ,KAAE,KAAK,SAAO,MAAK,KAAK,QAAM,IAAI3B,GAAED,GAAC,GAAE,KAAK,SAAOA,IAAE,IAAE,KAAK,QAAQ,KAAK,SAAS,MAAM;AAAE,aAAQE,MAAE,GAAEA,MAAE,KAAK,QAAQ,KAAK,SAAS,QAAO,EAAEA,KAAE;AAAC,WAAK,OAAO,IAAEA,GAAC,IAAEyB,KAAE,KAAK,OAAO,IAAEzB,MAAE,CAAC,IAAE8B,KAAE,KAAK,OAAO,IAAE9B,MAAE,CAAC,IAAE0B;AAAE,YAAM5B,MAAE,MAAIE,OAAGA,QAAI,KAAK,QAAQ,KAAK,SAAS,SAAO;AAAE,WAAK,OAAO,IAAEA,MAAE,CAAC,IAAEF,MAAE,IAAE;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,IAAIa,GAAE,CAAC,CAACS,GAAE,UAAS,IAAIM,GAAE,KAAK,QAAQ,WAAU,GAAE,IAAE,CAAC,GAAE,CAACN,GAAE,cAAa,IAAIM,GAAE,KAAK,QAAQ,kBAAiB,GAAE,IAAE,CAAC,GAAE,CAACN,GAAE,WAAU,IAAIM,GAAE,KAAK,QAAQ,eAAc,GAAE,IAAE,CAAC,GAAE,CAACN,GAAE,wBAAuB,IAAIM,GAAE,KAAK,QAAQ,yBAAwB,GAAE,IAAE,CAAC,GAAE,CAACN,GAAE,cAAa,IAAIM,GAAE,KAAK,QAAO,GAAE,IAAE,CAAC,CAAC,GAAE,CAAC,CAACN,GAAE,UAAS,KAAK,QAAQ,iBAAiB,GAAE,CAACA,GAAE,cAAa,KAAK,QAAQ,aAAa,GAAE,CAACA,GAAE,WAAU,KAAK,QAAQ,aAAa,GAAE,CAACA,GAAE,wBAAuB,KAAK,QAAQ,aAAa,GAAE,CAACA,GAAE,cAAa,KAAK,QAAQ,iBAAiB,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,cAActB,KAAE;AAAC,UAAM,cAAcA,GAAC;AAAE,UAAM2B,MAAE3B,IAAE,oBAAoBsB,GAAE,QAAQ;AAAE,IAAAK,QAAIA,IAAE,OAAK,KAAK,QAAQ;AAAA,EAAU;AAAC;AAAC,IAAMd,KAAN,MAAO;AAAA,EAAC,YAAYb,KAAE2B,KAAE;AAAC,SAAK,mBAAiB3B,KAAE,KAAK,UAAQ2B;AAAA,EAAC;AAAC;AAAC,IAAMN,MAAElB,GAAE;AAAV,IAAYmB,MAAEnB,GAAE;AAAhB,IAAkBqB,KAAErB,GAAE;AAAtB,IAAwB0B,MAAE1B,GAAE;AAA5B,IAA8BS,MAAET,GAAE;AAAlC,IAAoCc,KAAEd,GAAE;AAAxC,IAA0CgB,KAAEhB,GAAE;;;ACA1rG,SAAS+B,IAAEC,KAAEC,KAAE;AAAC,MAAIC,MAAE;AAAK,QAAMC,MAAEH,IAAE,SAAS,QAAOD,MAAE,eAAaK,MAAEC,GAAE,GAAEC,MAAED,GAAE,GAAEE,MAAEF,GAAE,GAAEG,KAAEH,GAAE,GAAEI,MAAEJ,GAAE,GAAEK,MAAEL,GAAE,GAAEM,KAAEC,GAAE;AAAE,MAAIC,MAAEb,IAAE,SAAS,CAAC;AAAE,EAAAC,GAAEK,KAAEL,GAAC,GAAE,EAAEG,KAAE,GAAE,GAAE,CAAC,GAAE,GAAES,IAAE,QAAOP,KAAEF,KAAEA,KAAEG,KAAED,KAAEP,GAAC,GAAEE,GAAEY,IAAE,MAAM,IAAGP,GAAC,GAAEL,GAAEY,IAAE,MAAM,OAAMN,GAAC;AAAE,QAAMO,KAAEd,IAAE;AAAU,MAAIe,MAAEf,IAAE;AAAO,EAAAE,MAAEW;AAAE,WAAQG,MAAE,GAAEA,MAAEb,KAAE,EAAEa,KAAE;AAAC,IAAAH,MAAEb,IAAE,SAASgB,GAAC,GAAE,EAAEP,KAAEI,IAAE,OAAMA,IAAE,MAAM;AAAE,QAAIZ,MAAEgB,GAAER,GAAC;AAAE,IAAAR,MAAE,KAAGA,MAAE,IAAE,KAAK,KAAKA,GAAC,GAAEQ,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAER,KAAEQ,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAER,KAAEQ,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAER,QAAIQ,IAAE,CAAC,IAAEI,IAAE,OAAO,CAAC,GAAEJ,IAAE,CAAC,IAAEI,IAAE,OAAO,CAAC,GAAEJ,IAAE,CAAC,IAAEI,IAAE,OAAO,CAAC,IAAGH,IAAE,CAAC,IAAEI,GAAEC,GAAC,IAAEb,IAAE,MAAM,GAAG,CAAC,GAAEQ,IAAE,CAAC,IAAEI,GAAEC,MAAE,CAAC,IAAEb,IAAE,MAAM,GAAG,CAAC,GAAEQ,IAAE,CAAC,IAAEI,GAAEC,MAAE,CAAC,IAAEb,IAAE,MAAM,GAAG,CAAC,GAAEa,OAAG;AAAE,UAAMG,MAAE,EAAEC,IAAEL,GAAEC,GAAC,GAAED,GAAEC,MAAE,CAAC,GAAED,GAAEC,MAAE,CAAC,CAAC;AAAE,IAAAK,GAAEF,KAAET,KAAEE,EAAC;AAAE,IAAAF,GAAEE,IAAE,EAAED,KAAEG,IAAE,KAAK,GAAEL,EAAC,KAAGA,GAAE,CAAC,KAAGM,GAAEC,GAAC,GAAEP,GAAE,CAAC,KAAGM,GAAEC,MAAE,CAAC,GAAEP,GAAE,CAAC,KAAGM,GAAEC,MAAE,CAAC,GAAE,EAAET,KAAEE,EAAC,GAAE,EAAED,KAAEE,KAAEH,GAAC,GAAE,EAAEC,KAAEA,GAAC,KAAG,GAAEE,KAAEP,IAAE,MAAM,IAAGA,IAAE,MAAM,OAAME,KAAEG,KAAED,KAAEP,GAAC,GAAEE,GAAEY,IAAE,MAAM,IAAGP,GAAC,GAAEL,GAAEY,IAAE,MAAM,OAAMN,GAAC,GAAEL,MAAEW;AAAA,EAAC;AAAC;AAAC,IAAMM,KAAEd,GAAE;;;ACAtmC,IAAMgB,MAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,WAAS,IAAI,SAAM,KAAK,UAAQ,IAAI,SAAM,KAAK,UAAQ,IAAI,SAAM,KAAK,QAAM,IAAI,SAAM,KAAK,cAAY,IAAI;AAAA,EAAK;AAAA,EAAC,UAAUC,KAAEC,KAAE;AAAC,WAAO,KAAK,SAAS,KAAKD,GAAEA,GAAC,CAAC,GAAE,KAAK,QAAQ,KAAKA,GAAEC,GAAC,CAAC,GAAE,KAAK,SAAS,SAAO;AAAA,EAAC;AAAA,EAAC,QAAQD,KAAEC,MAAE,MAAK;AAAC,WAAO,KAAK,MAAM,KAAK,EAAC,UAASD,GAAEA,GAAC,GAAE,QAAOC,MAAED,GAAEC,GAAC,IAAE,KAAI,CAAC,GAAE,KAAK,MAAM,SAAO;AAAA,EAAC;AAAA,EAAC,WAAWD,KAAEE,MAAE,MAAK;AAAC,SAAK,QAAQ,KAAKF,IAAE,EAAE,GAAE,KAAK,QAAQ,KAAKA,IAAE,EAAE,GAAEE,QAAI,KAAK,YAAY,KAAKA,IAAE,EAAE,GAAE,KAAK,YAAY,KAAKA,IAAE,EAAE;AAAA,EAAE;AAAA,EAAC,IAAI,cAAa;AAAC,WAAO,KAAK,QAAQ,SAAO;AAAA,EAAC;AAAA,EAAC,UAAUF,KAAEE,KAAE;AAAC,eAAUD,OAAK,KAAK;AAAS,MAAAA,IAAE,CAAC,KAAGD,KAAEC,IAAE,CAAC,KAAGC;AAAE,eAAUD,OAAK,KAAK;AAAM,MAAAA,IAAE,SAAS,CAAC,KAAGD,KAAEC,IAAE,SAAS,CAAC,KAAGC;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAE,EAAC,KAAI,CAAC,GAAE,IAAG,GAAE,QAAO,CAAC,GAAE,GAAE,EAAC;AAAE,SAASC,IAAEF,KAAE;AAAC,QAAME,MAAE,KAAGC,MAAEC,KAAEC,MAAE,IAAIR,OAAES,MAAE,EAAC,IAAG,GAAE,IAAG,EAAC;AAAE,EAAAD,IAAE,QAAQH,GAAE,GAAE,CAAC,CAAC;AAAE,WAAQH,MAAE,GAAEA,MAAEI,KAAE,EAAEJ,KAAE;AAAC,UAAMC,MAAE,IAAED,MAAE,KAAK,KAAGI,KAAEN,MAAE,KAAK,IAAIG,GAAC,GAAEC,MAAE,KAAK,IAAID,GAAC,GAAEM,MAAEJ,GAAEL,MAAEK,KAAED,MAAEC,GAAC,GAAEE,MAAEF,GAAEL,KAAEI,GAAC;AAAE,IAAAI,IAAE,UAAUC,KAAEF,GAAC;AAAA,EAAC;AAAC,WAAQN,MAAE,GAAEA,MAAEK,MAAE,GAAE,EAAEL,KAAE;AAAC,UAAME,MAAE,EAAC,IAAGF,KAAE,IAAGA,MAAE,EAAC;AAAE,IAAAO,IAAE,WAAWL,KAAEM,GAAC;AAAA,EAAC;AAAC,QAAMF,MAAE,EAAC,IAAGD,MAAE,GAAE,IAAG,EAAC;AAAE,MAAGE,IAAE,WAAWD,KAAEE,GAAC,GAAE,aAAWN,KAAE;AAAC,UAAMF,MAAEG,IAAED,GAAC;AAAE,IAAAK,IAAE,UAAUP,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC;AAAA,EAAC;AAAC,SAAOO;AAAC;AAAC,IAAMF,MAAE,EAAC,QAAOD,IAAE,QAAQ,GAAE,KAAIA,IAAE,KAAK,GAAE,QAAOA,IAAE,QAAQ,EAAC;AAA3D,IAA6DG,MAAE,EAAC,QAAOC,IAAE,QAAQ,GAAE,KAAIA,IAAE,KAAK,GAAE,QAAOA,IAAE,QAAQ,EAAC;AAAE,SAASA,IAAEN,KAAE;AAAC,QAAMD,MAAE,GAAEG,MAAE,GAAEC,MAAE,IAAIN,OAAEQ,MAAEH,GAAE,MAAG,CAACH,KAAE,MAAG,CAACG,GAAC,GAAEI,MAAEJ,GAAE,MAAGH,KAAE,MAAG,CAACG,GAAC,GAAEE,MAAEF,GAAE,MAAGH,KAAE,MAAGG,GAAC,GAAEK,MAAEL,GAAE,MAAG,CAACH,KAAE,MAAGG,GAAC,GAAEM,MAAEN,GAAE,GAAE,EAAE,GAAEO,MAAEP,GAAE,GAAE,CAAC,GAAEQ,MAAER,GAAE,GAAE,CAAC,GAAES,MAAET,GAAE,IAAG,CAAC;AAAE,MAAGC,IAAE,QAAQD,GAAE,GAAE,MAAGA,GAAC,GAAEQ,GAAC,GAAEP,IAAE,QAAQD,GAAE,GAAE,MAAGA,GAAC,CAAC,GAAEC,IAAE,QAAQD,GAAE,GAAE,MAAG,CAACA,GAAC,CAAC,GAAEC,IAAE,QAAQD,GAAE,GAAE,MAAG,CAACA,GAAC,GAAEM,GAAC,GAAEL,IAAE,UAAUE,KAAEG,GAAC,GAAEL,IAAE,UAAUG,KAAEE,GAAC,GAAEL,IAAE,WAAW,EAAC,IAAG,GAAE,IAAG,EAAC,GAAE,EAAC,IAAG,GAAE,IAAG,EAAC,CAAC,GAAEA,IAAE,UAAUG,KAAEG,GAAC,GAAEN,IAAE,UAAUC,KAAEK,GAAC,GAAEN,IAAE,WAAW,EAAC,IAAG,GAAE,IAAG,EAAC,GAAE,EAAC,IAAG,GAAE,IAAG,EAAC,CAAC,GAAEA,IAAE,UAAUC,KAAEM,GAAC,GAAEP,IAAE,UAAUI,KAAEG,GAAC,GAAEP,IAAE,WAAW,EAAC,IAAG,GAAE,IAAG,EAAC,GAAE,EAAC,IAAG,GAAE,IAAG,EAAC,CAAC,GAAEA,IAAE,UAAUI,KAAEI,GAAC,GAAER,IAAE,UAAUE,KAAEM,GAAC,GAAER,IAAE,WAAW,EAAC,IAAG,GAAE,IAAG,EAAC,GAAE,EAAC,IAAG,GAAE,IAAG,EAAC,CAAC,GAAE,aAAWH,KAAE;AAAC,UAAMF,MAAEG,IAAED,GAAC;AAAE,IAAAG,IAAE,UAAUL,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC;AAAA,EAAC;AAAC,SAAOK;AAAC;;;ACAlzD,SAASS,IAAEC,KAAED,KAAE;AAAC,SAAOC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC;AAAC;AAAC,SAASC,IAAED,KAAE;AAAC,SAAOA,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAE,GAAEA;AAAC;AAAC,SAASE,IAAEF,KAAED,KAAEE,KAAEC,KAAEC,KAAE;AAAC,SAAOH,IAAE,CAAC,IAAED,KAAEC,IAAE,CAAC,IAAEC,KAAED,IAAE,CAAC,IAAEE,KAAEF,IAAE,CAAC,IAAEG,KAAEH;AAAC;AAAC,SAASG,IAAEH,KAAED,KAAE;AAAC,MAAGC,QAAID,KAAE;AAAC,UAAME,MAAEF,IAAE,CAAC;AAAE,IAAAC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAEC;AAAA,EAAC;AAAM,IAAAD,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC;AAAE,SAAOC;AAAC;AAAC,SAASI,IAAEJ,KAAED,KAAE;AAAC,QAAME,MAAEF,IAAE,CAAC,GAAEG,MAAEH,IAAE,CAAC,GAAEI,MAAEJ,IAAE,CAAC,GAAEK,MAAEL,IAAE,CAAC;AAAE,MAAIM,MAAEJ,MAAEG,MAAED,MAAED;AAAE,SAAOG,OAAGA,MAAE,IAAEA,KAAEL,IAAE,CAAC,IAAEI,MAAEC,KAAEL,IAAE,CAAC,IAAE,CAACE,MAAEG,KAAEL,IAAE,CAAC,IAAE,CAACG,MAAEE,KAAEL,IAAE,CAAC,IAAEC,MAAEI,KAAEL,OAAG;AAAI;AAAC,SAASK,IAAEL,KAAED,KAAE;AAAC,QAAME,MAAEF,IAAE,CAAC;AAAE,SAAOC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAE,CAACD,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAE,CAACD,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAEC,KAAED;AAAC;AAAC,SAASM,IAAEN,KAAE;AAAC,SAAOA,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC;AAAC;AAAC,SAASO,IAAEP,KAAED,KAAEE,KAAE;AAAC,QAAMC,MAAEH,IAAE,CAAC,GAAEI,MAAEJ,IAAE,CAAC,GAAEK,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC,GAAEO,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC,GAAEO,MAAEP,IAAE,CAAC,GAAEQ,MAAER,IAAE,CAAC;AAAE,SAAOD,IAAE,CAAC,IAAEE,MAAEI,MAAEF,MAAEG,KAAEP,IAAE,CAAC,IAAEG,MAAEG,MAAED,MAAEE,KAAEP,IAAE,CAAC,IAAEE,MAAEM,MAAEJ,MAAEK,KAAET,IAAE,CAAC,IAAEG,MAAEK,MAAEH,MAAEI,KAAET;AAAC;AAAC,SAASQ,IAAER,KAAED,KAAEE,KAAE;AAAC,QAAMC,MAAEH,IAAE,CAAC,GAAEI,MAAEJ,IAAE,CAAC,GAAEK,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC,GAAEO,MAAE,KAAK,IAAIL,GAAC,GAAEM,MAAE,KAAK,IAAIN,GAAC;AAAE,SAAOD,IAAE,CAAC,IAAEE,MAAEK,MAAEH,MAAEE,KAAEN,IAAE,CAAC,IAAEG,MAAEI,MAAEF,MAAEC,KAAEN,IAAE,CAAC,IAAEE,MAAE,CAACI,MAAEF,MAAEG,KAAEP,IAAE,CAAC,IAAEG,MAAE,CAACG,MAAED,MAAEE,KAAEP;AAAC;AAAC,SAASS,IAAET,KAAED,KAAEE,KAAE;AAAC,QAAMC,MAAEH,IAAE,CAAC,GAAEI,MAAEJ,IAAE,CAAC,GAAEK,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC,GAAEO,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC;AAAE,SAAOD,IAAE,CAAC,IAAEE,MAAEI,KAAEN,IAAE,CAAC,IAAEG,MAAEG,KAAEN,IAAE,CAAC,IAAEI,MAAEG,KAAEP,IAAE,CAAC,IAAEK,MAAEE,KAAEP;AAAC;AAAC,SAASU,IAAEV,KAAED,KAAE;AAAC,QAAME,MAAE,KAAK,IAAIF,GAAC,GAAEG,MAAE,KAAK,IAAIH,GAAC;AAAE,SAAOC,IAAE,CAAC,IAAEE,KAAEF,IAAE,CAAC,IAAEC,KAAED,IAAE,CAAC,IAAE,CAACC,KAAED,IAAE,CAAC,IAAEE,KAAEF;AAAC;AAAC,SAASW,IAAEX,KAAED,KAAE;AAAC,SAAOC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAE,GAAEA,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC;AAAC;AAAC,SAASY,GAAEZ,KAAE;AAAC,SAAM,UAAQA,IAAE,CAAC,IAAE,OAAKA,IAAE,CAAC,IAAE,OAAKA,IAAE,CAAC,IAAE,OAAKA,IAAE,CAAC,IAAE;AAAG;AAAC,SAASa,IAAEb,KAAE;AAAC,SAAO,KAAK,KAAKA,IAAE,CAAC,KAAG,IAAEA,IAAE,CAAC,KAAG,IAAEA,IAAE,CAAC,KAAG,IAAEA,IAAE,CAAC,KAAG,CAAC;AAAC;AAAC,SAASc,IAAEd,KAAED,KAAEE,KAAEC,KAAE;AAAC,SAAOF,IAAE,CAAC,IAAEE,IAAE,CAAC,IAAEA,IAAE,CAAC,GAAED,IAAE,CAAC,IAAEC,IAAE,CAAC,GAAED,IAAE,CAAC,IAAEC,IAAE,CAAC,GAAED,IAAE,CAAC,IAAEC,IAAE,CAAC,IAAEF,IAAE,CAAC,IAAEC,IAAE,CAAC,GAAE,CAACD,KAAED,KAAEE,GAAC;AAAC;AAAC,SAASc,IAAEf,KAAED,KAAEE,KAAE;AAAC,SAAOD,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED;AAAC;AAAC,SAASgB,IAAEhB,KAAED,KAAEE,KAAE;AAAC,SAAOD,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,GAAED;AAAC;AAAC,SAASiB,GAAEjB,KAAED,KAAE;AAAC,SAAOC,IAAE,CAAC,MAAID,IAAE,CAAC,KAAGC,IAAE,CAAC,MAAID,IAAE,CAAC,KAAGC,IAAE,CAAC,MAAID,IAAE,CAAC,KAAGC,IAAE,CAAC,MAAID,IAAE,CAAC;AAAC;AAAC,SAASmB,GAAEnB,KAAEE,KAAE;AAAC,QAAMC,MAAEH,IAAE,CAAC,GAAEI,MAAEJ,IAAE,CAAC,GAAEK,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC,GAAEO,MAAEL,IAAE,CAAC,GAAEM,MAAEN,IAAE,CAAC,GAAEO,MAAEP,IAAE,CAAC,GAAEQ,MAAER,IAAE,CAAC,GAAES,MAAET,GAAE;AAAE,SAAO,KAAK,IAAIC,MAAEI,GAAC,KAAGI,MAAE,KAAK,IAAI,GAAE,KAAK,IAAIR,GAAC,GAAE,KAAK,IAAII,GAAC,CAAC,KAAG,KAAK,IAAIH,MAAEI,GAAC,KAAGG,MAAE,KAAK,IAAI,GAAE,KAAK,IAAIP,GAAC,GAAE,KAAK,IAAII,GAAC,CAAC,KAAG,KAAK,IAAIH,MAAEI,GAAC,KAAGE,MAAE,KAAK,IAAI,GAAE,KAAK,IAAIN,GAAC,GAAE,KAAK,IAAII,GAAC,CAAC,KAAG,KAAK,IAAIH,MAAEI,GAAC,KAAGC,MAAE,KAAK,IAAI,GAAE,KAAK,IAAIL,GAAC,GAAE,KAAK,IAAII,GAAC,CAAC;AAAC;AAAC,SAASU,IAAEnB,KAAED,KAAEE,KAAE;AAAC,SAAOD,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,KAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,KAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,KAAED,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,KAAED;AAAC;AAAC,SAASoB,GAAEpB,KAAED,KAAEE,KAAEC,KAAE;AAAC,SAAOF,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,IAAEC,KAAEF,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,IAAEC,KAAEF,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,IAAEC,KAAEF,IAAE,CAAC,IAAED,IAAE,CAAC,IAAEE,IAAE,CAAC,IAAEC,KAAEF;AAAC;AAAC,IAAMqB,MAAEd;AAAR,IAAUe,KAAEN;AAAZ,IAAcO,MAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,KAAIT,KAAE,KAAIC,KAAE,SAAQV,KAAE,MAAKN,KAAE,aAAYO,KAAE,QAAOY,IAAE,aAAYD,IAAE,MAAKJ,KAAE,cAAaH,KAAE,aAAYC,KAAE,UAASV,KAAE,QAAOG,KAAE,KAAIiB,KAAE,UAASd,KAAE,gBAAeY,KAAE,sBAAqBC,IAAE,QAAOZ,KAAE,OAAMC,KAAE,KAAIP,KAAE,KAAIU,IAAE,KAAIU,IAAE,UAASN,KAAE,WAAUb,IAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;;;ACAx1E,SAASqB,MAAG;AAAC,SAAM,CAAC,GAAE,GAAE,GAAE,CAAC;AAAC;AAAC,SAASC,IAAED,KAAE;AAAC,SAAM,CAACA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC;AAAC;AAAC,SAASE,IAAEF,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAM,CAACH,KAAEC,KAAEC,KAAEC,GAAC;AAAC;AAAC,SAASA,IAAEH,KAAEC,KAAE;AAAC,SAAO,IAAI,aAAaD,KAAEC,KAAE,CAAC;AAAC;AAAC,IAAMG,MAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,OAAMH,KAAE,QAAOD,KAAE,YAAWG,KAAE,YAAWD,IAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;;;ACAiP,IAAMG,KAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,QAAMC,GAAE,GAAE,KAAK,SAAOA,GAAE,GAAE,KAAK,oBAAkB,GAAE,KAAK,QAAM,IAAIC;AAAA,EAAC;AAAA,EAAC,qBAAqBC,KAAE;AAAC,IAAAC,GAAE,KAAK,MAAM,IAAGD,GAAC,GAAE,EAAEE,KAAE,KAAK,OAAM,KAAK,MAAM,GAAE,EAAEA,KAAEA,GAAC,GAAE,EAAEC,KAAE,KAAK,MAAM,IAAG,EAAED,KAAE,KAAK,MAAM,EAAE,CAAC,GAAEE,GAAEC,IAAEH,KAAEC,GAAC,GAAE,EAAEE,IAAEA,EAAC,GAAE,EAAE,KAAK,MAAM,OAAMA,IAAE,KAAK,MAAM,EAAE;AAAA,EAAC;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,KAAG,KAAK;AAAA,EAAa;AAAC;AAAC,IAAMC,KAAN,cAAgBT,GAAC;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,KAAK,MAAM;AAAA,EAAE;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAOU;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,MAAEC,KAAE,KAAK,MAAM,IAAG,EAAE,KAAK,MAAM,IAAG,KAAK,KAAK,CAAC,GAAEJ,GAAEI,KAAE,KAAK,OAAMA,GAAC,GAAE,EAAEA,KAAEA,GAAC,GAAE,EAAEA,KAAEA,GAAC,GAAE,EAAEC,IAAE,KAAK,MAAM,IAAG,EAAE,KAAK,MAAM,IAAG,KAAK,MAAM,CAAC,GAAEL,GAAEK,IAAE,KAAK,QAAOA,EAAC,GAAE,EAAEA,IAAEA,EAAC,GAAE,EAAEC,IAAE,KAAK,iBAAgB,KAAK,KAAK;AAAE,WAAO,KAAK,KAAK,EAAEA,IAAE,KAAK,MAAM,CAAC,KAAG,KAAK,KAAGH,GAAE,EAAEC,KAAEC,EAAC,CAAC;AAAA,EAAE;AAAA,EAAC,IAAI,qBAAoB;AAAC,WAAO,KAAK,IAAI,KAAK,oBAAkB,KAAK,IAAI,MAAG,KAAK,YAAY,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBT,KAAEW,KAAE;AAAC,UAAMV,MAAE,KAAK;AAAc,QAAG,KAAK,IAAIA,GAAC,KAAG;AAAE,aAAOU;AAAE,UAAMP,MAAE,EAAE,KAAK,IAAI,MAAGH,GAAC,CAAC;AAAE,WAAOA,GAAED,MAAGI,MAAE,IAAE,KAAGO,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAN,cAAgBf,GAAC;AAAA,EAAC,IAAI,kBAAiB;AAAC,UAAMG,MAAE,KAAK,KAAK,EAAE,KAAK,MAAM,OAAM,KAAK,MAAM,CAAC;AAAE,WAAO,EAAEa,KAAE,KAAK,QAAO,KAAK,KAAK,GAAE,EAAEA,KAAEA,KAAEb,GAAC,GAAE,EAAEa,KAAEA,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,UAAMb,MAAE,KAAK,iBAAgBc,MAAE,EAAEd,KAAE,KAAK,MAAM,EAAE,GAAEW,MAAE,EAAEX,KAAE,KAAK,MAAM,KAAK;AAAE,WAAO,EAAEe,IAAE,KAAK,MAAM,IAAG,CAACJ,GAAC,GAAE,EAAEK,IAAE,KAAK,MAAM,OAAMF,GAAC,GAAE,EAAEC,IAAEA,IAAEC,EAAC,GAAE,EAAED,IAAEA,EAAC,GAAEE,IAAEC,IAAE,KAAK,OAAMH,EAAC,GAAEG;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,UAAMJ,MAAE,KAAK,KAAK,EAAE,KAAK,MAAM,OAAM,KAAK,MAAM,CAAC;AAAE,WAAO,EAAEJ,IAAE,KAAK,KAAK,GAAE,CAACI,OAAG,KAAK,KAAGP,GAAE,EAAEG,IAAE,KAAK,MAAM,CAAC;AAAA,EAAE;AAAA,EAAC,IAAI,qBAAoB;AAAC,WAAO,KAAK,IAAI,KAAK,oBAAkB,EAAE,KAAK,IAAI,MAAG,KAAK,YAAY,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBV,KAAEC,KAAE;AAAC,UAAMkB,MAAE,KAAK;AAAc,QAAG,MAAI,KAAK,IAAIA,GAAC;AAAE,aAAOlB;AAAE,UAAMmB,MAAE,EAAE,KAAK,IAAI,MAAGD,GAAC,CAAC,GAAErB,MAAE,KAAK,eAAcuB,MAAEpB,IAAEqB,KAAE,KAAGF,MAAE,KAAGtB,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAGsB,MAAE,KAAGtB,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAGsB,MAAE,KAAGtB,IAAE,CAAC,IAAEA,IAAE,CAAC,GAAE,KAAGsB,MAAE,KAAGtB,IAAE,CAAC,IAAEA,IAAE,CAAC,CAAC;AAAE,WAAOyB,GAAEvB,KAAEC,KAAEoB,GAAC;AAAA,EAAC;AAAC;AAAC,SAASJ,IAAEjB,KAAEc,KAAEH,KAAE;AAAC,EAAAV,GAAED,KAAE,EAAEW,KAAEG,IAAE,KAAK,GAAE,EAAEH,KAAEG,IAAE,EAAE,CAAC;AAAC;AAAC,SAASU,IAAExB,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAKqB,IAAE;AAAM,aAAO,IAAIf;AAAA,IAAE,KAAKe,IAAE;AAAK,aAAO,IAAIT;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAEf,GAAE;AAAV,IAAYoB,KAAEpB,GAAE;AAAhB,IAAkBiB,KAAEjB,GAAE;AAAtB,IAAwBkB,KAAElB,GAAE;AAA5B,IAA8BY,KAAEZ,GAAE;AAAlC,IAAoCU,MAAEV,GAAE;AAAxC,IAA0CW,KAAEX,GAAE;AAA9C,IAAgDK,MAAEL,GAAE;AAApD,IAAsDI,MAAEJ,GAAE;AAA1D,IAA4DO,KAAEP,GAAE;AAAhE,IAAkEwB,MAAElB,IAAE;;;ACA36B,IAAMqB,KAAE,oBAAI,IAAI,CAAC,CAACC,GAAE,UAAS,CAAC,GAAE,CAACA,GAAE,cAAa,CAAC,GAAE,CAACA,GAAE,WAAU,CAAC,GAAE,CAACA,GAAE,wBAAuB,CAAC,GAAE,CAACA,GAAE,cAAa,CAAC,CAAC,CAAC;AAAE,IAAMC,KAAN,cAAgBC,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,UAAQC,GAAE,KAAG,KAAG,GAAE,GAAE,KAAK,UAAQA,GAAE,KAAG,KAAG,GAAE,GAAE,KAAK,WAASA,GAAE,GAAE,GAAE,CAAC,GAAE,KAAK,UAAQ,GAAE,KAAK,SAAOD,GAAE,GAAE,KAAK,sBAAoB;AAAA,EAAI;AAAC;AAAC,IAAME,MAAN,MAAM,WAAUC,IAAC;AAAA,EAAC,wBAAwBA,KAAEC,KAAE;AAAC,IAAAA,IAAE,YAAUD,IAAE,gBAAcE,IAAE,QAAOD,IAAE,qCAAmCD,IAAE,KAAK,WAAW,mCAAmC;AAAA,EAAM;AAAA,EAAC,kBAAkBA,KAAE;AAAC,WAAO,IAAIG,IAAEH,IAAE,MAAK,GAAE,OAAO,IAAI,EAAE,MAAM,KAAK,aAAa,GAAEN,EAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,UAAMM,MAAE,KAAK,cAAc,sBAAqBC,MAAE,KAAK,eAAcG,MAAEJ,QAAIC,GAAE,MAAKE,MAAEH,QAAIC,GAAE;AAAU,WAAOI,GAAE,EAAC,UAASJ,IAAE,WAASK,GAAE,SAAOL,IAAE,WAASK,GAAE,SAAO,CAACL,IAAE,cAAY,OAAKG,MAAEG,MAAEC,GAAER,GAAC,GAAE,SAAQC,IAAE,iBAAe,CAACA,IAAE,eAAaA,IAAE,oBAAkBE,IAAE,OAAKF,MAAE,MAAK,WAAU,EAAC,MAAKC,IAAEF,GAAC,EAAC,GAAE,YAAWI,OAAGD,MAAEM,MAAE,MAAK,YAAWC,IAAE,cAAaT,IAAE,eAAaD,MAAE,MAAK,aAAYC,IAAE,eAAaU,MAAE,MAAK,eAAcP,OAAGD,MAAE,OAAKO,GAAC,CAAC;AAAA,EAAC;AAAC;AAACX,IAAE,SAAO,IAAIK,IAAET,IAAG,MAAI,OAAO,yBAAyB,CAAE;AAAE,IAAMiB,KAAN,cAAgBC,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,SAAOP,GAAE,OAAM,KAAK,kBAAgBH,IAAE,MAAK,KAAK,uBAAqBF,GAAE,MAAK,KAAK,YAAU,OAAG,KAAK,iBAAe,OAAG,KAAK,0BAAwB,OAAG,KAAK,SAAO,OAAG,KAAK,UAAQ,OAAG,KAAK,YAAU,OAAG,KAAK,gBAAc,OAAG,KAAK,cAAY,OAAG,KAAK,eAAa,OAAG,KAAK,sBAAoB,OAAG,KAAK,kBAAgB,OAAG,KAAK,qCAAmC;AAAA,EAAE;AAAC;AAAC,EAAE,CAACH,IAAE,EAAC,OAAMQ,GAAE,MAAK,CAAC,CAAC,GAAEM,GAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAACd,IAAE,EAAC,OAAMK,IAAE,MAAK,CAAC,CAAC,GAAES,GAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAACd,IAAE,EAAC,OAAMG,GAAE,MAAK,CAAC,CAAC,GAAEW,GAAE,WAAU,wBAAuB,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,aAAY,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,kBAAiB,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,2BAA0B,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,WAAU,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,aAAY,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,eAAc,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,gBAAe,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,uBAAsB,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,sCAAqC,MAAM,GAAE,EAAE,CAACd,IAAE,EAAC,YAAWS,IAAE,SAAQ,CAAC,CAAC,GAAEK,GAAE,WAAU,WAAU,MAAM,GAAE,EAAE,CAACd,IAAE,EAAC,YAAW,KAAE,CAAC,CAAC,GAAEc,GAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAACd,IAAE,EAAC,YAAW,MAAE,CAAC,CAAC,GAAEc,GAAE,WAAU,gCAA+B,MAAM,GAAE,EAAE,CAACd,IAAE,EAAC,YAAW,MAAE,CAAC,CAAC,GAAEc,GAAE,WAAU,iBAAgB,MAAM;;;ACAx+F,IAAME,MAAN,MAAM,WAAUC,GAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAMA,KAAE,IAAIC,KAAC,GAAE,KAAK,gBAAc,MAAG,KAAK,4BAA0BC,IAAE,KAAK,iBAAe,IAAIC,MAAE,KAAK,sBAAoB,GAAE,sBAAsB;AAAA,EAAC;AAAA,EAAC,iBAAiBH,KAAEI,KAAE;AAAC,WAAO,KAAK,eAAe,SAAOJ,KAAE,KAAK,eAAe,SAAO,CAAC,CAAC,KAAK,WAAW,QAAO,KAAK,eAAe,UAAQ,CAAC,CAAC,KAAK,WAAW,SAAQ,KAAK,eAAe,YAAU,CAAC,CAAC,KAAK,WAAW,WAAU,KAAK,eAAe,gBAAc,KAAK,WAAW,eAAc,KAAK,eAAe,cAAY,KAAK,WAAW,aAAY,KAAK,eAAe,eAAa,KAAK,WAAW,cAAaA,QAAIK,GAAE,SAAOL,QAAIK,GAAE,UAAQ,KAAK,eAAe,kBAAgB,KAAK,WAAW,eAAa,aAAW,KAAK,WAAW,kBAAgBC,IAAE,OAAK,KAAK,WAAW,eAAa,oBAAkB,KAAK,WAAW,kBAAgBA,IAAE,eAAaA,IAAE,MAAK,KAAK,eAAe,iBAAe,KAAK,WAAW,gBAAe,KAAK,eAAe,0BAAwB,CAAC,CAACF,IAAE,WAAW,UAAQ,KAAK,WAAW,cAAa,KAAK,eAAe,uBAAqBA,IAAE,sBAAqB,KAAK,eAAe,sBAAoBA,IAAE,iBAAiB,SAAQ,KAAK,eAAe,kBAAgBA,IAAE,iBAAiB,iBAAgB,KAAK;AAAA,EAAc;AAAA,EAAC,mBAAmBJ,KAAE;AAAC,WAAOA,QAAIK,GAAE,UAAQL,QAAIK,GAAE,0BAAwBL,QAAIK,GAAE,mBAAiB,KAAK,WAAW;AAAA,EAAW;AAAA,EAAC,YAAW;AAAC,WAAO,MAAM,UAAU,KAAG,KAAK,WAAW,UAAQ;AAAA,EAAC;AAAA,EAAC,UAAUE,KAAED,KAAEE,KAAEC,KAAEC,KAAEL,KAAE;AAAC,UAAMM,MAAEJ;AAAE,QAAG,CAACK,IAAED,GAAC;AAAE;AAAO,UAAME,MAAEF,IAAE,MAAKG,MAAE,CAAC,KAAK,WAAW,KAAK,CAAC,GAAE,KAAK,WAAW,KAAK,CAAC,CAAC;AAAE,QAAG,KAAK,WAAW,QAAO;AAAC,YAAK,EAAC,QAAOV,KAAE,QAAOG,KAAE,SAAQD,KAAE,SAAQE,IAAC,IAAE,KAAK,WAAW,QAAOC,MAAEI,IAAE;AAAmB,MAAAC,IAAE,CAAC,KAAG,EAAEV,IAAE,CAAC,IAAEK,MAAEF,IAAE,CAAC,GAAED,IAAE,CAAC,GAAEE,IAAE,CAAC,CAAC,GAAEM,IAAE,CAAC,KAAG,EAAEV,IAAE,CAAC,IAAEK,MAAEF,IAAE,CAAC,GAAED,IAAE,CAAC,GAAEE,IAAE,CAAC,CAAC;AAAA,IAAC;AAAC,UAAMT,MAAE,KAAK,IAAIe,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC,GAAEC,MAAER,IAAE;AAAa,QAAG,QAAMQ;AAAE,aAAO,KAAK,KAAK,oBAAoBF,KAAEC,KAAEL,KAAEC,KAAEL,GAAC;AAAE,UAAMW,MAAER,GAAEO,IAAE,MAAM,CAAC,IAAEhB,KAAEgB,IAAE,MAAM,CAAC,IAAEhB,KAAEgB,IAAE,MAAM,CAAC,IAAEhB,KAAEgB,IAAE,MAAM,CAAC,IAAEhB,KAAEgB,IAAE,MAAM,CAAC,IAAEhB,KAAEgB,IAAE,MAAM,CAAC,IAAEhB,GAAC,GAAED,MAAE,CAACY,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC,GAAEC,IAAE,CAAC,IAAED,IAAE,CAAC,CAAC,GAAEQ,MAAE,KAAK,KAAKnB,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,IAAEA,IAAE,CAAC,CAAC,GAAEG,MAAE,CAACgB,MAAEnB,IAAE,CAAC,GAAEmB,MAAEnB,IAAE,CAAC,GAAEmB,MAAEnB,IAAE,CAAC,CAAC;AAAE,IAAAoB,GAAEF,KAAEP,KAAER,KAAEO,IAAE,SAAS,KAAG,KAAK,oBAAoBK,KAAEC,KAAEL,KAAEC,KAAEL,GAAC;AAAA,EAAC;AAAA,EAAC,oBAAoBL,KAAEI,KAAEG,KAAED,KAAEE,KAAE;AAAC,IAAAR,IAAE,MAAM,QAAMA,IAAE,MAAM,KAAK,CAAC,MAAII,IAAE,CAAC,KAAGJ,IAAE,MAAM,KAAK,CAAC,MAAII,IAAE,CAAC,KAAGJ,IAAE,MAAM,KAAKI,GAAC,GAAEJ,IAAE,MAAM,UAAUO,KAAED,KAAEE,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,IAAID,IAAE,KAAK,mBAAmB;AAAA,EAAC;AAAA,EAAC,aAAaP,KAAEI,KAAE;AAAC,YAAOA,KAAE;AAAA,MAAC,KAAKC,GAAE;AAAA,MAAO,KAAKA,GAAE;AAAA,MAAgB,KAAKA,GAAE;AAAuB,YAAG,CAAC,KAAK,WAAW;AAAY,iBAAM;AAAA,MAAG,KAAKA,GAAE;AAAA,MAAM,KAAKA,GAAE;AAAA,MAAM,KAAKA,GAAE;AAAA,MAAM,KAAKA,GAAE;AAAA,MAAO,KAAKA,GAAE;AAAA,MAAU,KAAKA,GAAE;AAAsB,eAAOL,SAAK,KAAK,WAAW,cAAYmB,GAAE,uBAAqBA,GAAE,oBAAkBnB,QAAImB,GAAE;AAAA,MAAgB;AAAQ,eAAM;AAAA,IAAE;AAAA,EAAC;AAAA,EAAC,iBAAiBnB,KAAE;AAAC,WAAO,IAAIiB,IAAEjB,GAAC;AAAA,EAAC;AAAA,EAAC,OAAO,wBAAuB;AAAC,WAAOoB,GAAE,EAAE,MAAMC,GAAE,QAAQ,EAAE,MAAMA,GAAE,YAAY,EAAE,MAAMA,GAAE,SAAS,EAAE,MAAMA,GAAE,sBAAsB,EAAE,MAAMA,GAAE,YAAY;AAAA,EAAC;AAAC;AAAC,IAAMJ,MAAN,cAAgBb,IAAC;AAAA,EAAC,qBAAqBJ,KAAE;AAAC,IAAAA,IAAE,iBAAe,KAAK,UAAU,WAAW,gBAAc,KAAK,UAAU,cAAc,EAAC,cAAaA,IAAE,aAAY,CAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBA,KAAE;AAAC,YAAM,KAAK,aAAWA,IAAE,UAAU,YAAU,KAAK,UAAU,cAAc,kBAAgB,KAAK,UAAU,cAAc,EAAC,gBAAeA,IAAE,UAAU,QAAO,CAAC;AAAA,EAAC;AAAA,EAAC,UAAUA,KAAE;AAAC,WAAO,KAAK,YAAUK,GAAE,SAAO,KAAK,YAAUA,GAAE,UAAQ,KAAK,mBAAmBL,GAAC,GAAE,KAAK,qBAAqBA,GAAC,IAAG,KAAK,gBAAgBmB,KAAEnB,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMC,MAAN,cAAgBqB,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,cAAY,OAAG,KAAK,kBAAgB,UAAS,KAAK,cAAY,MAAG,KAAK,iBAAe,OAAG,KAAK,cAAY,MAAG,KAAK,gBAAc,OAAG,KAAK,cAAY,OAAG,KAAK,eAAa;AAAA,EAAE;AAAC;;;ACAppD,IAAMC,MAAG,CAAC,UAAU;AAAE,IAAMC,MAAN,cAAiBC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,GAAC,GAAE,KAAK,iBAAeC,GAAE,GAAE,CAAC,GAAE,KAAK,qBAAmBC,IAAE,MAAK,KAAK,gBAAc,KAAG,KAAK,mBAAmB,KAAE;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAJj1F;AAIk1F,UAAMJ,MAAE,QAAM,KAAK,YAAY,QAAM,KAAK,YAAY,QAAM,KAAK,YAAY,QAAOC,MAAE,QAAM,KAAK,YAAY,SAAO,KAAK,YAAY,SAAOD;AAAE,SAAK,oBAAkB,IAAI,EAAE,EAAC,MAAK,MAAG,OAAM,MAAG,UAAS,OAAG,SAAQ,KAAE,GAAE,CAAC,GAAE,GAAE,CAAC,GAAE,CAACA,KAAE,GAAEC,GAAC,GAAE,KAAK,SAAS,mBAAmB,YAAY,GAAE,KAAK,iBAAa,gBAAK,SAAS,aAAd,mBAAwB,oBAAxB,mBAAyC,UAAO,IAAEI,GAAE,KAAK,SAAS,UAAS,KAAK,iBAAiB,IAAE;AAAK,UAAMH,MAAE,KAAK,YAAY,UAAQ;AAAS,SAAK,qBAAmB,cAAY,KAAK,YAAY,kBAAgBE,IAAE,QAAMA,IAAE;AAAK,UAAMA,MAAE,KAAK,YAAY,WAAS;AAAS,YAAOA,KAAE;AAAA,MAAC;AAAA,MAAQ,KAAI;AAAS,aAAK,WAASE,IAAEJ,GAAC;AAAE;AAAA,MAAM,KAAI;AAAO,aAAK,WAASK,IAAEL,GAAC;AAAA,IAAC;AAAC,YAAO,KAAK,YAAY,MAAK;AAAA,MAAC,KAAI;AAAQ,aAAK,YAAU,IAAIM,IAAE,GAAEJ,GAAC;AAAE;AAAA,MAAM,KAAI;AAAQ,aAAK,YAAU,IAAII,IAAE,GAAE,CAAC;AAAE;AAAA,MAAM,KAAI;AAAQ,aAAK,YAAU,IAAIA,IAAE,MAAG,KAAK,IAAG,CAAC;AAAE;AAAA,MAAM;AAAQ,aAAK,YAAU,IAAIC;AAAA,IAAC;AAAC,UAAMC,MAAE,KAAK,YAAY,OAAK;AAAO,YAAOA,KAAE;AAAA,MAAC,KAAI;AAAO,aAAK,YAAU,IAAIA,OAAE,KAAK,UAAQ,IAAIA;AAAE;AAAA,MAAM,KAAI;AAAA,MAAO;AAAQ,aAAK,YAAU,IAAIZ,IAAE,KAAK,UAAS,CAAC,GAAE,KAAK,UAAQ,IAAIA,IAAE,KAAK,UAAS,GAAE,IAAE;AAAE;AAAA,MAAM,KAAI;AAAS,aAAK,YAAU,IAAIA,IAAE,KAAK,UAAS,IAAG,GAAE,KAAK,UAAQ,IAAIA,IAAE,KAAK,UAAS,KAAG,IAAE;AAAE;AAAA,MAAM,KAAI,SAAQ;AAAC,cAAMC,MAAE,WAASK;AAAE,aAAK,YAAU,IAAIO,IAAE,EAAC,SAAQ,KAAK,UAAS,MAAK,OAAG,cAAaZ,KAAE,cAAaC,IAAC,CAAC,GAAE,KAAK,UAAQ,IAAIW,IAAE,EAAC,SAAQ,KAAK,UAAS,MAAK,MAAG,cAAaZ,KAAE,cAAaC,IAAC,CAAC;AAAE;AAAA,MAAK;AAAA,IAAC;AAAC,UAAMS,OAAE,gBAAK,gBAAL,mBAAkB,aAAlB,mBAA4B,OAAMG,MAAE,KAAK,4BAA4BH,GAAC,GAAEI,MAAEd,GAAEa,GAAC,GAAEN,MAAEM,IAAE,CAAC,GAAED,MAAEL,MAAE,KAAG,KAAK,4BAA2BE,MAAE,EAAC,SAAQK,KAAE,SAAQA,KAAE,SAAQP,KAAE,aAAYK,KAAE,iBAAgB,OAAG,eAAc,KAAK,SAAS,mBAAkB,aAAY,KAAK,YAAY,aAAY,UAASA,OAAG,WAASD,MAAEI,GAAE,OAAKA,GAAE,MAAK,4BAA2B,KAAE;AAAE,QAAG,CAAC,KAAK,kBAAkB,SAAOX,GAAE,KAAK,gBAAeH,KAAEC,GAAC,GAAE,CAACI,GAAE,KAAK,eAAe,CAAC,CAAC,KAAG,CAACA,GAAE,KAAK,eAAe,CAAC,CAAC;AAAG,YAAM,IAAIH,GAAE,0CAAyC,yCAAyC;AAAE,QAAG,KAAK,gBAAc,KAAK,aAAa,gBAAgB,QAAMQ,GAAE,KAAK,gBAAe,KAAK,gBAAe,IAAE,KAAK,SAAS,mBAAmB,YAAY,GAAE,KAAK,cAAa;AAAC,YAAMX,MAAE,EAAC,GAAGS,KAAE,GAAG,KAAK,aAAa,oBAAmB,MAAKT,IAAE,KAAK,cAAc,EAAC;AAAE,WAAK,YAAU,IAAIgB,IAAEhB,GAAC;AAAA,IAAC;AAAM,MAAAS,IAAE,kBAAgB,KAAK,kBAAkB,SAAO,KAAK,kBAAkB,SAAQA,IAAE,aAAWD,IAAE,YAAW,KAAK,YAAU,IAAIS,GAAER,GAAC;AAAE,SAAK,UAAU,cAAc,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,KAAE,CAAC,GAAE,KAAK,SAAS,MAAM,IAAI,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,SAAS,MAAM,OAAO,KAAK,SAAS,GAAE,KAAK,YAAU;AAAA,EAAI;AAAA,EAAC,wBAAwBT,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,UAASJ,KAAG,KAAK,YAAY,IAAI;AAAE,aAAO;AAAK,UAAMK,MAAE,KAAK,2BAA2BD,KAAE,IAAII,KAAC,GAAEF,MAAEH,IAAE;AAAc,WAAO,KAAK,iBAAiBC,KAAEE,KAAED,KAAED,IAAE,GAAG;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAJvlL;AAIwlL,UAAMD,OAAE,gBAAK,gBAAL,mBAAkB,aAAlB,mBAA4B,OAAMC,MAAE,KAAK,oBAAoBD,GAAC,GAAEE,MAAED,MAAE,KAAG,KAAK;AAA2B,SAAK,UAAU,cAAc,EAAC,SAAQA,KAAE,aAAYC,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BF,KAAEC,KAAE;AAAC,WAAO,KAAK,qCAAqCD,KAAEC,KAAEY,EAAC;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,WAAO,KAAK,UAAU,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC,GAAE;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAO,KAAK,UAAU,cAAc,EAAC,QAAO,KAAK,SAAS,+BAA8B,aAAY,KAAE,CAAC,GAAE;AAAA,EAAE;AAAA,EAAC,kBAAkBb,KAAEC,KAAE;AAAC,eAAUC,OAAKF,IAAE,MAAK;AAAC,UAAG,sBAAoBE;AAAE,eAAOF,IAAE;AAAe,UAAG,CAACkB,GAAE,KAAK,cAAajB,KAAE,KAAK,iBAAiB;AAAE,eAAOD,IAAE;AAAe,WAAK,UAAU,cAAc,KAAK,aAAa,kBAAkB;AAAA,IAAC;AAAC,WAAOA,IAAE;AAAA,EAAU;AAAA,EAAC,eAAeA,KAAE;AAAC,QAAIC,MAAE;AAAE,UAAMC,MAAEF,IAAE,OAAMG,MAAE,CAAC,GAAEC,MAAEJ,IAAE,kBAAiBQ,MAAE,KAAK,SAAS,kBAAkB,kBAAiBH,MAAE,KAAK,SAAS,mBAAmB;AAAiB,eAAUK,OAAKR;AAAE,MAAAD,OAAGS,IAAE;AAAO,UAAMK,MAAEd,GAAE,IAAEA,GAAC;AAAE,QAAIU,KAAEZ,MAAE;AAAE,eAAUW,OAAKR,KAAE;AAAC,MAAAC,IAAE,KAAK,EAAC,QAAOJ,KAAE,aAAYW,IAAE,OAAM,CAAC;AAAE,iBAAUT,OAAKS;AAAE,QAAAK,IAAEhB,KAAG,IAAEE,IAAE,CAAC,GAAEc,IAAEhB,KAAG,IAAEE,IAAE,CAAC,GAAEc,IAAEhB,KAAG,IAAEC,IAAE,OAAKC,IAAE,CAAC,IAAE;AAAA,IAAC;AAAC,WAAO,QAAMO,OAAGJ,IAAE,OAAOI,GAAC,KAAG,GAAEO,KAAEX,KAAE,GAAEW,KAAEP,KAAE,GAAEP,GAAC,KAAG,QAAMO,OAAGA,IAAE,OAAOH,GAAC,IAAEM,MAAEX,IAAEe,GAAC,KAAGJ,MAAEV,GAAE,IAAEA,GAAC,GAAE,GAAEc,KAAEP,KAAE,GAAEG,KAAEN,KAAE,GAAEJ,GAAC,IAAG,EAAC,qBAAoBE,KAAE,cAAaY,KAAE,cAAaJ,IAAC,KAAG;AAAA,EAAI;AAAA,EAAC,iBAAiBX,KAAEI,KAAEI,KAAEH,KAAE;AAJ12N;AAI22N,UAAMU,MAAEf,IAAE,UAASD,MAAE,KAAK,eAAegB,GAAC;AAAE,QAAG,QAAMhB;AAAE,aAAO,KAAK,OAAO,KAAK,wGAAwG,GAAE;AAAK,QAAG,MAAIA,IAAE,oBAAoB;AAAO,aAAO,MAAIgB,IAAE,MAAM,UAAQA,IAAE,MAAM,KAAM,CAAAf,QAAGA,IAAE,SAAO,CAAE,KAAG,KAAK,OAAO,KAAK,yEAAyE,GAAE;AAAK,UAAMU,MAAE,IAAI,SAAMG,MAAEE,IAAE,kBAAiBI,MAAEjB,GAAE,GAAEc,MAAE,KAAK,SAAS,oBAAmBI,MAAE,IAAIhB,IAAEL,IAAE,YAAY;AAAE,eAAUe,OAAKf,IAAE,qBAAoB;AAAC,YAAMgB,MAAED,IAAE;AAAY,UAAGC,MAAE;AAAE;AAAS,YAAMM,MAAEP,IAAE;AAAO,UAAG,QAAM,KAAK,SAAS,mBAAiBQ,GAAEH,GAAC,GAAET,GAAES,KAAEpB,IAAE,cAAasB,KAAEN,GAAC,GAAE,CAAC,EAAEI,KAAE,KAAK,SAAS,cAAc;AAAG;AAAS,YAAMI,MAAE,IAAI,SAAMC,MAAEH,MAAE,IAAEN;AAAE,eAAQf,MAAEqB,KAAErB,MAAEwB,KAAExB,OAAG,GAAE;AAAC,QAAAoB,IAAE,SAAOpB;AAAE,cAAMC,MAAEW,IAAEQ,KAAE,KAAK,SAAS,mBAAkBZ,KAAEQ,GAAC;AAAE,UAAES,KAAG1B,IAAE,aAAaC,GAAC,GAAED,IAAE,aAAaC,MAAE,CAAC,GAAED,IAAE,aAAaC,MAAE,CAAC,CAAC,GAAEgB,IAAE,YAAYS,KAAGxB,GAAC,GAAEF,IAAE,aAAaC,GAAC,IAAEyB,IAAG,CAAC,GAAE1B,IAAE,aAAaC,MAAE,CAAC,IAAEyB,IAAG,CAAC,GAAE1B,IAAE,aAAaC,MAAE,CAAC,IAAEyB,IAAG,CAAC,GAAEF,IAAE,KAAKhB,IAAE,KAAK,kBAAkB,CAAC;AAAA,MAAC;AAAC,YAAMe,MAAE,IAAItB,IAAEuB,KAAExB,IAAE,cAAaA,IAAE,cAAasB,GAAC;AAAE,MAAAK,IAAGJ,KAAE,KAAK,oBAAmB,KAAK,SAAS,kBAAkB;AAAE,YAAMK,MAAE,IAAIvB,IAAEkB,KAAE,KAAK,UAAS,KAAK,WAAU,KAAK,WAAU,KAAK,OAAO;AAAE,UAAIM,MAAE;AAAK,UAAG,KAAK,cAAa;AAAC,cAAM3B,MAAE,KAAK,aAAa,iBAAgBC,MAAE,GAAE,KAAAD,IAAE,SAAF,mBAAQ,OAAMD,GAAC,KAAG,GAAEG,MAAE,GAAE,KAAAF,IAAE,UAAF,mBAAS,OAAMD,GAAC,KAAG,GAAEI,MAAE,GAAE,KAAAH,IAAE,YAAF,mBAAW,OAAMD,GAAC,KAAG;AAAE,QAAA4B,MAAE,IAAIX,IAAEU,KAAEzB,KAAEC,KAAEC,GAAC;AAAA,MAAC,OAAK;AAAC,cAAMJ,MAAE,CAAC,KAAK,eAAe,CAAC,GAAE,KAAK,eAAe,CAAC,CAAC;AAAE,YAAG,KAAK,kBAAkB,MAAK;AAAC,gBAAMC,MAAEG,IAAE;AAAK,UAAAJ,IAAE,CAAC,KAAG6B,IAAG5B,IAAE,CAAC,GAAE,mBAAiBA,IAAE,CAAC,IAAE,KAAK,YAAY,UAAQ,IAAEA,IAAE,CAAC,GAAE,KAAK,YAAY,SAAO,CAAC,GAAED,IAAE,CAAC,KAAG6B,IAAG5B,IAAE,CAAC,GAAE,mBAAiBA,IAAE,CAAC,IAAE,KAAK,YAAY,SAAO,IAAEA,IAAE,CAAC,GAAE,KAAK,YAAY,UAAQ,CAAC;AAAA,QAAC;AAAC,YAAIA;AAAE,aAAK,kBAAkB,UAAQA,MAAEG,IAAE,QAAO,KAAK,kBAAkB,WAAS,QAAMA,IAAE,YAAUH,MAAEA,MAAE,CAACA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEG,IAAE,OAAO,IAAE,CAAC,GAAE,GAAE,GAAEA,IAAE,OAAO;AAAG,cAAMF,MAAE,IAAIsB,GAAEG,GAAC;AAAE,QAAAzB,IAAE,KAAKF,GAAC,GAAEC,OAAGC,IAAE,iBAAiBD,GAAC,GAAE2B,MAAE1B;AAAA,MAAC;AAAC,YAAK,EAAC,kBAAiB4B,IAAE,SAAQC,IAAC,IAAEH,IAAE,mBAAmB,GAAEI,KAAE,KAAK,SAAS,MAAM,WAAW,yBAAyB,EAAC,YAAW3B,KAAE,UAAS,KAAK,SAAS,MAAM,IAAG,CAAC,GAAE4B,KAAE,IAAIjC,IAAE,KAAK,WAAU8B,IAAEC,KAAEH,KAAEf,KAAE,KAAK,eAAcmB,EAAC;AAAE,MAAAC,GAAE,iBAAe/B,GAAEF,IAAE,GAAEK,IAAEsB,IAAE,KAAK,MAAM,GAAEjB,IAAE,KAAKuB,EAAC;AAAA,IAAC;AAAC,QAAG,MAAIvB,IAAE;AAAO,aAAO;AAAK,UAAMa,KAAE,IAAIU,GAAE,EAAC,YAAWvB,KAAE,UAAS,KAAK,SAAS,MAAM,KAAI,YAAWL,IAAC,CAAC,GAAEiB,MAAE,IAAIT,GAAE,MAAKU,IAAEb,KAAE,MAAK,MAAM,CAACV,KAAEC,KAAEC,KAAEC,KAAEC,QAAI8B,IAAGlC,KAAEC,KAAEE,KAAEC,KAAE,KAAK,kBAAkB,GAAGI,GAAC;AAAE,WAAOc,IAAE,0BAAwB,GAAEA,IAAE,wBAAsBT,GAAEL,IAAE,IAAI,GAAEc;AAAA,EAAC;AAAC;AAAC,SAASI,IAAG1B,KAAEC,KAAEC,KAAE;AAAC,QAAK,EAAC,QAAOC,KAAE,WAAUC,IAAC,IAAEJ;AAAE,MAAIQ,MAAER,IAAE;AAAO,UAAOC,KAAE;AAAA,IAAC;AAAA,IAAQ,KAAKI,IAAE;AAAM,iBAAUJ,OAAKD,IAAE;AAAS,QAAAyB,IAAG,CAAC,IAAErB,IAAEI,KAAG,IAAEL,IAAE,CAAC,GAAEsB,IAAG,CAAC,IAAErB,IAAEI,KAAG,IAAEL,IAAE,CAAC,GAAEsB,IAAG,CAAC,IAAErB,IAAEI,KAAG,IAAEL,IAAE,CAAC,GAAED,IAAE,kBAAkBuB,KAAGA,GAAE,GAAExB,IAAE,qBAAqBwB,GAAE;AAAE;AAAA,IAAM,KAAKpB,IAAE;AAAK,MAAAoB,IAAG,CAAC,IAAErB,IAAEI,GAAC,IAAEL,IAAE,CAAC,GAAEsB,IAAG,CAAC,IAAErB,IAAEI,MAAE,CAAC,IAAEL,IAAE,CAAC,GAAEsB,IAAG,CAAC,IAAErB,IAAEI,MAAE,CAAC,IAAEL,IAAE,CAAC,GAAED,IAAE,kBAAkBuB,KAAGA,GAAE,GAAEd,IAAEX,KAAEyB,GAAE;AAAA,EAAC;AAAC;AAAC,SAASI,IAAG7B,KAAEC,KAAEC,KAAE;AAAC,UAAOF,KAAE;AAAA,IAAC,KAAI;AAAe,aAAOE;AAAA,IAAE,KAAI;AAAe,aAAOD;AAAA,IAAE;AAAQ,aAAOD;AAAA,EAAC;AAAC;AAAC,SAASmC,IAAGnC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,MAAIC,MAAE;AAAE,QAAK,EAAC,QAAOI,KAAE,UAASH,KAAE,WAAUU,KAAE,aAAYhB,IAAC,IAAEC,KAAEU,MAAEV,IAAE,SAAO,IAAEK,IAAE;AAAO,WAAQQ,MAAEb,IAAE,QAAOa,MAAEH,KAAEG,OAAG;AAAE,MAAEY,KAAG1B,IAAEc,GAAC,GAAEd,IAAEc,MAAE,CAAC,GAAEd,IAAEc,MAAE,CAAC,CAAC,GAAEX,IAAEuB,KAAGW,GAAE,GAAEhC,OAAGgC,IAAG,kBAAiBX,IAAG,CAAC,IAAEV,IAAEF,GAAC,IAAEL,IAAE,CAAC,GAAEiB,IAAG,CAAC,IAAEV,IAAEF,MAAE,CAAC,IAAEL,IAAE,CAAC,GAAEiB,IAAG,CAAC,IAAEV,IAAEF,MAAE,CAAC,IAAEL,IAAE,CAAC,GAAEL,IAAE,YAAYsB,KAAGW,IAAG,CAAC,GAAErB,IAAEF,GAAC,IAAEY,IAAG,CAAC,IAAEjB,IAAE,CAAC,GAAEO,IAAEF,MAAE,CAAC,IAAEY,IAAG,CAAC,IAAEjB,IAAE,CAAC,GAAEO,IAAEF,MAAE,CAAC,IAAEY,IAAG,CAAC,IAAEjB,IAAE,CAAC;AAAE,SAAOR,IAAE,4BAA4B,GAAEI,MAAEC,IAAE;AAAM;AAAC,SAAS6B,IAAGlC,KAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,QAAMI,MAAER,IAAE,aAAYK,MAAEG,IAAE;AAAW,MAAIO,MAAE;AAAE,aAAUJ,OAAKN,KAAE;AAAC,QAAG,CAACU,IAAEJ,GAAC;AAAE;AAAS,UAAMX,MAAEW,IAAE,MAAKN,MAAEL,IAAE,QAAQ;AAAK,IAAAe,OAAGoB,IAAG9B,KAAEJ,KAAEC,KAAEC,GAAC,GAAEC,QAAIC,IAAE,SAAOqB,IAAGrB,KAAED,KAAED,GAAC,GAAEH,IAAE,cAAcW,GAAC,GAAEA,IAAE,uBAAuB,GAAEH,IAAE,2BAA2BG,GAAC;AAAA,EAAC;AAAC,SAAOI,MAAEV,IAAE;AAAM;AAAC,IAAMoB,MAAGV,GAAE;AAAX,IAAaqB,MAAG,IAAIC;;;ACA9kT,SAASC,IAAEC,KAAEC,KAAEC,KAAEC,KAAEC,MAAE,GAAE;AAAC,MAAGF,IAAE,gBAAcC,QAAIE,IAAE,QAAO;AAAC,UAAML,MAAEA,GAAEC,IAAE,MAAM,GAAEK,MAAEL,IAAE,QAAOE,MAAE,EAAED,GAAC;AAAE,aAAQA,MAAE,GAAEA,MAAEI,KAAEJ,OAAG;AAAE,SAAED,KAAEC,KAAEF,KAAEE,KAAEC,GAAC;AAAE,IAAAF,MAAED;AAAA,EAAC;AAAC,EAAAG,GAAEI,KAAE,OAAO,mBAAkB,OAAO,iBAAiB;AAAE,WAAQD,MAAE,GAAEA,MAAEL,IAAE,QAAOK,OAAG;AAAE,IAAAC,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAEN,IAAEK,GAAC,CAAC,GAAEC,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAEN,IAAEK,MAAE,CAAC,CAAC;AAAE,QAAME,MAAED,IAAE,CAAC,IAAEH,KAAEK,MAAEF,IAAE,CAAC,IAAEH,KAAEM,MAAEH,IAAE,CAAC,IAAEC,KAAEG,MAAEJ,IAAE,CAAC,IAAEE;AAAE,WAAQH,MAAE,GAAEA,MAAEL,IAAE,QAAOK,OAAG,GAAE;AAAC,UAAMJ,MAAEI,MAAE,IAAE;AAAE,IAAAN,IAAEE,GAAC,KAAGD,IAAEK,GAAC,IAAEI,OAAGN,KAAEJ,IAAEE,MAAE,CAAC,KAAGD,IAAEK,MAAE,CAAC,IAAEK,OAAGP,KAAEJ,IAAEE,MAAE,CAAC,IAAEQ,MAAEN,KAAEJ,IAAEE,MAAE,CAAC,IAAES,MAAEP;AAAA,EAAC;AAAC;AAAC,SAASQ,IAAEZ,KAAEC,KAAES,KAAEC,KAAEE,MAAE,GAAE;AAAC,IAAEC,IAAE,GAAE,GAAE,CAAC,GAAE,EAAEC,KAAE,GAAE,GAAE,CAAC,GAAE,EAAEC,IAAE,GAAE,GAAE,CAAC,GAAEC,GAAEC,KAAER,GAAC,GAAES,GAAET,KAAEU,EAAC,KAAGC,IAAED,IAAEN,IAAEC,KAAEC,IAAEL,KAAEO,GAAC,GAAEf,GAAEI,KAAE,OAAO,mBAAkB,OAAO,iBAAiB,GAAEJ,GAAEmB,KAAE,OAAO,mBAAkB,OAAO,iBAAiB;AAAE,WAAQhB,MAAE,GAAEA,MAAEI,IAAE,QAAOJ,OAAG,GAAE;AAAC,MAAEiB,IAAEb,IAAEJ,GAAC,GAAEI,IAAEJ,MAAE,CAAC,GAAEI,IAAEJ,MAAE,CAAC,CAAC;AAAE,UAAMN,MAAE,EAAEc,IAAES,EAAC,GAAEtB,MAAE,EAAEc,KAAEQ,EAAC;AAAE,IAAAhB,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAEP,GAAC,GAAEO,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAEN,GAAC,GAAEqB,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAEtB,GAAC,GAAEsB,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,CAAC,GAAErB,GAAC;AAAA,EAAC;AAAC,QAAMuB,MAAE,EAAER,IAAEE,GAAC;AAAE,EAAAO,GAAEC,KAAEnB,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEiB,KAAEV,IAAEC,KAAEC,EAAC,GAAES,GAAEE,IAAEL,IAAE,CAAC,GAAEf,IAAE,CAAC,GAAEiB,KAAEV,IAAEC,KAAEC,EAAC,GAAES,GAAEG,IAAErB,IAAE,CAAC,GAAEe,IAAE,CAAC,GAAEE,KAAEV,IAAEC,KAAEC,EAAC,GAAEZ,GAAEuB,IAAEA,IAAED,GAAC,GAAE,EAAEC,IAAEA,IAAE,GAAE,GAAEvB,GAAEwB,IAAEA,IAAEF,GAAC,GAAE,EAAEE,IAAEA,IAAE,GAAE,GAAE,EAAEF,KAAEA,KAAEC,EAAC,GAAE,EAAED,KAAEA,KAAEE,EAAC;AAAE,QAAMvB,MAAEE,IAAE,CAAC,IAAEM,KAAEgB,MAAEtB,IAAE,CAAC,IAAEM,KAAEiB,MAAEvB,IAAE,CAAC,IAAEF,KAAE0B,KAAExB,IAAE,CAAC,IAAEsB;AAAE,WAAQvB,MAAE,GAAEA,MAAEI,IAAE,QAAOJ,OAAG,GAAE;AAAC,MAAEiB,IAAEb,IAAEJ,GAAC,GAAEI,IAAEJ,MAAE,CAAC,GAAEI,IAAEJ,MAAE,CAAC,CAAC;AAAE,UAAMF,MAAEE,MAAE,GAAEE,MAAE,IAAEJ;AAAE,IAAAJ,IAAEQ,GAAC,KAAG,EAAEM,IAAES,EAAC,IAAEO,OAAGjB,KAAEb,IAAEQ,MAAE,CAAC,KAAG,EAAEO,KAAEQ,EAAC,IAAEQ,MAAGlB,KAAEb,IAAEQ,MAAE,CAAC,IAAEsB,MAAEjB,KAAEb,IAAEQ,MAAE,CAAC,IAAEuB,KAAElB;AAAE,UAAMJ,MAAE,IAAEL;AAAE,aAAQJ,MAAE,GAAEA,MAAE,GAAEA;AAAI,MAAAC,IAAEQ,MAAET,GAAC,IAAE0B,IAAE1B,GAAC,GAAEC,IAAEQ,MAAET,MAAE,CAAC,IAAE2B,GAAE3B,GAAC,GAAEC,IAAEQ,MAAET,MAAE,CAAC,IAAE4B,GAAE5B,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMkB,MAAEhB,GAAE;AAAV,IAAYqB,KAAErB,GAAE;AAAhB,IAAkBkB,KAAES,GAAE;AAAtB,IAAwBf,KAAEZ,GAAE;AAA5B,IAA8Ba,MAAEb,GAAE;AAAlC,IAAoCc,KAAEd,GAAE;AAAxC,IAA0CK,MAAEL,GAAE;AAA9C,IAAgDoB,MAAEpB,GAAE;AAApD,IAAsDwB,MAAExB,GAAE;AAA1D,IAA4DyB,KAAEzB,GAAE;AAAhE,IAAkE0B,KAAE1B,GAAE;AAAE,SAASiB,GAAEnB,KAAEM,KAAE;AAAC,QAAML,MAAED,IAAE,SAAO,IAAE;AAAE,SAAOY,GAAEZ,KAAEM,KAAE,GAAE,KAAK,MAAML,MAAE,CAAC,GAAE,KAAK,MAAMA,OAAG,IAAE,EAAE,CAAC;AAAC;AAAC,SAASoB,IAAErB,KAAEM,KAAEL,KAAEG,KAAEK,KAAEJ,KAAE;AAAC,UAAMI,OAAGA,IAAE,sBAAsBJ,KAAE2B,GAAC,GAAE,EAAEC,KAAED,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC,GAAE,EAAEE,IAAEF,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,CAAC,GAAE,EAAEG,IAAEH,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,EAAE,CAAC,MAAI,EAAEC,KAAE,GAAE,GAAE,CAAC,GAAE,EAAEC,IAAE,GAAE,GAAE,CAAC,GAAE,EAAEC,IAAE,GAAE,GAAE,CAAC;AAAG,QAAMN,MAAE,EAAE7B,GAAC;AAAE,IAAE6B,KAAEM,EAAC,IAAE,KAAG,EAAEN,KAAEA,KAAE,EAAE,GAAE1B,GAAEC,KAAEyB,GAAC;AAAE,QAAMC,MAAE,EAAED,KAAEK,EAAC,GAAEH,KAAE,EAAEF,KAAEI,GAAC;AAAE,OAAK,IAAIH,GAAC,IAAE,KAAK,IAAIC,EAAC,KAAG,EAAEzB,KAAE2B,KAAEJ,KAAE,CAACE,EAAC,GAAE,EAAEzB,KAAEA,GAAC,GAAE,EAAEL,KAAEK,KAAEuB,GAAC,GAAE,EAAE5B,KAAEA,GAAC,GAAE,EAAEA,KAAEA,KAAE,EAAE,MAAI,EAAEA,KAAEiC,IAAEL,KAAE,CAACC,GAAC,GAAE,EAAE7B,KAAEA,GAAC,GAAE,EAAEK,KAAEL,KAAE4B,GAAC,GAAE,EAAEvB,KAAEA,GAAC;AAAE;AAAC,IAAM0B,MAAE5B,IAAE;AAAV,IAAY6B,MAAE/B,GAAE;AAAhB,IAAkBgC,KAAEhC,GAAE;AAAtB,IAAwBiC,KAAEjC,GAAE;AAAE,SAASe,GAAEjB,KAAEM,KAAE;AAAC,IAAE8B,IAAE,GAAE,GAAE,CAAC;AAAE,WAAQnC,MAAE,GAAEA,MAAEK,IAAE,SAAO,GAAEL,OAAG;AAAE,IAAAmC,GAAE,CAAC,KAAG9B,IAAEL,GAAC,GAAEmC,GAAE,CAAC,KAAG9B,IAAEL,MAAE,CAAC,GAAEmC,GAAE,CAAC,KAAG9B,IAAEL,MAAE,CAAC;AAAE,IAAED,KAAEoC,IAAE,KAAG9B,IAAE,SAAO,IAAE,EAAE;AAAC;AAAC,IAAM8B,KAAElC,GAAE;AAAE,SAASuB,GAAEzB,KAAEM,KAAEL,KAAEE,KAAEC,KAAEI,KAAEC,KAAE;AAAC,IAAET,KAAEM,MAAEF,IAAE,CAAC,IAAEH,MAAEO,IAAE,CAAC,IAAEL,MAAEM,IAAE,CAAC,GAAEH,MAAEF,IAAE,CAAC,IAAEH,MAAEO,IAAE,CAAC,IAAEL,MAAEM,IAAE,CAAC,GAAEH,MAAEF,IAAE,CAAC,IAAEH,MAAEO,IAAE,CAAC,IAAEL,MAAEM,IAAE,CAAC,CAAC;AAAC;;;ACAr1C,IAAM4B,MAAN,MAAM,WAAUC,IAAC;AAAA,EAAC,kBAAkBA,KAAE;AAAC,WAAO,IAAIC,IAAED,IAAE,MAAK,GAAE,OAAO,IAAI,EAAE,MAAM,KAAK,aAAa,GAAEE,EAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBF,KAAEG,KAAE;AAAC,UAAMC,MAAE,KAAK,eAAcH,MAAED,QAAIG,GAAE,MAAKE,MAAEL,QAAIG,GAAE;AAAU,WAAOG,GAAE,EAAC,UAASF,IAAE,WAASG,GAAE,SAAOH,IAAE,WAASG,GAAE,QAAMN,MAAEO,MAAEC,GAAET,GAAC,IAAE,MAAK,SAAQO,GAAEH,IAAE,QAAQ,GAAE,WAAU,EAAC,MAAKM,IAAEV,GAAC,EAAC,GAAE,YAAWC,MAAEG,IAAE,aAAWO,MAAE,OAAKC,GAAEZ,GAAC,GAAE,YAAWa,IAAE,cAAaT,IAAE,eAAaJ,MAAE,MAAK,aAAYI,IAAE,eAAaD,MAAEA,MAAEW,MAAE,MAAK,eAAcb,OAAGI,MAAED,IAAE,gBAAcW,KAAE,OAAKJ,IAAEP,IAAE,YAAY,EAAC,CAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,WAAO,KAAK,yBAAuB,KAAK,kBAAkB,KAAK,cAAc,sBAAqB,IAAE,GAAE,KAAK,kBAAkB,KAAK,cAAc,sBAAqB,KAAE;AAAA,EAAC;AAAA,EAAC,iBAAiBJ,KAAEgB,KAAE;AAAC,WAAOA,MAAE,KAAK,yBAAuB,MAAM,iBAAiBhB,KAAEgB,GAAC;AAAA,EAAC;AAAC;AAACjB,IAAE,SAAO,IAAIiB,IAAEC,IAAG,MAAI,OAAO,4BAAmB,CAAE;AAAE,IAAMF,KAAE,EAAC,QAAO,GAAE,OAAM,EAAC;AAAE,IAAMG,KAAN,cAAgBb,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,SAAOE,GAAE,OAAM,KAAK,WAASY,GAAE,MAAK,KAAK,uBAAqBhB,GAAE,MAAK,KAAK,gBAAc,OAAG,KAAK,kBAAgB,OAAG,KAAK,gBAAc,OAAG,KAAK,aAAW,MAAG,KAAK,eAAa,OAAG,KAAK,eAAa,MAAG,KAAK,sBAAoB,OAAG,KAAK,kBAAgB,OAAG,KAAK,UAAQ;AAAA,EAAE;AAAC;AAAC,EAAE,CAACC,IAAE,EAAC,OAAMG,GAAE,MAAK,CAAC,CAAC,GAAEW,GAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAACd,IAAE,EAAC,OAAMe,GAAE,MAAK,CAAC,CAAC,GAAED,GAAE,WAAU,YAAW,MAAM,GAAE,EAAE,CAACd,IAAE,EAAC,OAAMO,IAAE,MAAK,CAAC,CAAC,GAAEO,GAAE,WAAU,SAAQ,MAAM,GAAE,EAAE,CAACd,IAAE,EAAC,OAAMD,GAAE,MAAK,CAAC,CAAC,GAAEe,GAAE,WAAU,wBAAuB,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,cAAa,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,gBAAe,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,kBAAiB,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,aAAY,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,gBAAe,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,uBAAsB,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAACd,IAAE,CAAC,GAAEc,GAAE,WAAU,WAAU,MAAM,GAAE,EAAE,CAACd,IAAE,EAAC,YAAW,MAAE,CAAC,CAAC,GAAEc,GAAE,WAAU,mBAAkB,MAAM,GAAE,EAAE,CAACd,IAAE,EAAC,YAAW,MAAE,CAAC,CAAC,GAAEc,GAAE,WAAU,UAAS,MAAM,GAAE,EAAE,CAACd,IAAE,EAAC,YAAW,MAAE,CAAC,CAAC,GAAEc,GAAE,WAAU,aAAY,MAAM;AAAE,IAAMhB,KAAE,oBAAI,IAAI,CAAC,CAACkB,GAAE,UAAS,CAAC,GAAE,CAACA,GAAE,OAAM,CAAC,GAAE,CAACA,GAAE,YAAW,CAAC,GAAE,CAACA,GAAE,uBAAsB,CAAC,GAAE,CAACA,GAAE,cAAa,CAAC,CAAC,CAAC;;;ACAnxE,IAAMC,MAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAE;AAAC,UAAMA,KAAE,IAAIC,KAAC,GAAE,KAAK,gBAAc,MAAG,KAAK,4BAA0BC,IAAE,KAAK,iBAAe,IAAIC;AAAA,EAAC;AAAA,EAAC,iBAAiBH,KAAED,KAAE;AAAC,WAAO,KAAK,eAAe,SAAOC,KAAE,KAAK,eAAe,WAAS,KAAK,WAAW,UAAS,KAAK,eAAe,kBAAgB,KAAK,WAAW,mBAAiB,CAAC,KAAK,WAAW,SAAQ,KAAK,eAAe,gBAAc,KAAK,WAAW,eAAc,KAAK,eAAe,gBAAc,KAAK,WAAW,eAAc,KAAK,eAAe,aAAW,KAAK,WAAW,YAAW,KAAK,eAAe,QAAM,KAAK,WAAW,OAAM,KAAK,eAAe,iBAAe,KAAK,WAAW,gBAAe,KAAK,eAAe,YAAU,KAAK,WAAW,WAAU,KAAK,eAAe,SAAO,KAAK,WAAW,QAAO,KAAK,eAAe,uBAAqBD,IAAE,sBAAqB,KAAK,eAAe,eAAaA,IAAE,OAAO,oBAAkBK,IAAE,KAAK,eAAe,sBAAoBL,IAAE,iBAAiB,SAAQ,KAAK,eAAe,kBAAgBA,IAAE,iBAAiB,iBAAgB,KAAK,eAAe,UAAQ,CAAC,CAAC,KAAK,WAAW,SAAQ,KAAK;AAAA,EAAc;AAAA,EAAC,aAAaC,KAAED,KAAE;AAAC,QAAGA,QAAIM,GAAE,SAAON,QAAIM,GAAE,SAAON,QAAIM,GAAE,aAAWN,QAAIM,GAAE,SAAO,KAAK,WAAW,kBAAiB;AAAC,UAAGL,QAAIM,GAAE;AAAgB,eAAM;AAAG,UAAGP,QAAIM,GAAE;AAAU,eAAOL,QAAIM,GAAE;AAAgB,aAAON,SAAK,KAAK,WAAW,aAAWM,GAAE,uBAAqBA,GAAE;AAAA,IAA0C;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,iBAAiBN,KAAE;AAAC,WAAO,IAAIO,IAAEP,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAAC,UAAMA,MAAEQ,GAAE,EAAE,MAAMD,GAAE,QAAQ,EAAE,MAAMA,GAAE,UAAU;AAAE,WAAO,KAAK,WAAW,UAAQP,IAAE,MAAMO,GAAE,YAAY,GAAE,KAAK,WAAW,UAAQP,IAAE,IAAIO,GAAE,qBAAqB,IAAEP,IAAE,OAAOO,GAAE,KAAK,GAAE,IAAIE,IAAET,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMO,MAAN,cAAgBP,IAAC;AAAA,EAAC,kBAAkBA,KAAE;AAAC,WAAO,KAAK,gBAAgBU,KAAEV,GAAC;AAAA,EAAC;AAAA,EAAC,qBAAqBA,KAAE;AAAC,IAAAA,IAAE,iBAAe,KAAK,UAAU,WAAW,gBAAc,KAAK,UAAU,cAAc,EAAC,cAAaA,IAAE,aAAY,CAAC;AAAA,EAAC;AAAA,EAAC,UAAUA,KAAE;AAAC,WAAO,KAAK,YAAUK,GAAE,SAAO,KAAK,YAAUA,GAAE,SAAO,KAAK,qBAAqBL,GAAC,GAAE,KAAK,kBAAkBA,GAAC;AAAA,EAAC;AAAC;AAAC,IAAMS,MAAN,cAAgBE,IAAC;AAAA,EAAC,MAAMX,KAAEY,KAAEC,KAAEC,KAAEC,KAAE;AAAC,eAAUC,OAAK,KAAK,mBAAmB,OAAO,KAAK,GAAE;AAAC,YAAMX,MAAEQ,IAAE,iBAAiB,IAAIG,GAAC,GAAEC,MAAEJ,IAAE,QAAQ,IAAIG,GAAC;AAAE,UAAGX,OAAGY;AAAE,gBAAOD,KAAE;AAAA,UAAC,KAAKT,GAAE,YAAW;AAAC,YAAAM,GAAE,MAAIR,IAAE,IAAI;AAAE,kBAAML,MAAEc,IAAE,SAASE,KAAEC,EAAC;AAAE,YAAAjB,OAAGkB,GAAED,KAAEZ,IAAE,MAAKL,KAAEe,GAAC;AAAE;AAAA,UAAK;AAAA,UAAC,KAAKR,GAAE,cAAa;AAAC,YAAAM,GAAE,MAAIR,IAAE,IAAI;AAAE,kBAAMM,MAAEG,IAAE,SAASE,KAAEG,EAAC;AAAE,YAAAR,OAAG,KAAK,kBAAkBM,KAAEZ,IAAE,MAAKL,KAAEW,KAAEI,GAAC;AAAE;AAAA,UAAK;AAAA,UAAC;AAAQ,YAAAT,GAAEU,KAAEX,KAAEY,KAAEjB,KAAEY,KAAEE,KAAEC,GAAC;AAAA,QAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBf,KAAED,KAAEY,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAEH,KAAEI,MAAEH,IAAE,aAAYI,MAAEJ,IAAE,mBAAkBP,MAAEL,IAAE;AAAO,IAAAa,OAAGG;AAAE,aAAQI,MAAE,GAAEA,MAAEf,KAAE,EAAEe,KAAE;AAAC,YAAMT,MAAE,IAAEX,IAAEoB,GAAC,GAAER,MAAEb,IAAEY,GAAC,GAAEN,MAAEN,IAAEY,MAAE,CAAC,GAAEQ,MAAEpB,IAAEY,MAAE,CAAC;AAAE,MAAAI,IAAEF,GAAC,IAAEC,IAAE,CAAC,IAAEF,MAAEE,IAAE,CAAC,IAAET,MAAES,IAAE,CAAC,IAAEK,MAAEL,IAAE,EAAE,GAAEC,IAAEF,MAAE,CAAC,IAAEC,IAAE,CAAC,IAAEF,MAAEE,IAAE,CAAC,IAAET,MAAES,IAAE,CAAC,IAAEK,MAAEL,IAAE,EAAE,GAAEC,IAAEF,MAAE,CAAC,IAAEC,IAAE,CAAC,IAAEF,MAAEE,IAAE,CAAC,IAAET,MAAES,IAAE,EAAE,IAAEK,MAAEL,IAAE,EAAE;AAAE,eAAQd,MAAE,GAAEA,MAAE,GAAE,EAAEA;AAAE,QAAAe,IAAEF,MAAEb,GAAC,IAAED,IAAEY,MAAEX,GAAC;AAAE,MAAAa,OAAGG;AAAA,IAAC;AAAA,EAAC;AAAC;AAAC,IAAMf,MAAN,cAAgBD,IAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,QAAMW,GAAE,GAAE,GAAE,GAAE,CAAC,GAAE,KAAK,aAAW,MAAG,KAAK,mBAAiB,OAAG,KAAK,kBAAgB,OAAG,KAAK,gBAAc,OAAG,KAAK,gBAAc,OAAG,KAAK,WAASK,GAAE,MAAK,KAAK,eAAa,OAAG,KAAK,QAAMF,IAAE,OAAM,KAAK,iBAAe,IAAG,KAAK,YAAU,GAAE,KAAK,SAAO;AAAA,EAAE;AAAC;;;ACAx7G,SAASO,IAAEC,KAAEC,KAAE;AAAC,QAAMC,OAAEF,OAAA,gBAAAA,IAAG,YAAS;AAAK,SAAO,QAAME,MAAE,IAAIC,IAAEF,GAAC,IAAE,WAASC,IAAE,SAAO,YAAUA,IAAE,SAAO,WAASA,IAAE,UAAQD,IAAE,QAAMA,GAAE,GAAE,GAAE,GAAE,CAAC,GAAEA,IAAE,cAAY,OAAI,IAAIE,IAAEF,GAAC,MAAIA,IAAE,QAAMG,IAAEF,IAAE,KAAK,GAAE,IAAIG,IAAEJ,GAAC;AAAE;AAAC,SAASG,IAAEE,KAAE;AAAC,UAAOA,KAAE;AAAA,IAAC,KAAI;AAAa,aAAOJ,IAAE;AAAA,IAAW,KAAI;AAAW,aAAOA,IAAE;AAAA,IAAS,KAAI;AAAQ,aAAOA,IAAE;AAAA,IAAM,KAAI;AAAmB,aAAOA,IAAE;AAAA,IAAgB,KAAI;AAAoB,aAAOA,IAAE;AAAA,IAAiB,KAAI;AAAiB,aAAOA,IAAE;AAAA,IAAc;AAAQ;AAAA,EAAM;AAAC;AAAC,SAASK,IAAED,KAAE;AAAC,SAAOA,IAAE,oBAAoBD,OAAG,CAACC,IAAE,SAAS,WAAW;AAAM;AAAC,SAASE,IAAEF,KAAEN,KAAE;AAAC,MAAGO,IAAED,GAAC,GAAE;AAAC,UAAMG,MAAEH,IAAE,iBAAiB,IAAII,GAAE,QAAQ,EAAE,MAAKC,MAAEL,IAAE,oBAAoBI,GAAE,UAAU,EAAE,MAAKE,MAAEN,IAAE,oBAAoBI,GAAE,YAAY,EAAE;AAAK,IAAAG,IAAEF,KAAEC,KAAEH,KAAET,GAAC;AAAA,EAAC;AAAC;AAAC,SAASc,IAAER,KAAEL,KAAEC,KAAEO,KAAEE,KAAE;AAAC,QAAMC,MAAEJ,IAAEF,KAAEL,KAAEC,KAAEO,KAAEE,GAAC,GAAEZ,MAAEO,IAAE,YAAY;AAAW,aAAUN,OAAKD;AAAE,IAAAS,IAAER,KAAEW,GAAC;AAAE,SAAOC;AAAC;;;ACA0sB,IAAMG,KAAE,CAAC,YAAW,WAAU,QAAQ;AAAtC,IAAwCC,KAAE,IAAI,EAAE,EAAC,MAAK,OAAG,OAAM,MAAG,UAAS,OAAG,SAAQ,MAAE,CAAC;AAAE,IAAMC,KAAN,MAAM,WAAUC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,GAAC,GAAE,KAAK,WAAS,OAAG,KAAK,cAAY;AAAA,EAAE;AAAA,EAAC,MAAM,SAAQ;AAAC,SAAK,eAAaC,GAAE,KAAK,SAAS,UAASP,EAAC;AAAA,EAAC;AAAA,EAAC,mBAAkB;AAAC,SAAK,oBAAoB,GAAE,KAAK,uBAAuB;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAJh2E;AAIi2E,QAAG,QAAM,KAAK;AAAU;AAAO,UAAMG,OAAE,gBAAK,gBAAL,mBAAkB,aAAlB,mBAA4B,OAAMC,MAAE,KAAK,4BAA4BD,GAAC;AAAE,SAAK,YAAUK,IAAE,KAAK,aAAY,EAAC,OAAMJ,KAAE,aAAYA,IAAE,CAAC,IAAE,KAAG,KAAK,4BAA2B,eAAc,OAAG,iBAAgB,MAAG,kBAAiB,MAAG,QAAO,KAAK,QAAO,eAAc,KAAK,SAAS,mBAAkB,IAAG,UAAK,iBAAL,mBAAmB,mBAAkB,CAAC,GAAE,KAAK,WAAS,KAAK,qBAAqBK,KAAE,KAAK,SAAS,MAAM,IAAI,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,yBAAwB;AAAC,UAAMN,MAAE,KAAK,YAAY;AAAQ,QAAG,KAAK,oBAAkB,CAAC,KAAK,gBAAgBA,GAAC;AAAE;AAAO,SAAK,cAAY;AAAG,UAAME,MAAE,CAAAD,QAAG;AAAC,YAAMC,MAAEK,IAAEP,IAAE,OAAO;AAAE,aAAO,IAAIQ,GAAE,EAAC,OAAMP,KAAE,OAAM,KAAK,iBAAiB,GAAE,kBAAiB,MAAG,eAAc,KAAK,SAAS,mBAAkB,UAAS,MAAG,gBAAeC,KAAE,2BAA0B,MAAG,KAAIK,IAAEP,IAAE,cAAY,MAAM,EAAC,CAAC;AAAA,IAAC;AAAE,SAAK,mBAAiBE,IAAEO,GAAET,IAAE,IAAI,CAAC,GAAE,KAAK,SAAS,MAAM,IAAI,KAAK,gBAAgB;AAAA,EAAC;AAAA,EAAC,gBAAgBA,KAAE;AAAC,WAAO,QAAMA,OAAG,QAAMA,IAAE,QAAMA,IAAE,OAAK,KAAG,QAAMA,IAAE,UAAQ,QAAMA,IAAE,WAAS,YAAUA,IAAE,QAAQ,QAAM,WAASA,IAAE,QAAQ;AAAA,EAAM;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,SAAS,MAAM,OAAO,KAAK,SAAS,GAAE,KAAK,YAAU,MAAK,KAAK,SAAS,MAAM,OAAO,KAAK,gBAAgB,GAAE,KAAK,mBAAiB;AAAA,EAAI;AAAA,EAAC,wBAAwBA,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,UAASL,IAAE,KAAK,YAAY,IAAI;AAAE,aAAO;AAAK,UAAMM,MAAE,KAAK,0BAA0BF,IAAE,eAAc,GAAG,GAAEG,MAAE,KAAK,2BAA2BF,KAAE,IAAIS,KAAC;AAAE,WAAO,KAAK,mBAAmB,oBAAkBP,IAAE,IAAI,GAAE,KAAK,iBAAiB,GAAE,KAAK,SAAO,KAAK,iBAAiBF,KAAEC,GAAC,IAAE,KAAK,iBAAiBD,KAAEC,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBH,KAAEC,KAAE;AAAC,eAAUC,OAAKF,IAAE,MAAK;AAAC,UAAG,sBAAoBE;AAAE,eAAOF,IAAE;AAAe,UAAG,CAACW,GAAE,KAAK,cAAaV,KAAEJ,EAAC;AAAE,eAAOG,IAAE;AAAe,WAAK,aAAW,KAAK,UAAU,cAAc,KAAK,aAAa,kBAAkB;AAAA,IAAC;AAAC,WAAOA,IAAE;AAAA,EAAU;AAAA,EAAC,sBAAqB;AAJzqI;AAI0qI,QAAG,QAAM,KAAK,WAAU;AAAC,YAAMA,MAAE,KAAK,UAAU,WAAW,OAAMC,OAAE,gBAAK,gBAAL,mBAAkB,aAAlB,mBAA4B,OAAMC,MAAE,KAAK,oBAAoBD,GAAC;AAAE,WAAK,UAAU,cAAc,EAAC,OAAM,CAACD,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEE,GAAC,GAAE,aAAYA,MAAE,KAAG,KAAK,2BAA0B,CAAC;AAAA,IAAC;AAAC,QAAG,QAAM,KAAK,kBAAiB;AAAC,YAAMF,MAAE,KAAK,iBAAiB,WAAW;AAAM,WAAK,iBAAiB,cAAc,EAAC,OAAM,CAACA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAE,KAAK,mBAAmB,CAAC,EAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BA,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,kBAAkB,MAAKO,MAAEE,GAAE,GAAE,0BAAyBV,KAAEC,GAAC;AAAE,QAAGO,QAAIG,GAAE;AAAO,aAAOH;AAAE,UAAMH,MAAEO,GAAEX,GAAC;AAAE,WAAO,KAAK,qCAAqCH,KAAEC,KAAG,MAAIM,GAAE;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,QAAG,KAAK,aAAW,KAAK,UAAU,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC,GAAE,KAAK,kBAAiB;AAAC,YAAMP,MAAE,EAAC,eAAc,KAAK,SAAS,kBAAiB;AAAE,WAAK,iBAAiB,cAAcA,GAAC;AAAA,IAAC;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,iBAAiBA,KAAEC,KAAEC,KAAE;AAJvkK;AAIwkK,UAAMC,MAAEY,IAAEf,IAAE,QAAQ;AAAE,QAAG,CAACG;AAAE,aAAO;AAAK,UAAMO,MAAEM,IAAEb,KAAE,KAAK,SAAS,mBAAkB,KAAK,SAAS,oBAAmBD,GAAC,GAAEK,MAAE,IAAIU,GAAEP,KAAET,KAAE,KAAK,SAAS,MAAM,KAAID,IAAE,GAAG,GAAEK,MAAEE,IAAE,WAAW,SAAS,SAAO;AAAE,QAAG,KAAK,aAAWA,IAAE,aAAWN,IAAE,IAAEI,KAAE,IAAE,GAAEE,IAAE,eAAaN,GAAE,IAAEI,KAAE,IAAE,GAAEa,IAAEX,IAAE,YAAWA,IAAE,cAAaA,IAAE,WAAW,UAAS,KAAK,SAAS,kBAAkB,IAAGA,IAAE,yBAAsB,UAAK,SAAS,MAAM,eAApB,mBAAgC,yBAAyBA,MAAG,KAAK,qBAAqBP,KAAEO,GAAC,GAAE,KAAK,eAAa,KAAK,wBAAwBA,GAAC,GAAE,KAAK,6BAA6BA,IAAE,YAAWJ,IAAE,OAAM,SAAQ,mBAAmB,GAAE,MAAII,IAAE,cAAc;AAAO,aAAO;AAAK,UAAMY,MAAE,IAAIC,GAAE,EAAC,YAAWb,IAAE,eAAc,YAAW,OAAG,UAAS,KAAK,SAAS,MAAM,KAAI,YAAWP,IAAE,IAAG,CAAC,GAAEe,MAAE,IAAIC,GAAE,MAAKG,KAAEZ,IAAE,eAAc,MAAK,MAAKO,KAAEZ,GAAC;AAAE,WAAOa,IAAE,0BAAwBR,IAAE,WAAW,kBAAiBQ,IAAE,wBAAsBD,GAAEZ,IAAE,IAAI,GAAEa;AAAA,EAAC;AAAA,EAAC,qBAAqBf,KAAEC,KAAE;AAJ59L;AAI69L,UAAME,MAAEF,IAAE,WAAW;AAAS,eAAS,EAAC,UAASkB,KAAE,cAAaE,KAAE,aAAYtB,KAAE,OAAMU,KAAE,OAAMG,IAAC,KAAIT,KAAE;AAAC,UAAG,QAAM,KAAK,SAAS,mBAAiBmB,GAAEC,EAAC,GAAER,GAAEQ,IAAEF,GAAC,GAAE,CAAC,EAAEE,IAAE,KAAK,SAAS,cAAc;AAAG;AAAS,YAAMpB,MAAED,GAAEmB,KAAEtB,KAAE,CAAC;AAAE,UAAG,MAAII,IAAE;AAAO;AAAS,YAAMW,OAAE,UAAK,iBAAL,mBAAmB,gBAAgB,OAAMU,MAAEnB,IAAE,EAAC,UAAS,KAAK,WAAU,SAAQF,KAAE,cAAakB,KAAE,eAAc,EAAC,UAASF,KAAE,OAAML,MAAE,OAAKb,IAAE,OAAM,cAAaa,MAAE,EAAEA,IAAE,OAAMd,GAAC,IAAE,MAAK,YAAW,KAAK,WAASU,GAAET,IAAE,YAAW,IAAEQ,KAAE,IAAEG,GAAC,IAAE,MAAK,cAAa,KAAK,WAASO,GAAElB,IAAE,cAAa,IAAEQ,KAAE,IAAEG,GAAC,IAAE,MAAK,uBAAsBX,IAAE,sBAAqB,EAAC,CAAC;AAAE,MAAAA,IAAE,cAAc,KAAKuB,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBxB,KAAE;AAAC,QAAG,CAAC,KAAK;AAAY;AAAO,UAAMC,MAAED,IAAE,WAAW;AAAS,aAAQE,MAAE,GAAEA,MAAED,IAAE,QAAO,EAAEC,KAAE;AAAC,YAAK,EAAC,cAAaC,KAAE,UAASgB,IAAC,IAAElB,IAAEC,GAAC;AAAE,UAAG,QAAM,KAAK,SAAS,mBAAiBoB,GAAEC,EAAC,GAAER,GAAEQ,IAAEpB,GAAC,GAAE,CAAC,EAAEoB,IAAE,KAAK,SAAS,cAAc;AAAG;AAAS,YAAMF,MAAEtB,IAAE,KAAK,kBAAiB,EAAC,aAAY,MAAK,yBAAwB,MAAG,cAAaI,KAAE,eAAc,EAAC,UAASgB,IAAC,EAAC,GAAEnB,IAAE,qBAAqB;AAAE,MAAAA,IAAE,cAAc,KAAKqB,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBrB,KAAEC,KAAE;AAJt/N;AAIu/N,UAAMC,MAAEa,IAAEf,IAAE,QAAQ;AAAE,QAAG,QAAME;AAAE,aAAO;AAAK,SAAK,UAAU,iBAAe,KAAK,kBAAgB,KAAK,sBAAoB,GAAE,QAAM,KAAK,qBAAmB,KAAK,iBAAiB,iBAAe,KAAK;AAAiB,UAAMC,MAAEkB,IAAEnB,KAAE,KAAK,SAAS,SAAS,GAAEK,MAAE,IAAIkB,GAAEtB,KAAEF,KAAE,KAAK,SAAS,MAAM,KAAID,IAAE,GAAG,GAAEK,MAAEE,IAAE,WAAW,SAAS,SAAO;AAAE,WAAO,KAAK,aAAWA,IAAE,aAAWN,IAAE,IAAEI,KAAE,IAAE,GAAEQ,IAAEN,IAAE,YAAWA,IAAE,WAAW,UAAS,KAAK,SAAS,WAAU,KAAK,SAAS,kBAAkB,KAAK,MAAM,WAAW,IAAGA,IAAE,iBAAee,GAAE,GAAEf,IAAE,yBAAsB,UAAK,SAAS,MAAM,eAApB,mBAAgC,yBAAyBA,MAAG,KAAK,qBAAqBP,KAAEO,GAAC,GAAE,KAAK,eAAa,KAAK,wBAAwBA,GAAC,GAAE,KAAK,6BAA6BA,IAAE,YAAWL,IAAE,OAAM,SAAQ,mBAAmB,GAAE,MAAIK,IAAE,cAAc,SAAO,OAAK,IAAIE,IAAE,MAAKF,IAAE,eAAcA,IAAE,gBAAe,KAAK,SAAS,mBAAmB;AAAA,EAAC;AAAA,EAAC,qBAAqBP,KAAEC,KAAE;AAJt3P;AAIu3P,UAAME,MAAEF,IAAE,WAAW;AAAS,eAAS,EAAC,UAASoB,KAAE,aAAYN,KAAE,OAAMhB,KAAE,OAAMU,IAAC,KAAIN,KAAE;AAAC,YAAMA,MAAEmB,GAAEC,EAAC;AAAE,UAAGR,GAAEZ,KAAEkB,GAAC,GAAE,CAAC,EAAElB,KAAE,KAAK,SAAS,cAAc;AAAE;AAAS,YAAMS,MAAEV,GAAEmB,KAAEN,KAAE,CAAC;AAAE,UAAG,MAAIH,IAAE;AAAO;AAAS,MAAAF,GAAET,IAAE,gBAAeE,GAAC;AAAE,YAAMW,OAAE,UAAK,iBAAL,mBAAmB,gBAAgB,OAAMU,MAAEnB,IAAE,EAAC,UAAS,KAAK,WAAU,SAAQO,KAAE,eAAc,EAAC,UAASS,KAAE,OAAMP,MAAE,OAAKb,IAAE,OAAM,cAAaa,MAAE,EAAEA,IAAE,OAAMd,GAAC,IAAE,MAAK,YAAW,KAAK,WAASU,GAAET,IAAE,YAAW,IAAEF,KAAE,IAAEU,GAAC,IAAE,MAAK,uBAAsBR,IAAE,sBAAqB,EAAC,CAAC;AAAE,MAAAA,IAAE,cAAc,KAAK,IAAIkB,IAAEK,KAAEvB,GAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBD,KAAE;AAAC,QAAG,CAAC,KAAK;AAAY;AAAO,UAAMC,MAAED,IAAE,WAAW;AAAS,aAAQE,MAAE,GAAEA,MAAED,IAAE,QAAO,EAAEC,KAAE;AAAC,YAAK,EAAC,UAASC,IAAC,IAAEF,IAAEC,GAAC;AAAE,UAAGoB,GAAEC,EAAC,GAAER,GAAEQ,IAAEpB,GAAC,GAAE,CAAC,EAAEoB,IAAE,KAAK,SAAS,cAAc;AAAE;AAAS,MAAAb,GAAEV,IAAE,gBAAeuB,EAAC;AAAE,YAAMF,MAAEtB,IAAE,KAAK,kBAAiB,EAAC,aAAY,EAAC,kBAAiB,KAAK,SAAS,WAAU,oBAAmB,KAAK,SAAS,mBAAkB,GAAE,yBAAwB,MAAG,eAAc,EAAC,UAASI,IAAC,EAAC,GAAEH,IAAE,qBAAqB;AAAE,MAAAA,IAAE,cAAc,KAAK,IAAImB,IAAEE,KAAErB,GAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,qBAAoB;AAJ72R;AAI82R,UAAMA,OAAE,gBAAK,gBAAL,mBAAkB,YAAlB,mBAA2B;AAAM,YAAO,KAAK,SAAO,IAAE,KAAK,iBAAiB,MAAI,QAAMA,MAAEA,IAAE,IAAE;AAAA,EAAE;AAAA,EAAC,mBAAkB;AAJv+R;AAIw+R,UAAMC,OAAE,gBAAK,gBAAL,mBAAkB,YAAlB,mBAA2B,OAAMC,MAAE,KAAK,mBAAmB;AAAE,WAAOe,GAAE,QAAMhB,MAAEF,GAAE,UAAUE,GAAC,IAAE,MAAKC,GAAC;AAAA,EAAC;AAAA,EAAC,OAAM;AAAC,WAAM,EAAC,GAAG,MAAM,KAAK,GAAE,iBAAgB,CAACF,KAAEC,QAAI,KAAK,iBAAiBD,KAAEC,GAAC,GAAE,iBAAgB,CAACD,KAAEC,KAAEC,QAAI,KAAK,iBAAiBF,KAAEC,KAAEC,GAAC,EAAC;AAAA,EAAC;AAAC;AAACJ,GAAE,2BAAyB,EAAC,gBAAee,GAAE,UAAS,kBAAiBA,GAAE,MAAK,oBAAmBA,GAAE,SAAQ;AAAE,IAAMU,KAAErB,GAAE;AAAE,IAAMe,KAAN,cAAgBD,IAAC;AAAA,EAAC,YAAYhB,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEE,KAAEC,GAAC,GAAE,KAAK,QAAMF;AAAA,EAAC;AAAC;AAAC,IAAMwB,KAAN,cAAgBT,IAAC;AAAA,EAAC,YAAYhB,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEE,KAAEC,GAAC,GAAE,KAAK,QAAMF;AAAA,EAAC;AAAC;;;ACA9yS,IAAMyB,MAAN,MAAO;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAE;AAAC,SAAK,YAAU,IAAIH,IAAEC,KAAEC,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,MAAK;AAAC,WAAO,KAAK,UAAU;AAAA,EAAG;AAAA,EAAC,IAAI,kBAAiB;AAAC,WAAO,IAAE,KAAK,UAAU,gCAA8B,KAAK,UAAU;AAAA,EAAc;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,KAAK,UAAU;AAAA,EAAY;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,KAAK,UAAU;AAAA,EAAa;AAAA,EAAC,SAAQ;AAAC,UAAMC,MAAEH,IAAEI,KAAE,KAAK,UAAU,eAAc,KAAK,UAAU,cAAc,GAAEL,MAAEI,IAAE,WAAW,IAAI;AAAE,WAAOJ,IAAE,KAAK,GAAE,KAAK,UAAU,OAAOA,KAAE,GAAE,CAAC,GAAEA,IAAE,QAAQ,GAAE,IAAIM,GAAEF,KAAE,EAAC,MAAK,EAAC,GAAEG,GAAE,eAAc,GAAEA,GAAE,cAAa,GAAE,cAAa,OAAG,QAAO,MAAG,kBAAiB,KAAE,CAAC;AAAA,EAAC;AAAC;AAAC,IAAMF,MAAE,EAAC,QAAO,KAAI;;;ACAwxB,IAAMG,KAAE,CAAC,GAAE,GAAE,CAAC;AAAE,IAAMC,MAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,GAAC,GAAE,KAAK,oBAAkB,EAAC,0BAAyB,MAAG,qBAAoB,MAAE,GAAE,KAAK,mBAAmB,KAAE;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAAC,QAAG,CAAC,KAAK,kBAAkB,MAAK;AAAC,YAAMF,MAAEG,GAAE,KAAK,YAAY,IAAI;AAAE,UAAGH;AAAE,cAAM,IAAII,GAAE,0CAAyCJ,GAAC;AAAA,IAAC;AAAC,UAAM,KAAK,4BAA4B;AAAA,EAAC;AAAA,EAAC,MAAM,8BAA6B;AAAC,UAAMD,MAAE,KAAK,SAAS,kBAAkB,KAAK,MAAM;AAAiB,SAAK,wBAAsB,MAAMK,IAAE,WAAW,KAAK,aAAYL,GAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ;AAAA,EAAC;AAAA,EAAC,wBAAwBA,KAAE;AAAC,UAAMC,MAAED,IAAE,SAAQE,MAAEI,IAAEL,IAAE,QAAQ;AAAE,QAAG,QAAMC;AAAE,aAAO,KAAK,OAAO,KAAK,8CAA8CD,IAAE,SAAS,IAAI,EAAE,GAAE;AAAK,UAAME,MAAE,KAAK,YAAY;AAAK,QAAG,QAAMA,OAAG,OAAKA;AAAE,aAAO;AAAK,UAAME,MAAEE,GAAE,KAAK,MAAM,KAAG,KAAK,OAAO,yBAAyB,IAAE,KAAK,OAAO,iBAAe;AAAK,QAAG,QAAMF,OAAG,CAACG,GAAE,KAAK,WAAW;AAAE,aAAO,KAAK,OAAO,iBAAiB,2HAA2H,KAAK,YAAY,mBAAmB,cAAc,GAAE;AAAK,UAAMC,MAAE,IAAIR,IAAEI,KAAE,KAAK,YAAY,qBAAoBK,IAAE,KAAK,YAAY,iBAAiB,CAAC;AAAE,WAAO,KAAK,iBAAiBT,KAAEC,KAAEC,KAAEM,GAAC;AAAA,EAAC;AAAA,EAAC,YAAYT,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAME,MAAEL,IAAE,SAAQS,MAAEH,IAAED,IAAE,QAAQ;AAAE,QAAG,QAAMI;AAAE,aAAO,KAAK,OAAO,KAAK,wCAAwCJ,IAAE,SAAS,IAAI,EAAE,GAAE;AAAK,UAAME,MAAEN,IAAE;AAAK,WAAM,CAACM,OAAG,QAAQ,KAAKA,GAAC,IAAE,OAAK,KAAK,iBAAiBF,KAAEI,KAAEF,KAAEN,KAAEC,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,2BAA2BH,KAAEC,KAAEC,MAAE,GAAE;AAAC,UAAMC,MAAE,MAAM,2BAA2BH,KAAEC,GAAC;AAAE,WAAOE,IAAE,qBAAqBD,GAAC,GAAEC;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,WAAO,KAAK,OAAO,KAAK,uEAAuE,GAAE;AAAA,EAAE;AAAA,EAAC,0BAA0BH,KAAEC,KAAE;AAAC,WAAOU,GAAEX,KAAEC,KAAG,CAACD,KAAEC,QAAI;AAAC,WAAK,8BAA8BA,KAAED,GAAC;AAAA,IAAC,CAAE,GAAEY,GAAE;AAAA,EAAM;AAAA,EAAC,yBAAyBZ,KAAEC,KAAE;AAAC,WAAOU,GAAEX,KAAEC,KAAG,CAAAD,QAAG;AAAC,iBAAUC,OAAKD,IAAE,YAAY;AAAW,QAAAC,IAAE,SAAS,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC;AAAA,IAAC,CAAE,GAAE;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,8BAA8BD,KAAEC,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAiB,SAAK,2BAA2BD,KAAEE,KAAE,QAAMD,IAAE,WAASA,IAAE,SAAS,kBAAgB,CAAC,GAAEA,IAAE,wBAAsBY,GAAEX,IAAE,IAAI,KAAG,sBAAoBA,IAAE;AAAA,EAAI;AAAA,EAAC,2BAA0B;AAAC,WAAOY;AAAA,EAAC;AAAA,EAAC,iBAAiBd,KAAEO,KAAEC,KAAEO,KAAEF,KAAEH,KAAE;AAJzzH;AAI0zH,UAAMM,MAAE,KAAK,2BAA2BhB,KAAE,IAAIO,OAAEQ,IAAE,eAAe,GAAEE,MAAE,iBAAa,KAAAjB,IAAE,aAAF,mBAAY,OAAKkB,MAAElB,IAAE;AAAI,QAAImB,MAAE,MAAKC,MAAE;AAAK,QAAG,QAAMV,KAAE;AAAC,YAAMV,MAAEqB,IAAEN,IAAE,mBAAmB;AAAE,MAAAI,MAAE,IAAIV,IAAED,KAAER,KAAE,KAAK,qBAAqB;AAAE,UAAIE,MAAE;AAAK,UAAG,QAAM,KAAK,SAAS,gBAAgB,UAAS;AAAC,QAAAkB,MAAE,KAAK,SAAS,gBAAgB,SAAS,SAASD,IAAE,KAAK,MAAIA,IAAE,OAAO,GAAI,MAAI;AAAC,kBAAMjB,OAAGA,IAAE,QAAQ;AAAA,QAAC,CAAE;AAAE,cAAMF,MAAE,KAAK,SAAS,MAAM,WAAW,kBAAkB,QAAQoB,IAAE,QAAQ,EAAE;AAAE,YAAG,QAAMpB,OAAG,EAAEA,GAAC;AAAE,iBAAOoB,IAAE,QAAQ,GAAE;AAAK,QAAAlB,MAAEF;AAAA,MAAC;AAAA,IAAC;AAAC,UAAMsB,MAAEC,GAAEJ,KAAEJ,GAAC,GAAES,MAAE,EAAC,eAAc,MAAG,cAAaT,IAAE,cAAa,gBAAeO,KAAE,eAAc,MAAG,OAAM,CAAC,GAAE,GAAE,GAAE,CAAC,GAAE,mBAAkBP,IAAE,mBAAkB,kBAAiB,KAAE;AAAE,QAAG,QAAML,MAAEc,IAAE,YAAUd,IAAE,KAAG,QAAMU,QAAII,IAAE,YAAUJ,IAAE,QAAQ,KAAI,QAAML,IAAE,gBAAe;AAAC,YAAK,EAAC,cAAaf,KAAE,gBAAeC,KAAE,gBAAeE,IAAC,IAAEY,IAAE;AAAe,MAAAS,IAAE,iBAAe,EAAC,cAAalB,GAAEN,GAAC,GAAE,gBAAeC,OAAG,GAAE,gBAAe,QAAME,MAAEA,MAAE,IAAE,EAAC;AAAA,IAAC;AAAC,QAAG,KAAK,SAAS,8BAA6B;AAAC,YAAK,EAAC,+BAA8BH,KAAE,qCAAoCC,IAAC,IAAE,KAAK,SAAS;AAAgB,MAAAuB,IAAE,wBAAsBvB,IAAE,gBAAgB,KAAK,sBAAsB,WAAS,KAAK,sBAAsB,WAAW,WAAW,QAAQ,CAAC,CAAC,GAAEuB,IAAE,iCAA+BxB;AAAA,IAAC;AAAC,QAAIF;AAAE,QAAGmB,QAAIO,IAAE,sBAAoB,OAAMA,IAAE,gBAAc,KAAK,SAAS,mBAAkB,QAAMX,KAAE;AAAC,YAAMb,MAAE,KAAK,UAAUwB,GAAC;AAAE,MAAA1B,MAAEe,IAAE,IAAIb,GAAC,GAAE,QAAMF,QAAIA,MAAE,IAAI,EAAE0B,GAAC,GAAEX,IAAE,IAAIb,KAAEF,GAAC;AAAA,IAAE;AAAM,MAAAA,MAAE,IAAI,EAAE0B,GAAC;AAAE,UAAMb,KAAEI,IAAE,aAAYD,KAAEK,MAAEjB,GAAEiB,IAAE,cAAaA,IAAE,aAAa,IAAET,IAAEe,KAAEV,IAAE,cAAaW,MAAEC,IAAE7B,KAAED,IAAEc,IAAE,MAAKG,IAAEW,IAAE,CAAC,GAAE,CAAC,GAAE,IAAI,GAAEb,MAAES,IAAE,KAAK,UAASd,KAAEmB,KAAEV,KAAEE,GAAC;AAAE,QAAG,QAAMN;AAAE,aAAO;AAAK,UAAMgB,KAAE,IAAIC,GAAE,MAAKjB,IAAE,QAAO,CAACc,GAAC,GAAE,QAAMb,MAAE,CAACf,GAAC,IAAE,MAAKsB,KAAES,IAAEb,GAAC;AAAE,IAAAY,GAAE,0BAAwBhB,IAAE,kBAAiBgB,GAAE,wBAAsBf,GAAEG,IAAE,IAAI,KAAG,sBAAoBA,IAAE;AAAK,UAAK,EAAC,cAAaZ,KAAE,eAAc0B,IAAC,IAAE,QAAMX,MAAEA,MAAEJ;AAAE,IAAAa,GAAE,gBAAc,CAAC5B,MAAEG,GAAE,OAAKH,IAAE,CAAC,IAAEI,KAAEJ,IAAE,CAAC,IAAE8B,KAAE9B;AAAG,UAAM+B,KAAE,IAAI9B,IAAEc,IAAE,iBAAgBP,GAAC;AAAE,WAAOoB,GAAE,WAASG,IAAEF,GAAED,IAAErB,KAAE,KAAK,SAAS,iBAAiB,GAAEqB;AAAA,EAAC;AAAC;AAAC,SAASjB,GAAEX,KAAEC,KAAEC,KAAE;AAAC,EAAAF,OAAGA,IAAE,QAAS,CAAAA,QAAG;AAAC,UAAMG,MAAEF,IAAED,GAAC;AAAE,YAAMG,OAAGD,IAAEC,KAAEH,IAAE,OAAO;AAAA,EAAC,CAAE;AAAC;AAAC,SAASuB,GAAEvB,KAAEC,KAAE;AAAC,MAAG,eAAaA,IAAE,mBAAkB;AAAC,UAAMC,MAAEA,IAAED,IAAE,mBAAmB,GAAEI,MAAE,QAAML,MAAEA,IAAE,kBAAgB;AAAE,WAAOE,GAAEA,KAAEG,GAAC;AAAA,EAAC;AAAC,QAAMH,MAAEO,IAAER,IAAE,qBAAoBA,IAAE,iBAAiB;AAAE,SAAOM,IAAEL,GAAC;AAAC;AAAC,IAAMY,KAAE,EAAC,MAAK,sBAAqB,QAAO,EAAC;;;ACA1gM,IAAMkB,MAAE,EAAC,cAAa,EAAC,cAAa,MAAK,sBAAqB,MAAI,eAAc,IAAG,cAAa,KAAG,GAAE,iBAAgB,EAAC,cAAa,MAAI,sBAAqB,MAAI,eAAc,IAAG,cAAa,KAAG,GAAE,gBAAe,EAAC,cAAa,MAAI,sBAAqB,MAAI,eAAc,IAAG,cAAa,IAAE,GAAE,kBAAiB,EAAC,cAAa,OAAK,sBAAqB,MAAI,eAAc,IAAG,cAAa,IAAE,GAAE,eAAc,EAAC,cAAa,SAAQ,sBAAqB,MAAI,eAAc,GAAE,cAAa,KAAG,GAAE,kBAAiB,EAAC,cAAa,OAAK,sBAAqB,OAAK,eAAc,IAAG,cAAa,KAAG,GAAE,iBAAgB,EAAC,cAAa,MAAI,sBAAqB,OAAK,eAAc,GAAE,cAAa,KAAG,GAAE,mBAAkB,EAAC,cAAa,MAAI,sBAAqB,MAAI,eAAc,GAAE,cAAa,KAAG,GAAE,cAAa,EAAC,cAAa,MAAI,sBAAqB,GAAE,eAAc,GAAE,cAAa,KAAG,GAAE,iBAAgB,EAAC,cAAa,OAAK,sBAAqB,MAAI,eAAc,GAAE,cAAa,KAAG,GAAE,gBAAe,EAAC,cAAa,MAAI,sBAAqB,MAAI,eAAc,GAAE,cAAa,KAAG,GAAE,kBAAiB,EAAC,cAAa,MAAI,sBAAqB,MAAI,eAAc,GAAE,cAAa,KAAG,EAAC;;;ACA2kB,IAAMC,MAAE,CAAC,YAAW,WAAU,QAAQ;AAAE,IAAMC,KAAN,MAAM,WAAUC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEC,KAAEC,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,MAAM,SAAQ;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,SAAS,MAAM,OAAO,KAAK,SAAS,GAAE,KAAK,YAAU;AAAA,EAAI;AAAA,EAAC,wBAAwBH,KAAE;AAAC,UAAMC,MAAED,IAAE;AAAQ,QAAG,CAAC,KAAK,kBAAkBC,IAAE,UAASJ,KAAE,KAAK,YAAY,IAAI;AAAE,aAAO;AAAK,UAAMK,MAAE,KAAK,2BAA2BD,KAAE,IAAIE,KAAC;AAAE,WAAO,KAAK,mBAAmB,oBAAkBD,IAAE,IAAI,GAAE,KAAK,eAAe,GAAE,KAAK,SAAO,KAAK,iBAAiBD,GAAC,IAAE,KAAK,iBAAiBA,KAAEC,KAAED,IAAE,GAAG;AAAA,EAAC;AAAA,EAAC,iBAAgB;AAAC,QAAG,QAAM,KAAK;AAAU;AAAO,UAAMA,MAAE,IAAIG,MAAEF,MAAE,KAAK,YAAY;AAAM,YAAMA,QAAID,IAAE,QAAMF,GAAE,WAAWG,GAAC;AAAG,UAAMC,MAAE,KAAK,oBAAoBD,KAAE,EAAC,mBAAkB,KAAE,CAAC;AAAE,IAAAD,IAAE,QAAM,CAACA,IAAE,MAAM,CAAC,GAAEA,IAAE,MAAM,CAAC,GAAEA,IAAE,MAAM,CAAC,GAAEE,GAAC,GAAEF,IAAE,cAAYE,MAAE,KAAG,KAAK,4BAA2BF,IAAE,gBAAc,QAAM,KAAK,YAAY,gBAAc,GAAE,uBAAuB,KAAK,YAAY,aAAa,IAAEC,GAAE,GAAE,CAAC;AAAE,UAAMG,MAAE,KAAK,YAAY,eAAa,MAAI,KAAK,YAAY,eAAcC,MAAEN,IAAEK,GAAC;AAAE,IAAAJ,IAAE,eAAaK,IAAE,cAAaL,IAAE,oBAAkBK,IAAE,eAAcL,IAAE,eAAaK,IAAE,cAAaL,IAAE,eAAaK,IAAE,sBAAqBL,IAAE,gBAAc,KAAK,SAAS,mBAAkBA,IAAE,WAAS,KAAK,QAAO,KAAK,YAAU,IAAIM,GAAEN,GAAC,GAAE,KAAK,SAAS,MAAM,IAAI,KAAK,SAAS;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,QAAG,QAAM,KAAK;AAAU;AAAO,UAAMD,MAAE,KAAK,UAAU,WAAW,OAAMC,MAAE,KAAK,oBAAoB,KAAK,YAAY,OAAM,EAAC,mBAAkB,KAAE,CAAC,GAAEC,MAAED,MAAE,KAAG,KAAK;AAA2B,SAAK,UAAU,cAAc,EAAC,OAAM,CAACD,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEC,GAAC,GAAE,aAAYC,IAAC,CAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BF,KAAEC,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,kBAAkB,MAAKK,MAAED,GAAE,GAAE,0BAAyBL,KAAEC,GAAC;AAAE,QAAGK,QAAIC,GAAE;AAAO,aAAOD;AAAE,UAAMH,MAAEK,GAAEP,GAAC;AAAE,WAAO,KAAK,qCAAqCH,KAAEC,KAAG,MAAII,GAAE;AAAA,EAAC;AAAA,EAAC,2BAA0B;AAAC,WAAO,QAAM,KAAK,aAAW,KAAK,UAAU,cAAc,EAAC,eAAc,KAAK,SAAS,kBAAiB,CAAC,GAAE;AAAA,EAAE;AAAA,EAAC,gCAA+B;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,iBAAiBL,KAAEC,KAAEC,KAAE;AAJ5kH;AAI6kH,UAAMC,MAAEQ,IAAEX,IAAE,QAAQ;AAAE,QAAG,QAAMG;AAAE,aAAO;AAAK,UAAMK,MAAEI,IAAET,KAAE,KAAK,SAAS,mBAAkB,KAAK,SAAS,oBAAmBF,GAAC,GAAEI,MAAEG,IAAE,SAAS,SAAO,GAAEF,MAAEL,GAAE,IAAEI,GAAC;AAAE,SAAK,4BAA4BC,KAAEE,IAAE,cAAaH,KAAE,KAAK,SAAS,kBAAkB,gBAAgB;AAAE,UAAMQ,MAAE,IAAIC,GAAEN,KAAEF,KAAE,KAAK,SAAS,MAAM,KAAIN,IAAE,GAAG;AAAE,QAAGa,IAAE,yBAAsB,UAAK,SAAS,MAAM,eAApB,mBAAgC,yBAAyBA,MAAG,KAAK,yBAAyBA,GAAC,GAAE,KAAK,6BAA6BA,IAAE,YAAWV,IAAE,OAAM,SAAQ,oBAAoB,GAAE,MAAIU,IAAE,cAAc;AAAO,aAAO;AAAK,UAAME,MAAE,IAAIjB,GAAE,EAAC,YAAWe,IAAE,eAAc,YAAW,OAAG,UAAS,KAAK,SAAS,MAAM,KAAI,YAAWX,IAAC,CAAC,GAAES,MAAE,IAAIC,GAAE,MAAKG,KAAEF,IAAE,eAAc,MAAK,MAAKG,KAAEf,GAAC;AAAE,WAAOU,IAAE,0BAAwBE,IAAE,WAAW,kBAAiBF,IAAE,wBAAsBD,GAAET,IAAE,IAAI,GAAEU;AAAA,EAAC;AAAA,EAAC,4BAA4BX,KAAEE,KAAEM,KAAEH,KAAE;AAAC,UAAMQ,MAAEI,GAAEZ,GAAC;AAAE,IAAAa,GAAEC,GAAC;AAAE,aAAQlB,MAAE,GAAEA,MAAEO,KAAEP;AAAI,MAAAC,GAAEkB,IAAElB,IAAE,IAAED,GAAC,GAAEC,IAAE,IAAED,MAAE,CAAC,CAAC,GAAEoB,GAAEF,KAAEC,EAAC;AAAE,IAAAL,GAAEI,KAAEA,KAAEN,GAAC;AAAE,UAAME,MAAEI,IAAE,CAAC,IAAE,GAAE,mBAAkBR,MAAEQ,IAAE,CAAC,IAAE,GAAE;AAAkB,IAAAG,GAAE,CAAC,IAAEH,IAAE,CAAC,IAAEJ,KAAEO,GAAE,CAAC,IAAEH,IAAE,CAAC,IAAER;AAAE,aAAQV,MAAE,GAAEA,MAAEO,KAAEP;AAAI,MAAAD,IAAE,IAAEC,GAAC,KAAGC,IAAE,IAAED,GAAC,IAAEY,MAAES,GAAE,CAAC,KAAG,GAAE,mBAAkBtB,IAAE,IAAEC,MAAE,CAAC,KAAGC,IAAE,IAAED,MAAE,CAAC,IAAEY,MAAES,GAAE,CAAC,KAAG,GAAE;AAAA,EAAiB;AAAA,EAAC,yBAAyBtB,KAAE;AAAC,UAAMC,MAAED,IAAE,WAAW,UAASG,MAAEH,IAAE;AAAS,eAAS,EAAC,OAAMQ,KAAE,OAAMH,KAAE,UAASC,KAAE,cAAaO,KAAE,aAAYE,IAAC,KAAId,KAAE;AAAC,UAAG,QAAM,KAAK,SAAS,mBAAiBsB,GAAEC,EAAC,GAAEb,GAAEa,IAAEX,GAAC,GAAE,CAAC,EAAEW,IAAE,KAAK,SAAS,cAAc;AAAG;AAAS,YAAMvB,MAAEO,GAAEK,KAAEE,KAAE,CAAC;AAAE,UAAG,MAAId,IAAE;AAAO;AAAS,YAAMe,MAAEH,GAAEV,KAAE,IAAEE,KAAE,IAAEG,GAAC,GAAED,MAAES,IAAE,EAAC,UAAS,KAAK,WAAU,SAAQf,KAAE,cAAaY,KAAE,eAAc,EAAC,UAASP,KAAE,KAAIU,IAAC,EAAC,GAAEhB,IAAE,qBAAqB;AAAE,MAAAA,IAAE,cAAc,KAAKO,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,iBAAiBP,KAAE;AAJ3mK;AAI4mK,UAAMC,MAAEU,IAAEX,IAAE,QAAQ;AAAE,QAAG,QAAMC;AAAE,aAAO;AAAK,SAAK,UAAU,iBAAe,KAAK;AAAgB,UAAMC,MAAEa,IAAEd,KAAE,KAAK,SAAS,SAAS,GAAEE,MAAED,IAAE,SAAS,SAAO,GAAEM,MAAEP,GAAE,IAAEE,GAAC;AAAE,SAAK,4BAA4BK,KAAEN,IAAE,UAASC,KAAE,KAAK,SAAS,SAAS;AAAE,UAAME,MAAE,IAAIoB,GAAEvB,KAAEM,KAAE,KAAK,SAAS,MAAM,KAAIR,IAAE,GAAG;AAAE,WAAOK,IAAE,yBAAsB,UAAK,SAAS,MAAM,eAApB,mBAAgC,yBAAyBA,MAAGA,IAAE,iBAAekB,GAAE,GAAE,KAAK,sBAAsBlB,GAAC,GAAE,KAAK,6BAA6BA,IAAE,YAAWJ,IAAE,OAAM,SAAQ,oBAAoB,GAAE,MAAII,IAAE,cAAc,SAAO,OAAK,IAAIW,IAAE,MAAKX,IAAE,eAAcA,IAAE,gBAAe,KAAK,SAAS,mBAAmB;AAAA,EAAC;AAAA,EAAC,sBAAsBL,KAAE;AAAC,UAAMC,MAAED,IAAE,UAASG,MAAEH,IAAE,WAAW;AAAS,eAAS,EAAC,UAASQ,KAAE,aAAYH,KAAE,OAAMC,KAAE,OAAMO,IAAC,KAAIV,KAAE;AAAC,UAAGoB,GAAEC,EAAC,GAAEb,GAAEa,IAAEhB,GAAC,GAAE,CAAC,EAAEgB,IAAE,KAAK,SAAS,cAAc;AAAE;AAAS,MAAArB,GAAEH,IAAE,gBAAewB,EAAC;AAAE,YAAMrB,MAAEK,GAAEA,KAAEH,KAAE,CAAC;AAAE,UAAG,MAAIF,IAAE;AAAO;AAAS,YAAMY,MAAEF,GAAEZ,KAAE,IAAEK,KAAE,IAAEO,GAAC,GAAEN,MAAES,IAAE,EAAC,UAAS,KAAK,WAAU,SAAQb,KAAE,eAAc,EAAC,UAASK,KAAE,KAAIO,IAAC,EAAC,GAAEf,IAAE,qBAAqB;AAAE,MAAAA,IAAE,cAAc,KAAK,IAAIa,IAAEN,KAAEP,GAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,OAAO,uBAAuBA,KAAE;AAAC,UAAMC,MAAEI,GAAE,GAAEH,MAAEA,GAAEF,GAAC;AAAE,WAAOC,IAAE,CAAC,IAAE,KAAK,IAAIC,GAAC,GAAED,IAAE,CAAC,IAAE,KAAK,IAAIC,GAAC,GAAED;AAAA,EAAC;AAAA,EAAC,OAAM;AAAC,WAAM,EAAC,GAAG,MAAM,KAAK,GAAE,eAAc,CAAAD,QAAG,KAAK,iBAAiBA,IAAE,SAAQA,IAAE,kBAAiBA,IAAE,UAAU,GAAE,gBAAe,MAAI,KAAK,eAAe,EAAC;AAAA,EAAC;AAAC;AAACF,GAAE,oBAAkB,KAAIA,GAAE,2BAAyB,EAAC,gBAAeW,GAAE,UAAS,kBAAiBA,GAAE,MAAK,oBAAmBA,GAAE,SAAQ;AAAE,IAAMa,KAAEjB,GAAE;AAAV,IAAYc,MAAEX,GAAE;AAAhB,IAAkBY,KAAEf,GAAE;AAAtB,IAAwBmB,KAAEhB,GAAE;AAAE,IAAMM,KAAN,cAAgBF,IAAC;AAAA,EAAC,YAAYZ,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEE,KAAEC,GAAC,GAAE,KAAK,WAASF;AAAA,EAAC;AAAC;AAAC,IAAMwB,KAAN,cAAgBb,IAAC;AAAA,EAAC,YAAYZ,KAAEC,KAAEC,KAAEC,KAAE;AAAC,UAAMH,KAAEE,KAAEC,GAAC,GAAE,KAAK,WAASF;AAAA,EAAC;AAAC;;;ACAp6L,SAASyB,IAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAJlwB;AAImwB,QAAMC,QAAE,KAAAC,IAAEL,IAAE,IAAI,MAAR,mBAAYC,IAAE,UAAOK,IAAEL,IAAE,IAAI;AAAE,SAAOG,MAAE,IAAIA,IAAEJ,KAAEC,KAAEC,KAAEC,GAAC,KAAG,EAAE,UAAU,4DAA4D,EAAE,MAAM,6BAA4B,uBAAuBF,IAAE,IAAI,EAAE,GAAE;AAAK;AAAC,IAAMK,MAAE,EAAC,MAAKC,KAAE,QAAOC,KAAE,MAAKC,KAAE,MAAKC,KAAE,MAAKC,IAAE,SAAQ,IAAE,MAAKC,KAAE,OAAMC,GAAC;AAAyB,IAAMC,MAAE,EAAC,WAAU,EAAC,MAAKC,IAAC,EAAC;;;ACAtc,IAAMC,MAAN,cAAgBC,IAAC;AAAA,EAAC,IAAI,OAAOC,KAAE;AAAC,SAAK,UAAQA,KAAEA,IAAE,aAAa,QAAS,CAACC,KAAEF,QAAI;AAAC,YAAMG,MAAE,KAAK,aAAaH,GAAC;AAAE,cAAMG,QAAIA,IAAE,SAAOF,KAAEE,IAAE,cAAYD;AAAA,IAAE,CAAE;AAAA,EAAC;AAAA,EAAC,IAAI,SAAQ;AAAC,WAAO,KAAK;AAAA,EAAO;AAAA,EAAC,YAAYD,KAAEC,KAAEF,KAAE;AAAC,UAAME,IAAE,QAAQ,GAAE,KAAK,UAAQD,KAAE,KAAK,WAASC,KAAE,KAAK,oBAAkBF,KAAE,KAAK,aAAW,OAAG,KAAK,eAAa,IAAI,SAAM,KAAK,aAAW,GAAE,KAAK,iBAAe;AAAA,EAAC;AAAA,EAAC,MAAM,OAAOC,KAAE;AAAC,QAAIG,MAAE,KAAK,QAAQ;AAAa,SAAK,iBAAe,GAAE,KAAK,sBAAoBA,MAAE,KAAK,kBAAkB,OAAOA,GAAC;AAAG,UAAMC,MAAED,IAAE;AAAO,WAAK,KAAK,aAAa,SAAOA,IAAE;AAAQ,WAAK,aAAa,KAAK,IAAI;AAAE,SAAK,aAAa,SAAOA,IAAE;AAAO,UAAME,MAAE,CAAC;AAAE,aAAQJ,MAAE,GAAEA,MAAEG,KAAEH,OAAI;AAAC,YAAMC,MAAEC,IAAE,GAAGF,GAAC;AAAE,UAAG,UAAKC,IAAE;AAAQ;AAAS,MAAAI,IAAE,iBAAe,KAAG,IAAEL,OAAGG,KAAEE,IAAE,qBAAmB,IAAEF,KAAEE,IAAE,gBAAcJ,IAAE;AAAc,YAAMK,MAAEC,IAAE,KAAK,QAAON,KAAE,KAAK,UAASI,GAAC,GAAEG,MAAE,EAAET,KAAG,MAAI;AAAC,aAAK,aAAaC,GAAC,IAAE,MAAKM,IAAE,QAAQ;AAAA,MAAC,CAAE;AAAE,MAAAE,OAAGJ,IAAE,KAAKI,GAAC,GAAE,KAAK,aAAaR,GAAC,IAAEM;AAAA,IAAC;AAAC,QAAG,MAAMH,GAAE,KAAK,cAAc,OAAMJ,KAAEC,QAAI;AAAC,UAAG,QAAMD;AAAE,YAAG;AAAC,gBAAMA,IAAE,KAAK,GAAE,KAAK,kBAAgB,KAAK,IAAI,KAAK,gBAAeA,IAAE,aAAa;AAAA,QAAC,QAAM;AAAC,eAAK,aAAaC,GAAC,IAAE;AAAA,QAAI;AAAA,IAAC,CAAE,GAAEI,IAAE,QAAS,CAAAL,QAAGA,IAAE,OAAO,CAAE,GAAEE,GAAEF,GAAC,GAAE,KAAK,aAAa,UAAQ,CAAC,KAAK,aAAa,KAAM,CAAAA,QAAG,CAAC,CAACA,GAAE;AAAE,YAAM,IAAI;AAAA,EAAK;AAAA,EAAC,mBAAmBA,KAAE;AAAC,UAAMC,MAAE,KAAK,aAAaD,GAAC;AAAE,WAAO,QAAMC,MAAEA,IAAE,cAAc,IAAE;AAAA,EAAI;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,KAAK;AAAA,EAAc;AAAA,EAAC,IAAI,6BAA4B;AAAC,WAAO,KAAK,aAAa,KAAM,CAAAD,QAAG,QAAMA,OAAGA,IAAE,gBAAiB;AAAA,EAAC;AAAA,EAAC,wBAAwBA,KAAEC,KAAE;AAAC,UAAMF,MAAEC,IAAE,SAAQE,MAAE,KAAK,aAAa,IAAK,CAAAD,SAAGA,OAAA,gBAAAA,IAAG,wBAAwBD,SAAI,IAAK,GAAEI,MAAE,KAAK,SAAS,UAAQ,KAAK,SAAS,gCAA8B,KAAK,SAAS,6BAA6B,UAAQ,KAAK,SAAS,6BAA6B,OAAO,WAAS;AAAK,WAAO,IAAIM,GAAEX,KAAEE,OAAG,MAAKC,KAAEF,IAAE,OAAMI,GAAC;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,WAAOO,IAAE,KAAK,aAAa,IAAK,CAAAX,QAAG,QAAMA,MAAEA,IAAE,aAAW,IAAK,CAAC;AAAA,EAAC;AAAA,EAAC,sBAAsBA,KAAEC,KAAE;AAAC,UAAMF,MAAE,KAAK,aAAa;AAAO,aAAQG,MAAE,GAAEA,MAAEH,KAAEG,OAAI;AAAC,YAAMH,MAAE,KAAK,aAAaG,GAAC,GAAEC,MAAE,CAAAH,QAAG;AAAC,cAAMC,MAAED,IAAE,OAAOE,GAAC;AAAE,eAAOD,eAAaK,KAAEL,MAAE;AAAA,MAAI;AAAE,UAAG,QAAMF,OAAG,CAACA,IAAE,sBAAsBC,KAAEC,KAAEE,GAAC;AAAE,eAAM;AAAA,IAAE;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,kBAAkBH,KAAEC,KAAE;AAAC,WAAO,KAAK,eAAaW,IAAE,SAAOZ,IAAE,iBAAe,KAAK,aAAa,OAAQ,CAACD,KAAEG,QAAIH,QAAIC,IAAE,kBAAgB,QAAME,MAAE,KAAK,IAAIH,KAAEG,IAAE,kBAAkBF,KAAEC,GAAC,CAAC,IAAEF,KAAGC,IAAE,UAAU;AAAA,EAAC;AAAA,EAAC,mBAAmBA,KAAE;AAAC,QAAG,KAAK,eAAaY,IAAE;AAAO;AAAO,QAAG,cAAYZ,IAAE,KAAK;AAAK;AAAO,UAAMC,MAAED,IAAE,KAAK;AAAK,QAAG,CAACC,IAAE,gBAAc,cAAYA,IAAE,aAAa;AAAK;AAAO,UAAMF,MAAEE,IAAE,aAAa;AAAK,SAAK,aAAa,QAAS,CAACA,KAAEC,QAAI;AAAC,UAAG,QAAMD;AAAE;AAAO,YAAME,MAAEJ,IAAEG,GAAC;AAAE,UAAGC,KAAE;AAAC,cAAMJ,MAAE,EAAC,MAAKI,KAAE,0BAAyB,CAAC,GAAE,yBAAwB,CAAC,EAAC;AAAE,QAAAF,IAAE,wBAAwBF,GAAC,GAAEC,IAAE,mBAAmB,KAAK,GAAGD,IAAE,uBAAuB,GAAEA,IAAE,yBAAyB,UAAQC,IAAE,yBAAyB,KAAM,CAACA,KAAEC,QAAI;AAAC,gBAAME,MAAEH,IAAE,OAAOE,GAAC;AAAE,kBAAMC,OAAGJ,IAAE,yBAAyB,QAAS,CAAAC,QAAGA,IAAEG,KAAEF,GAAC,CAAE;AAAA,QAAC,CAAE;AAAA,MAAC;AAAA,IAAC,CAAE;AAAA,EAAC;AAAA,EAAC,eAAeD,KAAEC,KAAE;AAAC,WAAO,KAAK,2BAA2BD,KAAG,CAACA,KAAED,QAAIC,IAAE,eAAeD,KAAEE,GAAC,CAAE;AAAA,EAAC;AAAA,EAAC,gBAAgBD,KAAEC,KAAEF,KAAEG,KAAE;AAAC,WAAO,KAAK,2BAA2BF,KAAG,CAACA,KAAEG,QAAIH,IAAE,gBAAgBG,KAAEF,KAAEF,KAAEG,GAAC,CAAE;AAAA,EAAC;AAAA,EAAC,2BAA2BF,KAAEC,KAAE;AAAC,aAAQF,MAAE,GAAEA,MAAE,KAAK,aAAa,QAAOA,OAAI;AAAC,YAAMG,MAAE,KAAK,aAAaH,GAAC;AAAE,UAAG,QAAMG;AAAE;AAAS,YAAMC,MAAEH,IAAE,OAAOD,GAAC;AAAE,UAAG,CAACI,OAAG,CAACF,IAAEC,KAAEC,GAAC;AAAE,eAAM;AAAA,IAAE;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,gBAAgBH,KAAE;AAAC,aAAQC,MAAE,GAAEA,MAAE,KAAK,aAAa,QAAOA,OAAI;AAAC,YAAMF,MAAE,KAAK,aAAaE,GAAC;AAAE,UAAG,QAAMF;AAAE;AAAS,YAAMG,MAAEF,IAAE,OAAOC,GAAC;AAAE,cAAMC,OAAGH,IAAE,gBAAgBG,GAAC;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,QAAIF,MAAE,GAAEC,MAAE,GAAEF,MAAE;AAAE,WAAO,KAAK,aAAa,QAAS,CAAAG,QAAG;AAAC,cAAMA,QAAIA,IAAE,eAAaU,IAAE,UAAQZ,QAAIE,IAAE,qBAAqB,IAAEH,QAAIE;AAAA,IAAI,CAAE,GAAE,EAAC,SAAQD,KAAE,MAAKC,KAAE,MAAKF,IAAC;AAAA,EAAC;AAAA,EAAC,MAAM,iBAAiBE,KAAEF,KAAEI,KAAEC,KAAE;AAAC,UAAMC,MAAE,KAAK,aAAa,OAAO,CAAC,EAAE,OAAQ,CAAAL,QAAG,QAAMA,IAAE,gBAAiB,EAAE,IAAK,CAAAA,QAAGA,IAAE,iBAAiBC,KAAEF,KAAEI,KAAEC,GAAC,CAAE,GAAEQ,MAAE,MAAM,QAAQ,IAAIP,GAAC;AAAE,WAAOH,GAAEE,GAAC,GAAEQ,IAAE,KAAK;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,QAAG,KAAK;AAAU,cAAQ,MAAM,yDAAyD;AAAA,SAAM;AAAC,YAAM,QAAQ;AAAE,iBAAUZ,OAAK,KAAK;AAAa,gBAAMA,OAAGA,IAAE,QAAQ;AAAE,WAAK,aAAa,SAAO,GAAE,KAAK,aAAW;AAAA,IAAE;AAAA,EAAC;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,KAAK;AAAA,EAAU;AAAC;AAAC,IAAMM,MAAE,IAAIJ;;;ACA35I,IAAMW,MAAN,cAAgBC,IAAC;AAAA,EAAC,YAAYC,KAAEC,KAAEF,KAAE;AAAC,UAAME,GAAC,GAAE,KAAK,SAAOD,KAAE,KAAK,WAASD,KAAE,KAAK,6BAA2B,OAAG,KAAK,mBAAiB,MAAK,KAAK,aAAW;AAAA,EAAC;AAAA,EAAC,mBAAmBC,KAAE;AAAC,WAAO,QAAM,KAAK,mBAAiB,KAAK,iBAAiB,mBAAmBA,GAAC,IAAE;AAAA,EAAI;AAAA,EAAC,IAAI,eAAc;AAAC,WAAO,QAAM,KAAK,mBAAiB,KAAK,iBAAiB,eAAa,CAAC;AAAA,EAAC;AAAA,EAAC,IAAI,gBAAe;AAAC,WAAO,QAAM,KAAK,mBAAiB,KAAK,iBAAiB,gBAAc;AAAA,EAAC;AAAA,EAAC,MAAM,OAAOA,KAAE;AAAC,UAAMC,MAAE,MAAM,KAAK,OAAO,YAAY,EAAC,QAAOD,IAAC,CAAC;AAAE,IAAAC,IAAE,KAAG,KAAK,OAAO,IAAG,KAAK,mBAAiB,KAAK,SAASA,GAAC,GAAE,QAAM,KAAK,oBAAkB,MAAM,KAAK,iBAAiB,KAAK;AAAA,EAAC;AAAA,EAAC,wBAAwBD,KAAE;AAAC,WAAO,QAAM,KAAK,mBAAiB,KAAK,iBAAiB,wBAAwBA,KAAE,IAAI,IAAE;AAAA,EAAI;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,QAAM,KAAK,mBAAiB,KAAK,iBAAiB,aAAWE;AAAA,EAAC;AAAA,EAAC,sBAAsBF,KAAEC,KAAE;AAAC,WAAO,QAAM,KAAK,oBAAkB,KAAK,iBAAiB,sBAAsBD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,kBAAkBA,KAAEF,KAAE;AAAC,WAAO,QAAM,KAAK,mBAAiB,KAAK,iBAAiB,kBAAkBE,KAAEF,GAAC,IAAEI,IAAE;AAAA,EAAc;AAAA,EAAC,mBAAmBH,KAAE;AAAC,YAAM,KAAK,oBAAkB,KAAK,iBAAiB,mBAAmBA,GAAC;AAAA,EAAC;AAAA,EAAC,eAAeA,KAAEC,KAAE;AAAC,WAAO,QAAM,KAAK,oBAAkB,KAAK,iBAAiB,eAAeD,KAAEC,GAAC;AAAA,EAAC;AAAA,EAAC,gBAAgBD,KAAEC,KAAEF,KAAED,KAAE;AAJ96C;AAI+6C,aAAO,UAAK,qBAAL,mBAAuB,gBAAgBE,KAAEC,KAAEF,KAAED,SAAI;AAAA,EAAE;AAAA,EAAC,kBAAiB;AAAA,EAAC;AAAA,EAAC,sBAAqB;AAAC,WAAO,QAAM,KAAK,mBAAiB,KAAK,iBAAiB,oBAAoB,IAAE,EAAC,SAAQ,GAAE,MAAK,GAAE,MAAK,EAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,YAAM,KAAK,oBAAkB,KAAK,iBAAiB,QAAQ,GAAE,KAAK,mBAAiB,QAAO,MAAM,QAAQ;AAAA,EAAC;AAAA,EAAC,IAAI,YAAW;AAAC,WAAO,WAAS,KAAK;AAAA,EAAgB;AAAC;;;ACAziC,SAASM,IAAEC,KAAEC,KAAEC,KAAEC,KAAE;AAAC,SAAOC,IAAEJ,KAAEC,KAAEC,KAAEG,GAAEF,KAAEF,KAAEC,KAAE,IAAE,CAAC;AAAC;AAAC,SAASI,IAAEN,KAAEO,KAAEC,KAAEC,KAAE;AAAC,QAAMC,MAAE,EAAEF,KAAEG,GAAEX,KAAES,KAAEF,GAAC,CAAC;AAAE,SAAO,EAAEP,KAAEO,KAAE,EAAEP,KAAEQ,KAAEE,GAAC,CAAC;AAAC;AAAC,IAAME,MAAE,EAAC,KAAIX,GAAE,GAAE,KAAI,GAAE,MAAKA,GAAE,EAAC;AAAE,SAASI,GAAEL,KAAEC,KAAEE,KAAEO,KAAE;AAAC,QAAMG,MAAED;AAAE,SAAOZ,OAAGG,OAAGO,QAAIG,IAAE,MAAI,EAAEZ,KAAEE,GAAC,IAAGH,GAAEa,IAAE,KAAIb,GAAC,KAAGU,OAAGG,IAAE,MAAI,EAAEZ,KAAEE,GAAC,GAAEQ,GAAEE,IAAE,KAAIV,KAAEF,GAAC,GAAE,EAAEY,IAAE,KAAIA,IAAE,KAAI,IAAEA,IAAE,GAAG,MAAIF,GAAEE,IAAE,KAAIV,KAAEF,GAAC,GAAE,EAAEY,IAAE,KAAIA,IAAE,GAAG,IAAGA;AAAC;AAAC,SAASC,IAAEd,KAAEE,KAAEC,KAAE;AAAC,QAAMQ,MAAE,EAAE,EAAEX,GAAC,GAAEG,IAAE,GAAG,GAAEI,MAAE,CAACQ,GAAEf,KAAEE,GAAC;AAAE,MAAGK,MAAE,KAAGI,OAAG;AAAE,WAAM;AAAG,MAAGA,MAAE,SAAOA,MAAE;AAAK,WAAOJ,MAAE;AAAE,OAAIA,MAAE,KAAGI,MAAE,MAAI,EAAEJ,MAAE,KAAGI,MAAE;AAAG,WAAM;AAAG,QAAMH,MAAED,MAAEI;AAAE,SAAOA,MAAE,IAAEH,MAAEL,IAAE,KAAK,CAAC,MAAIA,IAAE,KAAK,CAAC,IAAEK,OAAGA,MAAEL,IAAE,KAAK,CAAC,MAAIA,IAAE,KAAK,CAAC,IAAEK,MAAGL,IAAE,KAAK,CAAC,KAAGA,IAAE,KAAK,CAAC;AAAC;AAAC,SAASC,IAAEJ,KAAEC,KAAEC,KAAEC,KAAE;AAAC,EAAAA,IAAE,KAAK,CAAC,IAAE,GAAEA,IAAE,KAAK,CAAC,IAAED,MAAEC,IAAE,MAAI,OAAO;AAAU,WAAQQ,MAAE,GAAEA,MAAEX,IAAE,QAAOW;AAAI,QAAG,CAACG,IAAEd,IAAEW,GAAC,GAAEV,KAAEE,GAAC;AAAE,aAAM;AAAG,SAAM;AAAE;;;ACAzQ,IAAMa,MAAE,MAAG,KAAK;AAAhB,IAAmBC,KAAED,MAAE,KAAK,KAAG;AAAI,IAAME,KAAN,MAAO;AAAA,EAAC,YAAYC,KAAE;AAAC,SAAK,sBAAoBA,IAAE,oBAAmB,KAAK,UAAQ,IAAI,MAAM,CAAC,GAAE,KAAK,UAAQ,IAAI,MAAM,CAAC,GAAE,KAAK,WAAS,GAAE,KAAK,UAAQ,EAAC,QAAOC,GAAE,GAAE,WAAUA,GAAE,EAAC;AAAE,aAAQC,MAAE,GAAEA,MAAE,GAAEA;AAAI,WAAK,QAAQA,GAAC,IAAE,EAAC,QAAOD,GAAE,GAAE,WAAUA,GAAE,GAAE,KAAI,EAAC,MAAK,MAAK,WAAUA,GAAE,EAAC,EAAC,GAAE,KAAK,QAAQC,GAAC,IAAEC,GAAE;AAAE,SAAK,QAAQC,IAAE,IAAI,IAAED,GAAE,GAAE,KAAK,QAAQC,IAAE,GAAG,IAAED,GAAE,GAAE,KAAK,oBAAkB,KAAK,QAAQ,MAAM,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,OAAOH,KAAEE,KAAEG,KAAEC,MAAE,MAAG;AAAC,UAAMC,MAAE,KAAK;AAAQ,SAAK,wBAAwBP,KAAEE,KAAEG,GAAC,GAAE,EAAE,KAAK,QAAQ,QAAOE,IAAE,CAAC,EAAE,QAAOA,IAAE,CAAC,EAAE,MAAM,GAAE,EAAE,KAAK,QAAQ,QAAO,KAAK,QAAQ,QAAO,GAAE,GAAE,KAAK,oBAAoB,kBAAkB,KAAK,QAAQ,QAAO,KAAK,QAAQ,SAAS,GAAED,OAAG,EAAE,KAAK,QAAQ,WAAU,KAAK,QAAQ,WAAU,EAAE;AAAE,aAAQL,MAAE,GAAEA,MAAE,GAAEA,OAAI;AAAC,YAAMD,MAAEO,IAAEN,GAAC;AAAE,WAAK,oBAAoB,kBAAkBD,IAAE,QAAOA,IAAE,SAAS;AAAE,YAAME,MAAEK,IAAE,MAAIN,MAAE,IAAEA,MAAE,CAAC;AAAE,MAAAD,IAAE,IAAI,OAAKE,IAAE,QAAO,EAAEF,IAAE,IAAI,WAAUA,IAAE,QAAOE,IAAE,MAAM,GAAEM,GAAER,IAAE,WAAUA,IAAE,IAAI,WAAUA,IAAE,QAAO,KAAK,QAAQC,GAAC,CAAC,GAAEK,OAAG,EAAEN,IAAE,WAAUA,IAAE,WAAU,EAAE;AAAA,IAAC;AAAC,IAAAQ,GAAED,IAAE,CAAC,EAAE,IAAI,WAAUA,IAAE,CAAC,EAAE,IAAI,WAAUA,IAAE,CAAC,EAAE,QAAO,KAAK,QAAQH,IAAE,IAAI,CAAC,GAAEE,MAAEG,GAAE,KAAK,QAAQL,IAAE,IAAI,GAAE,KAAK,QAAQA,IAAE,GAAG,CAAC,KAAGM,GAAE,KAAK,QAAQN,IAAE,GAAG,GAAE,KAAK,QAAQA,IAAE,IAAI,CAAC,GAAEK,GAAE,KAAK,QAAQL,IAAE,IAAI,GAAE,KAAK,QAAQA,IAAE,IAAI,CAAC,IAAG,KAAK,WAAS,KAAK,IAAI,KAAK,IAAIJ,IAAE,CAAC,IAAEA,IAAE,CAAC,CAAC,GAAE,KAAK,IAAIA,IAAE,CAAC,IAAEA,IAAE,CAAC,CAAC,CAAC,GAAE,KAAK,2BAAyBE,KAAE,KAAK,qBAAmB,MAAG,EAAE,KAAK,wBAAwB,EAAE;AAAA,EAAM;AAAA,EAAC,mBAAmBF,KAAEE,KAAEG,MAAE,OAAG;AAAC,QAAG,QAAML;AAAE,aAAM;AAAG,QAAG,KAAK,oBAAoB,gBAAcI,IAAE,QAAO;AAAC,YAAMC,MAAE,KAAK,yBAAyB,eAAaP,KAAED,MAAEK;AAAE,UAAG,KAAK,WAASG;AAAE,eAAM;AAAG,UAAG,QAAML,IAAE,YAAUA,IAAE,YAAU,KAAK;AAAmB,eAAO,KAAK,0BAA0BA,GAAC;AAAA,IAAC;AAAC,QAAG,MAAI,KAAK,UAAS;AAAC,YAAME,MAAE,KAAK,QAAQ,CAAC;AAAE,aAAM,EAAEG,OAAG,CAACL,IAAE,cAAc,EAAEE,IAAE,QAAOA,IAAE,SAAS,CAAC;AAAA,IAAE;AAAC,aAAQD,MAAE,GAAEA,MAAE,KAAK,QAAQ,QAAOA,OAAI;AAAC,YAAMC,MAAE,KAAK,QAAQD,GAAC;AAAE,UAAG,CAACI,OAAGL,IAAE,cAAc,EAAEE,IAAE,QAAOA,IAAE,SAAS,CAAC;AAAE,eAAM;AAAG,UAAGF,IAAE,sBAAsBW,GAAET,IAAE,QAAOA,IAAE,IAAI,MAAKU,EAAC,GAAEV,IAAE,IAAI,SAAS;AAAE,eAAM;AAAA,IAAE;AAAC,UAAMI,MAAED,MAAE,KAAK,UAAQ,KAAK;AAAkB,aAAQJ,MAAE,GAAEA,MAAED,IAAE,MAAM,QAAOC,OAAI;AAAC,YAAMC,MAAEF,IAAE,MAAMC,GAAC;AAAE,UAAGE,IAAEG,KAAEJ,IAAE,QAAOA,IAAE,UAASA,IAAE,SAAS;AAAE,eAAM;AAAA,IAAE;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,8BAA8BF,KAAEM,KAAEL,KAAE;AAAC,UAAMY,MAAE;AAAE,IAAAC,GAAEd,KAAEe,EAAC,GAAEA,GAAE,CAAC,IAAEd,KAAE,GAAEK,KAAES,IAAEC,KAAE,KAAK,oBAAoB,gBAAgB,GAAEb,GAAEc,KAAED,GAAC,GAAER,GAAEC,EAAC;AAAE,eAAS,EAAC,IAAGJ,KAAE,IAAGa,KAAE,IAAGC,KAAE,IAAGf,IAAC,KAAIgB;AAAE,eAAQV,MAAE,GAAEA,MAAEG,KAAEH,OAAI;AAAC,cAAMP,MAAEO,OAAGG,MAAE;AAAG,QAAAE,GAAE,CAAC,IAAEG,GAAElB,IAAEK,GAAC,GAAEL,IAAEkB,GAAC,GAAEf,GAAC,GAAEY,GAAE,CAAC,IAAEG,GAAElB,IAAEmB,GAAC,GAAEnB,IAAEI,GAAC,GAAED,GAAC,GAAEY,GAAE,CAAC,IAAEd,KAAE,GAAEc,IAAET,KAAES,IAAE,KAAK,oBAAoB,gBAAgB,GAAE,EAAEA,IAAEA,IAAEE,GAAC,GAAEd,GAAEM,IAAEM,EAAC;AAAA,MAAC;AAAC,MAAE,KAAK,QAAQ,CAAC,EAAE,QAAON,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,GAAE,EAAE,KAAK,QAAQ,CAAC,EAAE,QAAOA,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,GAAE,EAAE,KAAK,QAAQ,CAAC,EAAE,QAAOA,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,GAAE,EAAE,KAAK,QAAQ,CAAC,EAAE,QAAOA,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC;AAAE,aAAQP,MAAE,GAAEA,MAAE,GAAE,EAAEA;AAAE,QAAE,KAAK,QAAQA,GAAC,EAAE,QAAO,KAAK,QAAQA,GAAC,EAAE,QAAOc,GAAC;AAAA,EAAC;AAAA,EAAC,6BAA6BhB,KAAEE,KAAEG,KAAE;AAAC,OAAEL,KAAEE,KAAEM,KAAE,KAAK,oBAAoB,gBAAgB,GAAE,EAAE,KAAK,QAAQ,CAAC,EAAE,QAAOA,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEH,GAAC,GAAE,EAAE,KAAK,QAAQ,CAAC,EAAE,QAAOG,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEH,GAAC,GAAE,EAAE,KAAK,QAAQ,CAAC,EAAE,QAAOG,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEH,GAAC,GAAE,EAAE,KAAK,QAAQ,CAAC,EAAE,QAAOG,IAAE,CAAC,GAAEA,IAAE,CAAC,GAAEH,GAAC;AAAA,EAAC;AAAA,EAAC,wBAAwBH,KAAEG,KAAEC,KAAE;AAAC,YAAO,KAAK,oBAAoB,aAAY;AAAA,MAAC,KAAKF,IAAE;AAAO,aAAK,8BAA8BF,KAAEG,KAAEC,GAAC;AAAE;AAAA,MAAM,KAAKF,IAAE;AAAM,aAAK,6BAA6BF,KAAEG,KAAEC,GAAC;AAAE;AAAA,MAAM;AAAQ,QAAAL,GAAE,KAAK,oBAAoB,WAAW;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,0BAA0BD,KAAE;AAAC,QAAGqB,GAAErB,IAAE,OAAOI,IAAE,IAAI,GAAE,KAAK,QAAQ,MAAM,IAAE,KAAG,EAAE,KAAK,QAAQ,WAAUJ,IAAE,SAAS,IAAE;AAAE,aAAM;AAAG,aAAQE,MAAE,GAAEA,MAAE,GAAEA,OAAI;AAAC,YAAMG,MAAE,KAAK,QAAQH,GAAC;AAAE,UAAGmB,GAAErB,IAAE,OAAOI,IAAE,IAAI,GAAEC,IAAE,MAAM,IAAE,KAAG,EAAEA,IAAE,WAAUL,IAAE,SAAS,IAAE;AAAE,eAAM;AAAA,IAAE;AAAC,WAAM;AAAA,EAAE;AAAC;AAAC,IAAMoB,MAAE,CAAC,EAAC,IAAG,GAAE,IAAG,GAAE,IAAG,GAAE,IAAG,EAAC,GAAE,EAAC,IAAG,GAAE,IAAG,GAAE,IAAG,GAAE,IAAG,EAAC,GAAE,EAAC,IAAG,GAAE,IAAG,GAAE,IAAG,GAAE,IAAG,EAAC,GAAE,EAAC,IAAG,GAAE,IAAG,GAAE,IAAG,GAAE,IAAG,EAAC,CAAC;AAAhG,IAAkGL,KAAEd,GAAE;AAAtG,IAAwGe,MAAEd,IAAE;AAA5G,IAA8Ge,MAAEf,IAAE;AAAlH,IAAoHO,KAAEJ,GAAE;AAAxH,IAA0HG,MAAEH,GAAE;AAA9H,IAAgIO,KAAEI,GAAE;",
  "names": ["a", "e", "t", "r", "s", "i", "l", "I", "n", "o", "u", "c", "h", "C", "L", "A", "e", "o", "u", "t", "e", "n", "o", "a", "r", "s", "i", "l", "A", "p", "c", "m", "f", "M", "P", "g", "d", "I", "E", "T", "h", "b", "v", "O", "S", "R", "r", "s", "t", "m", "e", "t", "s", "p", "i", "a", "n", "r", "o", "v", "l", "c", "z", "A", "S", "g", "y", "d", "w", "f", "_", "P", "u", "V", "O", "t", "e", "e", "r", "t", "l", "e", "o", "t", "c", "e", "t", "o", "r", "n", "s", "o", "e", "u", "S", "n", "s", "a", "c", "C", "d", "q", "y", "P", "e", "d", "r", "l", "t", "a", "s", "i", "o", "u", "n", "m", "b", "F", "c", "p", "O", "u", "h", "r", "e", "t", "i", "o", "f", "n", "s", "a", "y", "v", "g", "k", "l", "T", "_e", "_h", "c", "e", "n", "o", "i", "l", "p", "m", "y", "u", "V", "g", "t", "s", "w", "r", "h", "e", "i", "t", "l", "E", "I", "W", "a", "R", "_", "m", "r", "s", "v", "p", "d", "e", "O", "r", "t", "E", "v", "h", "g", "L", "c", "f", "S", "H", "I", "i", "s", "b", "n", "E", "h", "e", "t", "A", "p", "f", "r", "O", "i", "n", "u", "a", "s", "G", "o", "l", "w", "d", "T", "m", "y", "b", "c", "L", "S", "t", "e", "o", "l", "a", "E", "o", "t", "e", "r", "i", "n", "l", "a", "s", "M", "u", "c", "h", "s", "c", "l", "i", "t", "e", "n", "r", "o", "a", "s", "h", "d", "u", "l", "f", "p", "g", "c", "m", "x", "R", "_", "r", "o", "c", "t", "s", "n", "i", "e", "f", "t", "e", "s", "i", "l", "n", "h", "r", "c", "a", "f", "s", "o", "t", "a", "c", "_e", "f", "m", "h", "l", "u", "g", "d", "y", "b", "p", "i", "w", "e", "s", "x", "e", "O", "A", "i", "S", "t", "r", "s", "L", "F", "j", "k", "n", "l", "a", "P", "o", "s", "a", "o", "O", "l", "b", "e", "u", "t", "c", "M", "j", "p", "i", "p", "o", "n", "r", "l", "f", "a", "h", "t", "u", "g", "c", "e", "s", "i", "m", "n", "t", "a", "s", "o", "h", "c", "e", "u", "M", "b", "f", "r", "$", "h", "e", "t", "s", "r", "I", "n", "i", "o", "a", "p", "T", "l", "c", "m", "w", "g", "d", "u", "E", "v", "C", "L", "M", "A", "D", "R", "P", "f", "y", "b", "B", "V", "k", "N", "H", "O", "_", "x", "j", "S", "ne", "u", "e", "t", "r", "i", "E", "I", "n", "P", "f", "d", "l", "V", "a", "O", "p", "S", "Z", "e", "K", "r", "Q", "X", "Y", "a", "ee", "te", "re", "h", "t", "i", "I", "s", "u", "w", "ie", "se", "o", "n", "l", "_", "f", "c", "d", "j", "O", "T", "m", "G", "ae", "ot", "oe", "p", "y", "n", "r", "e", "p", "o", "n", "s", "l", "a", "u", "g", "f", "m", "t", "y", "c", "i", "e", "r", "O", "V", "I", "h", "e", "t", "r", "i", "s", "n", "B", "v", "u", "o", "G", "a", "l", "d", "T", "m", "M", "j", "c", "p", "_", "P", "f", "y", "g", "d", "p", "t", "r", "a", "s", "o", "i", "e", "n", "m", "f", "l", "c", "T", "h", "b", "g", "u", "j", "q", "O", "E", "e", "r", "t", "a", "s", "I", "i", "n", "be", "ye", "h", "e", "t", "r", "o", "X", "p", "a", "n", "s", "i", "l", "u", "c", "m", "f", "d", "g", "x", "_", "T", "w", "D", "I", "O", "je", "b", "V", "M", "R", "q", "y", "P", "f", "e", "t", "i", "n", "l", "c", "s", "I", "P", "v", "h", "a", "r", "d", "b", "m", "w", "p", "u", "x", "V", "o", "s", "n", "r", "e", "r", "o", "s", "u", "i", "c", "m", "h", "l", "a", "d", "t", "y", "r", "i", "s", "c", "F", "e", "t", "c", "t", "O", "i", "l", "x", "f", "s", "u", "e", "r", "M", "R", "t", "e", "H", "O", "C", "b", "T", "l", "u", "h", "c", "x", "d", "y", "m", "n", "s", "w", "i", "D", "V", "a", "r", "p", "o", "n", "W", "e", "r", "t", "C", "_", "s", "i", "l", "e", "i", "t", "c", "r", "s", "a", "u", "s", "o", "i", "n", "f", "d", "p", "r", "c", "F", "E", "t", "e", "a", "m", "l", "y", "M", "a", "e", "r", "i", "s", "n", "u", "c", "o", "t", "P", "h", "T", "B", "e", "t", "r", "q", "m", "i", "E", "y", "I", "z", "a", "s", "f", "o", "h", "C", "n", "K", "Y", "M", "W", "l", "c", "d", "k", "P", "Z", "Q", "u", "p", "R", "G", "H", "O", "me", "e", "t", "s", "r", "i", "a", "o", "n", "l", "c", "h", "d", "pe", "I", "m", "p", "u", "_", "O", "g", "b", "R", "x", "X", "f", "P", "v", "L", "S", "G", "E", "j", "_e", "W", "q", "F", "ue", "y", "fe", "ge", "ye", "k", "B", "e", "t", "i", "s", "n", "r", "v", "g", "f", "c", "a", "o", "h", "r", "s", "h", "o", "p", "n", "l", "a", "u", "f", "t", "e", "i", "o", "e", "t", "s", "i", "l", "h", "r", "n", "m", "f", "a", "c", "p", "c", "s", "t", "e", "r", "u", "i", "n", "l", "o", "m", "g", "h", "a", "j", "f", "e", "b", "r", "o", "n", "s", "i", "h", "t", "m", "t", "x", "r", "n", "l", "u", "c", "b", "d", "A", "p", "I", "E", "P", "V", "w", "D", "C", "L", "N", "T", "f", "O", "h", "R", "q", "j", "e", "s", "g", "M", "k", "i", "o", "l", "t", "r", "g", "v", "R", "n", "y", "k", "L", "q", "x", "G", "h", "M", "U", "b", "p", "s", "a", "j", "T", "n", "t", "s", "e", "o", "r", "d", "c", "a", "i", "h", "l", "v", "p", "m", "n", "t", "a", "r", "s", "u", "o", "e", "c", "i", "f", "l", "h", "M", "b", "m", "d", "p", "y", "x", "g", "j", "S", "q", "_", "e", "r", "t", "n", "o", "L", "n", "m", "t", "r", "I", "y", "e", "D", "j", "l", "P", "w", "F", "i", "b", "S", "s", "k", "x", "A", "U", "h", "a", "o", "E", "_", "d", "N", "O", "C", "n", "r", "E", "e", "o", "l", "i", "t", "W", "h", "c", "A", "a", "_", "f", "M", "s", "b", "d", "e", "g", "N", "M", "t", "h", "i", "r", "a", "s", "o", "c", "n", "u", "l", "p", "m", "S", "I", "E", "H", "O", "C", "ee", "te", "h", "e", "t", "i", "s", "r", "o", "O", "d", "a", "u", "c", "l", "f", "p", "m", "n", "b", "I", "G", "y", "v", "g", "P", "w", "x", "oe", "ie", "j", "S", "se", "D", "C", "L", "V", "ae", "re", "ne", "R", "T", "t", "s", "n", "r", "e", "l", "o", "y", "m", "a", "c", "i", "j", "f", "Y", "_", "k", "U", "E", "G", "F", "O", "A", "V", "I", "z", "P", "v", "x", "h", "u", "N", "S", "d", "w", "D", "q", "j", "e", "i", "U", "o", "r", "s", "W", "h", "c", "A", "l", "a", "E", "_", "f", "C", "t", "P", "N", "n", "O", "b", "e", "t", "v", "U", "N", "S", "h", "E", "O", "H", "P", "j", "r", "i", "s", "a", "o", "n", "c", "p", "l", "u", "s", "e", "r", "a", "f", "l", "b", "t", "c", "u", "n", "O", "o", "i", "j", "m", "z", "H", "W", "h", "e", "t", "i", "r", "O", "s", "b", "n", "B", "u", "o", "G", "d", "T", "m", "c", "p", "k", "j", "a", "V", "l", "P", "N", "_", "q", "i", "r", "t", "n", "e", "s", "w", "D", "z", "C", "h", "e", "t", "r", "n", "I", "s", "u", "o", "l", "i", "f", "G", "T", "m", "U", "a", "g", "y", "b", "v", "P", "c", "O", "R", "_", "D", "A", "ot", "W", "p", "k", "$", "e", "I", "V", "h", "e", "t", "r", "o", "A", "n", "s", "d", "i", "T", "m", "c", "p", "a", "k", "l", "u", "H", "C", "M", "W", "f", "B", "P", "z", "F", "c", "o", "e", "t", "i", "m", "h", "l", "re", "pe", "I", "te", "W", "C", "V", "h", "ye", "m", "r", "e", "t", "s", "o", "a", "n", "p", "i", "c", "y", "S", "d", "l", "i", "r", "t", "s", "y", "e", "h", "r", "n", "t", "i", "b", "k", "j", "c", "u", "o", "s", "e", "g", "f", "v", "R", "M", "F", "N", "t", "n", "e", "h", "l", "i", "r", "a", "P", "L", "p", "b", "V", "o", "y", "U", "v", "I", "s", "c", "k", "R"]
}
