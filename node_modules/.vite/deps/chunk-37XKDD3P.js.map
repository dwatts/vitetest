{
  "version": 3,
  "sources": ["../../@arcgis/core/views/layers/ImageryLayerView.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../geometry/Point.js\";import{combinedViewLayerTimeExtentProperty as p}from\"../../layers/support/commonProperties.js\";import i from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as a}from\"./support/popupUtils.js\";const n=n=>{let u=class extends n{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,t){const{layer:o}=this;if(!e)throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:o});const{popupEnabled:p}=o,n=a(o,t);if(!p||null==n)throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:p,popupTemplate:n});const u=await n.getRequiredFields(),l=new i;l.timeExtent=this.timeExtent,l.geometry=e,l.outFields=u,l.outSpatialReference=e.spatialReference;const{resolution:m,spatialReference:c}=this.view,y=\"2d\"===this.view.type?new s(m,m,c):new s(.5*m,.5*m,c),{returnTopmostRaster:d,showNoDataRecords:h}=n.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},w={returnDomainValues:!0,returnTopmostRaster:d,pixelSize:y,showNoDataRecords:h,signal:null!=t?t.signal:null};return o.queryVisibleRasters(l,w).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([t()],u.prototype,\"layer\",void 0),e([t()],u.prototype,\"suspended\",void 0),e([t(p)],u.prototype,\"timeExtent\",void 0),e([t()],u.prototype,\"view\",void 0),u=e([o(\"esri.views.layers.ImageryLayerView\")],u),u};export{n as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;AAIwkB,IAAM,IAAE,CAAAA,OAAG;AAAC,MAAI,IAAE,cAAcA,GAAC;AAAA,IAAC,cAAa;AAAC,YAAM,GAAG,SAAS,GAAE,KAAK,OAAK;AAAA,IAAI;AAAA,IAAC,MAAM,mBAAmBC,IAAE,GAAE;AAAC,YAAK,EAAC,OAAM,EAAC,IAAE;AAAK,UAAG,CAACA;AAAE,cAAM,IAAI,EAAE,uCAAsC,iCAAgC,EAAC,OAAM,EAAC,CAAC;AAAE,YAAK,EAAC,cAAaC,GAAC,IAAE,GAAEF,KAAE,EAAE,GAAE,CAAC;AAAE,UAAG,CAACE,MAAG,QAAMF;AAAE,cAAM,IAAI,EAAE,uCAAsC,kDAAiD,EAAC,cAAaE,IAAE,eAAcF,GAAC,CAAC;AAAE,YAAMG,KAAE,MAAMH,GAAE,kBAAkB,GAAE,IAAE,IAAII;AAAE,QAAE,aAAW,KAAK,YAAW,EAAE,WAASH,IAAE,EAAE,YAAUE,IAAE,EAAE,sBAAoBF,GAAE;AAAiB,YAAK,EAAC,YAAW,GAAE,kBAAiB,EAAC,IAAE,KAAK,MAAKI,KAAE,SAAO,KAAK,KAAK,OAAK,IAAI,EAAE,GAAE,GAAE,CAAC,IAAE,IAAI,EAAE,MAAG,GAAE,MAAG,GAAE,CAAC,GAAE,EAAC,qBAAoB,GAAE,mBAAkB,EAAC,IAAEL,GAAE,gBAAc,EAAC,qBAAoB,MAAG,mBAAkB,MAAE,GAAE,IAAE,EAAC,oBAAmB,MAAG,qBAAoB,GAAE,WAAUK,IAAE,mBAAkB,GAAE,QAAO,QAAM,IAAE,EAAE,SAAO,KAAI;AAAE,aAAO,EAAE,oBAAoB,GAAE,CAAC,EAAE,KAAM,CAAAJ,OAAGA,EAAE;AAAA,IAAC;AAAA,IAAC,YAAW;AAJ5+C;AAI6+C,aAAM,CAAC,CAAC,MAAM,UAAU,KAAG,GAAC,UAAK,eAAL,mBAAiB;AAAA,IAAO;AAAA,EAAC;AAAE,SAAO,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,SAAQ,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,aAAY,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAE,EAAE,WAAU,cAAa,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,QAAO,MAAM,GAAE,IAAE,EAAE,CAAC,EAAE,oCAAoC,CAAC,GAAE,CAAC,GAAE;AAAC;",
  "names": ["n", "e", "p", "u", "b", "y"]
}
