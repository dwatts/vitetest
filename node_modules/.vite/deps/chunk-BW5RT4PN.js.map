{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/AtmosphereCompositing.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{s as e,p as r,q as t,b as s}from\"./vec2.js\";import{a as o}from\"./vec2f64.js\";import{Float2PassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{NoParameters as a,glsl as n}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as d}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as c}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as u}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";class l extends a{constructor(){super(...arguments),this.scale=o()}}function m(e){const r=new d;r.attributes.add(u.POSITION,\"vec2\"),r.varyings.add(\"uv0\",\"vec2\"),r.varyings.add(\"uv1\",\"vec2\"),r.vertex.uniforms.add(new i(\"scale\",(e=>e.scale))),r.vertex.code.add(n`void main(void) {\ngl_Position = vec4(position, 0.0, 1.0);\nuv0 = position * 0.5 + vec2(0.5);\nuv1 = (position * 0.5 + vec2(0.5)) * scale;\n}`),r.fragment.uniforms.add(new c(\"tex\",(e=>e.texture)),new c(\"depthTexture\",(e=>e.depthTexture)),new i(\"scale\",(e=>e.scale)),new i(\"clampUV\",(e=>v(e))));const t=e.haze;return r.fragment.code.add(n`\n    void main() {\n      ${t?n`vec4`:n`float`} depthSample = texture(depthTexture, uv0) ${t?\"\":n`.r`};\n      if (depthSample ${t?n`== vec4(0)`:n`!= 1.0`} ) {\n          fragColor = vec4(0);\n          return;\n      }\n      fragColor = texture(tex, min(uv1, clampUV));\n    }\n    `),r}function v(o){if(!o.texture)return p;const i=e(p,o.texture.descriptor.width,o.texture.descriptor.height),a=r(i,i,o.scale),n=t(a,a);return s(n,o.scale,n)}const p=o(),f=Object.freeze(Object.defineProperty({__proto__:null,AtmosphereCompositingPassParameters:l,build:m},Symbol.toStringTag,{value:\"Module\"}));export{l as A,f as a,m as b};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAIsjB,IAAM,IAAN,cAAgBA,GAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,QAAM,EAAE;AAAA,EAAC;AAAC;AAAC,SAAS,EAAEC,IAAE;AAAC,QAAMC,KAAE,IAAI;AAAE,EAAAA,GAAE,WAAW,IAAI,EAAE,UAAS,MAAM,GAAEA,GAAE,SAAS,IAAI,OAAM,MAAM,GAAEA,GAAE,SAAS,IAAI,OAAM,MAAM,GAAEA,GAAE,OAAO,SAAS,IAAI,IAAI,EAAE,SAAS,CAAAD,OAAGA,GAAE,KAAM,CAAC,GAAEC,GAAE,OAAO,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA,EAIvzB,GAAEA,GAAE,SAAS,SAAS,IAAI,IAAI,EAAE,OAAO,CAAAD,OAAGA,GAAE,OAAQ,GAAE,IAAI,EAAE,gBAAgB,CAAAA,OAAGA,GAAE,YAAa,GAAE,IAAI,EAAE,SAAS,CAAAA,OAAGA,GAAE,KAAM,GAAE,IAAI,EAAE,WAAW,CAAAA,OAAG,EAAEA,EAAC,CAAE,CAAC;AAAE,QAAM,IAAEA,GAAE;AAAK,SAAOC,GAAE,SAAS,KAAK,IAAI;AAAA;AAAA,QAE5L,IAAE,UAAQ,QAAQ,6CAA6C,IAAE,KAAG,KAAK;AAAA,wBACzD,IAAE,gBAAc,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAM5C,GAAEA;AAAC;AAAC,SAAS,EAAEC,IAAE;AAAC,MAAG,CAACA,GAAE;AAAQ,WAAO;AAAE,QAAMC,KAAE,EAAE,GAAED,GAAE,QAAQ,WAAW,OAAMA,GAAE,QAAQ,WAAW,MAAM,GAAE,IAAE,EAAEC,IAAEA,IAAED,GAAE,KAAK,GAAEH,KAAE,EAAE,GAAE,CAAC;AAAE,SAAO,EAAEA,IAAEG,GAAE,OAAMH,EAAC;AAAC;AAAC,IAAM,IAAE,EAAE;AAAV,IAAY,IAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,qCAAoC,GAAE,OAAM,EAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;",
  "names": ["n", "e", "r", "o", "i"]
}
