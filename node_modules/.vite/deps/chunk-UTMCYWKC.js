import {
  i as i3
} from "./chunk-2KRMZDXT.js";
import {
  A,
  i as i2,
  t as t2
} from "./chunk-V33FVMPT.js";
import {
  L
} from "./chunk-YEDW7SLL.js";
import {
  w
} from "./chunk-NIZWDAMQ.js";
import {
  q2 as q
} from "./chunk-FOEAKQNX.js";
import {
  d as d2,
  t
} from "./chunk-LEDSC236.js";
import {
  d,
  i,
  l
} from "./chunk-DOQ3SAAR.js";
import {
  n
} from "./chunk-CQX57DED.js";

// node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js
function H(e4, n4) {
  return O(e4, () => n4);
}
function O(r3, t4) {
  const o2 = n(), l3 = n();
  let s3 = false;
  return (c) => {
    const u2 = t4(c);
    if ("start" === c.action) {
      const t5 = d(c.screenStart, l(t.get())), l4 = i3(r3.state.camera, t5, B);
      null != l4 && (s3 = q(u2, l4, o2));
    }
    if (!s3)
      return null;
    const i4 = d(c.screenEnd, l(t.get())), a3 = i3(r3.state.camera, i4, B);
    return null == a3 ? null : q(u2, a3, l3) ? { ...c, renderStart: o2, renderEnd: l3, plane: u2, ray: a3 } : null;
  };
}
var G;
function A2(e4) {
  let n4 = null;
  return (r3) => {
    switch (r3.action) {
      case "start":
        n4 = e4.disableDisplay();
        break;
      case "end":
      case "cancel":
        null != n4 && (n4.remove(), n4 = null);
    }
    return r3;
  };
}
function F(n4, t4 = null) {
  const o2 = A(n4.state.viewingMode);
  o2.options.selectionMode = true, o2.options.store = t2.MIN, o2.options.hud = false;
  const l3 = i(), s3 = { requiresGroundFeedback: true, enableDraped: true, exclude: /* @__PURE__ */ new Set() }, c = n(), u2 = t4 ?? n4.spatialReference, i4 = (r3) => {
    n4.map.ground && n4.map.ground.opacity < 1 ? s3.exclude.add(L) : s3.exclude.delete(L), n4.sceneIntersectionHelper.intersectIntersectorScreen(d(r3, l3), o2, s3);
    const t5 = o2.results.min;
    let i5;
    if (t5.getIntersectionPoint(c))
      i5 = t5.intersector === i2.TERRAIN ? G.GROUND : G.OTHER;
    else {
      if (!o2.results.ground.getIntersectionPoint(c))
        return null;
      i5 = G.GROUND;
    }
    return { location: n4.renderCoordsHelper.fromRenderCoords(c, u2), surfaceType: i5 };
  };
  let p;
  return (e4) => {
    if ("start" === e4.action) {
      const n6 = i4(e4.screenStart);
      p = null != n6 ? n6.location : null;
    }
    if (null == p)
      return null;
    const n5 = i4(e4.screenEnd);
    return null != n5 && null != n5.location ? { ...e4, mapStart: p, mapEnd: n5.location, surfaceType: n5.surfaceType } : null;
  };
}
!function(e4) {
  e4[e4.GROUND = 0] = "GROUND", e4[e4.OTHER = 1] = "OTHER";
}(G || (G = {}));
var q2 = n();
var z = n();
var B = d2();

// node_modules/@arcgis/core/views/3d/analysis/Slice/images/generateTextures.js
var t3 = "theme-style";
function e3(t4, e4) {
  return a(r2(n2(o(t4), e4)), e4.size);
}
function n2(e4, { accentColor: n4, contrastColor: o2 }) {
  const r3 = n4.toHex(), a3 = n4.a, s3 = o2.toHex(), i4 = o2.a, c = e4.getElementsByTagNameNS("http://www.w3.org/2000/svg", "style").namedItem(t3);
  return c && (c.innerHTML = `
      .contrast-fill { fill: ${s3}; fill-opacity: ${i4}; }
      .contrast-stroke { stroke: ${s3}; stroke-opacity: ${i4};  }
      .accent-fill { fill: ${r3}; fill-opacity: ${a3}; }
      .accent-stroke { stroke: ${r3}; stroke-opacity:  ${a3}; }`), e4;
}
function o(t4) {
  const e4 = t4.split(",")[1], n4 = atob(e4);
  return new DOMParser().parseFromString(n4, "image/svg+xml");
}
function r2(t4) {
  const e4 = new XMLSerializer().serializeToString(t4);
  return `data:image/svg+xml;base64,${btoa(e4)}`;
}
function a(t4, e4) {
  const n4 = new Image(e4, e4);
  return n4.src = t4, n4;
}

// node_modules/@arcgis/core/views/3d/analysis/Slice/images/heading-rotate-svg.js
var I = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxwYXRoIGQ9Ik0yOCAwYTI4IDI4IDAgMSAxIDAgNTYgMjggMjggMCAwIDEgMC01NnoiIGNsYXNzPSJhY2NlbnQtZmlsbCIvPjxwYXRoIHN0cm9rZS13aWR0aD0iNC45OSIgZD0iTTIwLjA1IDQwLjg2YTE1LjA1IDE1LjA1IDAgMCAwIDE3LjE0LTEuNSAxNS4wNSAxNS4wNSAwIDAgMCA0LjQ3LTE2LjY1IDE1LjA1IDE1LjA1IDAgMCAwLTIyLjcyLTcuMTUgMTUuMDUgMTUuMDUgMCAwIDAtNS41IDcuMTUiIGNsYXNzPSJjb250cmFzdC1zdHJva2UiLz48cGF0aCBkPSJtMTAuOTcgMzUuNTcgNS4zOCAxMi4wNyA3Ljc5LTEzLjQ3LTEzLjE3IDEuNHoiIGNsYXNzPSJjb250cmFzdC1maWxsIi8+PC9zdmc+";

// node_modules/@arcgis/core/views/3d/analysis/Slice/images/tilt-rotate-svg.js
var I2 = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxjaXJjbGUgY3g9IjM5LjQ3OCIgY3k9IjMuMDc4IiByPSIyOCIgY2xhc3M9ImFjY2VudC1maWxsIiB0cmFuc2Zvcm09InJvdGF0ZSg0MC41NDIpIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI1IiBkPSJtNy4wNzQgMzAuMDUzIDI5LjM5NyAxMS45ODUtMy42NzMtMzMuNDkzIiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSIyLjk5NiIgZD0iTTI0LjUwNCAyMy4yMDdhMTEuOTgyIDExLjk4MiAwIDAgMC05LjggNy41MDciIGNsYXNzPSJjb250cmFzdC1zdHJva2UgY29udHJhc3QtZmlsbCIvPjxwYXRoIGQ9Im0yOS44MTggMjIuODA4LTYuMTg0IDQuNi0uNTQxLTguMzY0eiIgY2xhc3M9ImNvbnRyYXN0LWZpbGwiLz48L3N2Zz4=";

// node_modules/@arcgis/core/views/3d/analysis/Slice/images/Factory.js
var a2 = 64;
function n3(r3, n4) {
  const { accentColor: l3, contrastColor: c, preMultiplyAlpha: i4 } = n4;
  return r3.fromData(`heading-rotate:[accent:${l3},contrast:${c},size:${a2}]`, () => new w(e3(I, { accentColor: l3, contrastColor: c, size: a2 }), { mipmap: true, preMultiplyAlpha: i4 }));
}
function l2(o2, n4) {
  const { accentColor: l3, contrastColor: c, preMultiplyAlpha: i4 } = n4;
  return o2.fromData(`tilt-rotate:[accent:${l3},contrast:${c},size:${a2}]`, () => new w(e3(I2, { accentColor: l3, contrastColor: c, size: a2 }), { mipmap: true, preMultiplyAlpha: i4 }));
}

export {
  H,
  A2 as A,
  F,
  n3 as n,
  l2 as l
};
//# sourceMappingURL=chunk-UTMCYWKC.js.map
