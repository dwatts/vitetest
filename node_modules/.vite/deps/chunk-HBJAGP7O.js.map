{
  "version": 3,
  "sources": ["../../@arcgis/core/renderers/support/rendererConversion.js", "../../@arcgis/core/symbols/support/defaults3D.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js", "../../@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js", "../../@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js", "../../@arcgis/core/views/3d/layers/graphics/ExtentSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../../core/arrayUtils.js\";import\"../../core/has.js\";import e from\"../../core/Error.js\";import{to3D as n,defaultTo3DOptions as o}from\"../../symbols/support/symbolConversion.js\";function t(r){return null==r||\"simple\"===r.type||\"unique-value\"===r.type||\"class-breaks\"===r.type||\"dictionary\"===r.type||\"heatmap\"===r.type}function s(r,n){if(null==r)return null;if(!t(r))return new e(\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${r.type||r.declaredClass}'`,{renderer:r});switch(r.type){case\"simple\":return u(r);case\"unique-value\":return i(r,n);case\"class-breaks\":return a(r);case\"dictionary\":case\"heatmap\":return null}return null}function l(r,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const t=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||t.push(r)})),new e(\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${t.join(\", \")}) which are not supported in 3D`,{renderer:r,symbolErrors:o})}return null}function u(r){return l(r,n(r.symbol).error)}function i(e,t){const s={...o,...t},u=e.uniqueValueInfos?.map((r=>n(r.symbol,s).error)).filter(r),i=n(e.defaultSymbol,s);return i.error&&u?.unshift(i.error),l(e,u)}function a(e){const o=e.classBreakInfos.map((r=>n(r.symbol).error)).filter(r),t=n(e.defaultSymbol);return t.error&&o.unshift(t.error),l(e,o)}export{t as isSupportedRenderer3D,s as validateTo3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import o from\"../FillSymbol3DLayer.js\";import r from\"../LineSymbol3D.js\";import e from\"../MeshSymbol3D.js\";import m from\"../PointSymbol3D.js\";import l from\"../PolygonSymbol3D.js\";import t from\"../edges/SolidEdges3D.js\";import{defaultPointSymbol2D as s,defaultPolylineSymbol2D as i,defaultPolygonSymbol2D as n}from\"./defaults.js\";import{defaultColor as p,defaultOutlineColor as f}from\"./defaultsJSON.js\";const y=m.fromSimpleMarkerSymbol(s),a=r.fromSimpleLineSymbol(i),u=l.fromSimpleFillSymbol(n),S=new e({symbolLayers:[new o({material:{color:p},edges:new t({size:\"1px\",color:f})})]});function c(o){if(null==o)return null;switch(o.type){case\"mesh\":return S;case\"point\":case\"multipoint\":return y;case\"polyline\":return a;case\"polygon\":case\"extent\":return u}return null}export{c as getDefaultSymbol3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectPoint as i}from\"../../../../geometry/projection.js\";import{create as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as c}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{OptimizedFeature as p}from\"../../../../layers/graphics/OptimizedFeature.js\";import n from\"../../../../layers/graphics/OptimizedGeometry.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";const u=a();let d=class extends e{constructor(t){super(t),this.events=new r,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.featureAdapter={getAttribute:(t,e)=>\"graphic\"in t?t.graphic.attributes[e]:h.getAttribute(t,e),getAttributes:t=>\"graphic\"in t?t.graphic.attributes:h.getAttributes(t),getObjectId:t=>\"graphic\"in t?c(t.graphic,this.objectIdField)??void 0:h.getObjectId(t),getGeometry:t=>\"graphic\"in t?t.getAsOptimizedGeometry(this.hasZ,this.hasM):h.getGeometry(t),getCentroid:(t,e)=>{if(\"graphic\"in t){let r=null;null!=t.centroid?r=t.centroid:\"point\"===t.graphic.geometry.type&&i(t.graphic.geometry,l,this.viewSpatialReference)&&(r=l);const o=new Array(2+(e.hasZ?1:0)+(e.hasM?1:0));return null==r?(o[0]=0,o[1]=0,o[2]=0,o[3]=0):(o[0]=r.x,o[1]=r.y,e.hasZ&&(o[2]=r.hasZ?r.z:0),e.hasM&&(o[e.hasZ?3:2]=r.hasM?r.m:0)),new n([],o)}return h.getCentroid(t,e)},cloneWithGeometry:(t,e)=>\"graphic\"in t?new p(e,this.featureAdapter.getAttributes(t),null,this.featureAdapter.getObjectId(t)):h.cloneWithGeometry(t,e)}}forEachInBounds(t,e){this.getSpatialIndex().forEachInBounds(t,e)}forEachBounds(t,e){const r=this.getSpatialIndex();for(const o of t){const t=this.featureAdapter.getObjectId(o);null!=r.getBounds(t,u)&&e(u)}}};t([o({constructOnly:!0})],d.prototype,\"getSpatialIndex\",void 0),t([o({constructOnly:!0})],d.prototype,\"forEach\",void 0),t([o({constructOnly:!0})],d.prototype,\"hasZ\",void 0),t([o({constructOnly:!0})],d.prototype,\"hasM\",void 0),t([o({constructOnly:!0})],d.prototype,\"objectIdField\",void 0),t([o({constructOnly:!0})],d.prototype,\"viewSpatialReference\",void 0),t([o({constructOnly:!0})],d.prototype,\"featureSpatialReference\",void 0),d=t([s(\"esri.views.3d.layers.graphics.Graphics3DFeatureStore\")],d);const l={type:\"point\",x:0,y:0,hasZ:!1,hasM:!1,spatialReference:null};export{d as Graphics3DFeatureStore};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../../../core/asyncUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{make as a}from\"./Graphics3DCalloutSymbolLayerFactory.js\";import{LineCalloutSymbolLayerRenderingInfo as l}from\"./Graphics3DLineCalloutSymbolLayer.js\";import e from\"./Graphics3DSymbol.js\";class s extends e{constructor(r,o,t){super(r,o,t),this._calloutSymbolLayer=null,this.symbol.hasVisibleCallout()&&(this._calloutSymbolLayer=a(this.symbol,o))}async doLoad(o){const a=this._calloutSymbolLayer?r(this._calloutSymbolLayer.load()):null;try{await super.doLoad(o),t(o)}catch(l){throw this._calloutSymbolLayer?.abortLoad(),l}a&&await a}destroy(){super.destroy(),this._calloutSymbolLayer=o(this._calloutSymbolLayer)}createGraphics3DGraphic(r,o){const t=super.createGraphics3DGraphic(r,o);if(null!=this._calloutSymbolLayer&&null!=t){const o=this._createCalloutGraphic(r);o&&t.setCalloutGraphic(o)}return t}globalPropertyChanged(r,o){return!!super.globalPropertyChanged(r,o)&&(!this._calloutSymbolLayer||this._calloutSymbolLayer.globalPropertyChanged(r,o,(r=>r.calloutLayer)))}updateGeometry(r,o){const t=super.updateGeometry(r,o);if(t&&this._calloutSymbolLayer){const t=r.calloutLayer;if(t)return this._calloutSymbolLayer.updateGeometry(t,o)}return t}_createCalloutGraphic(r){const o=r.renderingInfo;return r.renderingInfo=new l(o.renderer,o.symbol),this._calloutSymbolLayer.createGraphics3DGraphic(r)}}export{s as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport o from\"./Graphics3DPointSymbol.js\";import r from\"./Graphics3DSymbol.js\";function t(t,i,n){return\"point-3d\"===t.type?new o(t,i,n):new r(t,i,n)}export{t as make};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{remove as t}from\"../../../../core/arrayUtils.js\";import{makeHandle as i}from\"../../../../core/handleUtils.js\";import{getObjectId as e}from\"../../../../layers/graphics/dehydratedFeatures.js\";class s{constructor(t){this._graphicsCore=t,this._idToState=new Map,this._states=new Set;const i=t.owner.layer&&t.owner.layer.objectIdField;i?(this._getGraphicId=t=>e(t,i),this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicByObjectId(t)):(this._getGraphicId=t=>t.uid,this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicById(t))}destroy(){this._idToState.clear(),this._states.forEach(((t,i)=>this.remove(i)))}add(t){const e=i((()=>this.remove(t)));if(this._states.has(t))return e;const s=this._getGraphicId(t.graphic),a=this._getGraphics3DGraphicById(s);this._states.has(t)||this._states.add(t);return this._ensureStateList(s).push(t),t.displaying=null!=a&&a.isVisible(),t.isDraped=null!=a&&a.isDraped,t.tracking=!0,null!=a&&t.emit(\"changed\"),e}remove(i){if(this._states.has(i)){if(this._idToState.size){const e=this._getGraphicId(i.graphic),s=this._idToState.get(e);s&&(t(s,i),0===s.length&&this._idToState.delete(e))}this._states.delete(i),i.tracking=!1,i.displaying=!1}}addGraphic(t){this._forEachState(t,(i=>{i.displaying=t.isVisible(),i.isDraped=t.isDraped,i.emit(\"changed\")}))}removeGraphic(t){this._forEachState(t,(t=>{t.displaying=!1,t.isDraped=!1}))}updateGraphicGeometry(t){this._forEachState(t,(t=>t.emit(\"changed\")))}updateGraphicVisibility(t){this._forEachState(t,(i=>i.displaying=t.isVisible()))}allGraphicsDeleted(){this._states.forEach((t=>{t.displaying=!1}))}_ensureStateList(t){const i=this._idToState.get(t);if(i)return i;const e=new Array;return this._idToState.set(t,e),e}_forEachState(t,i){if(0===this._states.size||0===this._idToState.size)return;const e=this._getGraphicId(t.graphic),s=this._idToState.get(e);null!=s&&s.forEach(i)}}export{s as GraphicStateTracking};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import has from\"../../../../core/has.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{PooledRBush as n}from\"../../../../core/libs/rbush/PooledRBush.js\";import{fromRect as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";let d=class extends e{constructor(t){super(t),this._index=new n(9,has(\"esri-csp-restrictions\")?t=>({minX:t.extent[0],minY:t.extent[1],maxX:t.extent[2],maxY:t.extent[3]}):[\".extent[0]\",\".extent[1]\",\".extent[2]\",\".extent[3]\"]),this._missing=new Set,this._boundsByFeature=new Map,this.spatialReference=null,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.updating=!1}setup(t){this._addMany(t)}destroy(){this._missing.clear(),this._index=s(this._index),this._boundsByFeature.clear(),this._boundsByFeature=null}update(){this._missing.size>0&&(this._addMany(Array.from(this._missing.values())),this.updating=!1,this._missing.clear())}get updatingRemaining(){return this._missing.size}queryGraphicUIDsInExtent(t,e,s){null!=e&&e.equals(this.spatialReference)&&(u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>s(t.graphic.uid))))}add(t){this._missing.add(t),this.updating=!0}remove(t){if(this._missing.delete(t))return void(this.updating=this._missing.size>0);this._index.remove(t);const e=a(t.graphic,this._get(\"objectIdField\"));null!=e&&this._boundsByFeature.delete(e)}_addMany(t){if(0===t.length)return;const e=this._get(\"objectIdField\");for(const s of t){s.computeExtent(this.spatialReference);const t=a(s.graphic,e);null!=t&&this._boundsByFeature.set(t,s.extent)}this._index.load(t)}clear(){this._index.clear(),this._missing.clear(),this._boundsByFeature.clear(),this.updating=!1}forEachInBounds(t,e){u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>{e(t)}))}getBounds(t,e){this.update();const s=this._boundsByFeature.get(t);return s?o(e,s):null}};t([i({constructOnly:!0})],d.prototype,\"spatialReference\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],d.prototype,\"objectIdField\",void 0),t([i()],d.prototype,\"updating\",void 0),t([i({readOnly:!0})],d.prototype,\"updatingRemaining\",null),d=t([r(\"esri.views.3d.layers.graphics.SpatialIndex2D\")],d);const u={minX:0,minY:0,maxX:0,maxY:0};export{d as SpatialIndex2D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import o from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import s from\"../../../../core/Logger.js\";import{getMetersPerVerticalUnitForSR as n}from\"../../../../core/unitUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as l}from\"../../../../chunks/vec3.js\";import{c}from\"../../../../chunks/vec3f64.js\";import{empty as d,toRect as p,expandWithVec3 as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{empty as h}from\"../../../../geometry/support/aaBoundingRect.js\";import{getMetersPerUnit as u}from\"../../../../symbols/support/unitConversionUtils.js\";import{newIntersector as f}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as _}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";const j=1;let y=class extends(o.EventedMixin(t)){get spatialReference(){return this.view?.spatialReference}constructor(e){super(e),this._elevationOffset=0,this._layerHandes=new r}initialize(){this._renderCoordsHelper=this.view.renderCoordsHelper,this._intersectLayers=[this.stageLayer],this._intersector=f(this.view.state.viewingMode),this._intersector.options.store=_.MIN;const e=this._computeLayerExtent(this.spatialReference,this.stageLayer);this._zmin=e[2],this._zmax=e[5];const t=this.stageLayer.events;this._layerHandes.add([t.on(\"layerObjectAdded\",(e=>this._objectChanged(e.object))),t.on(\"layerObjectRemoved\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryAdded\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryRemoved\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryUpdated\",(e=>this._objectChanged(e.object))),t.on(\"objectTransformation\",(e=>this._objectChanged(e)))])}dispose(){this._layerHandes.destroy()}elevationInfoChanged(){const e=null!=this.layer?this.layer.elevationInfo:null;if(null!=e&&\"on-the-ground\"!==e.mode){const t=n(this.layer.spatialReference),o=u(e.unit??\"meters\");this._elevationOffset=(e.offset??0)*o/t}else this._elevationOffset=0}getElevation(e,t,o,r){if(x[0]=e,x[1]=t,x[2]=o,!this._renderCoordsHelper.toRenderCoords(x,r,x))return s.getLogger(this).error(\"could not project point for elevation alignment\"),null;const n=this._elevationOffset,i=this._zmin+n,a=this._zmax+n;this._renderCoordsHelper.setAltitude(C,a,x),this._renderCoordsHelper.setAltitude(E,i,x);const l=e=>!!e.lastValidElevationBB;return this._intersector.reset(C,E,null),this._intersector.intersect(this._intersectLayers,null,j,null,l),this._intersector.results.min.getIntersectionPoint(x)?this._renderCoordsHelper.getAltitude(x):null}_objectChanged(e){const t=this.spatialReference;if(!e.lastValidElevationBB||!t)return;d(g);const o=e.lastValidElevationBB;o.isEmpty()||this._expandExtent(t,o.min,o.max,g);const{min:r,max:s}=e.boundingVolumeWorldSpace;this._expandExtent(t,r,s,g),p(g,v),this._zmin=Math.min(this._zmin,g[2]),this._zmax=Math.max(this._zmax,g[5]),b.extent=v,b.spatialReference=t,this.emit(\"elevation-change\",b),l(o.min,r),l(o.max,s)}_computeLayerExtent(e,t){return d(g),null!=e&&t.objects.forAll((t=>this._expandExtent(e,t.boundingVolumeWorldSpace.min,t.boundingVolumeWorldSpace.max,g))),g}_expandExtent(e,t,o,r){for(let s=0;s<8;++s)x[0]=1&s?t[0]:o[0],x[1]=2&s?t[1]:o[1],x[2]=4&s?t[2]:o[2],this._renderCoordsHelper.fromRenderCoords(x,x,e),m(r,x);return r}};e([i({constructOnly:!0})],y.prototype,\"layer\",void 0),e([i({constructOnly:!0})],y.prototype,\"stageLayer\",void 0),e([i({constructOnly:!0})],y.prototype,\"view\",void 0),e([i()],y.prototype,\"spatialReference\",null),y=e([a(\"esri.views.3d.layers.support.StageLayerElevationProvider\")],y);const g=d(),v=h(),b={spatialReference:null,extent:v,context:\"scene\"},x=c(),C=c(),E=c();export{y as StageLayerElevationProvider};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import\"../../../../renderers/ClassBreaksRenderer.js\";import\"../../../../renderers/DictionaryRenderer.js\";import\"../../../../renderers/DotDensityRenderer.js\";import\"../../../../renderers/HeatmapRenderer.js\";import\"../../../../renderers/PieChartRenderer.js\";import\"../../../../renderers/Renderer.js\";import\"../../../../renderers/SimpleRenderer.js\";import i from\"../../../../renderers/UniqueValueRenderer.js\";import\"../../../../renderers/support/jsonUtils.js\";import\"../../../../symbols.js\";import t from\"../../../../core/Accessor.js\";import{isSome as r}from\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import s from\"../../../../core/Error.js\";import a from\"../../../../core/Handles.js\";import{makeHandle as n}from\"../../../../core/handleUtils.js\";import o from\"../../../../core/Logger.js\";import{someMap as l,findInMap as h}from\"../../../../core/MapUtils.js\";import{destroyMaybe as d,removeMaybe as p,disposeMaybe as c}from\"../../../../core/maybe.js\";import y from\"../../../../core/PooledArray.js\";import{throwIfAborted as m,eachAlways as g,createResolver as u,isAbortError as b}from\"../../../../core/promiseUtils.js\";import{watch as _,when as f,on as v,syncAndInitial as C,whenOnce as S}from\"../../../../core/reactiveUtils.js\";import{schedule as w}from\"../../../../core/scheduling.js\";import{property as G}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as x}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as P,isEmpty as R}from\"../../../../core/accessorSupport/diffUtils.js\";import{s as D,a as E,g as I}from\"../../../../chunks/vec3.js\";import{c as U}from\"../../../../chunks/vec3f64.js\";import{projectVectorToVector as A,projectXYZToVector as O,canProjectWithoutEngine as j,projectBuffer as L}from\"../../../../geometry/projection.js\";import{create as V,center as F,fromRect as T,equals as k}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as z}from\"../../../../geometry/support/aaBoundingRect.js\";import{equals as W}from\"../../../../geometry/support/spatialReferenceUtils.js\";import M from\"../../../../layers/Layer.js\";import{getObjectId as N,computeAABB as B,hasGeometry as H}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as q}from\"../../../../layers/graphics/hydratedFeatures.js\";import{isSupportedRenderer3D as Y,validateTo3D as $}from\"../../../../renderers/support/rendererConversion.js\";import{loadArcade as Z}from\"../../../../support/arcadeOnDemand.js\";import{isBasemapLayer as J}from\"../../../../support/basemapUtils.js\";import{getDefaultSymbol3D as Q}from\"../../../../symbols/support/defaults3D.js\";import{to3D as K}from\"../../../../symbols/support/symbolConversion.js\";import{ViewElevationProvider as X}from\"./ElevationQuery.js\";import{VisibilityGroup as ee,VisibilityFlag as ie}from\"./enums.js\";import{extractExpressionInfo as te,createContext as re}from\"./featureExpressionInfoUtils.js\";import{Graphics3DFeatureStore as se}from\"./Graphics3DFeatureStore.js\";import ae from\"./Graphics3DGraphicCreationContext.js\";import{Graphics3DSymbolCreationContext as ne}from\"./Graphics3DSymbolCreationContext.js\";import{make as oe}from\"./Graphics3DSymbolFactory.js\";import le from\"./Graphics3DWebStyleSymbol.js\";import{GraphicStateTracking as he}from\"./GraphicStateTracking.js\";import{computeCentroid as de}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as pe}from\"./interfaces.js\";import{LoadStatus as ce}from\"./Loadable.js\";import{SpatialIndex2D as ye}from\"./SpatialIndex2D.js\";import{averageSymbolComplexities as me,defaultSymbolComplexity as ge}from\"./symbolComplexity.js\";import{StageLayerElevationProvider as ue}from\"../support/StageLayerElevationProvider.js\";import{toBoundingRect as be}from\"../../support/extentUtils.js\";import{PropertiesPool as _e}from\"../../support/PropertiesPool.js\";import{GridLocalOriginFactory as fe}from\"../../webgl-engine/lib/GridLocalOriginFactory.js\";import{UpdatePolicy as ve}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as Ce}from\"../../webgl-engine/lib/WebGLLayer.js\";import{hasPopupTemplate as Se}from\"../../../layers/support/popupUtils.js\";import{ImmediateTask as we,noBudget as Ge,TaskPriority as xe,Task as Pe}from\"../../../support/Scheduler.js\";import Re from\"../../../../geometry/Extent.js\";import De from\"../../../../geometry/Point.js\";import Ee from\"../../../../symbols/LabelSymbol3D.js\";import Ie from\"../../../../symbols/TextSymbol.js\";import Ue from\"../../../../symbols/WebStyleSymbol.js\";var Ae;const Oe=U(),je=V(),Le=\"esri.views.3d.layers.graphics.Graphics3DCore\",Ve=o.getLogger(Le);let Fe=Ae=class extends t{get _viewSpatialReference(){return this.owner.view.spatialReference}get spatialIndex(){return this._spatialIndex||(this._spatialIndex=new ye({objectIdField:this.owner.layer?.objectIdField,spatialReference:this._viewSpatialReference,hasZ:!!this.hasZ,hasM:!!this.hasM}),this._spatialIndex.setup(Array.from(this.graphics3DGraphics.values()))),this._spatialIndex.update(),this._spatialIndex}get numberOfGraphics(){return this._numberOfGraphics}get effectiveUpdatePolicy(){return null!=this.currentRenderer&&\"dictionary\"===this.currentRenderer.type?ve.ASYNC:this._forcedUpdatePolicy??this.preferredUpdatePolicy}get featureStore(){return this._featureStore}get initializePromise(){return this._initializePromise}get scaleVisibility(){return this._scaleVisibility}get elevationAlignment(){return this._elevationAlignment}get objectStates(){return this._objectStates}get filterVisibility(){return this._filterVisibility}get updating(){return!!(this._graphicsWaitingForSymbol.size>0||this.running||this._elevationAlignment?.updating||null!=this._scaleVisibility&&this._scaleVisibility.updating||null!=this._filterVisibility&&this._filterVisibility.updating||this._rendererChangeAbortController||this._elevationInfoChangeAbortController||this._updatingPendingLoadedGraphicsChange||this._frameTask.updating||this._loadingSymbols>0)}get running(){return this._pendingUpdates.size>0||!!this._spatialIndex?.updating}get suspendedOrOutsideOfView(){return this.owner.suspended||!!this.owner.suspendInfo?.outsideOfView}get updatingRemaining(){return this.updating?this._pendingUpdates.size+.1*(this._spatialIndex?.updatingRemaining||0)+.1*(this._elevationAlignment?.updatingRemaining||0):0}get displayFeatureLimit(){const e=this.owner&&this.owner.view&&this.owner.view.qualitySettings,i=e?e.graphics3D.minTotalNumberOfFeatures:0,t=e?e.graphics3D.maxTotalNumberOfFeatures:0,r=e?e.graphics3D.maxTotalNumberOfPrimitives:0,s=this.averageSymbolComplexity,a=Math.max(1,null!=s?s.primitivesPerFeature:1),n=null!=s&&s.drawCallsPerFeature>0?t/s.drawCallsPerFeature*.3:t,o=Math.ceil(r/a),l=Math.max(i,Math.min(t,o,n)),h=this._get(\"displayFeatureLimit\");return h&&h.minimumTotalNumberOfFeatures===i&&h.maximumTotalNumberOfFeatures===t&&h.maximumTotalNumberOfPrimitives===r&&h.averageSymbolComplexity===s&&h.maximumNumberOfFeatures===l?h:{minimumTotalNumberOfFeatures:i,maximumTotalNumberOfFeatures:t,maximumTotalNumberOfPrimitives:r,averageSymbolComplexity:s,maximumNumberOfFeatures:l}}get averageSymbolComplexity(){const e=me(this._symbolComplexities),i=this._get(\"averageSymbolComplexity\");return 0===e.numComplexities||null!=i&&(e.estimated&&(i.primitivesPerFeature>=e.primitivesPerFeature||i.primitivesPerCoordinate>=e.primitivesPerCoordinate||i.drawCallsPerFeature>=e.drawCallsPerFeature)||i.primitivesPerFeature===e.primitivesPerFeature&&i.primitivesPerCoordinate===e.primitivesPerCoordinate&&i.drawCallsPerFeature===e.drawCallsPerFeature)?i:e}get usedMemory(){const e=null!=this.averageSymbolComplexity&&this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel*this._numberOfGraphics:0,i=this._getSymbolComplexitiesUsed().reduce(((e,i)=>e+i.memory.resourceBytes),0);return this._usedMemory+e+i}get usedMemoryPerGraphic(){if(this._usedMemory&&this._numberOfGraphics){const e=this._numberOfGraphics/(this._numberOfGraphics+Math.max(this._pendingAdds,this._pendingRemoves));return this._usedMemory/this._numberOfGraphics*e}if(null!=this.averageSymbolComplexity){const e=this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel:0;return this.averageSymbolComplexity.memory.bytesPerFeature+e}return 0}get unprocessedMemoryEstimate(){return(this._pendingAdds-this._pendingRemoves)*this.usedMemoryPerGraphic}get _symbolComplexities(){return this.currentRenderer?this._getSymbolComplexitiesUsedOrRenderer(this.currentRenderer):this._getSymbolComplexitiesUsed()}get visible(){return this._visible}_getConvertedSymbol(e){if(\"web-style\"===e.type)return e.clone();const i=this._symbolConversionCache.get(e.id);if(null!=i)return i;const t=K(e,{geometryType:this.layer?.geometryType??void 0,retainId:!0,hasLabelingContext:this._hasLabelingContext(e)}),r=t.symbol||null;return null==r&&t.error&&Ve.error(t.error.message),this._symbolConversionCache.set(e.id,r),r}_getSymbolComplexitiesUsedOrRenderer(e){if(null==e)return[];const i=e.getSymbols(),t=\"backgroundFillSymbol\"in e?e.backgroundFillSymbol:null;if(!(t||i&&i.length))return[];const r=[],s=this._getSymbolComplexityUsedOrRenderer(t);null!=s&&r.push(s);for(const a of i){const e=this._getSymbolComplexityUsedOrRenderer(a);null!=e&&r.push(e)}return r}_getSymbolComplexityUsedOrRenderer(e){if(null==e)return null;const i=this._symbols.get(e.id);if(null!=i)return i.complexity;const t=this._getConvertedSymbol(e);return null!=t?ge(t):null}_getSymbolComplexitiesUsed(){const e=[];return this._symbols.forEach((i=>{null!=i&&e.push(i.complexity)})),e}get _objectIdField(){return this.layer.objectIdField}constructor(e){super(e),this._propertiesPool=new _e({computedExtent:Re},this),this.computedExtent=null,this.currentRenderer=null,this.rendererHasGeometryOperations=!1,this._graphicStateTracking=null,this.graphics3DGraphics=new Map,this.stageLayer=null,this.stage=null,this._graphicsDrapedUids=new Set,this._graphicsBySymbol=new Map,this._symbolConversionCache=new Map,this._symbols=new Map,this._graphicsWithoutSymbol=new Map,this._graphicsWaitingForSymbol=new Map,this._graphicsUpdateId=0,this._handles=new a,this._frameTask=we,this._suspendSymbolCleanup=!1,this._arcadeOnDemand=null,this._rendererChangeAbortController=null,this._elevationInfoChangeAbortController=null,this._initializeAbortController=null,this._scaleVisibility=null,this._filterVisibility=null,this._spatialIndex=null,this.extentPadding=0,this._updatingPendingLoadedGraphicsChange=null,this._featureStore=null,this._deconflictor=null,this._labeler=null,this._objectStates=null,this._viewElevationProvider=null,this._stageLayerElevationProvider=null,this._sharedSymbolResourcesOwnerHandle=null,this._whenGraphics3DGraphicRequests={},this._pendingUpdates=new Map,this._numberOfGraphics=0,this._numberOfGraphicsProvidingElevation=0,this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this._loadingSymbols=0,this._pendingUpdatesPool=new y({allocator:e=>e||new ke,deallocator:e=>(e.clear(),e)}),this._symbolWarningLogged=!1,this._geometryWarningLogged=!1,this._objectIdInvisibleSet=new Set,this._whenSymbolRemoved=new y,this.preferredUpdatePolicy=ve.SYNC,this._forcedUpdatePolicy=null,this.elevationFeatureExpressionEnabled=!0,this.owner=null,this.layer=null,this.graphicSymbolSupported=!0,this.getRenderingInfoWithoutRenderer=!1,this.setUidToIdOnAdd=!0,this.hasZ=null,this.hasM=null,this._usedMemory=0,this._visible=!1,this._startCreateGraphics=!1,this.symbolCreationContext=new ne(e.owner.view.resourceController.scheduler,((e,i)=>this._frameTask.schedule(e,i)))}initialize(){this._featureStore=new se({objectIdField:this.owner.layer&&this.owner.layer.objectIdField,hasZ:!!this.hasZ,hasM:!!this.hasM,viewSpatialReference:this._viewSpatialReference,featureSpatialReference:this.owner.featureSpatialReference,getSpatialIndex:()=>this.spatialIndex,forEach:e=>this.graphics3DGraphics.forEach(e)});const e=(e,i,t)=>this.spatialIndex.queryGraphicUIDsInExtent(e,i,t),{componentFactories:i}=this;if(null!=i.elevationAlignment){const t=i.elevationAlignment(this,e);this._elevationAlignment=t}if(null!=i.scaleVisibility){const t=i.scaleVisibility(this,e);this._scaleVisibility=t}if(null!=i.filterVisibility){const e=i.filterVisibility({featureStore:this._featureStore,getFeatureCount:()=>this.graphics3DGraphics.size,updateFeatureVisibilities:e=>this.modifyGraphics3DGraphicVisibilities((i=>i.setVisibilityFlag(ee.GRAPHIC,ie.FILTER,e(N(i.graphic,this._objectIdField))))),setAllFeaturesVisibility:e=>this.modifyGraphics3DGraphicVisibilities((i=>i.setVisibilityFlag(ee.GRAPHIC,ie.FILTER,e))),clearFeaturesVisibility:()=>this.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(ee.GRAPHIC,ie.FILTER,!0)))});this._filterVisibility=e}if(null!=i.deconflictor){const e=i.deconflictor(this);this._deconflictor=e}if(null!=i.labeler&&null!=this._scaleVisibility){const e=i.labeler(this,this._scaleVisibility);this._labeler=e}if(null!=i.objectStates){const e=i.objectStates(this);this._objectStates=e}this._initializeAbortController=new AbortController,this._initializePromise=this._initializeAsync()}async _initializeAsync(){const e=this._initializeAbortController?.signal,i=this.owner.view;this._viewElevationProvider=new X(this._viewSpatialReference,i),this._initializeStage(i,this.layer.uid);const t=i.sharedSymbolResources;this.symbolCreationContext.sharedResources=t,this._sharedSymbolResourcesOwnerHandle=t.addGraphicsOwner(this.owner),null!=this.currentRenderer&&(this.symbolCreationContext.renderer=this.currentRenderer),this.symbolCreationContext.stage=this.stage,this.symbolCreationContext.streamDataRequester=t.streamDataRequester,this.symbolCreationContext.renderCoordsHelper=i.renderCoordsHelper,this.symbolCreationContext.layer=this.layer,this.symbolCreationContext.graphicsCoreOwner=this.owner,this.symbolCreationContext.localOriginFactory=new fe(i.renderSpatialReference),this.symbolCreationContext.elevationProvider=i.elevationProvider,this.symbolCreationContext.notifyGraphicGeometryChanged=e=>this.notifyGraphicGeometryChanged(e),this.symbolCreationContext.notifyGraphicVisibilityChanged=e=>this.notifyGraphicVisibilityChanged(e);const r=te(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);if(this.symbolCreationContext.featureExpressionInfoContext=await re(r,this._viewSpatialReference,e,Ve),m(e),this.symbolCreationContext.screenSizePerspectiveEnabled=i.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this.symbolCreationContext.physicalBasedRenderingEnabled=!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled,this.symbolCreationContext.skipHighSymbolLods=!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods,\"drapeSourceType\"in this.owner){const{owner:e}=this;this.symbolCreationContext.drapeSourceRenderer=i.basemapTerrain.overlayManager.registerGeometryDrapeSource(e),this._handles.add(n((()=>i.basemapTerrain.overlayManager.unregisterDrapeSource(e))))}this._handles.add([_((()=>this.suspendedOrOutsideOfView),(()=>this._frameTask.reschedule((()=>this._updateLayerVisibility())))),_((()=>[this.layer?.screenSizePerspectiveEnabled,this.owner.view?.screenSizePerspectiveEnabled]),(()=>{const e=i.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled;e!==this.symbolCreationContext.screenSizePerspectiveEnabled&&(this.symbolCreationContext.screenSizePerspectiveEnabled=e,this._labeler?.reset(),this.recreateAllGraphicsAndSymbols())})),_((()=>this.owner.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(!!e))),_((()=>this.owner.view.state?.rasterPixelRatio),(()=>this._pixelRatioChange())),_((()=>!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled),(e=>this._physicalBasedRenderingChange(e))),_((()=>!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods),(e=>this._skipHighSymbolLoDsChange(e))),f((()=>i.basemapTerrain?.tilingScheme),(e=>{if(e.spatialReference.equals(this.symbolCreationContext.overlaySR)||null==i.basemapTerrain.spatialReference||(this.symbolCreationContext.overlaySR=i.basemapTerrain.spatialReference),this._handles.has(\"loaded-graphics\"))this.recreateAllGraphics();else{const e=()=>this.owner?.loadedGraphics;this._handles.add([v(e,\"change\",(e=>{this._graphicsCollectionChanged(e),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}),{onListenerAdd:()=>{this.recreateAllGraphics(),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}})],\"loaded-graphics\")}}),{initial:!0}),_((()=>this.effectiveUpdatePolicy),(e=>{null!=this.stageLayer&&(this.stageLayer.updatePolicy=e),this.symbolCreationContext.isAsync=this.effectiveUpdatePolicy===ve.ASYNC,e===ve.SYNC&&this.runTask(Ge)}),C)]),this._frameTask=i.resourceController.scheduler.registerTask(xe.GRAPHICS_CORE,this),this.layer&&\"featureReduction\"in this.layer&&this._handles.add(_((()=>this.layer.featureReduction),(()=>this._deconflictor.featureReductionChange()))),this.notifyChange(\"averageSymbolComplexity\"),this.rendererChange(this.owner.renderer).catch((()=>{})),this._initializeAbortController=null}_abortInitialize(){this._initializeAbortController&&(this._initializeAbortController.abort(),this._initializeAbortController=null)}destroy(){this._abortInitialize(),this._abortRendererChange(),this._abortElevationInfoChange(),this._frameTask.remove(),this._frameTask=we,this.owner.view?.deconflictor?.removeGraphicsOwner(this),this.owner.view?.labeler?.removeGraphicsOwner(this),this._elevationAlignment=d(this._elevationAlignment),this._scaleVisibility=d(this._scaleVisibility),this._filterVisibility=d(this._filterVisibility),this._deconflictor=null,this._labeler=null,this._objectStates=d(this._objectStates),this.clear(),this._featureStore=d(this._featureStore),this._updatingPendingLoadedGraphicsChange=p(this._updatingPendingLoadedGraphicsChange),this._graphicStateTracking=d(this._graphicStateTracking),this.stage&&(this.stageLayer=d(this.stageLayer),this.stage=null),this._handles=d(this._handles),this._set(\"owner\",null);for(const e in this._whenGraphics3DGraphicRequests)this._whenGraphics3DGraphicRequests[e].reject(new s(\"graphic:layer-destroyed\",\"Layer has been destroyed\"));this._whenGraphics3DGraphicRequests=null,this._sharedSymbolResourcesOwnerHandle=p(this._sharedSymbolResourcesOwnerHandle),this._propertiesPool=d(this._propertiesPool),this._pendingUpdatesPool=null,this._symbolConversionCache.clear(),this._objectIdInvisibleSet.clear(),this._spatialIndex=d(this._spatialIndex)}clear(){this._objectStates?.allGraphicsDeleted(),null!=this._graphicStateTracking&&this._graphicStateTracking.allGraphicsDeleted(),this.graphics3DGraphics.forEach((e=>e.destroy())),this._spatialIndex?.clear(),this.graphics3DGraphics.clear(),this._numberOfGraphics=0,this._usedMemory=0,this._updateLayerVisibility(),this._symbols.forEach(d),this._symbols.clear(),this._graphicsBySymbol.clear(),this._graphicsWithoutSymbol.clear(),this._graphicsWaitingForSymbol.clear(),this._pendingUpdates.clear(),this._pendingUpdatesPool.clear(),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this.notifyChange(\"updating\"),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\"),this._featureStore.events.emit(\"changed\")}_initializeStage(e,i){this.stage=e._stage,this.stageLayer=new Ce(this.stage,{pickable:!this.suspendedOrOutsideOfView,updatePolicy:this.effectiveUpdatePolicy},i);const t=this.stageLayer.events;t.on(\"objectTransformation\",(e=>this.notifyGraphicGeometryChanged(e.graphicUid))),t.on(\"objectShaderTransformation\",(e=>this.notifyGraphicGeometryChanged(e.graphicUid))),t.on(\"visibilityChanged\",(e=>this.notifyGraphicVisibilityChanged(e.graphicUid))),t.on(\"objectGeometryAdded\",(e=>this.notifyGraphicGeometryChanged(e.object.graphicUid))),t.on(\"objectGeometryRemoved\",(e=>this.notifyGraphicGeometryChanged(e.object.graphicUid))),t.on(\"objectGeometryUpdated\",(e=>this.notifyGraphicGeometryChanged(e.object.graphicUid)))}notifyGraphicGeometryChanged(e){if(null==this._graphicStateTracking||null==e)return;const i=this.graphics3DGraphics.get(e);i&&this._graphicStateTracking.updateGraphicGeometry(i)}notifyGraphicVisibilityChanged(e){if(null==this._graphicStateTracking||null==e)return;const i=this.graphics3DGraphics.get(e);i&&this._graphicStateTracking.updateGraphicVisibility(i)}_updateLayerVisibility(){const e=this.displayFeatureLimit.maximumNumberOfFeatures,i=this._numberOfGraphics>e*ze,t=!this.suspendedOrOutsideOfView&&!i;t!==this._visible&&(this._visible=t,t?(this.stageLayer.pickable=!0,this.updateAllGraphicsVisibility()):(this.stageLayer.pickable=!1,this._hideAllGraphics()),this._updateStageLayerVisibility())}_updateStageLayerVisibility(){this.stageLayer.visible=this._visible&&(null==this.layer.opacity||this.layer.opacity>0)}getGraphics3DGraphicById(e){return null!=e?this.graphics3DGraphics.get(e):void 0}getGraphics3DGraphicByObjectId(e){return this.owner.layer?.objectIdField?this._findGraphics3DGraphicByObjectId(e):null}_getGraphicObjectID(e,i=this.owner.layer&&this.owner.layer.objectIdField){return N(e,i)}get graphics3DGraphicsByObjectID(){const e=this.owner.layer&&this.owner.layer.objectIdField;if(!e)return;const i=new Map;return this.graphics3DGraphics.forEach((t=>{if(!t)return;const r=t.graphic,s=this._getGraphicObjectID(r,e);null!=s&&i.set(s,t)})),i}get labelsEnabled(){return!(!this._labeler||!this._labeler.layerLabelsEnabled())}async updateLabelingInfo(e){const i=this._deconflictor&&this._deconflictor.labelingInfoChange(e),t=this._labeler&&this._labeler.labelingInfoChange(e);await g([i,t])}updateVisibilityInfo(){this._deconflictor&&this._deconflictor.labelingInfoChange(),this._labeler&&this._labeler.visibilityInfoChange()}get symbolUpdateType(){if(this._pendingUpdates.size>0)return\"unknown\";let e=0,i=0;return l(this._symbols,((t,r)=>{if(null!=t){const s=t.getFastUpdateStatus();if(s.loading>0)return!0;this._graphicsBySymbol.has(r)&&(i+=s.fast,e+=s.slow)}return!1}))?\"unknown\":i>=0&&0===e?\"fast\":e>=0&&0===i?\"slow\":\"mixed\"}runTask(e){if(this._frameTask.processQueue(e),this._applyPendingUpdates(e),this.notifyChange(\"running\"),this.running||this.notifyChange(\"updating\"),this.notifyChange(\"updatingRemaining\"),!e.hasProgressed)return Pe.YIELD}setObjectIdVisibility(e,i){i?this._objectIdInvisibleSet.delete(e):this._objectIdInvisibleSet.add(e);const t=this._findGraphics3DGraphicByObjectId(e);null!=t&&this._updateUserVisibility(t)}_findGraphics3DGraphicByObjectId(e){return h(this.graphics3DGraphics,(i=>this._getGraphicObjectID(i.graphic)===e))}_updateUserVisibility(e){if(null==e)return!1;const i=e.graphic,t=this._getGraphicObjectID(i),r=i.visible&&!this.owner.suspended&&(null==t||!this._objectIdInvisibleSet.has(t));return e.setVisibilityFlag(ee.GRAPHIC,ie.USER,r)}_whenGraphics3DGraphic(e){const i=this.graphics3DGraphics.get(e.uid);if(i)return Promise.resolve(i);const t=this._whenGraphics3DGraphicRequests[e.uid];if(t)return t.promise;const r=u();return this._whenGraphics3DGraphicRequests[e.uid]=r,r.promise}async _boundsForGraphics3DGraphic(e,i){const t=this._viewSpatialReference,r=this.owner.view.renderSpatialReference,s=this.owner.view.basemapTerrain.spatialReference,a=(e,i,s)=>L(e,r,i,e,t,i,s),n=(e,i,r)=>L(e,s,i,e,t,i,r),o=this._viewElevationProvider?{service:this._viewElevationProvider,useViewElevation:null!=i&&!!i.useViewElevation,minDemResolution:null!=i?i.minDemResolution:null,minDemResolutionForPoints:this.owner.view.resolution}:null,l=await e.getProjectedBoundingBox(a,n,o,i?.signal);if(!l)return null;const h=l.boundingBox;if(l.requiresDrapedElevation){const e=this.symbolCreationContext.elevationProvider;if(e){F(h,Oe);const i=e.getElevation(Oe[0],Oe[1],0,t,\"ground\")??0;h[2]=Math.min(h[2],i),h[5]=Math.max(h[5],i)}}return{boundingBox:h,screenSpaceObjects:l.screenSpaceObjects}}async whenGraphicBounds(e,i){await S((()=>this.owner?.loadedGraphics));const t=this.owner.layer&&this.owner.layer.objectIdField,r=this.owner.loadedGraphics.find((i=>i===e||null!=t&&null!=i.attributes&&e.attributes&&i.attributes[t]===e.attributes[t]));if(!r)throw new s(\"internal:graphic-not-part-of-view\",\"Graphic is not part of this view\");const a=await this._whenGraphics3DGraphic(r);return this._boundsForGraphics3DGraphic(a,i)}computeAttachmentOrigin(e,i){const t=this.graphics3DGraphics.get(e.uid);if(!t)return null;const r=t.computeAttachmentOrigin();if(0===r.render.num&&0===r.draped.num)return null;D(We,0,0,0);let s=0;if(r.render.num>0){if(!A(r.render.origin,this.symbolCreationContext.renderCoordsHelper.spatialReference,Me,i))return null;E(We,We,Me),s++}if(r.draped.num>0){const[e,t]=r.draped.origin,a=this._viewElevationProvider.getElevation(e,t,\"ground\")??0;if(D(Me,e,t,a),!A(Me,this._viewElevationProvider.spatialReference,Me,i))return null;E(We,We,Me),s++}return s>1&&I(We,We,1/s),new De({x:We[0],y:We[1],z:We[2],spatialReference:i})}getSymbolLayerSize(e,i){const t=this._symbols.get(e.id);if(null==t)throw new s(\"internal:symbol-not-part-of-view\",\"Symbol is not part of this view\");const r=e.symbolLayers.indexOf(i);if(-1===r)throw new s(\"internal:missing-symbol-layer\",\"Symbol layer is not in symbol\");const a=t.getSymbolLayerSize(r);if(null==a)throw new s(\"internal:missing-size\",\"Symbol layer has no valid size\");return a}_graphicsCollectionChanged(e){this._startCreateGraphics&&(this.add(e.added),this.remove(e.removed))}graphicUpdateHandler(e){const i=e.graphic.uid,t=this.graphics3DGraphics.get(i);if(null!=t||null!=this._graphicsWithoutSymbol.get(i))switch(e.property){case\"visible\":this._graphicUpdateVisibleHandler(t);break;case\"geometry\":this._graphicUpdateGeometryHandler(t,e);break;case\"symbol\":this._graphicUpdateSymbolHandler(t,e);break;case\"attributes\":break;case\"origin-transform\":this._graphicUpdateTransformHandler(t,e)}}_graphicUpdateGeometryHandler(e,i){this._graphicUpdateGeometryOrTransformHandler(e,i,(()=>null!=i.newValue&&null!=e&&e.graphics3DSymbol.updateGeometry(e,i.newValue)));const t=i.graphic.geometry;null!=t&&this._expandComputedExtent(t)}_graphicUpdateTransformHandler(e,i){const t=i.graphic.geometry;this._graphicUpdateGeometryOrTransformHandler(e,i,(()=>null!=i.newValue&&null!=e&&null!=t&&e.graphics3DSymbol.updateTransform(e,t.spatialReference,i.newValue,i.action)))}_graphicUpdateGeometryOrTransformHandler(e,i,t){if(null!=i.graphic.geometry)if(null!=e)t()||this._recreateGraphic(e.graphic);else{const e=i.graphic.symbol&&i.graphic.symbol.id;if(e){const i=this._symbols.get(e);if(null!=i&&i.loadStatus===ce.LOADING)return}this._recreateGraphic(i.graphic)}else this._recreateGraphic(i.graphic)}_graphicUpdateSymbolHandler(e,i){const t=i.graphic,r=null!=e?e.graphics3DSymbol:null!=i.oldValue?this._symbols.get(i.oldValue.id):null;if(null==r||null==i.newValue)return void this._recreateGraphic(t);const s=r.symbol,a=this._getConvertedSymbol(i.newValue);if(null!=a&&(a.type!==s.type||\"web-style\"===a.type)||\"web-style\"===s.type)return void this._recreateGraphic(t);const n=this._graphicsBySymbol.get(s.id);if(n&&1!==n.size)return void this._recreateGraphic(t);const o=P(s,a);if(null==o)return void this._updateSymbolMapping(s.id,a);const l={diff:o,graphics3DGraphicPatches:[],symbolStatePatches:[]};if(r.prepareSymbolPatch(l),!R(l.diff))return void this._recreateGraphic(t);const h=this._getRenderingInfo(t);if(null==h)return void this._recreateGraphic(t);const d=r.extentPadding;for(const p of l.symbolStatePatches)p();if(d!==r.extentPadding&&this._recomputeExtentPadding(),null!=e)for(const p of l.graphics3DGraphicPatches)p(e,h);this._updateSymbolMapping(s.id,a)}_graphicUpdateVisibleHandler(e){this._updateUserVisibility(e)&&(this._labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty())}recreateGraphics(e){this._suspendSymbolCleanup=!0,this.remove(e),this.add(e),this._suspendSymbolCleanup=!1,this.effectiveUpdatePolicy===ve.SYNC&&this._cleanupSymbols()}_recreateGraphic(e){this.recreateGraphics([e])}_beginGraphicUpdate(e){const i=this._graphicsUpdateId;return this._graphicsUpdateId++,this._graphicsWaitingForSymbol.set(e.uid,i),1===this._graphicsWaitingForSymbol.size&&this.notifyChange(\"updating\"),i}_endGraphicUpdate(e){e&&(this._graphicsWaitingForSymbol.delete(e.uid),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"updating\")))}_recomputeExtentPadding(){let e=0;this._symbols.forEach((i=>{null!=i&&(e=Math.max(e,i.extentPadding))})),this._set(\"extentPadding\",e)}_expandComputedExtent(e){const i=je,t=e.spatialReference;B(e,i);const r=this._viewSpatialReference,s=Ae.tmpVec;if(W(t,r)||O(i[0],i[1],0,t,s,r)&&(i[0]=s[0],i[1]=s[1],O(i[3],i[4],0,t,s,r),i[3]=s[0],i[4]=s[1]),!(isFinite(i[0])&&isFinite(i[3])&&isFinite(i[1])&&isFinite(i[4])))return;const a=this.computedExtent;let n=null;const o=isFinite(i[2])&&isFinite(i[5]),l=o&&(!a||null==a.zmin||i[2]<a.zmin),h=o&&(!a||null==a.zmax||i[5]>a.zmax);if(a){(i[0]<a.xmin||i[1]<a.ymin||i[3]>a.xmax||i[4]>a.ymax||l||h)&&(n=this._propertiesPool.get(\"computedExtent\"),n.xmin=Math.min(i[0],a.xmin),n.ymin=Math.min(i[1],a.ymin),n.xmax=Math.max(i[3],a.xmax),n.ymax=Math.max(i[4],a.ymax),n.spatialReference=r)}else n=this._propertiesPool.get(\"computedExtent\"),n.xmin=i[0],n.ymin=i[1],n.xmax=i[3],n.ymax=i[4],n.spatialReference=r;n&&(l&&(n.zmin=i[2]),h&&(n.zmax=i[5]),this._set(\"computedExtent\",n))}_abortElevationInfoChange(){this._elevationInfoChangeAbortController&&(this._elevationInfoChangeAbortController.abort(),this._elevationInfoChangeAbortController=null)}async elevationInfoChange(){this._abortElevationInfoChange();const e=new AbortController;this._elevationInfoChangeAbortController=e;const i=te(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);this.symbolCreationContext.featureExpressionInfoContext=await re(i,this._viewSpatialReference,e.signal,Ve),m(e.signal),this._elevationInfoChangeAbortController=null,this._labeler?.elevationInfoChange(),this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"elevationInfo\",i)?i.forEach((e=>{const i=e.graphic,t=e.labelLayers;for(const r of t){r.graphics3DSymbolLayer.updateGraphicElevationContext(i,r)}})):this._recreateSymbol(t)})),this.updateStageLayerElevationProvider(),this._elevationAlignment?.elevationInfoChange()}updateStageLayerElevationProvider(){this._stageLayerElevationProvider?(this.layer.elevationInfo&&\"relative-to-scene\"===this.layer.elevationInfo.mode||0===this._numberOfGraphicsProvidingElevation)&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=c(this._stageLayerElevationProvider)):(!this.layer.elevationInfo||this.layer.elevationInfo&&\"relative-to-scene\"!==this.layer.elevationInfo.mode)&&this._numberOfGraphicsProvidingElevation>0&&(this._stageLayerElevationProvider=new ue({layer:this.layer,stageLayer:this.stageLayer,view:this.owner.view}),this.owner.view.elevationProvider.register(\"scene\",this._stageLayerElevationProvider))}_clearSymbolsAndGraphics(){this.clear(),null!=this._filterVisibility&&this._filterVisibility.clear(),this._labeler?.reset(),this._deconflictor?.clear(),this._elevationAlignment?.clear(),this.stageLayer?.invalidateSpatialQueryAccelerator(),this._stageLayerElevationProvider&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=c(this._stageLayerElevationProvider))}startCreateGraphics(){this._startCreateGraphics=!0,this.recreateAllGraphics()}recreateAllGraphics(){this._recreateAllGraphics(!1)}recreateAllGraphicsAndSymbols(){this._recreateAllGraphics(!0)}_recreateAllGraphics(e=!1){if(!this._startCreateGraphics)return;const{loadedGraphics:i,view:t}=this.owner,r=t.basemapTerrain.tilingScheme&&i&&i.length?i.toArray():null;!e&&r||this._clearSymbolsAndGraphics(),this.symbolCreationContext.screenSizePerspectiveEnabled=this.owner.view.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this._set(\"computedExtent\",null),r&&(e?this.add(r):this.recreateGraphics(r))}_recreateSymbol(e){const i=this._graphicsBySymbol.get(e),t=[];i&&(i.forEach(((e,i)=>{const r=e.usedMemory;this._conditionalRemove(e,i),this._spatialIndex?.remove(e),t.push(e.graphic),e.destroy(),this._removeGraphics3DGraphic(i,r),this._updateLayerVisibility(),this._featureStore.events.emit(\"changed\")})),this._graphicsBySymbol.set(e,new Map));const r=this._symbols.get(e);d(r),this._symbols.delete(e),this.add(t)}_recreateGraphicsForSymbol(e){const i=this._graphicsBySymbol.get(e);if(i){const e=[];i.forEach((i=>e.push(i.graphic))),this.recreateGraphics(e)}}_conditionalRemove(e,i){this._graphicsDrapedUids.delete(i),this._objectStates?.removeGraphic(e),this._labeler?.removeGraphic(e),this._deconflictor?.removeGraphic(e),null!=this._graphicStateTracking&&this._graphicStateTracking.removeGraphic(e)}add(e){e&&0!==e.length&&(this.owner.view.basemapTerrain&&this.owner.view.basemapTerrain.tilingScheme?(this._updatePolicyForGraphics(e)===ve.ASYNC?this._addDelayed(e):this._addImmediate(e),this.notifyChange(\"updating\")):Ve.error(\"#add()\",\"Cannot add graphics before terrain surface has been initialized\"))}_updatePolicyForGraphics(e){if(this.effectiveUpdatePolicy===ve.SYNC&&(\"mesh\"===this.layer.geometryType||null==this.layer.geometryType))for(const i of e)if(null!=i.geometry&&\"mesh\"===i.geometry.type&&!i.geometry.loaded)return ve.ASYNC;return this.effectiveUpdatePolicy}_addImmediate(e){this._geometryWarningLogged=!1,this._symbolWarningLogged=!1;for(const i of e)this._addGraphic(i,this._getRenderingInfo(i,Ve),ve.SYNC);this._cleanupSymbols(),this._labeler&&(this.owner.view.labeler.setDirty(),this._cleanupSymbols()),this.owner.view.deconflictor.setDirty()}_addDelayed(e){for(const i of e){const e=i.uid;let t=this._pendingUpdates.get(e);t?t.add?t.state!==Te.NEW&&t.abortController?.abort():this._pendingAdds++:(t=this._pendingUpdatesPool.pushNew(),this._pendingAdds++,this._pendingUpdates.set(e,t)),t.add=i}this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\")}remove(e){this.effectiveUpdatePolicy===ve.ASYNC?this._removeDelayed(e):this._removeImmediate(e),this.notifyChange(\"updating\")}_removeImmediate(e){for(const i of e)this._removeGraphic(i);this._cleanupSymbols(),this._labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty()}_removeDelayed(e){for(const i of e){const e=i.uid,t=this._pendingUpdates.get(e);if(t)t.add&&(t.remove?t.add=null:this._pendingUpdates.delete(e),t.state===Te.LOADING&&t.abortController?.abort(),this._pendingAdds--);else{const t=this._pendingUpdatesPool.pushNew();t.remove=i,this._pendingUpdates.set(e,t),this._pendingRemoves++,this._applyPendingRemovesFirst=!0}}0===this._pendingUpdates.size&&this._finishPendingUpdates(),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\")}_finishPendingUpdates(){this._pendingUpdatesPool.clear(),this._cleanupSymbols(),(this._pendingAdds||this._pendingRemoves)&&Ve.warn(\"pendingAdds/Removes in inconsistent state!\"),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1}_applyPendingUpdates(e){if(this._geometryWarningLogged=!1,this._symbolWarningLogged=!1,0===this._pendingUpdates.size&&this._spatialIndex?.updating)return this._spatialIndex.update(),void e.madeProgress();if(this._applyPendingRemovesFirst){this._applyPendingRemovesFirst=!1;for(const[i,t]of this._pendingUpdates){if(e.done){this._applyPendingRemovesFirst=!0;break}if(t.remove&&!t.add&&(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(t.remove),t.remove=null,this._pendingUpdates.delete(i),0===this._pendingRemoves))break}}for(const[i,t]of this._pendingUpdates){if(e.done)break;t.add&&t.state===Te.NEW&&this._processPendingUpdateNew(t);let r=this.effectiveUpdatePolicy;if(!t.remove||t.add&&t.state!==Te.READY||(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(t.remove),t.remove=null,r=ve.SYNC),t.add)switch(t.state){case Te.READY:this._addGraphic(t.add,t.renderingInfo,r),t.add=null,this._pendingAdds--,e.madeProgress();break;case Te.REJECTED:t.add=null,this._pendingAdds--;case Te.LOADING:}null==t.remove&&null==t.add&&this._pendingUpdates.delete(i)}0===this._pendingUpdates.size&&(this._finishPendingUpdates(),this.notifyChange(\"running\"))}_processPendingUpdateNew(e){if(!e.add)return void(e.state=Te.READY);const i=e.add.geometry;null==i||\"mesh\"!==i.type||i.loaded?this._processPendingUpdateNewRenderingInfo(e):this._processPendingUpdateNewMesh(e,i)}async _processPendingUpdateNewMesh(e,i){e.state=Te.LOADING,e.abortController=new AbortController;const t=e.abortController.signal;try{await i.load({signal:t})}catch(r){return this._processPendingUpdateNewError(e,r)}e.abortController=null,this._processPendingUpdateNewRenderingInfo(e)}_processPendingUpdateNewError(e,i){e.abortController=null,b(i)?e.state=Te.NEW:e.state=Te.REJECTED}async _processPendingUpdateNewRenderingInfo(e){if(null==this.layer.renderer||\"dictionary\"!==this.layer.renderer.type)return e.renderingInfo=this._getRenderingInfo(e.add,Ve),void(e.state=Te.READY);e.state=Te.LOADING,e.abortController=new AbortController;let i=null;try{i=await this._getRenderingInfoAsync(e.add,{signal:e.abortController.signal})}catch(t){return e.abortController=null,void(b(t)?e.state=Te.NEW:e.state=Te.REJECTED)}null==i||null==i.symbol?(Ve&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,Ve.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),e.renderingInfo=null):e.renderingInfo=i,e.state=Te.READY}_addGraphic(e,i,t){if(this._graphicsWithoutSymbol.set(e.uid,e),null==i||null==i.symbol||!H(e))return;if(null!=this.stage.renderView.objectAndLayerIdRenderHelper&&this.setUidToIdOnAdd){const i=J(this.owner.view.map,this.layer.uid);this.stage.renderView.objectAndLayerIdRenderHelper.setUidToObjectAndLayerId(e.objectId,e.uid,this.layer.id,this.layer.uid,!!this.layer.popupEnabled&&!i&&Se(this.layer,this.owner.view.popup?.defaultPopupTemplateEnabled))}const r=i.symbol,s=this.getOrCreateGraphics3DSymbol(r,i.renderer);if(null==s)return;this._expandComputedExtent(e.geometry);const a=this._beginGraphicUpdate(e),n=new ae(e,i,this.layer);let o=!1;const l=e=>{e===s.symbol.id&&(o=!0)};this._whenSymbolRemoved.push(l);const h=()=>{if(--this._loadingSymbols,this.destroyed)return;this._whenSymbolRemoved.removeUnordered(l);if(this._graphicsWaitingForSymbol.get(e.uid)!==a||o||s.destroyed||this.graphicSymbolSupported&&e.symbol&&e.symbol.id!==s.symbol.id)--s.referenced,this._cleanupSymbols();else{const i=this._createGraphics3DGraphic(s,n);this._spatialIndex&&null!=i&&this._spatialIndex.add(i),--s.referenced,this._endGraphicUpdate(e)}this._featureStore.events.emit(\"changed\"),this._labeler&&this.owner.view.labeler.setDirty()},d=i=>{--this._loadingSymbols,this.destroyed||(this._whenSymbolRemoved.removeUnordered(l),o||(b(i)?this.add([e]):s.destroyed||this._endGraphicUpdate(e)))};++this._loadingSymbols,t===ve.ASYNC?s.load((()=>this._frameTask.schedule(h)),(e=>this._frameTask.schedule((()=>d(e))))):s.load(h,d)}_removeGraphic(e){const i=e.uid,t=this.graphics3DGraphics.get(i);if(t){t.graphics3DSymbol.onRemoveGraphic(t);const e=t.usedMemory,r=t.isElevationSource;this._conditionalRemove(t,i),this._spatialIndex?.remove(t);const s=t.graphics3DSymbol.symbol.id;this._graphicsBySymbol.get(s)?.delete(i),this._graphicsWithoutSymbol.delete(i),this._removeGraphics3DGraphic(i,e,r),t.destroy(),this._featureStore.events.emit(\"changed\")}else this._graphicsWithoutSymbol.delete(i),this._graphicsWaitingForSymbol.delete(i),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"updating\"))}_hasLabelingContext(e){if(e instanceof Ee||e instanceof Ie){const i=this.symbolCreationContext.layer;return!!i.labelingInfo&&i.labelingInfo.some((i=>i.symbol===e))}return!1}_hasValidSymbolCreationContext(e){return!(e instanceof Ee&&!this._hasLabelingContext(e))||(Ve.error(\"LabelSymbol3D is only valid as part of a LabelClass. Using LabelSymbol3D as a renderer symbol is not supported.\"),!1)}_getRenderingInfo(e,i){const t=e.geometry;if(null==t)return i&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!j(t.spatialReference,this._viewSpatialReference))return i&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} has incompatible spatial reference and will not render`)),null;if(!this.graphicSymbolSupported&&null!=e.symbol)return i&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?q(e,this.layer):e;let s;if(this.owner.getRenderingInfo&&(this.getRenderingInfoWithoutRenderer||null!=this.currentRenderer))s=this.owner.getRenderingInfo(r,this.currentRenderer,this._arcadeOnDemand);else{s={symbol:r.symbol||Q(r.geometry)}}return null==s||null==s.symbol?(i&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),null):s}_getRenderingInfoAsync(e,i){if(null==e.geometry)return Ve&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,Ve.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!this.graphicSymbolSupported&&null!=e.symbol)return Ve&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,Ve.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const t=this.rendererHasGeometryOperations?q(e,this.layer):e;return this.owner.getRenderingInfoAsync(t,this.currentRenderer,this._arcadeOnDemand,i)}_createGraphics3DSymbol(e,i){if(!this._hasValidSymbolCreationContext(e))return null;const t=this._getConvertedSymbol(e);if(!t)return null;let r;if(null!=i&&\"backgroundFillSymbol\"in i&&i.backgroundFillSymbol){const e=K(i.backgroundFillSymbol,{ignoreDrivers:!0});null!=e.symbol&&\"web-style\"!==e.symbol.type&&\"cim\"!==e.symbol.type&&(r=e.symbol.symbolLayers)}const s=oe(t,this.symbolCreationContext,r);return s.load((()=>{const e=s.extentPadding;e>this.extentPadding&&this._set(\"extentPadding\",e),this.notifyChange(\"averageSymbolComplexity\")}),(()=>{})),s}getOrCreateGraphics3DSymbol(e,i){let t=this._symbols.get(e.id);return void 0===t&&(t=e instanceof Ue?new le(e,(e=>this._frameTask.schedule(e)),(e=>this._createGraphics3DSymbol(e,i))):this._createGraphics3DSymbol(e,i),this._symbols.set(e.id,t)),null!=t&&++t.referenced,t}trackGraphicState(e){return null==this._graphicStateTracking&&(this._graphicStateTracking=new he(this)),this._graphicStateTracking.add(e)}_addGraphics3DGraphic(e){this._usedMemory+=e.usedMemory,this.graphics3DGraphics.set(e.graphic.uid,e),this._numberOfGraphics++,e.isElevationSource&&(this._numberOfGraphicsProvidingElevation++,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_removeGraphics3DGraphic(e,i,t=!1){this._usedMemory-=i,this.graphics3DGraphics.delete(e),this._numberOfGraphics--,t&&(this._numberOfGraphicsProvidingElevation--,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_createGraphics3DGraphic(e,i){const t=i.graphic;if(this._graphicsWithoutSymbol.delete(t.uid),!this._symbols.has(e.symbol.id))return this.add([t]),null;if(this.graphics3DGraphics.has(t.uid))return null;const r=e.createGraphics3DGraphic(i);if(null==r)return null;this._addGraphics3DGraphic(r);const s=e.symbol.id;this._graphicsBySymbol.has(s)||this._graphicsBySymbol.set(s,new Map),this._graphicsBySymbol.get(s).set(t.uid,r);if(r.isDraped&&this._graphicsDrapedUids.add(t.uid),r.centroid=null,null!=t.geometry&&\"point\"!==t.geometry.type&&(r.centroid=de(t.geometry,this._viewSpatialReference)),this._updateUserVisibility(r),null!=this._scaleVisibility&&this._scaleVisibility.updateVisibility(r),null!=this._filterVisibility){const{defaultVisibility:e}=this._filterVisibility;r.setVisibilityFlag(ee.GRAPHIC,ie.FILTER,e),e||this._filterVisibility.reapply()}this._deconflictor?.addGraphic(r),this._labeler?.addGraphic(r),this._objectStates?.addGraphic(r),this._deconflictor&&this.owner.view.deconflictor.setInitialIconVisibilityFlag(this,r),r.initialize(this.stageLayer,this.owner),null!=this._graphicStateTracking&&this._graphicStateTracking.addGraphic(r);const a=this._whenGraphics3DGraphicRequests[t.uid];return a&&(delete this._whenGraphics3DGraphicRequests[t.uid],a.resolve(r)),r}_abortRendererChange(){this._rendererChangeAbortController&&(this._rendererChangeAbortController.abort(),this._rendererChangeAbortController=null)}async rendererChange(e){if(this._abortRendererChange(),e!==this.currentRenderer)if(this._validateRenderer(e),null==e&&this._currentRendererChange(null,!1),Y(e))if(null!=e&&e.arcadeRequired){const i=new AbortController;this._rendererChangeAbortController=i;const{arcadeUtils:t}=await this._ensureArcade();m(i);const r=t.hasGeometryOperations(e);r&&(await t.enableGeometryOperations(),m(i)),this.effectiveUpdatePolicy===ve.ASYNC?await this._frameTask.schedule((()=>this._currentRendererChange(e,r)),i.signal):this._currentRendererChange(e,r),this._rendererChangeAbortController=null}else if(this.effectiveUpdatePolicy===ve.ASYNC){const i=new AbortController;this._rendererChangeAbortController=i,await this._frameTask.schedule((()=>this._currentRendererChange(e,!1)),i.signal),this._rendererChangeAbortController=null}else this._currentRendererChange(e,!1);else this._currentRendererChange(e,!1)}async _ensureArcade(){return null==this._arcadeOnDemand?(this._arcadeOnDemand=await Z(),this._arcadeOnDemand):this._arcadeOnDemand}_currentRendererChange(e,i){this.currentRenderer=e,this.rendererHasGeometryOperations=i,this.symbolCreationContext.arcade=this._arcadeOnDemand;const t=this.symbolCreationContext.renderer;if(e===t)return;if(this._symbolConversionCache.clear(),null==e)return this.symbolCreationContext.renderer=null,void this.recreateAllGraphicsAndSymbols();const r=P(t,e);this._updateUnchangedSymbolMappings(r,e,t),this.symbolCreationContext.renderer=e,null!=r&&(\"complete\"===r.type?this.recreateAllGraphicsAndSymbols():\"partial\"===r.type&&(this._applyRendererDiff(r,e,t)?this._volatileGraphicsUpdated():this.recreateAllGraphicsAndSymbols()),this.notifyChange(\"averageSymbolComplexity\"))}_diffHasSymbolChange(e){for(const i in e.diff)switch(i){case\"visualVariables\":case\"defaultSymbol\":case\"uniqueValueInfos\":break;case\"uniqueValueGroups\":case\"authoringInfo\":case\"fieldDelimiter\":delete e.diff[i];break;default:return!0}return!1}_applySymbolSetDiff(e,i,t){e=e||[],i=i||[];const r=[];for(const s of i){const i=this._graphicsBySymbol.get(s.id);i&&i.forEach(((a,n)=>{const o=a.graphic,l=this.layer instanceof M?this.layer:null,h=this._arcadeOnDemand;if(s===t.defaultSymbol&&t.getSymbol(q(o,l),{arcade:h})===t.defaultSymbol)return;const d=a.usedMemory;e.length||t.defaultSymbol?r.push(o):this._graphicsWithoutSymbol.set(n,o);const p=this.graphics3DGraphics.get(n);this._conditionalRemove(p,n),a.destroy(),i.delete(n),this._removeGraphics3DGraphic(n,d),this._updateLayerVisibility()})),this._whenSymbolRemoved.forAll((e=>e(s.id)))}(e.length||r.length)&&(this._graphicsWithoutSymbol.forEach((e=>r.push(e))),this._graphicsWithoutSymbol.clear(),this.add(r)),this._cleanupSymbols(),this._labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty()}_applyUniqueValueRendererDiff(e,i,t){const s=e.diff.defaultSymbol,a=e.diff.uniqueValueInfos;if(s||a){const n=a?a.added.map((e=>e.symbol)).filter(r):[],o=a?a.removed.map((e=>e.symbol)).filter(r):[];if(a)for(let e=0;e<a.changed.length;e++)n.push(a.changed[e].newValue.symbol),o.push(a.changed[e].oldValue.symbol);return s?(t.defaultSymbol&&o.push(t.defaultSymbol),i.defaultSymbol&&n.push(i.defaultSymbol)):t.defaultSymbol&&n.length&&o.push(i.defaultSymbol),this._applySymbolSetDiff(n,o,i),delete e.diff.defaultSymbol,delete e.diff.uniqueValueInfos,!0}return!1}_calculateUnchangedSymbolMapping(e,i,t){if(\"unique-value\"!==i?.type||\"unique-value\"!==t?.type||null!=e&&\"partial\"!==e.type)return[];const r=e=>null!=e?e.id:null,s=e&&e.diff,a=s&&s.defaultSymbol,n=s&&s.uniqueValueInfos;let o;if(n)o=n.unchanged.map((e=>({oldId:r(e.oldValue.symbol),newId:r(e.newValue.symbol)})));else{o=[];for(const e of t.uniqueValueInfos??[]){const t=r(e.symbol),s=i.uniqueValueInfos?.find((i=>i.value===e.value));s&&t!==r(s.symbol)&&o.push({oldId:t,newId:r(s.symbol)})}}return!a&&t.defaultSymbol&&o.push({oldId:r(t.defaultSymbol),newId:r(i.defaultSymbol)}),o}_updateSymbolMapping(e,i){const t=null!=i&&i?\"string\"==typeof i?i:i.id:null;if(null==e||e===t)return;const r=this._graphicsBySymbol.get(e);this._graphicsBySymbol.delete(e),void 0!==r&&this._graphicsBySymbol.set(t,r);const s=this._symbols.get(e);if(void 0!==s&&(this._symbols.delete(e),this._symbols.set(t,s),null!=s)){const e=\"string\"==typeof i?null:i;null!=e?s.symbol=e:s.symbol.id=t}}_updateUnchangedSymbolMappings(e,i,t){const r=this._calculateUnchangedSymbolMapping(e,i,t);for(const{oldId:s,newId:a}of r)this._updateSymbolMapping(s,a)}_applyRendererDiff(e,t,r){if(this._diffHasSymbolChange(e))return!1;if(t instanceof i&&r instanceof i&&this._applyUniqueValueRendererDiff(e,t,r)&&0===Object.keys(e.diff).length)return!0;for(const[i]of this._graphicsBySymbol){const r=this._symbols.get(i);if(null!=r)switch(r.applyRendererDiff(e,t)){case pe.RecreateSymbol:this._recreateSymbol(i);break;case pe.RecreateGraphics:this._recreateGraphicsForSymbol(i);case pe.FastUpdate:}}return!0}opacityChange(){this.forEachGraphics3DSymbol(((e,i)=>e.globalPropertyChanged(\"opacity\",i))),this._updateStageLayerVisibility()}_slicePlaneEnabledChange(e){e!==this.symbolCreationContext.slicePlaneEnabled&&(this.symbolCreationContext.slicePlaneEnabled=e,this.stageLayer.sliceable=e,this.forEachGraphics3DSymbol(((e,i)=>e.globalPropertyChanged(\"slicePlaneEnabled\",i))),this._deconflictor&&this._deconflictor.slicePlaneEnabledChange(),this._labeler&&this._labeler.slicePlaneEnabledChange())}_physicalBasedRenderingChange(e){this.symbolCreationContext.physicalBasedRenderingEnabled=e,this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"physicalBasedRenderingEnabled\",i)||this._recreateSymbol(t)}))}_skipHighSymbolLoDsChange(e){this.symbolCreationContext.skipHighSymbolLods=e,this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"skipHighSymbolLods\",i)||this._recreateSymbol(t)}))}_pixelRatioChange(){this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"pixelRatio\",i)||this._recreateSymbol(t)}))}_signalUpdatingDuringAsyncLoadedGraphicsChange(){this._updatingPendingLoadedGraphicsChange&&this._updatingPendingLoadedGraphicsChange.remove(),this._updatingPendingLoadedGraphicsChange=w((()=>{this._updatingPendingLoadedGraphicsChange=null}))}setClippingExtent(e,i){const t=this.symbolCreationContext.clippingExtent,r=z();return be(e,r,i)?this.symbolCreationContext.clippingExtent=T(V(),r):this.symbolCreationContext.clippingExtent=null,!k(this.symbolCreationContext.clippingExtent,t)}modifyGraphics3DGraphicVisibilities(e){if(this.destroyed)return;let i=!1;this.graphics3DGraphics.forEach((t=>{e(t)&&(i=!0)})),i&&(this.owner.view.labeler?.setDirty(),this.owner.view.deconflictor?.setDirty())}forEachGraphics3DSymbol(e){for(const[i,t]of this._symbols){if(null==t)return;e(t,this._graphicsBySymbol.get(i)||Ne,i)}}updateAllGraphicsVisibility(){null!=this._filterVisibility&&this._filterVisibility.reapply(),this.modifyGraphics3DGraphicVisibilities((e=>{const i=this._updateUserVisibility(e),t=null!=this._scaleVisibility&&this._scaleVisibility.updateVisibility(e);return i||t}))}_hideAllGraphics(){this.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(ee.GRAPHIC,ie.USER,!1)))}_validateRenderer(e){const i=$(e,{geometryType:this.layer?.geometryType});if(i){const e=`Renderer for layer '${this.layer.title?`${this.layer.title}, `:\"\"}, id:${this.layer.id}' is not supported in a SceneView`;Ve.warn(e,i.message)}}_volatileGraphicsUpdated(){this._labeler?.reset(),this.stageLayer.shaderTransformationChanged(),this.notifyChange(\"updating\")}_cleanupSymbols(){if(this._graphicsWaitingForSymbol.size>0||this._suspendSymbolCleanup)return;let e=!1;this._symbols.forEach(((i,t)=>{if(null==i||i.referenced>0)return;const r=this._graphicsBySymbol.get(t);r&&0!==r.size||(this._graphicsBySymbol.delete(t),this._symbols.delete(t),d(i),e=!0)})),e&&(this._recomputeExtentPadding(),this.notifyChange(\"averageSymbolComplexity\"))}get test(){return{snapshotInternals:()=>({graphics:[...this.graphics3DGraphics.keys()].sort(),symbols:[...this._symbols.keys()].sort(),graphicsBySymbol:[...this._graphicsBySymbol.keys()].sort().map((e=>({symbolId:e,graphics:[...this._graphicsBySymbol.get(e).keys()].sort()}))),graphicsWithoutSymbol:[...this._graphicsWithoutSymbol.keys()].sort(),graphicsDrapedUids:[...this._graphicsDrapedUids].sort(),pendingUpdates:this._pendingUpdates}),symbols:this._symbols,filterVisibility:this._filterVisibility,numPending:this._pendingUpdates.size,forceUpdatePolicy:e=>{this._forcedUpdatePolicy=e}}}get performanceInfo(){return{visible:this.graphics3DGraphics.size,missing:this._graphicsWithoutSymbol.size,pending:this._pendingUpdates.size}}};var Te;Fe.tmpVec=U(),e([G({readOnly:!0})],Fe.prototype,\"computedExtent\",void 0),e([G()],Fe.prototype,\"currentRenderer\",void 0),e([G()],Fe.prototype,\"rendererHasGeometryOperations\",void 0),e([G()],Fe.prototype,\"_frameTask\",void 0),e([G({readOnly:!0})],Fe.prototype,\"_viewSpatialReference\",null),e([G()],Fe.prototype,\"_rendererChangeAbortController\",void 0),e([G()],Fe.prototype,\"_elevationInfoChangeAbortController\",void 0),e([G()],Fe.prototype,\"_initializeAbortController\",void 0),e([G()],Fe.prototype,\"_elevationAlignment\",void 0),e([G()],Fe.prototype,\"_scaleVisibility\",void 0),e([G()],Fe.prototype,\"_filterVisibility\",void 0),e([G()],Fe.prototype,\"_initializePromise\",void 0),e([G()],Fe.prototype,\"_spatialIndex\",void 0),e([G({readOnly:!0})],Fe.prototype,\"extentPadding\",void 0),e([G()],Fe.prototype,\"_updatingPendingLoadedGraphicsChange\",void 0),e([G()],Fe.prototype,\"_featureStore\",void 0),e([G()],Fe.prototype,\"_deconflictor\",void 0),e([G()],Fe.prototype,\"_labeler\",void 0),e([G()],Fe.prototype,\"_objectStates\",void 0),e([G()],Fe.prototype,\"_loadingSymbols\",void 0),e([G()],Fe.prototype,\"preferredUpdatePolicy\",void 0),e([G()],Fe.prototype,\"_forcedUpdatePolicy\",void 0),e([G({readOnly:!0})],Fe.prototype,\"effectiveUpdatePolicy\",null),e([G({constructOnly:!0})],Fe.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([G({constructOnly:!0})],Fe.prototype,\"owner\",void 0),e([G({constructOnly:!0})],Fe.prototype,\"layer\",void 0),e([G({constructOnly:!0})],Fe.prototype,\"graphicSymbolSupported\",void 0),e([G({constructOnly:!0})],Fe.prototype,\"getRenderingInfoWithoutRenderer\",void 0),e([G({constructOnly:!0})],Fe.prototype,\"componentFactories\",void 0),e([G({constructOnly:!0})],Fe.prototype,\"setUidToIdOnAdd\",void 0),e([G()],Fe.prototype,\"featureStore\",null),e([G()],Fe.prototype,\"initializePromise\",null),e([G()],Fe.prototype,\"scaleVisibility\",null),e([G()],Fe.prototype,\"elevationAlignment\",null),e([G()],Fe.prototype,\"objectStates\",null),e([G()],Fe.prototype,\"filterVisibility\",null),e([G({readOnly:!0})],Fe.prototype,\"updating\",null),e([G({readOnly:!0})],Fe.prototype,\"running\",null),e([G({readOnly:!0})],Fe.prototype,\"suspendedOrOutsideOfView\",null),e([G({readOnly:!0,dependsOn:[]})],Fe.prototype,\"updatingRemaining\",null),e([G({readOnly:!0,dependsOn:[\"owner.view.qualitySettings.graphics3D.maxTotalNumberOfPrimitives\",\"owner.view.qualitySettings.graphics3D.maxTotalNumberOfFeatures\",\"averageSymbolComplexity\"]})],Fe.prototype,\"displayFeatureLimit\",null),e([G({readOnly:!0,dependsOn:[]})],Fe.prototype,\"averageSymbolComplexity\",null),e([G({constructOnly:!0})],Fe.prototype,\"hasZ\",void 0),e([G({constructOnly:!0})],Fe.prototype,\"hasM\",void 0),e([G()],Fe.prototype,\"_objectIdField\",null),Fe=Ae=e([x(Le)],Fe),function(e){e[e.NEW=0]=\"NEW\",e[e.LOADING=1]=\"LOADING\",e[e.READY=2]=\"READY\",e[e.REJECTED=3]=\"REJECTED\"}(Te||(Te={}));class ke{constructor(){this.add=null,this.renderingInfo=null,this.state=Te.NEW,this.abortController=null,this.remove=null}clear(){this.add=null,this.renderingInfo=null,this.state=Te.NEW,this.abortController=null,this.remove=null}}const ze=10,We=U(),Me=U(),Ne=new Map;export{Fe as Graphics3DCore};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{HandleOwner as i}from\"../../../../core/HandleOwner.js\";import t from\"../../../../core/Logger.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as a}from\"../../../../geometry/projection.js\";import{create as l}from\"../../../../geometry/support/aaBoundingRect.js\";import{VisibilityGroup as n,VisibilityFlag as c}from\"./enums.js\";import{scaleBoundsPredicate as h}from\"../../../support/layerViewUtils.js\";import{TaskPriority as o,Task as p}from\"../../../support/Scheduler.js\";const y=t.getLogger(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\");let d=class extends i{constructor(e){super(e),this._scaleRangeActive=!1,this._layerScaleRangeVisibilityQuery=!1,this._extent=null,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null,this.layerScaleEnabled=!0,this.suspended=!1,this._dirty=!0}initialize(){this.updateScaleRangeActive();const e=this.graphicsCoreOwner.view.resourceController.scheduler;this.handles.add(e.registerTask(o.SCALE_VISIBILITY,this)),this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.layerMinMaxScaleChangeHandler()))}destroy(){this.updatingHandles.removeAll(),this.handles.removeAll(),this._dirty=!1,this._extent=null,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null}get updating(){return this._dirty||this.updatingHandles.updating}_setDirty(){this._dirty=!0}setExtent(e){const i=this.graphicsCoreOwner.view.spatialReference,t=this.graphicsCoreOwner.view.basemapTerrain.spatialReference;if(i===t)this._extent=e??null;else{const r=l();a(e,i,r,t)?this._extent=r:this._extent=null}this._setDirty()}scaleRangeActive(){return this._scaleRangeActive}updateScaleRangeActive(){const e=this.layer,i=e.effectiveScaleRange;let t=this.layerScaleEnabled&&null!=i&&u(i.minScale,i.maxScale);e.labelingInfo&&!t&&(t=e.labelingInfo.some((e=>e&&u(e.minScale??0,e.maxScale??0))));const r=this._scaleRangeActive!==t;return this._scaleRangeActive=t,t&&!this.handles.has(g)&&this.basemapTerrain?(this.handles.add(this.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),g),this.layerScaleEnabled&&this.handles.add(this.basemapTerrain.on(\"tiles-visibility-changed\",(()=>this._setDirty())),g)):!t&&this.handles.has(g)&&this.handles.remove(g),r}get running(){return!(!this.graphicsCoreOwner.view.basemapTerrain||!this.updating)}runTask(e){const i=this.graphicsCoreOwner.view.basemapTerrain;if(this._extent&&i&&i.ready&&this._scaleRangeActive&&this.layerScaleEnabled){if(this._layerScaleRangeVisibilityQuery)return p.YIELD;{this._layerScaleRangeVisibilityQuery=!0;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange;i.queryVisibleScaleRange(this._extent,e,t,(e=>this._finishUpdate(e)))}}else this._finishUpdate(!0);e.madeProgress()}_finishUpdate(e){this._layerScaleRangeVisibilityQuery=!1,this._set(\"suspended\",!e),this._dirty=!1}_visibleAtLayerScale(e){const i=this.layer.effectiveScaleRange;return!this.layerScaleEnabled||h(e,i.minScale||0,i.maxScale||0)}_visibleAtLabelScale(e,i){return h(e,i.minScale||0,i.maxScale||0)}_graphicScale(e){let i;if(null!=e.centroid?i=e.centroid:null!=e.graphic.geometry&&\"point\"===e.graphic.geometry.type&&(i=e.graphic.geometry),i){return this.graphicsCoreOwner.view.basemapTerrain?this.graphicsCoreOwner.view.basemapTerrain.getScale(i):1}return null}_graphicVisible(e){if(!this.layerScaleEnabled)return!0;const i=this._graphicScale(e);return this._visibleAtLayerScale(i)}updateVisibility(e){if(this._scaleRangeActive){const i=this._graphicVisible(e);return e.setVisibilityFlag(n.GRAPHIC,c.SCALE_RANGE,i)}return!1}updateGraphicLabelScaleVisibility(e){if(!this._scaleRangeActive)return!1;if(!e.labelLayers||0===e.labelLayers.length)return!1;const i=this._graphicScale(e),t=this._updateLabelScaleVisibility(e,i);return t&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty()),t}_updateLabelScaleVisibility(e,i){if(!e.labelLayers||0===e.labelLayers.length)return!1;const t=e.labelLayers[0]._labelClass;if(t&&null!=t.minScale&&null!=t.maxScale){const r=this._visibleAtLabelScale(i,t);if(e.setVisibilityFlag(n.LABEL,c.SCALE_RANGE,r))return!0}return!1}_scaleUpdateHandler(e){if(this._setDirty(),!this.graphicsCore.visible)return;const i=e.extent,t=e.scale,r=this._visibleAtLayerScale(t);let s=!1;const l=this.graphicsCoreOwner.view.spatialReference,h=e.spatialReference;if(null==h)return void y.error(\"scaleUpdate: Internal error, no SpatialReference given for tiles\");const o=!h.equals(l);if(o){if(!a(i,h,b,l))return void y.error(\"scaleUpdate: Internal error, cannot project AABR from \"+h+\" to wkid \"+l)}const p=o?b:i;this.queryGraphicUIDsInExtent(p,l,(e=>{const a=this.graphicsCore.getGraphics3DGraphicById(e);if(null==a)return;const l=a.centroid;null!=l&&(i[0]>l.x||i[1]>l.y||i[2]<l.x||i[3]<l.y)||(a.setVisibilityFlag(n.GRAPHIC,c.SCALE_RANGE,r)&&(s=!0),this._updateLabelScaleVisibility(a,t)&&(s=!0))})),s&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty())}layerMinMaxScaleChangeHandler(){this.updateScaleRangeActive()&&!this._scaleRangeActive?this.graphicsCore.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(n.GRAPHIC,c.SCALE_RANGE,!0))):this._scaleRangeActive&&this.graphicsCore.updateAllGraphicsVisibility(),this._setDirty()}};function u(e,i){return e>0||i>0}e([r()],d.prototype,\"graphicsCoreOwner\",void 0),e([r()],d.prototype,\"layer\",void 0),e([r()],d.prototype,\"queryGraphicUIDsInExtent\",void 0),e([r()],d.prototype,\"graphicsCore\",void 0),e([r()],d.prototype,\"basemapTerrain\",void 0),e([r({constructOnly:!0})],d.prototype,\"layerScaleEnabled\",void 0),e([r({readOnly:!0})],d.prototype,\"suspended\",void 0),e([r({readOnly:!0})],d.prototype,\"updating\",null),e([r()],d.prototype,\"_dirty\",void 0),d=e([s(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\")],d);const g=\"terrain-events\",b=l(),m=d;export{m as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/PooledArray.js\";import{create as e,copy as r,area as s,expand as n,contains as o,containsPoint as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{noBudget as h}from\"../../../support/Scheduler.js\";const a=.05;class l{constructor(){this._extents=new t({allocator:t=>t||e()}),this._tmpExtent=e(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this._contains(t)||(this._removeContained(t),r(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(t){return this._mergeTight(t),t.hasProgressed}_mergeTight(t=h){const e=this._extents,o=new Set;let i=0;for(;i!==e.length;){e.sort(((t,e)=>t[0]-e[0])),i=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const h=e.at(i);if(h){for(let t=i+1;t<e.length;++t){const r=e.at(t);if(null==r||r[0]>=h[2])break;o.add(r)}o.forEach((i=>{if(h===i)return;if(i[2]<=h[0])return void o.delete(i);const l=s(h),_=s(i),c=this._tmpExtent;n(h,i,c);const d=l+_;(s(c)-d)/d<a&&(r(h,c),o.delete(i),e.remove(i),t.madeProgress())})),o.add(h)}}}this._dirty=!1}_contains(t){return this._extents.some((e=>o(e,t)))}_removeContained(t){this._extents.filterInPlace((e=>!o(t,e)))}get test(){const t=this;return{containsPoint:e=>t._extents.some((t=>i(t,e)))}}}export{l as ExtentSet};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{watch as a}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ExtentSet as h}from\"./ExtentSet.js\";import{UpdatePolicy as p}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{TaskPriority as d}from\"../../../support/Scheduler.js\";let c=class extends t{constructor(e){super(e),this._dirtyExtents=new h,this._globalDirty=!1,this._averageExtentUpdateSize=0,this._dirtyGraphicsSet=new Set,this._handles=new r,this._updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new i}initialize(){const e=this.elevationProvider,t=this.graphicsCoreOwner.view.resourceController.scheduler;this._handles.add([e.on(\"elevation-change\",(e=>this._elevationChanged(e))),a((()=>this.graphicsCoreOwner.suspended),(()=>this._suspendedChange())),t.registerTask(d.ELEVATION_ALIGNMENT,this)])}destroy(){this._dirtyGraphicsSet.clear(),this._handles=s(this._handles),this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null,this.elevationProvider=null}clear(){this._dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this._updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this._updateElevation&&(this._globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this._globalDirty=!0,this.notifyChange(\"updating\")}get updating(){return this.running}get running(){return this._dirtyGraphicsSet.size>0||this._dirtyExtents&&!this._dirtyExtents.empty||this._globalDirty}get updatingRemaining(){return this._dirtyGraphicsSet.size+this._dirtyExtents.size*this._averageExtentUpdateSize}runTask(e){for(this._globalDirty&&(this._markAllGraphicsElevationDirty(),this._globalDirty=!1,e.madeProgress()),e.run((()=>this._dirtyExtents.merge(e)));this.running&&!e.done;)this._updateDirtyGraphics(e),this._updateDirtyExtents(e);this.notifyChange(\"updating\")}_updateDirtyGraphics(e){const t=this.graphicsCoreOwner.view.renderCoordsHelper,i=this.graphicsCore.effectiveUpdatePolicy===p.ASYNC;for(const r of this._dirtyGraphicsSet.keys()){const s=this.graphicsCore.getGraphics3DGraphicById(r);if(this._dirtyGraphicsSet.delete(r),null!=s&&(s.alignWithElevation(this.elevationProvider,t,i),this.graphicsCoreOwner.view.deconflictor.setDirty(),e.madeProgress()),e.done)return}}_updateDirtyExtents(e){for(;!this._dirtyExtents.empty&&!e.done;){const t=this._dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:t,spatialReference:i});const r=this._dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(t,i,(e=>{const t=this.graphicsCore.getGraphics3DGraphicById(e);null!=t&&t.needsElevationUpdates()&&this._dirtyGraphicsSet.add(e)})),this._averageExtentUpdateSize=.1*(this._dirtyGraphicsSet.size-r)+.9*this._averageExtentUpdateSize,e.madeProgress()}}_markAllGraphicsElevationDirty(){this._dirtyExtents.clear(),this._dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach(((e,t)=>this._dirtyGraphicsSet.add(t)))}_elevationChanged(e){if(\"scene\"===e.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const{extent:t,spatialReference:i}=e;if(this.graphicsCoreOwner.suspended){if(!this._updateElevation){const e=this.graphicsCore.computedExtent;e&&t[2]>e.xmin&&t[0]<e.xmax&&t[3]>e.ymin&&t[1]<e.ymax&&(this._updateElevation=!0)}this.events.emit(\"invalidate-elevation\",{extent:t,spatialReference:i})}else t[0]===-1/0?this._globalDirty=!0:this._dirtyExtents.add(t),this.notifyChange(\"updating\")}};e([n()],c.prototype,\"graphicsCoreOwner\",void 0),e([n()],c.prototype,\"graphicsCore\",void 0),e([n()],c.prototype,\"queryGraphicUIDsInExtent\",void 0),e([n()],c.prototype,\"elevationProvider\",void 0),e([n({readOnly:!0})],c.prototype,\"updating\",null),e([n({readOnly:!0})],c.prototype,\"updatingRemaining\",null),c=e([o(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],c);const l=c;export{l as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import{destroyMaybe as i}from\"../../../../core/maybe.js\";import{watch as r,sync as n,initial as o}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getReferenceEllipsoid as h}from\"../../../../geometry/ellipsoidUtils.js\";import{FrustumExtentIntersection as p}from\"../../support/FrustumExtentIntersection.js\";import{TaskPriority as l,Task as u}from\"../../../support/Scheduler.js\";const d=1.2;let _=class extends t{constructor(e){super(e),this.suspended=!1,this._extent=null,this._extentIntersectionDirty=!0,this._isVisibleBelowSurfaceInternal=!1,this._handles=new s,this.graphicsCoreOwner=null,this.updating=!0}initialize(){const{graphicsCoreOwner:e}=this;this._extentIntersection=new p({renderCoordsHelper:e.view.renderCoordsHelper});const t=e.view,s=t.basemapTerrain,i=t.resourceController.scheduler;this._handles.add([t.on(\"resize\",(()=>this._viewChange())),r((()=>t.state.camera),(()=>this._viewChange()),n),i.registerTask(l.FRUSTUM_VISIBILITY,this),r((()=>s.visibleElevationBounds),(()=>this._elevationBoundsChange()))]),\"local\"===t.viewingMode?this._isVisibleBelowSurface=!0:this._handles.add([r((()=>[s.baseOpacity,s.wireframe,t.map?.ground?.navigationConstraint?.type]),(()=>this._updateIsVisibleBelowSurface()),o)])}destroy(){this._set(\"graphicsCoreOwner\",null),this._extent=null,this._extentIntersection=null,this._handles=i(this._handles)}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){this._extent=e,this._extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this._extentIntersectionDirty=!0}set _isVisibleBelowSurface(e){this._isVisibleBelowSurfaceInternal=e,this._setDirty(),this._extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const e=this.graphicsCoreOwner.view,t=e.basemapTerrain,s=\"local\"===e.viewingMode,i=\"none\"===e.map.ground?.navigationConstraint?.type;this._isVisibleBelowSurface=s||!t.opaque||i}_updateExtentIntersection(){if(!this._extentIntersectionDirty)return;this._extentIntersectionDirty=!1;const e=this.graphicsCoreOwner.view;let t;if(this._isVisibleBelowSurfaceInternal)t=-.3*h(e.spatialReference).radius;else{const{min:s,max:i}=e.basemapTerrain.visibleElevationBounds;t=s-Math.max(1,(i-s)*(d-1))}this._extentIntersection.update(this._extent,e.spatialReference,t)}get running(){return this.updating}runTask(e){if(this._set(\"updating\",!1),!this._extent)return this._set(\"suspended\",!1),u.YIELD;this._updateExtentIntersection();const t=this.graphicsCoreOwner.view.frustum,s=h(this.graphicsCoreOwner.view.spatialReference).radius;this._set(\"suspended\",!this._extentIntersection.isVisibleInFrustum(t,s)),e.madeProgress()}};e([a({readOnly:!0})],_.prototype,\"suspended\",void 0),e([a({constructOnly:!0})],_.prototype,\"graphicsCoreOwner\",void 0),e([a({readOnly:!0})],_.prototype,\"updating\",void 0),_=e([c(\"esri.views.3d.layers.graphics.Graphics3DFrustumVisibility\")],_);const m=_;export{m as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{Object3DState as e}from\"./basicInterfaces.js\";var t;!function(e){e[e.Object=0]=\"Object\",e[e.RenderGeometry=1]=\"RenderGeometry\",e[e.External=2]=\"External\",e[e.COUNT=3]=\"COUNT\"}(t||(t={}));class r{constructor(){this._items=[]}addObject(e,r){this._items.push({type:t.Object,objectStateId:r,object:e})}addRenderGeometry(e,r,o){this._items.push({type:t.RenderGeometry,objectStateId:r,renderGeometry:e,owner:o})}addExternal(e,r){this._items.push({type:t.External,objectStateId:r,remove:e})}remove(e){for(let t=this._items.length-1;t>=0;--t){const r=this._items[t];r.objectStateId===e&&(this._removeObjectStateItem(r),this._items.splice(t,1))}}removeObject(e){for(let r=this._items.length-1;r>=0;--r){const o=this._items[r];o.type===t.Object&&o.object===e&&(this._removeObjectStateItem(o),this._items.splice(r,1))}}removeRenderGeometry(e){for(let r=this._items.length-1;r>=0;--r){const o=this._items[r];o.type===t.RenderGeometry&&o.renderGeometry===e&&(this._removeObjectStateItem(o),this._items.splice(r,1))}}removeAll(){this._items.forEach((e=>{this._removeObjectStateItem(e)})),this._items=[]}_removeObjectStateItem(r){switch(r.type){case t.Object:r.objectStateId.channel===e.Highlight?r.object.removeHighlight(r.objectStateId):r.objectStateId.channel===e.MaskOccludee&&r.object.removeOcclude(r.objectStateId);break;case t.RenderGeometry:r.owner.removeRenderGeometryObjectState(r.renderGeometry,r.objectStateId);break;case t.External:r.remove(r.objectStateId)}}}export{r as Object3DStateSet};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{Object3DStateSet as t}from\"../../webgl-engine/lib/Object3DStateSet.js\";class e{constructor(e,i){this.stateType=e,this.objectIdField=i,this.objectStateSet=new t,this.ids=new Set,this.paused=!1}hasGraphic(t){if(this.objectIdField){const e=t.graphic.attributes[this.objectIdField];return this.ids.has(e)}return this.ids.has(t.graphic.uid)}}export{e as Graphics3DObjectStateSet};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../core/handleUtils.js\";import{Graphics3DObjectStateSet as e}from\"./Graphics3DObjectStateSet.js\";class s{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this.reset(),this._stateSets=null}reset(){this._stateSets&&(this._stateSets.forEach((t=>t.objectStateSet.removeAll())),this._stateSets.length=0)}acquireSet(s,a){const i=new e(s,a);this._stateSets.push(i);const h=t((()=>this.releaseSet(i)));return{set:i,handle:h}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}_addObjectStateSet(t,e){t.addObjectStateSet(e.stateType,e.objectStateSet)}_removeObjectStateSet(t,e){t.removeObjectState(e.objectStateSet)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&this._addObjectStateSet(s,t)}setUids(t,e){e.forEach((e=>this.setUid(t,e)))}setObjectIds(t,e){e.forEach((e=>t.ids.add(e))),this._initializeSet(t)}addGraphic(t){this._stateSets.forEach((e=>{!e.paused&&e.hasGraphic(t)&&this._addObjectStateSet(t,e)}))}removeGraphic(t){this._stateSets.forEach((e=>{e.hasGraphic(t)&&this._removeObjectStateSet(t,e)}))}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll()))}_initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach((e=>{e&&t.hasGraphic(e)&&this._addObjectStateSet(e,t)})):t.ids.forEach((s=>{const a=e.get(s);a&&this._addObjectStateSet(a,t)}))}get test(){return{states:this._stateSets}}}export{s as Graphics3DObjectStates};\n"],
  "mappings": "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",
  "names": ["t", "r", "s", "n", "u", "i", "a", "l", "o", "e", "S", "y", "h", "S", "a", "b", "u", "c", "e", "i", "o", "u", "i", "d", "t", "n", "e", "o", "I", "r", "l", "s", "m", "r", "o", "t", "e", "a", "l", "L", "t", "i", "n", "s", "m", "s", "t", "i", "I", "e", "a", "d", "t", "h", "e", "s", "u", "I", "j", "y", "n", "e", "t", "A", "o", "r", "x", "i", "a", "C", "E", "l", "g", "s", "S", "v", "b", "h", "n", "i", "d", "C", "e", "t", "r", "s", "a", "o", "l", "h", "S", "P", "A", "L", "I", "f", "_a", "_b", "c", "g", "E", "j", "y", "p", "m", "b", "u", "w", "y", "d", "e", "i", "t", "r", "u", "g", "A", "L", "s", "l", "h", "o", "b", "p", "a", "m", "a", "l", "t", "e", "C", "o", "i", "h", "r", "_", "c", "m", "d", "c", "e", "l", "t", "n", "i", "C", "r", "s", "d", "_", "e", "t", "s", "i", "l", "g", "m", "t", "e", "r", "o", "e", "i", "r", "t", "s", "t", "a", "i", "e", "h"]
}
