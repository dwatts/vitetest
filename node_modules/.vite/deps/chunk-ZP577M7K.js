import {
  h
} from "./chunk-IWA3Q52A.js";
import {
  t
} from "./chunk-G65FMKS5.js";
import {
  f
} from "./chunk-SNFNEEDE.js";
import {
  a2 as a,
  s2 as s
} from "./chunk-JZJWZ6DN.js";

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeWorkerHandle.js
var a2 = class extends h {
  constructor(e) {
    super("EdgeProcessingWorker", "extract", { extract: (e2) => [e2.dataBuffer], extractComponentsEdgeLocations: (e2) => [e2.dataBuffer], extractEdgeLocations: (e2) => [e2.dataBuffer] }, e);
  }
  async process(e, t2, r) {
    if (r)
      return f(e);
    const s2 = await this.invoke(new i(e), t2);
    return this._unpackOutput(s2);
  }
  async extractEdgeLocations(e, t2) {
    const r = await this.invokeMethod("extractEdgeLocations", new i(e), t2);
    return t(r);
  }
  async extractComponentsEdgeLocations(e, t2) {
    const r = await this.invokeMethod("extractComponentsEdgeLocations", new i(e), t2);
    return t(r);
  }
  _unpackOutput(e) {
    return { regular: { instancesData: t(e.regular.instancesData), lodInfo: { lengths: new Float32Array(e.regular.lodInfo.lengths) } }, silhouette: { instancesData: t(e.silhouette.instancesData), lodInfo: { lengths: new Float32Array(e.silhouette.lodInfo.lengths) } }, averageEdgeLength: e.averageEdgeLength };
  }
};
var i = class {
  constructor(r) {
    this.dataBuffer = r.data.buffer, this.writerSettings = r.writerSettings, this.skipDeduplicate = r.skipDeduplicate, this.indices = s(r.indices) ? r.indices : r.indices.buffer, this.indicesType = s(r.indices) ? "Array" : a(r.indices) ? "Uint32Array" : "Uint16Array", this.indicesLength = r.indicesLength;
  }
};

export {
  a2 as a
};
//# sourceMappingURL=chunk-ZP577M7K.js.map
