import {
  e
} from "./chunk-3TDCCT2R.js";
import {
  l
} from "./chunk-D7YAG5U3.js";
import {
  o as o4
} from "./chunk-LGDKASPG.js";
import {
  g
} from "./chunk-JHDKOKT6.js";
import {
  o as o3
} from "./chunk-CG3URTR2.js";
import {
  d
} from "./chunk-RDWKBYTH.js";
import {
  n
} from "./chunk-IBJTEQQG.js";
import {
  o as o2
} from "./chunk-SADO52IH.js";
import {
  e as e3
} from "./chunk-WVOBJDWI.js";
import {
  i,
  t as t2
} from "./chunk-LIO6VZRI.js";
import {
  h
} from "./chunk-73PNWDTS.js";
import {
  t
} from "./chunk-PKS3ZVLN.js";
import {
  P
} from "./chunk-N3RXOITN.js";
import {
  p
} from "./chunk-DOR4M5EA.js";
import {
  e as e2
} from "./chunk-QS45OHBM.js";
import {
  i2
} from "./chunk-BO2REVMA.js";
import {
  o
} from "./chunk-V66LHQVK.js";
import {
  O
} from "./chunk-BN6X2OXK.js";

// node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js
function w(w2) {
  const C2 = new i2(), { vertex: j, fragment: y, attributes: L, varyings: O2 } = C2;
  p(j, w2), C2.include(o3, w2), C2.include(e, w2), C2.include(l, w2), C2.include(d, w2), L.add(O.POSITION, "vec3"), w2.vvColor && L.add(O.COLORFEATUREATTRIBUTE, "float"), O2.add("vColor", "vec4"), O2.add("vpos", "vec3");
  const T = w2.hasMultipassTerrain && (w2.output === h.Color || w2.output === h.Alpha);
  T && O2.add("depth", "float"), j.uniforms.add(new e2("eColor", (e4) => e4.color));
  const A = w2.output === h.Depth;
  A && (C2.include(o4, w2), i(C2), t2(C2)), j.code.add(o`
    void main(void) {
      vpos = position;
      forwardNormalizedVertexColor();
      forwardObjectAndLayerIdColor();

      ${w2.hasVertexColors ? "vColor *= eColor;" : w2.vvColor ? "vColor = eColor * interpolateVVColor(colorFeatureAttribute);" : "vColor = eColor;"}
      ${T ? "depth = (view * vec4(vpos, 1.0)).z;" : ""}
      gl_Position = ${A ? o`transformPositionWithDepth(proj, view, vpos, nearFar, linearDepth);` : o`transformPosition(proj, view, vpos);`}
    }
  `), C2.include(P, w2), T && C2.include(n, w2), y.include(e3);
  const $ = w2.output === h.Highlight;
  return $ && C2.include(g, w2), y.code.add(o`
  void main() {
    discardBySlice(vpos);
    ${T ? "terrainDepthTest(gl_FragCoord, depth);" : ""}
    vec4 fColor = vColor;

    ${w2.output === h.ObjectAndLayerIdColor ? o`fColor.a = 1.0;` : ""}

    if (fColor.a < ${o.float(t)}) {
      discard;
    }

    ${w2.output === h.Alpha ? o`fragColor = vec4(fColor.a);` : ""}

    ${w2.output === h.Color ? o`fragColor = highlightSlice(fColor, vpos); ${w2.transparencyPassType === o2.Color ? "fragColor = premultiplyAlpha(fragColor);" : ""}` : ""}
    ${$ ? o`outputHighlight();` : ""};
    ${w2.output === h.Depth ? o`outputDepth(linearDepth);` : ""};
    ${w2.output === h.ObjectAndLayerIdColor ? o`outputObjectAndLayerIdColor();` : ""}
  }
  `), C2;
}
var C = Object.freeze(Object.defineProperty({ __proto__: null, build: w }, Symbol.toStringTag, { value: "Module" }));

export {
  w,
  C
};
//# sourceMappingURL=chunk-4BA5YJ7C.js.map
