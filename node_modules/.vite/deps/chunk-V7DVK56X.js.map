{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechnique.js", "../../@arcgis/core/views/3d/support/LaserlinePathData.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechniqueConfiguration.js", "../../@arcgis/core/views/3d/support/LaserLineRenderer.js", "../../@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js", "../../@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Program as i}from\"../lib/Program.js\";import{VertexAttribute as t}from\"../lib/VertexAttribute.js\";import{L as o}from\"../../../../chunks/LaserlinePath.glsl.js\";import{BlendFactor as s}from\"../../../webgl/enums.js\";import{makePipelineState as n,simpleBlendingParams as a,defaultColorWriteParams as l}from\"../../../webgl/renderState.js\";class m extends r{initializeProgram(e){return new i(e.rctx,m.shader.get().build(this.configuration),h)}initializePipeline(){return n({blending:a(s.ONE,s.ONE_MINUS_SRC_ALPHA),colorWrite:l})}}m.shader=new e(o,(()=>import(\"./LaserlinePath.glsl.js\")));const h=new Map([[t.START,0],[t.END,1],[t.UP,2],[t.EXTRUDE,3]]);export{m as LaserlinePathTechnique,h as attributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{s as e,b as t}from\"../../../chunks/vec3.js\";import{c as r}from\"../../../chunks/vec3f64.js\";import{newDoubleArray as s}from\"../../../geometry/support/DoubleArray.js\";import{glLayout as i}from\"./buffer/glUtil.js\";import{newLayout as o}from\"./buffer/InterleavedLayout.js\";import{VertexArrayObject as n}from\"../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as u}from\"../webgl-engine/lib/VertexAttribute.js\";import{attributeLocations as f}from\"../webgl-engine/shaders/LaserlinePathTechnique.js\";import{BufferObject as a}from\"../../webgl/BufferObject.js\";import{PrimitiveType as l,Usage as h}from\"../../webgl/enums.js\";class c{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=r(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=s(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(t){if(this._buffers=t,this._buffers.length>0){const t=this._buffers[0],r=3*Math.floor(t.length/3/2);e(this._origin,t[r],t[r+1],t[r+2])}else e(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(e){const t=this._ensureVAO(e);null!=t&&(e.bindVAO(t),e.drawArrays(l.TRIANGLES,0,this._count))}dispose(){null!=this._vao&&this._vao.dispose()}_ensureVAO(e){return null==this._buffers?null:(null==this._vao&&(this._vao=this._createVAO(e,this._buffers)),this._ensureVertexData(this._vao,this._buffers),this._vao)}_createVAO(e,t){const r=this._createDataBuffer(t);return this._dirty=!1,new n(e,f,{data:i(b)},{data:a.createVertex(e,h.STATIC_DRAW,r)})}_ensureVertexData(e,t){if(!this._dirty)return;const r=this._createDataBuffer(t);e.vertexBuffers.data?.setData(r),this._dirty=!1}_numberOfRenderVertices(e){return 3*(2*(e.length/3-1))}_createDataBuffer(r){const s=r.reduce(((e,t)=>e+this._numberOfRenderVertices(t)),0);this._count=s;const i=b.createBuffer(s),o=this._origin;let n=0,u=0;for(const f of r){for(let r=0;r<f.length;r+=3){const s=e(d,f[r],f[r+1],f[r+2]);0===r?u=this._renderCoordsHelper.getAltitude(s):this._renderCoordsHelper.setAltitude(s,u);const a=this._renderCoordsHelper.worldUpAtPosition(s,_),l=n+2*r,h=t(d,s,o);if(r<f.length-3){i.up.setVec(l,a),i.up.setVec(l+3,a),i.up.setVec(l+5,a);for(let e=0;e<6;e++)i.start.setVec(l+e,h);i.extrude.setValues(l,0,-1),i.extrude.setValues(l+1,1,-1),i.extrude.setValues(l+2,1,1),i.extrude.setValues(l+3,0,-1),i.extrude.setValues(l+4,1,1),i.extrude.setValues(l+5,0,1)}if(r>0){i.up.setVec(l-2,a),i.up.setVec(l-4,a),i.up.setVec(l-5,a);for(let e=-6;e<0;e++)i.end.setVec(l+e,h)}}n+=this._numberOfRenderVertices(f)}return i.buffer}}const _=r(),d=r(),b=o().vec3f(u.START).vec3f(u.END).vec3f(u.UP).vec2f(u.EXTRUDE);export{c as LaserlinePathData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as r,parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class e extends r{constructor(){super(...arguments),this.contrastControlEnabled=!1}}o([t()],e.prototype,\"contrastControlEnabled\",void 0);export{e as LaserlinePathTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../../core/mathUtils.js\";import{f as t,c as i}from\"../../../../chunks/vec3f64.js\";import{create as r}from\"../../../../geometry/support/lineSegment.js\";import{NoParameters as s}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as o}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as n}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as l}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as a}from\"../lib/Program.js\";import{L as h}from\"../../../../chunks/Laserlines.glsl.js\";import{BlendFactor as m}from\"../../../webgl/enums.js\";import{makePipelineState as c,simpleBlendingParams as g,defaultColorWriteParams as d}from\"../../../webgl/renderState.js\";class f extends s{constructor(){super(...arguments),this.innerColor=t(1,1,1),this.innerWidth=1,this.glowColor=t(1,.5,0),this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.75,this.globalAlphaContrastBoost=2,this.angleCutoff=e(6),this.pointDistanceOrigin=i(),this.pointDistanceTarget=i(),this.lineVerticalPlaneSegment=r(),this.intersectsLineSegment=r(),this.intersectsLineRadius=3,this.heightManifoldTarget=i(),this.lineStartWorld=i(),this.lineEndWorld=i()}}class p extends n{initializeProgram(e){return new a(e.rctx,p.shader.get().build(this.configuration),l)}initializePipeline(){return c({blending:g(m.ONE,m.ONE_MINUS_SRC_ALPHA),colorWrite:d})}}p.shader=new o(h,(()=>import(\"./Laserlines.glsl.js\")));export{f as LaserlinePassParameters,p as LaserlineTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{LaserlinePathTechniqueConfiguration as t}from\"./LaserlinePathTechniqueConfiguration.js\";class n extends t{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1,this.spherical=!1}}e([i()],n.prototype,\"heightManifoldEnabled\",void 0),e([i()],n.prototype,\"pointDistanceEnabled\",void 0),e([i()],n.prototype,\"lineVerticalPlaneEnabled\",void 0),e([i()],n.prototype,\"intersectsLineEnabled\",void 0),e([i()],n.prototype,\"spherical\",void 0);export{n as LaserlineTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e,releaseMaybe as t}from\"../../../core/maybe.js\";import{c as i,a as n}from\"../../../chunks/vec3.js\";import{create as s,fromRay as a,getStart as r,getEnd as h}from\"../../../geometry/support/clipRay.js\";import{intersectClipRay as l}from\"../../../geometry/support/frustum.js\";import{copy as c}from\"../../../geometry/support/lineSegment.js\";import{wrap as o}from\"../../../geometry/support/ray.js\";import{ViewingMode as d}from\"../../ViewingMode.js\";import{LaserlinePathData as _}from\"./LaserlinePathData.js\";import{createQuadVAO as p}from\"../webgl-engine/lib/glUtil3D.js\";import{RenderSlot as u}from\"../webgl-engine/lib/RenderSlot.js\";import{copyParameters as g,updateParameters as m}from\"../webgl-engine/materials/internal/MaterialUtil.js\";import{LaserlinePathTechnique as P}from\"../webgl-engine/shaders/LaserlinePathTechnique.js\";import{LaserlinePathTechniqueConfiguration as b}from\"../webgl-engine/shaders/LaserlinePathTechniqueConfiguration.js\";import{LaserlinePassParameters as f,LaserlineTechnique as E}from\"../webgl-engine/shaders/LaserlineTechnique.js\";import{LaserlineTechniqueConfiguration as q}from\"../webgl-engine/shaders/LaserlineTechniqueConfiguration.js\";import{PrimitiveType as L}from\"../../webgl/enums.js\";class V{constructor(e,t={contrastControlEnabled:!1}){this._config=t,this._technique=null,this._heightManifoldEnabled=!1,this._pointDistanceEnabled=!1,this._lineVerticalPlaneEnabled=!1,this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._viewingMode=d.Local,this._pathVerticalPlaneEnabled=!1,this._pathVerticalPlaneData=null,this._pathTechnique=null,this.canRender=!0,this._passParameters=g(e,new f)}get renderSlots(){return[this._config.contrastControlEnabled?u.LASERLINES_CONTRAST_CONTROL:u.LASERLINES]}get needsLinearDepth(){return!0}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this._requestRender())}get heightManifoldTarget(){return this._passParameters.heightManifoldTarget}set heightManifoldTarget(e){i(this._passParameters.heightManifoldTarget,e),this._requestRender()}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this._requestRender())}get pointDistanceTarget(){return this._passParameters.pointDistanceTarget}set pointDistanceTarget(e){i(this._passParameters.pointDistanceTarget,e),this._requestRender()}get pointDistanceOrigin(){return this._passParameters.pointDistanceOrigin}set pointDistanceOrigin(e){i(this._passParameters.pointDistanceOrigin,e),this._requestRender()}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this._requestRender())}get lineVerticalPlaneSegment(){return this._passParameters.lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){c(e,this._passParameters.lineVerticalPlaneSegment),this._requestRender()}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this._requestRender())}get intersectsLineSegment(){return this._passParameters.intersectsLineSegment}set intersectsLineSegment(e){c(e,this._passParameters.intersectsLineSegment),this._requestRender()}get intersectsLineRadius(){return this._passParameters.intersectsLineRadius}set intersectsLineRadius(e){e!==this._passParameters.intersectsLineRadius&&(this._passParameters.intersectsLineRadius=e,this._requestRender())}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this._requestRender())}get viewingMode(){return this._viewingMode}set viewingMode(e){e!==this._viewingMode&&(this._viewingMode=e,this._requestRender())}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,null!=this._pathVerticalPlaneData&&this._requestRender())}set pathVerticalPlaneVertices(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new _(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this._requestRender()}set pathVerticalPlaneBuffers(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new _(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this._requestRender()}setParameters(e){m(this._passParameters,e)&&this._requestRender()}initializeRenderContext(e){this._context=e;const t=e.renderContext.rctx;this._quadVAO=p(t),this._techniqueRepository=e.techniqueRepository,this._techniqueConfig=new q;const i=new b;i.contrastControlEnabled=this._config.contrastControlEnabled,this._pathTechnique=this._techniqueRepository.acquire(P,i)}uninitializeRenderContext(){this._quadVAO=e(this._quadVAO),this._technique=t(this._technique),this._pathVerticalPlaneData=e(this._pathVerticalPlaneData),this._pathTechnique=t(this._pathTechnique)}prepareTechnique(){return this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled?(this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled,this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled,this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled,this._techniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled,this._techniqueConfig.spherical=this._viewingMode===d.Global,this._technique=this._techniqueRepository.releaseAndAcquire(E,this._techniqueConfig,this._technique),this._technique):this._pathTechnique}render(e,t){(this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled)&&this._renderUnified(e,t),this.pathVerticalPlaneEnabled&&this._renderPath(e)}_renderUnified(e,t){const i=e.rctx;this._updatePassParameters(e),i.bindTechnique(t,this._passParameters,e.bindParameters),i.bindVAO(this._quadVAO),i.drawArrays(L.TRIANGLE_STRIP,0,4)}_renderPath(e){if(null==this._pathVerticalPlaneData||null==this._pathTechnique)return;const t=e.rctx,i=this._pathTechnique;t.bindTechnique(i,{...this._passParameters,origin:this._pathVerticalPlaneData.origin},e.bindParameters),this._pathVerticalPlaneData.draw(e.rctx)}_updatePassParameters(e){if(!this._intersectsLineEnabled)return;const t=e.bindParameters.camera;if(this._intersectsLineInfinite){if(a(o(this._passParameters.intersectsLineSegment.origin,this._passParameters.intersectsLineSegment.vector),R),R.c0=-Number.MAX_VALUE,!l(t.frustum,R))return;r(R,this._passParameters.lineStartWorld),h(R,this._passParameters.lineEndWorld)}else i(this._passParameters.lineStartWorld,this._passParameters.intersectsLineSegment.origin),n(this._passParameters.lineEndWorld,this._passParameters.intersectsLineSegment.origin,this._passParameters.intersectsLineSegment.vector)}_requestRender(){this._context&&this._context.requestRender()}}const R=s();export{V as LaserLineRenderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/vec3.js\";import{c as t,a as i}from\"../../../../chunks/vec3f64.js\";import{create as n,fromValues as s,copy as r}from\"../../../../geometry/support/lineSegment.js\";import{VisualElement as l}from\"./VisualElement.js\";import{LaserLineRenderer as h}from\"../../support/LaserLineRenderer.js\";import{d as a}from\"../../../../chunks/Laserlines.glsl.js\";class c extends l{constructor(e){super(e.view),this._angleCutoff=a,this._style={},this._heightManifoldTarget=t(),this._heightManifoldEnabled=!1,this._intersectsLine=n(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProps(e)}get testData(){return this._renderer}createResources(){this._ensureRenderer()}destroyResources(){this._disposeRenderer()}updateVisibility(){this._syncRenderer(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this._syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this._syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){null!=t?(e(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this._syncRenderer(),this._syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(null==e)return void(this.intersectsLine=null);const t=this.view.renderCoordsHelper.worldUpAtPosition(e,_);this.intersectsLine=s(e,t),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(e){null!=e?(r(e,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this._syncIntersectsLine(),this._syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this._syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){this._lineVerticalPlaneSegment=null!=e?r(e):null,this._syncLineVerticalPlane(),this._syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(e){this._pointDistanceLine=null!=e?{origin:i(e.origin),target:e.target?i(e.target):null}:null,this._syncPointDistance(),this._syncRenderer()}_syncRenderer(){this.attached&&this.visible&&(this._intersectsLineEnabled||this._heightManifoldEnabled||null!=this._pointDistanceLine||null!=this._pathVerticalPlaneBuffers)?this._ensureRenderer():this._disposeRenderer()}_ensureRenderer(){null==this._renderer&&(this._renderer=new h({renderCoordsHelper:this.view.renderCoordsHelper},{contrastControlEnabled:!0}),this._renderer.viewingMode=this.view.state.viewingMode,this._syncStyle(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncIntersectsLineInfinite(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this._renderer.renderSlots,this._renderer))}_syncStyle(){null!=this._renderer&&(this._renderer.setParameters(this._style),null!=this._style.intersectsLineRadius&&(this._renderer.intersectsLineRadius=this._style.intersectsLineRadius))}_syncAngleCutoff(){null!=this._renderer&&this._renderer.setParameters({angleCutoff:this._angleCutoff})}_syncHeightManifold(){null!=this._renderer&&(this._renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this._renderer.heightManifoldTarget=this._heightManifoldTarget))}_syncIntersectsLine(){null!=this._renderer&&(this._renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this._renderer.intersectsLineSegment=this._intersectsLine))}_syncIntersectsLineInfinite(){null!=this._renderer&&(this._renderer.intersectsLineInfinite=this._intersectsLineInfinite)}_syncPathVerticalPlane(){null!=this._renderer&&(this._renderer.pathVerticalPlaneEnabled=null!=this._pathVerticalPlaneBuffers&&this.visible,null!=this._pathVerticalPlaneBuffers&&(this._renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}_syncLineVerticalPlane(){null!=this._renderer&&(this._renderer.lineVerticalPlaneEnabled=null!=this._lineVerticalPlaneSegment&&this.visible,null!=this._lineVerticalPlaneSegment&&(this._renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}_syncPointDistance(){if(null==this._renderer)return;const e=this._pointDistanceLine,t=null!=e;this._renderer.pointDistanceEnabled=t&&null!=e.target&&this.visible,t&&(this._renderer.pointDistanceOrigin=e.origin,null!=e.target&&(this._renderer.pointDistanceTarget=e.target))}_disposeRenderer(){null!=this._renderer&&this.view._stage&&(this.view._stage.removeRenderPlugin(this._renderer),this._renderer=null)}}const _=t();export{c as LaserlineVisualElement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as e,nextHighestPowerOfTwo as t}from\"../../../../core/mathUtils.js\";import{s as r}from\"../../../../chunks/vec3.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{g as s,c as o}from\"../../../../chunks/vec4.js\";import{f as n}from\"../../../../chunks/vec4f64.js\";import{projectVectorToVector as l}from\"../../../../geometry/projection.js\";import{expandWithBuffer as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{sv3d as u}from\"../../../../geometry/support/vectorStacks.js\";import{VisualElementResources as c}from\"./VisualElementResources.js\";import{evaluateElevationAlignmentAtPoint as h}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as m}from\"../../layers/graphics/ElevationContext.js\";import{createTexture as p,DEFAULT_SYMBOL_SIZE_RATIO as _}from\"../../support/engineContent/sdfPrimitives.js\";import{createPointGeometry as g}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as d}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HUDMaterial as f}from\"../../webgl-engine/materials/HUDMaterial.js\";class y{constructor(e){this.view=null,this._geometry=null,this._size=3,this._color=n(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive=\"square\",this._outlineSize=1,this._outlineColor=n(1,1,1,1),this._elevationInfo=null,this._resources=new c({view:e.view,createResources:e=>this._createResources(e),destroyResources:e=>this._destroyResources(e),recreateGeometry:(e,t)=>{e.geometry=this._recreateGeometry(t,e.material)}});let t=!0;for(const r in e)r in this?\"attached\"===r?t=e[r]??!1:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this._resources.destroy()}get visible(){return this._resources.visible}set visible(e){this._resources.visible=e}get attached(){return this._resources.attached}set attached(e){this._resources.attached=e}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this._resources.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this._preferredTextureSize;this._size=e,t<this._preferredTextureSize?null!=this._resources&&this._resources.recreate():this._updateSizeAttribute()}}get color(){return this._color}set color(e){s(e,this._color)||(o(this._color,e),this._updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this._updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,null!=this._resources&&this._resources.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){s(e,this._outlineColor)||(o(this._outlineColor,e),this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._resources&&this._resources.recreateGeometry()}_updateMaterial(){const e=this._resources.resources;null!=e&&e.material.setParameters(this._materialParameters(e.texture.id))}_updateSizeAttribute(){const e=this._resources.resources,t=this._resources.object;if(null==e||null==t)return;const r=e.geometry;if(null==r)return;const i=r.getMutableAttribute(d.SIZE).data,s=this._geometrySize;i[0]=s,i[1]=s,t.geometryVertexAttrsUpdated(t.geometries[0])}_materialParameters(e){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:S,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:e,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled}}get _geometrySize(){return this._size/v}_recreateGeometry(e,t){const r=this._createRenderGeometry(t);return null!=r&&e.addGeometry(r),r}_createResources(e){const t=p(this._primitive,this._preferredTextureSize),r=new f(this._materialParameters(t.id)),i=this._recreateGeometry(e,r);return{material:r,texture:t,geometry:i,forEach(e){e(t),e(r),null!=this.geometry&&e(this.geometry)}}}_destroyResources(e){e.geometry=null,e.material.dispose(),e.texture.dispose()}get _preferredTextureSize(){return e(t(2*this._geometrySize),16,128)}calculateMapBounds(e){if(null==this._resources.resources||null==this._resources.resources.geometry)return!1;const t=this._resources.resources.geometry.vertexAttributes.get(d.POSITION);return l(t.data,this.view.renderCoordsHelper.spatialReference,b,this.view.spatialReference),a(e,b),!0}_createRenderGeometry(e){const t=this.geometry;if(null==t)return null;const{renderCoordsHelper:i,elevationProvider:s}=this.view,o=h(t,s,m.fromElevationInfo(this.elevationInfo),i),n=r(u.get(),t.x,t.y,o),a=u.get();l(n,t.spatialReference,a,i.spatialReference);const c=this._geometrySize;return g(e,null,a,null,[c,c],[0,0,0,1])}}const v=_,S=[v/2,v/2,1-v/2,1-v/2],b=i();export{y as PointVisualElement};\n"],
  "mappings": "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",
  "names": ["m", "e", "i", "h", "t", "c", "e", "t", "r", "s", "h", "i", "o", "n", "u", "f", "a", "_", "l", "e", "t", "r", "f", "n", "p", "e", "i", "E", "t", "_", "n", "e", "r", "e", "t", "f", "E", "r", "c", "n", "i", "m", "p", "R", "a", "c", "t", "e", "r", "_", "y", "e", "r", "a", "t", "i", "s", "v", "o", "b", "f", "n", "c"]
}
