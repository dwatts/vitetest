{
  "version": 3,
  "sources": ["../../@arcgis/core/views/support/GroundViewElevationSampler.js", "../../@arcgis/core/views/GroundView.js", "../../@arcgis/core/views/3d/layerViewModuleImportUtils.js", "../../@arcgis/core/views/3d/analysis/AnalysisViewManager3D.js", "../../@arcgis/core/views/3d/state/Constraints.js", "../../@arcgis/core/views/3d/constraints/AltitudeConstraint.js", "../../@arcgis/core/views/3d/constraints/ClipDistanceConstraint.js", "../../@arcgis/core/views/3d/constraints/TiltConstraint.js", "../../@arcgis/core/views/3d/constraints/Constraints.js", "../../@arcgis/core/webscene/SunLighting.js", "../../@arcgis/core/views/3d/environment/SunLighting.js", "../../@arcgis/core/webscene/VirtualLighting.js", "../../@arcgis/core/views/3d/environment/VirtualLighting.js", "../../@arcgis/core/views/3d/environment/lightingUtils.js", "../../@arcgis/core/views/3d/environment/SceneViewAtmosphere.js", "../../@arcgis/core/views/3d/environment/SunnyWeather.js", "../../@arcgis/core/views/3d/environment/CloudyWeather.js", "../../@arcgis/core/views/3d/environment/FoggyWeather.js", "../../@arcgis/core/views/3d/environment/RainyWeather.js", "../../@arcgis/core/views/3d/environment/SnowyWeather.js", "../../@arcgis/core/views/3d/environment/weather.js", "../../@arcgis/core/webscene/lightingTypes.js", "../../@arcgis/core/webscene/background/Background.js", "../../@arcgis/core/webscene/background/ColorBackground.js", "../../@arcgis/core/webscene/background/utils.js", "../../@arcgis/core/webscene/Environment.js", "../../@arcgis/core/views/3d/environment/SceneViewEnvironment.js", "../../@arcgis/core/views/3d/environment/AtmosphereType.js", "../../@arcgis/core/views/3d/environment/ChapmanAtmosphereTechnique.js", "../../@arcgis/core/views/3d/environment/ChapmanAtmosphereTechniqueConfiguration.js", "../../@arcgis/core/views/3d/environment/ChapmanAtmosphere.js", "../../@arcgis/core/views/3d/environment/CloudsCompositionTechnique.js", "../../@arcgis/core/views/3d/environment/CloudsComposition.js", "../../@arcgis/core/views/3d/environment/CloudsTechnique.js", "../../@arcgis/core/views/3d/environment/NoiseTextureAtlasTechnique.js", "../../@arcgis/core/views/3d/environment/NoiseTextureAtlas.js", "../../@arcgis/core/views/3d/environment/CloudsGenerator.js", "../../@arcgis/core/views/3d/environment/FogTechnique.js", "../../@arcgis/core/views/3d/environment/Fog.js", "../../@arcgis/core/views/3d/environment/SimpleAtmosphereTechnique.js", "../../@arcgis/core/views/3d/environment/resources/SimpleAtmosphereTexture.js", "../../@arcgis/core/views/3d/environment/LocalAtmosphere.js", "../../@arcgis/core/views/3d/environment/resources/MarsAtmosphereTexture.js", "../../@arcgis/core/views/3d/environment/MarsAtmosphere.js", "../../@arcgis/core/views/3d/environment/PrecipitationTechnique.js", "../../@arcgis/core/views/3d/environment/Precipitation.js", "../../@arcgis/core/views/3d/environment/StarsTechnique.js", "../../@arcgis/core/views/3d/environment/Stars.js", "../../@arcgis/core/views/3d/environment/weatherUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Update.js", "../../@arcgis/core/views/3d/environment/EnvironmentRenderer.js", "../../@arcgis/core/views/3d/support/earthUtils.js", "../../@arcgis/core/chunks/SunCalc.js", "../../@arcgis/core/views/3d/support/sunUtils.js", "../../@arcgis/core/views/3d/environment/SceneViewEnvironmentManager.js", "../../@arcgis/core/views/3d/camera/constraintUtils/ConstraintTypes.js", "../../@arcgis/core/views/3d/camera/constraintUtils/InteractionType.js", "../../@arcgis/core/views/3d/camera/constraintUtils/TiltMode.js", "../../@arcgis/core/views/3d/camera/constraintUtils/common.js", "../../@arcgis/core/views/3d/camera/constraintUtils/altitude.js", "../../@arcgis/core/views/3d/camera/constraintUtils/distance.js", "../../@arcgis/core/views/3d/camera/intersectionUtils.js", "../../@arcgis/core/views/3d/camera/constraintUtils/surfaceCollision.js", "../../@arcgis/core/views/3d/state/utils/viewUtils.js", "../../@arcgis/core/views/3d/camera/constraintUtils/tilt.js", "../../@arcgis/core/views/animation/easing.js", "../../@arcgis/core/views/3d/camera/constraintUtils.js", "../../@arcgis/core/views/3d/animation/pointToPoint/Camera.js", "../../@arcgis/core/views/animation/pointToPoint/Settings.js", "../../@arcgis/core/views/animation/pointToPoint/Definition.js", "../../@arcgis/core/views/animation/pointToPoint/Path.js", "../../@arcgis/core/views/animation/pointToPoint/Segment.js", "../../@arcgis/core/views/animation/pointToPoint/apex/functions.js", "../../@arcgis/core/views/animation/pointToPoint/apex/planning.js", "../../@arcgis/core/views/animation/pointToPoint/apex/Path.js", "../../@arcgis/core/views/animation/pointToPoint/Animation.js", "../../@arcgis/core/views/3d/animation/pointToPoint/Animation.js", "../../@arcgis/core/views/3d/state/controllers/CameraController.js", "../../@arcgis/core/views/3d/state/controllers/AnimationController.js", "../../@arcgis/core/views/3d/state/controllers/PointToPointAnimationController.js", "../../@arcgis/core/geometry/support/axisAngle.js", "../../@arcgis/core/views/3d/support/geometryUtils/sphere.js", "../../@arcgis/core/views/3d/state/utils/navigationUtils.js", "../../@arcgis/core/views/3d/state/controllers/global/ZoomStepController.js", "../../@arcgis/core/views/3d/state/controllers/local/ZoomStepController.js", "../../@arcgis/core/views/3d/input/handlers/DoubleClickZoom.js", "../../@arcgis/core/views/3d/state/NearFarHeuristic.js", "../../@arcgis/core/views/3d/state/SurfaceCollisionConstraint.js", "../../@arcgis/core/views/3d/state/ConstraintsManager.js", "../../@arcgis/core/views/3d/state/controllers/SurfaceCollisionCorrectionController.js", "../../@arcgis/core/views/3d/support/cameraUtilsInternal.js", "../../@arcgis/core/chunks/cameraUtilsPlanar.js", "../../@arcgis/core/chunks/cameraUtilsSpherical.js", "../../@arcgis/core/views/support/spatialReferenceSupport.js", "../../@arcgis/core/views/3d/support/cameraUtils.js", "../../@arcgis/core/views/3d/support/viewpointUtils.js", "../../@arcgis/core/views/3d/state/GoToOperation.js", "../../@arcgis/core/views/3d/state/ViewStateManager.js", "../../@arcgis/core/views/3d/state/controllers/InteractiveController.js", "../../@arcgis/core/views/3d/state/controllers/RotateController.js", "../../@arcgis/core/views/3d/input/handlers/DragRotate.js", "../../@arcgis/core/views/3d/state/controllers/global/ZoomController.js", "../../@arcgis/core/views/3d/state/controllers/local/ZoomController.js", "../../@arcgis/core/views/3d/input/handlers/DragZoom.js", "../../@arcgis/core/views/3d/state/controllers/GamepadKeyboardController.js", "../../@arcgis/core/views/3d/input/handlers/GamepadNavigation.js", "../../@arcgis/core/views/3d/input/handlers/KeyboardNavigation.js", "../../@arcgis/core/views/3d/input/handlers/MouseWheelZoom.js", "../../@arcgis/core/views/3d/input/util.js", "../../@arcgis/core/views/3d/state/controllers/momentum/MomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/PanPlanarMomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/PanSphericalMomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/RotationMomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/ZoomPlanarMomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/ZoomSphericalMomentumController.js", "../../@arcgis/core/views/navigation/FilteredValue.js", "../../@arcgis/core/views/navigation/PanSphericalMomentumEstimator.js", "../../@arcgis/core/views/3d/state/controllers/global/PinchAndPanController.js", "../../@arcgis/core/views/3d/state/controllers/local/PinchAndPanController.js", "../../@arcgis/core/views/3d/input/handlers/PinchAndPanNavigation.js", "../../@arcgis/core/views/3d/input/handlers/PointerDownCancelAnimation.js", "../../@arcgis/core/views/3d/input/handlers/SingleKey.js", "../../@arcgis/core/views/3d/input/handlers/SingleKeyResetHeading.js", "../../@arcgis/core/views/3d/input/handlers/SingleKeyResetTilt.js", "../../@arcgis/core/views/3d/input/handlers/TwoFingerTilt.js", "../../@arcgis/core/views/input/recognizers/VerticalTwoFingerDrag.js", "../../@arcgis/core/views/3d/input/SceneInputManager.js", "../../@arcgis/core/views/3d/layers/graphics/deconflictorDebug.js", "../../@arcgis/core/views/3d/layers/graphics/Deconflictor.js", "../../@arcgis/core/views/3d/layers/graphics/LabelDeconflictor.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicsDeconflictor.js", "../../@arcgis/core/views/3d/layers/support/FeatureTileVisibility3D.js", "../../@arcgis/core/views/3d/layers/support/FeatureTileMeasurements3D.js", "../../@arcgis/core/views/3d/layers/support/FeatureTileTree3D.js", "../../@arcgis/core/views/3d/state/ViewState.js", "../../@arcgis/core/views/3d/state/helpers/SceneIntersectionHelper.js", "../../@arcgis/core/views/3d/support/CombinedElevationProvider.js", "../../@arcgis/core/views/3d/support/DisplayQualityProfile.js", "../../@arcgis/core/views/3d/support/HighlightOptions.js", "../../@arcgis/core/views/3d/support/MapCoordsHelper.js", "../../@arcgis/core/views/3d/support/QualitySettings.js", "../../@arcgis/core/views/3d/support/MemoryManagedView.js", "../../@arcgis/core/views/3d/support/MemoryController.js", "../../@arcgis/core/views/3d/support/ResourceController.js", "../../@arcgis/core/views/3d/layers/support/MemoryManagedLayerView.js", "../../@arcgis/core/views/3d/layers/support/PerformanceInfoLayerView.js", "../../@arcgis/core/views/3d/support/LayerPerformanceInfo.js", "../../@arcgis/core/views/3d/support/SceneViewPerformanceInfo.js", "../../@arcgis/core/views/3d/layers/graphics/ObjectResourceCache.js", "../../@arcgis/core/views/3d/support/StreamTextureCollection.js", "../../@arcgis/core/views/3d/support/SharedSymbolResources.js", "../../@arcgis/core/views/3d/support/debugUtils.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/PointOfInterest.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/CameraOnSurface.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/CenterOnSurface.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/ContentGeometryUpdates.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/Focus.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/StableSurfaceCenter.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/SurfaceGeometryUpdates.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/PointsOfInterest.js", "../../@arcgis/core/layers/support/ElevationQueryTileCache.js", "../../@arcgis/core/views/3d/terrain/ElevationBounds.js", "../../@arcgis/core/views/3d/terrain/ElevationData.js", "../../@arcgis/core/views/3d/terrain/ExtentHelper.js", "../../@arcgis/core/views/3d/terrain/LayerClass.js", "../../@arcgis/core/views/3d/webgl-engine/parts/requireUtils.js", "../../@arcgis/core/views/3d/terrain/OverlayManager.js", "../../@arcgis/core/geometry/support/buffer/BufferPool.js", "../../@arcgis/core/views/3d/terrain/PatchGeometry.js", "../../@arcgis/core/views/3d/terrain/PatchGeometryLUT.js", "../../@arcgis/core/views/3d/terrain/GeometryState.js", "../../@arcgis/core/views/3d/terrain/TextureFader.js", "../../@arcgis/core/views/3d/terrain/TileAgent.js", "../../@arcgis/core/views/3d/terrain/ElevationTileAgent.js", "../../@arcgis/core/views/3d/terrain/MapTileAgent.js", "../../@arcgis/core/views/3d/terrain/TilePerLayerInfo.js", "../../@arcgis/core/views/3d/terrain/TileTexture.js", "../../@arcgis/core/views/3d/terrain/TileUpdate.js", "../../@arcgis/core/views/3d/terrain/Tile.js", "../../@arcgis/core/views/3d/terrain/TileOverlayData.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/TerrainTechnique.js", "../../@arcgis/core/views/3d/terrain/PatchRenderData.js", "../../@arcgis/core/views/3d/terrain/PatchGeometryFactory.js", "../../@arcgis/core/views/3d/terrain/PlanarPatch.js", "../../@arcgis/core/views/3d/terrain/ScaleRangeQueries.js", "../../@arcgis/core/views/3d/terrain/SphericalPatch.js", "../../@arcgis/core/views/3d/terrain/SplitLimits.js", "../../@arcgis/core/views/3d/terrain/BlendModeTechniqueConfiguration.js", "../../@arcgis/core/views/3d/terrain/TileBlendTechniqueConfiguration.js", "../../@arcgis/core/views/3d/terrain/BlendLayersTechnique.js", "../../@arcgis/core/views/3d/terrain/TextureReference.js", "../../@arcgis/core/views/2d/engine/vectorTiles/VectorTileRendererHelper3D.js", "../../@arcgis/core/views/3d/terrain/RasterColorizerTechnique.js", "../../@arcgis/core/views/3d/terrain/support/MultiSizeFramebuffer.js", "../../@arcgis/core/views/3d/terrain/TileCompositor.js", "../../@arcgis/core/views/3d/terrain/TileRenderInfo.js", "../../@arcgis/core/views/3d/terrain/TileRenderer.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentIntersectionData.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/TerrainTechniqueConfiguration.js", "../../@arcgis/core/views/3d/terrain/TerrainRenderer.js", "../../@arcgis/core/views/3d/terrain/TerrainSurfacePerformanceInfo.js", "../../@arcgis/core/views/3d/terrain/TilingSchemeLogic.js", "../../@arcgis/core/views/3d/terrain/UpsampleInfo.js", "../../@arcgis/core/views/3d/terrain/TerrainSurface.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ModelDirtySet.js", "../../@arcgis/core/views/3d/webgl-engine/parts/Model.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/IndexRange/ComponentRangeRunLengthEncoded.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ComponentUtils.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/IntersectionGeometry.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/Renderable.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/RenderGeometry.js", "../../@arcgis/core/views/3d/webgl-engine/lib/depthRange.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/DepthRange.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/RenderSubmitSystem.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/UniformComponentParameters.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/Material/ComponentTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/core/material/MaterialBase.js", "../../@arcgis/core/views/3d/webgl-engine/core/util/TwoVectorPosition.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/Material/ComponentMaterial.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextureBackedBuffer/SimpleIndexManager.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextureBackedBuffer/TextureBackedBuffer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextureBackedBuffer/ManagedTextureBackedBuffer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextureBackedBuffer/BufferManager.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentObjectCollection.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/AtmosphereCompositingTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/CompositingTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/CompositingTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HUDCompositingTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/OITCompositingTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/CompositingHelper.js", "../../@arcgis/core/views/3d/webgl-engine/lib/depthRangeUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/Magnifier.glsl.js", "../../@arcgis/core/views/3d/webgl-engine/lib/MagnifierHelper.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ObjectAndLayerIdRenderHelper.js", "../../@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPass.js", "../../@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPassManager.js", "../../@arcgis/core/views/3d/webgl-engine/lib/AnimationTimeStep.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HighlightApplyTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HighlightBlurTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HighlightDownsampleTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HighlightPassParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Highlight.js", "../../@arcgis/core/views/3d/webgl-engine/lib/RenderTargetHelper.js", "../../@arcgis/core/views/3d/webgl-engine/lib/OffscreenRendering.js", "../../@arcgis/core/views/3d/webgl-engine/lib/RenderPluginManager.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/ShadowCastVisualizeTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ShadowCastRenderer.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/ShadowConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/ShadowCastAccumulateTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ShadowAccumulator.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/ShadowHighlightTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ShadowHighlight.js", "../../@arcgis/core/views/3d/webgl-engine/lib/SliceHelper.js", "../../@arcgis/core/views/3d/webgl-engine/lib/BlendWeightsTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/BlurTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/EdgeDetectTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/SmaaRenderPass.js", "../../@arcgis/core/views/3d/webgl-engine/lib/localOriginHelper.js", "../../@arcgis/core/views/3d/webgl-engine/lib/LocalOriginManager.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeShaderParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeShaderTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeShaderTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeRenderer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/strokes.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/util.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeView.js", "../../@arcgis/core/views/webgl/TimerPool.js", "../../@arcgis/core/views/3d/webgl-engine/statistics/RendererPerformanceInfo.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Renderer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/RenderingContext.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextureRepository.js", "../../@arcgis/core/views/3d/webgl-engine/materials/markerTextureRepository.js", "../../@arcgis/core/views/3d/webgl-engine/materials/internal/WaterTextureRepository.js", "../../@arcgis/core/views/3d/webgl-engine/parts/contextCache.js", "../../@arcgis/core/views/3d/webgl-engine/parts/ScreenshotManager.js", "../../@arcgis/core/views/3d/webgl-engine/parts/testUtils.js", "../../@arcgis/core/views/3d/webgl-engine/parts/RenderView.js", "../../@arcgis/core/views/3d/webgl-engine/Stage.js", "../../@arcgis/core/views/support/hitTestSelectUtils.js", "../../@arcgis/core/views/ui/3d/DefaultUI3D.js", "../../@arcgis/core/views/SceneView.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import r from\"../../core/Logger.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"../../geometry/SpatialReference.js\";import{toExtent as s}from\"../../geometry/support/aaBoundingRect.js\";import{extentContainsXYZ as a}from\"../../geometry/support/contains.js\";import{updateGeometryElevation as l}from\"../../layers/support/ElevationSampler.js\";import{ELEVATION_NODATA_VALUE as p}from\"../3d/terrain/TerrainConst.js\";let m=class extends t.EventedAccessor{constructor(e){super(e),this.demResolution={min:-1,max:-1},this.noDataValue=p}initialize(){this.view.basemapTerrain.on(\"elevation-change\",(()=>this.emit(\"changed\",{})))}get extent(){const e=this.view.basemapTerrain;if(null==e||null==e.extent||null==e.spatialReference)return null;const t=s(e.extent,e.spatialReference);return t.zmin=e.visibleElevationBounds.min,t.zmax=e.visibleElevationBounds.max,t}get spatialReference(){return this.view.basemapTerrain?.spatialReference??n.WGS84}elevationAt(e,t){if(null==this.extent||!a(this.extent,e,t)){const o=null!=this.extent?`${this.extent.xmin}, ${this.extent.ymin}, ${this.extent.xmax}, ${this.extent.ymax}`:null;return r.getLogger(this).warn(\"#elevationAt()\",`Point used to sample elevation (${e}, ${t}) is outside of the sampler extent (${o})`),this.noDataValue}return this.view.elevationProvider?.getElevation(e,t,0,this.spatialReference,\"ground\")??this.noDataValue}queryElevation(e){return l(e.clone(),this)}};e([o({readOnly:!0})],m.prototype,\"demResolution\",void 0),e([o({readOnly:!0})],m.prototype,\"extent\",null),e([o({readOnly:!0})],m.prototype,\"noDataValue\",void 0),e([o()],m.prototype,\"spatialReference\",null),e([o({constructOnly:!0})],m.prototype,\"view\",void 0),m=e([i(\"esri.views.support.GroundViewElevationSampler\")],m);const u=m;export{u as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Accessor.js\";import s from\"../core/Collection.js\";import{when as r,watch as i,sync as o}from\"../core/reactiveUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import p from\"./support/GroundViewElevationSampler.js\";let l=class extends t{constructor(e){super(e),this.view=null,this.layerViews=new s}initialize(){this.addHandles(r((()=>this.view?.map?.ground),(e=>e.load()))),this.addHandles(this.layerViews.on(\"after-changes\",(()=>this._layerViewsAfterChangesHandler())))}destroy(){this.removeAllHandles(),this._set(\"view\",null);for(const e of this.layerViews)e.destroy();this.layerViews.length=0}get elevationSampler(){return this.view?\"2d\"===this.view.type?null:this.view.ready&&this.view.basemapTerrain&&this.view.basemapTerrain.ready?new p({view:this.view}):null:null}get updating(){return!this.suspended&&this.layerViews.some((e=>e.updating))}get suspended(){return!this.view||this.view.suspended}_layerViewsAfterChangesHandler(){this.removeHandles(\"updating\"),this.addHandles(this.layerViews.map((e=>i((()=>e.updating),(()=>this._updateUpdating()),o))).toArray(),\"updating\"),this._updateUpdating()}_updateUpdating(){this.notifyChange(\"updating\")}};e([a({readOnly:!0})],l.prototype,\"elevationSampler\",null),e([a({type:Boolean,readOnly:!0})],l.prototype,\"updating\",null),e([a({constructOnly:!0})],l.prototype,\"view\",void 0),e([a({type:s,readOnly:!0})],l.prototype,\"layerViews\",void 0),e([a({readOnly:!0})],l.prototype,\"suspended\",null),l=e([n(\"esri.views.GroundView\")],l);const d=l;export{d as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";const r=()=>import(\"./layers/TileLayerView3D.js\"),i=()=>import(\"./layers/ElevationLayerView3D.js\"),a={\"base-dynamic\":()=>import(\"./layers/BaseDynamicLayerView3D.js\"),\"base-elevation\":i,\"base-tile\":r,\"bing-maps\":r,\"building-scene\":()=>import(\"./layers/BuildingSceneLayerView3D.js\"),csv:()=>import(\"./layers/CSVLayerView3D.js\"),dimension:()=>import(\"./layers/DimensionLayerView3D.js\"),elevation:i,feature:()=>import(\"./layers/FeatureLayerView3D.js\"),geojson:()=>import(\"./layers/GeoJSONLayerView3D.js\"),graphics:()=>import(\"./layers/GraphicsLayerView3D.js\"),group:()=>import(\"../layers/GroupLayerView.js\"),imagery:()=>import(\"./layers/ImageryLayerView3D.js\"),\"integrated-mesh\":()=>import(\"./layers/IntegratedMeshLayerView3D.js\"),\"line-of-sight\":()=>import(\"./layers/LineOfSightLayerView3D.js\"),\"map-image\":()=>import(\"./layers/MapImageLayerView3D.js\"),media:()=>import(\"./layers/MediaLayerView3D.js\"),\"ogc-feature\":()=>import(\"./layers/OGCFeatureLayerView3D.js\"),\"open-street-map\":r,\"oriented-imagery\":()=>import(\"./layers/FeatureLayerView3D.js\"),\"point-cloud\":()=>import(\"./layers/PointCloudLayerView3D.js\"),voxel:()=>import(\"./layers/VoxelLayerView3D.js\"),route:()=>import(\"./layers/RouteLayerView3D.js\"),scene:e=>null==e.profile||\"mesh-pyramids\"===e.profile?import(\"./layers/SceneLayerView3D.js\"):import(\"./layers/SceneLayerGraphicsView3D.js\"),stream:()=>import(\"./layers/StreamLayerView3D.js\"),tile:r,\"imagery-tile\":()=>import(\"./layers/ImageryTileLayerView3D.js\"),\"vector-tile\":()=>import(\"./layers/VectorTileLayerView3D.js\"),wcs:()=>import(\"./layers/ImageryTileLayerView3D.js\"),\"web-tile\":r,wfs:()=>import(\"./layers/WFSLayerView3D.js\"),wms:()=>import(\"./layers/WMSLayerView3D.js\"),wmts:()=>import(\"./layers/WMTSLayerView3D.js\"),\"geo-rss\":null,kml:null,\"knowledge-graph\":null,\"link-chart\":null,\"knowledge-graph-sublayer\":null,\"map-notes\":null,\"subtype-group\":null,unknown:null,unsupported:null,video:null};function s(r){const i=r.declaredClass?r.declaredClass.slice(r.declaredClass.lastIndexOf(\".\")+1):\"Unknown\",a=i.replaceAll(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase();return new e(`${a}:view-not-supported`,`${i} is not supported in 3D`)}const l={hasLayerViewModule:e=>null!=a[e.type],importLayerView:e=>{const r=a[e.type];if(null==r)throw s(e);return r(e)}};export{l as layerView3DImporter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{createTask as s}from\"../../../core/asyncUtils.js\";import t from\"../../../core/Collection.js\";import i from\"../../../core/Error.js\";import{HandleOwner as a}from\"../../../core/HandleOwner.js\";import n from\"../../../core/Logger.js\";import{removeMaybe as o,destroyMaybe as r,abortMaybe as l}from\"../../../core/maybe.js\";import{createAbortError as c,isAborted as d,createResolver as h}from\"../../../core/promiseUtils.js\";import{schedule as w}from\"../../../core/scheduling.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";const y=\"analyses-owner-handles\";var _,p;!function(e){e[e.PENDING=0]=\"PENDING\",e[e.CREATED=1]=\"CREATED\"}(_||(_={})),function(e){e[e.ADDED=0]=\"ADDED\",e[e.REMOVED=1]=\"REMOVED\"}(p||(p={}));let V=class extends a{constructor(e){super(e),this._allAnalysisViews=new t,this._creatingViewCount=0,this._items=new Map,this._scheduledUpdateHandle=null,this._attachedToViewResolver=A(),this._analysisModules={\"area-measurement\":{module:null},dimension:{module:null},\"direct-line-measurement\":{module:null},\"line-of-sight\":{module:null},slice:{module:null}}}destroy(){this._disconnectOwners(),this._attachedToViewResolver.reject(c(\"AnalysisViewManager was destroyed\"))}attach(){this._connectOwners(),this._attachedToViewResolver.resolve()}detach(){this._disconnectOwners(),this._attachedToViewResolver.reject(c()),this._attachedToViewResolver=A()}get updating(){return!this.view.ready||0!==this._creatingViewCount||this._allAnalysisViews.some((e=>e.updating))}get testInfo(){return{allAnalysisViews:this._allAnalysisViews}}async whenAnalysisView(e){await this._attachedToViewResolver.promise;const s=this._items.get(e);if(null==s||s.state.list===p.REMOVED){throw new i(\"AnalysisViewManager:no-analysisview-for-analysis\",\"The analysis has not been added to view.analyses\",{analysis:e})}return s.createAnalysisViewTask.promise}_connectOwners(){this.handles.add(this._connectAnalysesCollection(this.view.analyses),y)}_disconnectOwners(){this.handles.remove(y),this._update(),this._creatingViewCount=0}_connectAnalysesCollection(e){for(const i of e)this._addAnalysis(i);const s=e.on(\"after-add\",(e=>this._addAnalysis(e.item))),t=e.on(\"after-remove\",(e=>this._removeAnalysis(e.item)));return{remove:()=>{s.remove(),t.remove();for(const s of e)this._removeAnalysis(s)}}}_addAnalysis(e){const t=this._items.get(e);if(null==t){const t={state:{view:_.PENDING,list:p.ADDED},analysis:e,view:null,createAnalysisViewTask:null};this._items.set(e,t),t.createAnalysisViewTask=s((e=>this._createAnalysisViewPromise(t,e)))}else t.state.list=p.ADDED}_removeAnalysis(e){const s=this._items.get(e);null!=s?(s.state.list=p.REMOVED,this._scheduleUpdate()):n.getLogger(this).error(\"Trying to remove analysis which was not added\")}_scheduleUpdate(){null==this._scheduledUpdateHandle&&(this._scheduledUpdateHandle=w((()=>this._update())))}_update(){this._scheduledUpdateHandle=o(this._scheduledUpdateHandle),this._items.forEach((e=>{if(e.state.list===p.REMOVED)switch(this._items.delete(e.analysis),e.state.view){case _.PENDING:e.createAnalysisViewTask=l(e.createAnalysisViewTask);break;case _.CREATED:null!=e.view&&(this._allAnalysisViews.remove(e.view),e.view=r(e.view),e.createAnalysisViewTask=null)}}))}async _createAnalysisViewPromise(e,s){const t=e.analysis,i=t.type,a=this._analysisModules[i];if(this._creatingViewCount+=1,null==a.module)try{a.module=await this._loadAnalysisModule(i)}catch(o){throw this._creatingViewCount-=1,o}if(d(s))throw this._creatingViewCount-=1,c(\"AnalysisView creation aborted\");const n=new a.module.default({analysis:t,view:this.view});try{await n.when()}catch(o){throw this._creatingViewCount-=1,o}if(d(s))throw this._creatingViewCount-=1,n.destroy(),c(\"AnalysisView creation aborted\");return e.view=n,e.state.view=_.CREATED,this._allAnalysisViews.add(n),this._creatingViewCount-=1,n}_loadAnalysisModule(e){switch(e){case\"area-measurement\":return import(\"./AreaMeasurementAnalysisView3D.js\");case\"dimension\":return import(\"./DimensionAnalysisView3D.js\");case\"direct-line-measurement\":return import(\"./DirectLineMeasurementAnalysisView3D.js\");case\"line-of-sight\":return import(\"./LineOfSightAnalysisView3D.js\");case\"slice\":return import(\"./SliceAnalysisView3D.js\")}}};function A(){const e=h();return e.promise.catch((()=>{})),e}e([u()],V.prototype,\"updating\",null),e([u({constructOnly:!0})],V.prototype,\"view\",void 0),e([u()],V.prototype,\"_allAnalysisViews\",void 0),e([u()],V.prototype,\"_creatingViewCount\",void 0),V=e([m(\"esri.views.3d.analysis.AnalysisViewManager3D\")],V);const v=V;export{v as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import i from\"../../../core/Logger.js\";import{clamp as o,deg2rad as r}from\"../../../core/mathUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{earth as n}from\"../../../geometry/support/Ellipsoid.js\";import{ViewingMode as l}from\"../../ViewingMode.js\";import{makePiecewiseLinearFunction as m}from\"../support/mathUtils.js\";let c=class extends e{constructor(t){super(t),this.collision=new y,this.distance=1/0,this.minimumPoiDistance=4,this.tilt=null}get altitude(){return this.mode===l.Local?null:this._get(\"altitude\")||null}set altitude(t){this.mode!==l.Local?this._set(\"altitude\",t):i.getLogger(this).warn(\"Altitude constraint is ignored in local scenes\")}clampAltitude(t){return this.altitude?o(t,this.altitude.min,this.altitude.max):t}clampTilt(t,e){if(!this.tilt)return e;const i=this.tilt(t);return o(e,i.min,i.max)}clampDistance(t){return Math.min(t,this.distance)}createDefaultTilt(){return this.mode===l.Local?this._createDefaultTiltLocal():this._createDefaultTiltGlobal()}createConstantMaxTilt(t){return(e,i=h)=>(i.min=d.min,i.max=t,i)}_createDefaultTiltLocal(){const t=this.collision.enabled?m([[4e3,d.max],[1e4,r(88)],[6e6,r(88)]]):()=>d.max;return(e,i=h)=>(i.min=d.min,i.max=t(e),i)}_createDefaultTiltGlobal(){const t=this.collision.enabled?m([[4e3,d.max],[5e4,r(88)],[6e6,r(88)],[2e7,d.min]]):m([[3e5,d.max],[3e6,r(88)],[6e6,r(88)],[2e7,d.min]]);return(e,i=h)=>(i.min=d.min,i.max=t(e),i)}};function p(t){return{min:-2e5,max:4*t.radius}}t([s()],c.prototype,\"altitude\",null),t([s({readOnly:!0})],c.prototype,\"collision\",void 0),t([s()],c.prototype,\"distance\",void 0),t([s({readOnly:!0})],c.prototype,\"minimumPoiDistance\",void 0),t([s()],c.prototype,\"tilt\",void 0),t([s({constructOnly:!0})],c.prototype,\"mode\",void 0),c=t([a(\"esri.views.3d.state.Constraints\")],c);const u=p(n),d={min:r(.5),max:r(179.5)},h={min:0,max:0};let y=class extends e{constructor(){super(...arguments),this.enabled=!0,this.elevationMargin=5}};t([s({type:Boolean})],y.prototype,\"enabled\",void 0),t([s({type:Number})],y.prototype,\"elevationMargin\",void 0),y=t([a(\"esri.views.3d.state.Constraints.CollisionConstraint\")],y);export{c as Constraints,d as TiltDefault,u as earthAltitudeConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import{earthAltitudeConstraint as e}from\"../state/Constraints.js\";let p=class extends o{constructor(){super(...arguments),this.min=e.min,this.max=e.max}};r([s({type:Number})],p.prototype,\"min\",void 0),r([s({type:Number})],p.prototype,\"max\",void 0),p=r([t(\"esri.views.3d.constraints.AltitudeConstraint\")],p);export{p as AltitudeConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../../core/accessorSupport/decorators/cast.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";let o=class extends r{constructor(){super(...arguments),this.mode=\"auto\"}get near(){return this._get(\"near\")}set near(t){this._set(\"near\",t),t>=this._get(\"far\")&&(this.far=t+1e-9),this.mode=\"manual\"}castNear(t){return Math.max(1e-8,t)}get far(){return this._get(\"far\")}set far(t){this._set(\"far\",t),t<=this._get(\"near\")&&(this.near=t-1e-9),this.mode=\"manual\"}castFar(t){return Math.max(1e-8,t)}autoUpdate(t,r){\"auto\"===this.mode&&(this._get(\"near\")!==t&&this._set(\"near\",t),this._get(\"far\")!==r&&this._set(\"far\",r))}};t([e({type:Number,value:1e-8})],o.prototype,\"near\",null),t([s(\"near\")],o.prototype,\"castNear\",null),t([e({type:Number,value:1e-8})],o.prototype,\"far\",null),t([s(\"far\")],o.prototype,\"castFar\",null),t([e({type:[\"auto\",\"manual\"]})],o.prototype,\"mode\",void 0),o=t([a(\"esri.views.3d.constraints.ClipDistanceConstraint\")],o);export{o as ClipDistanceConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{rad2deg as s,clamp as r}from\"../../../core/mathUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import{cast as e}from\"../../../core/accessorSupport/decorators/cast.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TiltDefault as i}from\"../state/Constraints.js\";const c={min:s(i.min),max:s(i.max)};let p=class extends o{constructor(){super(...arguments),this.mode=\"auto\"}get max(){return this._get(\"max\")}set max(t){this._set(\"max\",t),this.mode=\"manual\"}castMax(t){return r(t,c.min,c.max)}autoUpdate(t){\"auto\"===this.mode&&this._get(\"max\")!==t&&this._set(\"max\",t)}};t([a({type:[\"auto\",\"manual\"]})],p.prototype,\"mode\",void 0),t([a({type:Number,value:c.max})],p.prototype,\"max\",null),t([e(\"max\")],p.prototype,\"castMax\",null),p=t([m(\"esri.views.3d.constraints.TiltConstraint\")],p);export{p as TiltConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AltitudeConstraint as e}from\"./AltitudeConstraint.js\";import{ClipDistanceConstraint as i}from\"./ClipDistanceConstraint.js\";import{TiltConstraint as p}from\"./TiltConstraint.js\";let c=class extends o{constructor(){super(...arguments),this.tilt=new p,this.altitude=new e,this.clipDistance=new i}};t([r({type:p})],c.prototype,\"tilt\",void 0),t([r({type:e})],c.prototype,\"altitude\",void 0),t([r({type:i})],c.prototype,\"clipDistance\",void 0),c=t([s(\"esri.views.3d.constraints.Constraints\")],c);export{c as Constraints};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../core/JSONSupport.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{reader as o}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../core/accessorSupport/decorators/writer.js\";var d;let i=d=class extends t{constructor(e){super(e),this.type=\"sun\",this.date=null,this.directShadowsEnabled=!1,this.displayUTCOffset=null}readDate(e,t){return null!=t.datetime&&new Date(t.datetime)||null}writeDate(e,t,r){t[r]=e.getTime()}readDirectShadowsEnabled(e,t){return!!t.directShadows}writedirectShadowsEnabled(e,t,r){e&&(t[r]=e)}writeDisplayUTCOffset(e,t){null!=e&&(t.displayUTCOffset=e)}clone(){return new d(this.cloneConstructProperties())}cloneConstructProperties(){const e={directShadowsEnabled:this.directShadowsEnabled,displayUTCOffset:null!=this.displayUTCOffset?this.displayUTCOffset:null};return null!=this.date&&(e.date=new Date(this.date.getTime())),e}};e([r({readOnly:!0,type:[\"sun\"],json:{write:!0}})],i.prototype,\"type\",void 0),e([r({type:Date,json:{type:Number,write:{target:\"datetime\"}}})],i.prototype,\"date\",void 0),e([o(\"date\",[\"datetime\"])],i.prototype,\"readDate\",null),e([a(\"date\")],i.prototype,\"writeDate\",null),e([r({type:Boolean,json:{default:!1,write:{target:\"directShadows\"}}})],i.prototype,\"directShadowsEnabled\",void 0),e([o(\"directShadowsEnabled\",[\"directShadows\"])],i.prototype,\"readDirectShadowsEnabled\",null),e([a(\"directShadowsEnabled\")],i.prototype,\"writedirectShadowsEnabled\",null),e([r({type:Number,json:{write:!0}})],i.prototype,\"displayUTCOffset\",void 0),e([a(\"displayUTCOffset\")],i.prototype,\"writeDisplayUTCOffset\",null),i=d=e([s(\"esri.webscene.SunLighting\")],i);const p=i;export{p as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{deprecatedProperty as t}from\"../../../core/deprecate.js\";import n from\"../../../core/Evented.js\";import o from\"../../../core/Logger.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../webscene/SunLighting.js\";var r;const l=\"esri.views.3d.environment.SunLighting\",c=o.getLogger(l);let d=r=class extends(n.EventedMixin(a)){constructor(e){super(e),this.cameraTrackingEnabled=!0,this.positionTimezoneInfo={hours:0,minutes:0,seconds:0,autoUpdated:!0};const t=(new Date).getFullYear(),n=new Date(\"March 15, \"+t+\" 12:00:00 UTC\");this._set(\"defaultDate\",n),this._set(\"date\",n)}get ambientOcclusionEnabled(){return t(c,\"ambientOcclusionEnabled\",{replacement:\"ambient occlusion is automatically shown and this property has no effect\",version:\"4.27\"}),this._get(\"ambientOcclusionEnabled\")??!1}set ambientOcclusionEnabled(e){t(c,\"ambientOcclusionEnabled\",{replacement:\"ambient occlusion is automatically shown and this property has no effect\",version:\"4.27\"}),this._set(\"ambientOcclusionEnabled\",e)}get waterReflectionEnabled(){return t(c,\"waterReflectionEnabled\",{replacement:\"reflections are automatically shown and this property has no effect\",version:\"4.27\"}),this._get(\"waterReflectionEnabled\")??!1}set waterReflectionEnabled(e){t(c,\"waterReflectionEnabled\",{replacement:\"reflections are automatically shown and this property has no effect\",version:\"4.27\"}),this._set(\"waterReflectionEnabled\",e)}get defaultDate(){return new Date(this._get(\"defaultDate\").getTime())}static fromWebsceneLighting(e){return new r(e.cloneConstructProperties())}set defaultDate(e){const t=this._get(\"date\")===this._get(\"defaultDate\");e=new Date(e.getTime()),this._set(\"defaultDate\",e),t&&this._set(\"date\",e)}set date(e){null!=e&&(this.positionTimezoneInfo.autoUpdated=!1,this._set(\"date\",new Date(e.getTime())))}autoUpdate(e,t){const n=r.calculateTimezoneOffset(this.positionTimezoneInfo);this.positionTimezoneInfo.hours=t.hours,this.positionTimezoneInfo.minutes=t.minutes,this.positionTimezoneInfo.seconds=t.seconds;let o=null;null!=e&&(this.positionTimezoneInfo.autoUpdated=!0,isNaN(e.getTime())?(o=this.defaultDate.getTime(),this._set(\"date\",this.defaultDate)):(o=this.date&&this.date.getTime(),this._set(\"date\",new Date(e.getTime()))));const i=r.calculateTimezoneOffset(this.positionTimezoneInfo);if(n!==i&&(u.target=this,u.timezoneOffset=i,this.emit(\"timezone-will-change\",u),u.target=null),null!=e)return isNaN(e.getTime())||o!==e.getTime()}clone(){const e=this._get(\"date\")===this._get(\"defaultDate\"),t=new r({...this.cloneConstructProperties(),defaultDate:this.defaultDate,cameraTrackingEnabled:this.cameraTrackingEnabled});return e&&t._set(\"date\",t._get(\"defaultDate\")),t.positionTimezoneInfo.autoUpdated=this.positionTimezoneInfo.autoUpdated,t.positionTimezoneInfo.hours=this.positionTimezoneInfo.hours,t.positionTimezoneInfo.minutes=this.positionTimezoneInfo.minutes,t.positionTimezoneInfo.seconds=this.positionTimezoneInfo.seconds,t}cloneWithWebsceneLighting(e){const t=this.clone();return null!=e.date&&(t.date=e.date),t.directShadowsEnabled=e.directShadowsEnabled,t.displayUTCOffset=e.displayUTCOffset,t}cloneNonPersistentConstructProperties(){return{cameraTrackingEnabled:this.cameraTrackingEnabled}}};e([i({type:Boolean})],d.prototype,\"cameraTrackingEnabled\",void 0),e([i({type:Boolean})],d.prototype,\"ambientOcclusionEnabled\",null),e([i({type:Boolean})],d.prototype,\"waterReflectionEnabled\",null),e([i({type:Date})],d.prototype,\"defaultDate\",null),e([i({type:Date})],d.prototype,\"date\",null),d=r=e([s(l)],d),function(e){function t({hours:e,minutes:t,seconds:n}){return Math.round(e+t/60+n/3600)}e.calculateTimezoneOffset=t}(d||(d={}));const u={target:null,timezoneOffset:0},m=d;export{m as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{JSONSupport as e}from\"../core/JSONSupport.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";var s;let c=s=class extends e{constructor(r){super(r),this.type=\"virtual\",this.directShadowsEnabled=!1}clone(){return new s(this.cloneConstructProperties())}cloneConstructProperties(){return{directShadowsEnabled:this.directShadowsEnabled}}};r([o({readOnly:!0,type:[\"virtual\"],json:{write:!0}})],c.prototype,\"type\",void 0),r([o({type:Boolean,json:{default:!1,name:\"directShadows\",write:!0}})],c.prototype,\"directShadowsEnabled\",void 0),c=s=r([t(\"esri.webscene.VirtualLighting\")],c);const a=c;export{a as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{deprecatedProperty as t}from\"../../../core/deprecate.js\";import r from\"../../../core/Evented.js\";import n from\"../../../core/Logger.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../webscene/VirtualLighting.js\";var i;const c=\"esri.views.3d.environment.VirtualLighting\",l=n.getLogger(c);let p=i=class extends(r.EventedMixin(s)){constructor(e){super(e),this.cameraTrackingEnabled=!0}get ambientOcclusionEnabled(){return t(l,\"ambientOcclusionEnabled\",{replacement:\"ambient occlusion is automatically shown and this property has no effect\",version:\"4.27\"}),this._get(\"ambientOcclusionEnabled\")??!1}set ambientOcclusionEnabled(e){t(l,\"ambientOcclusionEnabled\",{replacement:\"ambient occlusion is automatically shown and this property has no effect\",version:\"4.27\"}),this._set(\"ambientOcclusionEnabled\",e)}get waterReflectionEnabled(){return t(l,\"waterReflectionEnabled\",{replacement:\"water reflections are automatically shown and this property has no effect\",version:\"4.27\"}),this._get(\"waterReflectionEnabled\")??!1}set waterReflectionEnabled(e){t(l,\"waterReflectionEnabled\",{replacement:\"water reflections are automatically shown and this property has no effect\",version:\"4.27\"}),this._set(\"waterReflectionEnabled\",e)}clone(){return new i({...this.cloneConstructProperties(),cameraTrackingEnabled:this.cameraTrackingEnabled})}static fromWebsceneLighting(e){return new i(e.cloneConstructProperties())}cloneWithWebsceneLighting(e){const t=this.clone();return t.directShadowsEnabled=e.directShadowsEnabled,t}cloneNonPersistentConstructProperties(){return{cameraTrackingEnabled:this.cameraTrackingEnabled}}};e([o({type:Boolean})],p.prototype,\"ambientOcclusionEnabled\",null),e([o({type:Boolean})],p.prototype,\"waterReflectionEnabled\",null),e([o({type:Boolean})],p.prototype,\"cameraTrackingEnabled\",void 0),p=i=e([a(c)],p);const m=p;export{m as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"./SunLighting.js\";import e from\"./VirtualLighting.js\";const i={key:\"type\",defaultKeyValue:\"sun\",base:null,typeMap:{sun:t,virtual:e}};export{i as lightingTypes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var t;let i=t=class extends e{set quality(r){[\"low\",\"high\"].includes(r)&&this._set(\"quality\",r)}clone(){return new t({quality:this.quality})}};r([o({type:[\"low\",\"high\"],value:\"low\"})],i.prototype,\"quality\",null),i=t=r([s(\"esri.views.3d.environment.SceneViewAtmosphere\")],i);export{i as SceneViewAtmosphere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var p;let c=p=class extends o{constructor(r){super(r),this.type=\"sunny\",this.cloudCover=.5}clone(){return new p({cloudCover:this.cloudCover})}};r([s({sunny:\"sunny\"})],c.prototype,\"type\",void 0),r([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,\"cloudCover\",void 0),c=p=r([t(\"esri.views.3d.environment.SunnyWeather\")],c);const n=c;export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let p=c=class extends r{constructor(o){super(o),this.type=\"cloudy\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({cloudy:\"cloudy\"})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),p=c=o([t(\"esri.views.3d.environment.CloudyWeather\")],p);const u=p;export{u as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var p;let c=p=class extends o{constructor(r){super(r),this.type=\"foggy\",this.fogStrength=.5}clone(){return new p({fogStrength:this.fogStrength})}};r([t({foggy:\"foggy\"})],c.prototype,\"type\",void 0),r([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,\"fogStrength\",void 0),c=p=r([s(\"esri.views.3d.environment.FoggyWeather\")],c);const n=c;export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends o{constructor(r){super(r),this.type=\"rainy\",this.cloudCover=.5,this.precipitation=.5}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation})}};r([t({rainy:\"rainy\"})],p.prototype,\"type\",void 0),r([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),r([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),p=i=r([s(\"esri.views.3d.environment.RainyWeather\")],p);const c=p;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends r{constructor(o){super(o),this.type=\"snowy\",this.cloudCover=.5,this.precipitation=.5,this.snowCover=\"disabled\"}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};o([t({snowy:\"snowy\"})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),o([e({type:[\"enabled\",\"disabled\"],nonNullable:!0,json:{write:!0}})],p.prototype,\"snowCover\",void 0),p=i=o([s(\"esri.views.3d.environment.SnowyWeather\")],p);const n=p;export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"./CloudyWeather.js\";import r from\"./FoggyWeather.js\";import o from\"./RainyWeather.js\";import t from\"./SnowyWeather.js\";import y from\"./SunnyWeather.js\";const n={key:\"type\",base:y,typeMap:{sunny:y,cloudy:e,rainy:o,snowy:t,foggy:r}},a=Object.keys(n.typeMap);function s(e,r){return!!a.includes(e)||(r.error(`\"${e}\" is not a valid weather type`),!1)}const p=1e4;export{s as validateWeatherType,p as weatherHeightLimit,n as weatherTypes,a as weatherTypesArray};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"./SunLighting.js\";import e from\"./VirtualLighting.js\";const i={key:\"type\",defaultKeyValue:\"sun\",base:null,typeMap:{sun:t,virtual:e}};export{i as lightingTypes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(r){super(r)}clone(){}};r([s({readOnly:!0,json:{read:!1}})],t.prototype,\"type\",void 0),t=r([e(\"esri.webscene.background.Background\")],t);const c=t;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../Color.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{enumeration as e}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{colorAndTransparencyProperty as c}from\"../../symbols/support/materialUtils.js\";import p from\"./Background.js\";var l;const a={...c,nonNullable:!0};let i=l=class extends p{constructor(o){super(o),this.type=\"color\",this.color=new r([0,0,0,1])}clone(){return new l(this.cloneProperties())}cloneProperties(){return{color:this.color.clone()}}};o([e({color:\"color\"},{readOnly:!0})],i.prototype,\"type\",void 0),o([s(a)],i.prototype,\"color\",void 0),i=l=o([t(\"esri.webscene.background.ColorBackground\")],i);const n=i;export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"./Background.js\";import r from\"./ColorBackground.js\";const o={base:e,key:\"type\",typeMap:{color:r}};function t(e){return(r,o,t)=>{if(!r)return r;for(const n in e.typeMap)if(r.type===n){const o=new e.typeMap[n];return o.read(r,t),o}}}const n={types:o,json:{read:t(o),write:{overridePolicy:(e,r,o)=>({enabled:!o||!o.isPresentation})}}};export{n as backgroundProperty};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../core/JSONSupport.js\";import{clone as o}from\"../core/lang.js\";import r from\"../core/Logger.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"../views/3d/environment/SunnyWeather.js\";import{weatherTypes as l,validateWeatherType as a}from\"../views/3d/environment/weather.js\";import{lightingTypes as p}from\"./lightingTypes.js\";import c from\"./SunLighting.js\";import h from\"./VirtualLighting.js\";import{backgroundProperty as m}from\"./background/utils.js\";var g;const u=\"esri.webscene.Environment\",d=r.getLogger(u),b=(e,t,o)=>({enabled:!o||!o.isPresentation});let y=g=class extends t{constructor(e){super(e),this.lighting=new c,this.background=null,this.atmosphereEnabled=!0,this.starsEnabled=!0}set weather(e){a(e?.type,d)&&this._set(\"weather\",e)}clone(){return new g(this.cloneConstructProperties())}cloneConstructProperties(){return{lighting:this.lighting&&\"virtual\"===this.lighting.type?h.prototype.clone.call(this.lighting):c.prototype.clone.call(this.lighting),background:o(this.background),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,weather:this.weather.clone()}}};e([s({types:p,nonNullable:!0,json:{write:!0}})],y.prototype,\"lighting\",void 0),e([s(m)],y.prototype,\"background\",void 0),e([s({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:b}}})],y.prototype,\"atmosphereEnabled\",void 0),e([s({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:b}}})],y.prototype,\"starsEnabled\",void 0),e([s({types:l,nonNullable:!0,json:{write:!0},value:new i})],y.prototype,\"weather\",null),y=g=e([n(u)],y);const j=y;export{j as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{neverReached as i}from\"../../../core/compilerUtils.js\";import{clone as e}from\"../../../core/lang.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import{cast as r}from\"../../../core/accessorSupport/decorators/cast.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ensureOneOfType as o}from\"../../../core/accessorSupport/ensureType.js\";import{lightingTypes as g}from\"./lightingUtils.js\";import{SceneViewAtmosphere as h}from\"./SceneViewAtmosphere.js\";import l from\"./SunLighting.js\";import c from\"./VirtualLighting.js\";import a from\"../../../webscene/Environment.js\";import p from\"../../../webscene/SunLighting.js\";import m from\"../../../webscene/VirtualLighting.js\";var u;let b=u=class extends a{constructor(t){super(t),this.atmosphere=new h,this.lighting=new l,this.cachedCameraTrackingEnabled=null}static fromWebsceneEnvironment(t){const i=t.cloneConstructProperties();return new u({...i,lighting:i.lighting?\"virtual\"===i.lighting.type?c.fromWebsceneLighting(i.lighting):l.fromWebsceneLighting(i.lighting):void 0})}castLighting(t){return this._convertLighting(t)}applyLighting(t){this.lighting=this._convertLighting(t)}_convertLighting(t){return t?t instanceof l||t instanceof c?t:t instanceof p?this.lighting&&\"virtual\"!==this.lighting.type?this.lighting.cloneWithWebsceneLighting(t):new l({...t.cloneConstructProperties(),...this.lighting?.cloneNonPersistentConstructProperties()}):t instanceof m?this.lighting&&\"virtual\"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t):new c({...t.cloneConstructProperties(),...this.lighting?.cloneNonPersistentConstructProperties()}):o(g,t):new l}clone(){return new u({lighting:this.lighting.clone(),atmosphere:this.atmosphere.clone(),weather:this.weather.clone(),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,background:e(this.background)})}cloneWithWebsceneEnvironment(t){return new u({atmosphere:this.atmosphere.clone(),weather:this.weather.clone(),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,background:e(this.background),...t.cloneConstructProperties(),lighting:this._getLighting(t)})}_getLighting(t){switch(t.lighting.type){case\"sun\":return this.lighting&&\"sun\"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t.lighting):l.fromWebsceneLighting(t.lighting);case\"virtual\":return this.lighting&&\"virtual\"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t.lighting):c.fromWebsceneLighting(t.lighting);default:return i(t.lighting),l.fromWebsceneLighting(t.lighting)}}};t([n({type:h,json:{read:!1},nonNullable:!0})],b.prototype,\"atmosphere\",void 0),t([n({nonNullable:!0})],b.prototype,\"lighting\",void 0),t([r(\"lighting\")],b.prototype,\"castLighting\",null),b=u=t([s(\"esri.views.3d.environment.SceneViewEnvironment\")],b);const f=b;export{f as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.Realistic=0]=\"Realistic\",a[a.Local=1]=\"Local\",a[a.Mars=2]=\"Mars\",a[a.None=3]=\"None\"}(a||(a={}));export{a as AtmosphereType};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../chunks/vec2f64.js\";import{c as r}from\"../../../chunks/vec3f64.js\";import{c as i}from\"../../../chunks/vec4f64.js\";import{C as t}from\"../../../chunks/ChapmanAtmosphere.glsl.js\";import{NoParameters as s}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{ReloadableShaderModule as n}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as a}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as h}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as c,CompareFunction as l}from\"../../webgl/enums.js\";import{makePipelineState as m,simpleBlendingParams as d,defaultColorWriteParams as g,separateBlendingParams as u}from\"../../webgl/renderState.js\";class f extends s{constructor(){super(...arguments),this.heightParameters=i(),this.radii=e(),this.innerFadeDistance=0,this.altitudeFade=0,this.hazeStrength=1,this.renderScale=e(),this.backgroundColor=r()}}class p extends o{initializeProgram(e){return new h(e.rctx,p.shader.get().build(this.configuration),a)}initializePipeline(){return this.configuration.reduced?m({blending:d(c.ONE,c.ZERO),depthTest:{func:l.ALWAYS},colorWrite:g}):this.configuration.haze?m({blending:u(c.ONE,c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ONE),colorWrite:g}):m({blending:d(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA),depthTest:{func:l.LEQUAL},colorWrite:g})}}p.shader=new n(t,(()=>import(\"./ChapmanAtmosphere.glsl.js\")));export{f as ChapmanAtmospherePassParameters,p as ChapmanAtmosphereTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as o,parameter as r}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";class s extends o{constructor(){super(...arguments),this.haze=!1,this.reduced=!1}}e([r()],s.prototype,\"haze\",void 0),e([r()],s.prototype,\"reduced\",void 0);export{s as ChapmanAtmosphereTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Handles.js\";import{clamp as t,lerp as s,smoothstep as i}from\"../../../core/mathUtils.js\";import{watch as r}from\"../../../core/reactiveUtils.js\";import{s as a}from\"../../../chunks/vec2.js\";import{a as o}from\"../../../chunks/vec2f64.js\";import{s as n,l as h,p as d}from\"../../../chunks/vec3.js\";import{s as u}from\"../../../chunks/vec4.js\";import{earth as m}from\"../../../geometry/support/Ellipsoid.js\";import{AtmosphereType as p}from\"./AtmosphereType.js\";import{atmosphereHeight as l,innerAtmosphereDepth as c,computeInnerAltitudeFade as _}from\"./atmosphereUtils.js\";import{ChapmanAtmospherePassParameters as T,ChapmanAtmosphereTechnique as f}from\"./ChapmanAtmosphereTechnique.js\";import{ChapmanAtmosphereTechniqueConfiguration as v}from\"./ChapmanAtmosphereTechniqueConfiguration.js\";import{Pos2Tex as b}from\"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";import{createQuadVAO as R}from\"../webgl-engine/lib/glUtil3D.js\";import{PrimitiveType as w}from\"../../webgl/enums.js\";class q{constructor(t,s){this._view=t,this.type=p.Realistic,this._handles=new e,this._passParameters=new T,this._rootTileElevationMin=NaN,this._lowerBoundEarthRadius=m.radius,this._fadeHaze=0,this._tmpScale=o(),this._updateRadius(m.radius);const i=s.renderContext.rctx;this._updateRootTileElevationBounds(),this._handles.add([r((()=>this._view?.basemapTerrain?.rootTileElevationBounds),(()=>this._view?.basemapTerrain?this._updateRootTileElevationBounds():null)),r((()=>this._view?.basemapTerrain?.visibleElevationBounds),(()=>this._view?.basemapTerrain?this._updateVisibleElevationBounds():null))]);const a=new v;a.haze=!1,this._atmosphereTechnique=s.techniqueRepository.acquire(f,a),a.haze=!0,this._atmosphereHazeTechnique=s.techniqueRepository.acquire(f,a),a.reduced=!0,a.haze=!1,this._atmosphereReducedTechnique=s.techniqueRepository.acquire(f,a),a.haze=!0,this._atmosphereHazeReducedTechnique=s.techniqueRepository.acquire(f,a),this._vao=R(i,b)}destroy(){this._handles.destroy(),this._atmosphereTechnique.release(),this._atmosphereHazeTechnique.release(),this._atmosphereReducedTechnique.release(),this._atmosphereHazeReducedTechnique.release(),this._vao.dispose()}render(e,t){this._render(e,t?this._atmosphereTechnique:this._atmosphereReducedTechnique,e.offscreenRenderingHelper.depthTexture,t,!1)}renderHaze(e,t,s){this._fadeHaze=t,this._render(e,s?this._atmosphereHazeTechnique:this._atmosphereHazeReducedTechnique,e.offscreenRenderingHelper.linearDepthTexture,s,!0)}_render(e,t,i,r,o){if(null==i)return;const d=e.offscreenRenderingHelper;this._update(e.bindParameters.camera),this._passParameters.depthTexture=i;const u=d.background.color;n(this._passParameters.backgroundColor,u[0]*u[3],u[1]*u[3],u[2]*u[3]);const p=e.rctx.bindTechnique(t,this._passParameters,e.bindParameters);if(r)d.renderDepthDetached((()=>this._renderCommon(p,e)));else{const t=e.rctx.getViewport(),r=h(e.bindParameters.camera.eye)-m.radius;let n;if(r<l){const e=Math.min(1,Math.max(0,r/l));n=o?s(.4,.5,e):s(.2,.3,e)}else{const e=Math.min(1,Math.max(0,(r-l)/(15*l)));n=o?s(.5,1,e):s(.3,.6,e)}const u=Math.floor(n*e.bindParameters.camera.fullViewport[2]),c=Math.floor(n*e.bindParameters.camera.fullViewport[3]);e.rctx.setViewport(0,0,u,c),d.renderToTargets((()=>this._renderCommon(p,e)),d.tmpColor,d.tmpDepth,[0,0,0,1],!1,!1),e.rctx.setViewport(t.x,t.y,t.width,t.height),a(this._tmpScale,u/e.bindParameters.camera.fullViewport[2],c/e.bindParameters.camera.fullViewport[3]),d.compositeAtmosphereToMain(e.bindParameters,o,i,this._tmpScale)}}_renderCommon(e,t){null!=this._vao&&(t.rctx.bindVAO(this._vao),e.assertCompatibleVertexAttributeLocations(this._vao),t.rctx.drawArrays(w.TRIANGLE_STRIP,0,4))}_adjustRadiusForTesselation(e){return e*Math.cos(Math.PI/16/16)}_updateRootTileElevationBounds(){const e=this._view.basemapTerrain.rootTileElevationBounds.min;e!==this._rootTileElevationMin&&(this._rootTileElevationMin=e,this._lowerBoundEarthRadius=m.radius,this._updateVisibleElevationBounds())}_updateVisibleElevationBounds(){const e=this._adjustRadiusForTesselation(m.radius+this._view.basemapTerrain.visibleElevationBounds.min);e<this._lowerBoundEarthRadius&&this._updateRadius(e)}_updateRadius(e){this._lowerBoundEarthRadius=e,a(this._passParameters.radii,e,e+l),this._passParameters.innerFadeDistance=2*Math.sqrt((2*e-c)*c)}_update(e){if(!e)return;const r=d(e.eye),a=Math.sqrt(r),o=r-this._passParameters.radii[1]*this._passParameters.radii[1],n=t((a-this._passParameters.radii[0])/l,0,1);u(this._passParameters.heightParameters,a,r,o,n),this._passParameters.altitudeFade=_(a-this._lowerBoundEarthRadius),this._passParameters.hazeStrength=s(s(.6,1,i(9500,10500,a-m.radius)),1,this._fadeHaze)}static isSupported(e){return e.renderContext.rctx.capabilities.depthTexture}}export{q as ChapmanAtmosphere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{C as e}from\"../../../chunks/CloudsComposition.glsl.js\";import{ReloadableShaderModule as r}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as n}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as s,CompareFunction as l}from\"../../webgl/enums.js\";import{makePipelineState as m,separateBlendingParams as a,defaultColorWriteParams as g}from\"../../webgl/renderState.js\";class u extends i{constructor(e){super(e,new o,(()=>this.destroy()))}initializeProgram(e){return new t(e.rctx,u.shader.get().build(),n)}initializePipeline(){return m({blending:a(s.ONE,s.ZERO,s.SRC_ALPHA,s.ONE),depthTest:{func:l.LEQUAL},colorWrite:g})}}u.shader=new r(e,(()=>import(\"./CloudsComposition.glsl.js\")));export{u as CloudsCompositionTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{releaseMaybe as r,disposeMaybe as t}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{CloudsCompositionTechnique as c}from\"./CloudsCompositionTechnique.js\";import{NoParameters as n}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{createQuadVAO as p}from\"../webgl-engine/lib/glUtil3D.js\";import{PrimitiveType as a}from\"../../webgl/enums.js\";let u=class extends o{constructor(e){super(e),this._technique=new c(e),this._vao=p(e.rctx)}destroy(){this._technique=r(this._technique),this._vao=t(this._vao)}render(e){const o=e.bindParameters.cloudsFade;if(null==this._vao||null==o.data)return;if(!this._technique.compiled)return void this.requestRender();const r=e.rctx.bindTechnique(this._technique,m,e.bindParameters);e.rctx.bindVAO(this._vao),r.assertCompatibleVertexAttributeLocations(this._vao),e.rctx.drawArrays(a.TRIANGLE_STRIP,0,4)}};e([s({constructOnly:!0})],u.prototype,\"rctx\",void 0),e([s({constructOnly:!0})],u.prototype,\"viewingMode\",void 0),e([s({constructOnly:!0})],u.prototype,\"planetRadius\",void 0),e([s({constructOnly:!0})],u.prototype,\"requestRender\",void 0),u=e([i(\"esri.views.3d.environment.CloudsComposition\")],u);const m=new n;export{u as CloudsComposition};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{b as e}from\"../../../chunks/Clouds.glsl.js\";import{CloudsTextureChannels as r}from\"./CloudsData.js\";import{ReloadableShaderModule as i}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as o}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as n}from\"../webgl-engine/lib/Program.js\";import{BlendOperation as s,BlendFactor as l,CompareFunction as a}from\"../../webgl/enums.js\";import{makePipelineState as m,simpleBlendingParams as u,defaultColorWriteParams as g}from\"../../webgl/renderState.js\";class d extends t{constructor(e,r){super(e,r,(()=>this.destroy()))}initializeProgram(e){return new n(e.rctx,d.shader.get().build(this.configuration),o)}initializePipeline(){return m({blending:u(l.CONSTANT_COLOR,l.ONE_MINUS_CONSTANT_COLOR,s.ADD,this.configuration.writeTextureChannels===r.RG?[1,1,0,0]:[0,0,1,1]),depthTest:{func:a.LEQUAL},colorWrite:g})}}d.shader=new i(e,(()=>import(\"./Clouds.glsl.js\")));export{d as CloudsTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../chunks/NoiseTextureAtlas.glsl.js\";import{NoiseTextureRenderMode as r}from\"./NoiseTextureAtlasConfiguration.js\";import{ReloadableShaderModule as i}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as o}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as n}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as s,CompareFunction as l}from\"../../webgl/enums.js\";import{makePipelineState as a,simpleBlendingParams as m,separateBlendingParams as g,defaultColorWriteParams as u}from\"../../webgl/renderState.js\";class d extends t{initializeProgram(e){return new n(e.rctx,d.shader.get().build(this.configuration),o)}initializePipeline(){return a({blending:this.configuration.mode===r.Full?m(s.ONE,s.ZERO):g(s.ZERO,s.ONE,s.ONE,s.ZERO),depthTest:{func:l.ALWAYS},colorWrite:u})}}d.shader=new i(e,(()=>import(\"./NoiseTextureAtlas.glsl.js\")));export{d as NoiseTextureAtlasTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{releaseMaybe as r,disposeMaybe as s}from\"../../../core/maybe.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{j as h}from\"../../../chunks/vec2.js\";import{N as a}from\"../../../chunks/NoiseTextureAtlas.glsl.js\";import{NoiseTextureRenderMode as n,NoiseTextureAtlasTechniqueConfiguration as u}from\"./NoiseTextureAtlasConfiguration.js\";import{ATLAS_SIZE as c}from\"./NoiseTextureAtlasDimensions.js\";import{NoiseTextureAtlasTechnique as l}from\"./NoiseTextureAtlasTechnique.js\";import{createQuadVAO as p}from\"../webgl-engine/lib/glUtil3D.js\";import{FramebufferObject as _}from\"../../webgl/FramebufferObject.js\";import{TextureDescriptor as m}from\"../../webgl/TextureDescriptor.js\";let f=class extends t{constructor(e){super(e),this._needsRender=!0,this._passParameters=new a,this._frameBuffer=new _(e.context.renderContext.rctx,new m(c)),this._vao=p(e.context.renderContext.rctx)}get _techniqueRepository(){return this.context.techniqueRepository}get textureAtlas(){return null!=this._texture?null!=this._weatherMapTechnique&&this._weatherMapTechnique.compiled&&this._needsRender&&(this._texture=this._render(n.WeatherMap)):null!=this._fullTechnique&&this._fullTechnique.compiled&&(this._texture=this._render(n.Full)),this._texture}_setDirty(){this._needsRender=!0}updateWeatherMap(e){this._passParameters.weatherTile[0]===e[0]&&this._passParameters.weatherTile[1]===e[1]||(h(this._passParameters.weatherTile,e),this._setDirty())}destroy(){this._fullTechniqueCached=r(this._fullTechniqueCached),this._weatherMapTechniqueCached=r(this._weatherMapTechniqueCached),this._frameBuffer=s(this._frameBuffer),this._vao=s(this._vao)}get _fullTechnique(){if(null==this._fullTechniqueCached){const e=new u;e.mode=n.Full,this._fullTechniqueCached=this._techniqueRepository.acquire(l,e)}return this._fullTechniqueCached}get _weatherMapTechnique(){if(null==this._weatherMapTechniqueCached){const e=new u;e.mode=n.WeatherMap,this._weatherMapTechniqueCached=this._techniqueRepository.acquire(l,e)}return this._weatherMapTechniqueCached}_render(e){if(null==this._vao||null==this._frameBuffer)return null;const t=e===n.Full?this._fullTechnique:this._weatherMapTechnique,r=this.context.renderContext.rctx,s=r.getViewport();r.setViewport(0,0,c,c),r.bindFramebuffer(this._frameBuffer);const i=r.bindTechnique(t,this._passParameters,null);return r.bindVAO(this._vao),i.assertCompatibleVertexAttributeLocations(this._vao),r.gl.drawArrays(r.gl.TRIANGLE_STRIP,0,4),r.setViewport(s.x,s.y,s.width,s.height),this._needsRender=!1,this._frameBuffer.colorTexture}};e([i({constructOnly:!0})],f.prototype,\"context\",void 0),e([i({readOnly:!0})],f.prototype,\"_techniqueRepository\",null),f=e([o(\"esri.views.3d.environment.NoiseTextureAtlas\")],f);export{f as NoiseTextureAtlas};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import s from\"../../../core/Handles.js\";import{lerp as i}from\"../../../core/mathUtils.js\";import{releaseMaybe as r,disposeMaybe as a,destroyMaybe as o}from\"../../../core/maybe.js\";import{watch as n,initial as h}from\"../../../core/reactiveUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as d}from\"../../../chunks/mat3.js\";import{v as c}from\"../../../chunks/mat4.js\";import{c as m}from\"../../../chunks/mat4f64.js\";import{s as p,o as _,j as f}from\"../../../chunks/vec2.js\";import{a as g}from\"../../../chunks/vec2f64.js\";import{f as w,z as x}from\"../../../chunks/vec3f32.js\";import{getReferenceEllipsoid as T}from\"../../../geometry/ellipsoidUtils.js\";import{C as v,a as C}from\"../../../chunks/Clouds.glsl.js\";import{CloudsTextureChannels as y,CloudsRenderingStages as b}from\"./CloudsData.js\";import{cloudPresets as P}from\"./CloudsPresets.js\";import{CloudsTechnique as S}from\"./CloudsTechnique.js\";import{CloudsTechniqueConfiguration as j,RayMarchingSteps as I}from\"./CloudsTechniqueConfiguration.js\";import{NoiseTextureAtlas as E}from\"./NoiseTextureAtlas.js\";import{BindParameters as D}from\"../webgl-engine/lib/BindParameters.js\";import{createQuadVAO as z}from\"../webgl-engine/lib/glUtil3D.js\";import{TaskPriority as M,Task as U}from\"../../support/Scheduler.js\";import{TextureType as q,TextureWrapMode as F}from\"../../webgl/enums.js\";import{FramebufferObject as R}from\"../../webgl/FramebufferObject.js\";import{TextureDescriptor as H}from\"../../webgl/TextureDescriptor.js\";let B=class extends t{constructor(e){super(e),this._handles=new s,this._techniques=new Array,this._techniqueConfiguration=new j,this._bindParameters=new D(null,null,null),this._passParameters=new v,this._drawParameters=new C,this._weatherTile=g(),this._weatherTileCount=128,this._faceIndex=0,this._tileIndex=0,this.coverage=i(P.default.coverage[0],P.default.coverage[1],.5),this.density=i(P.default.density[0],P.default.density[1],.5),this.absorption=i(P.default.absorption[0],P.default.absorption[1],.5),this.cloudSize=i(P.default.cloudSize[0],P.default.cloudSize[1],.5),this.detailSize=i(P.default.detailSize[0],P.default.detailSize[1],.5),this.smoothness=i(P.default.smoothness[0],P.default.smoothness[1],.5),this.cloudHeight=i(P.default.cloudHeight[0],P.default.cloudHeight[1],.5),this.raymarchingSteps=P.default.raymarchingSteps,this._viewMatrix=m(),this._dirty=!1,this.running=!1,this._vao=z(e.context.renderContext.rctx)}_getTechnique(e){const t=1-this.context.renderContext.bindParameters.cloudsFade.readChannels,s=t===y.RG?2*e:2*e+1,i=this._techniques[s];return i||(this._techniqueConfiguration.writeTextureChannels=t,this._techniqueConfiguration.steps=e,this._techniques[s]=new S({rctx:this.context.renderContext.rctx,viewingMode:this.view.state.viewingMode},this._techniqueConfiguration),this._techniques[s])}updateWeatherTile(){const e=this.view.camera.position.latitude,t=this.view.camera.position.longitude;if(null==e||null==t)return;p(this._weatherTile,(e+90)/180,(t+180)/360);const s=Math.floor(this._weatherTileCount*Math.abs(2*this._weatherTile[0]-1));this._weatherTile[0]=Math.floor(2*this._weatherTileCount*this._weatherTile[0]),this._weatherTile[1]=Math.floor(4*(this._weatherTileCount-s)*this._weatherTile[1]);let i=0,r=0;if(null!=this.view.environment&&\"virtual\"!==this.view.environment.lighting.type&&null!=this.view.environment.lighting.date){const e=new Date(this.view.environment.lighting.date);e.setUTCHours(this.view.environment.lighting.date.getUTCHours()+(this.view.environment.lighting.displayUTCOffset??0)),i=31*e.getUTCMonth()+e.getUTCDate(),r=e.getUTCFullYear()}this._weatherTile[0]=(this._weatherTile[0]+i)%(2*this._weatherTileCount),this._weatherTile[1]=(this._weatherTile[1]+r%100)%(4*this._weatherTileCount),_(this._passParameters.weatherTile,this._weatherTile)||this.setDirty()}initialize(){const e=T(this.view.spatialReference);this._passParameters.cloudRadius=.5*e.radius,this.setDirty(),this.updateWeatherTile(),this._handles.add([this.view.resourceController.scheduler.registerTask(M.CLOUDS_GENERATOR,this),n((()=>[this.coverage,this.density,this.absorption,this.cloudSize,this.detailSize,this.smoothness,this.cloudHeight,this.raymarchingSteps]),(()=>this.setDirty()),h)])}destroy(){this._handles.destroy(),this._techniques.forEach((e=>r(e))),this._frameBufferCube=a(this._frameBufferCube),this._techniques.length=0,this._vao.dispose(),this._passParameters.noiseTexture=o(this._passParameters.noiseTexture)}get _tilesPerFace(){switch(this._techniqueConfiguration.steps){case I.SIXTEEN:return 1;case I.HUNDRED:return 4;case I.COUNT:case I.TWOHUNDRED:return 8}}_ensureNoiseTexture(){if(null!=this._passParameters.noiseTexture)this._passParameters.noiseTexture.updateWeatherMap(this._passParameters.weatherTile);else{const e=this.context;this._passParameters.noiseTexture=new E({context:e}),this._passParameters.noiseTexture.updateWeatherMap(this._passParameters.weatherTile)}return null!=this._passParameters.noiseTexture.textureAtlas}_ensureFrameBufferCube(e){if(null==this._frameBufferCube){const t=new H(e);t.target=q.TEXTURE_CUBE_MAP,t.wrapMode=F.CLAMP_TO_EDGE,this._frameBufferCube=new R(this.context.renderContext.rctx,t)}return this._frameBufferCube}get cubeMap(){return this._frameBufferCube}destroyFrameBufferCube(){this._frameBufferCube=a(this._frameBufferCube)}applyPreset(e,t){const s=e.median,r=e=>{const r=i(e[0],e[1],s);return t<.5?i(e[0],r,2*t):i(r,e[1],2*(t-.5))};this.coverage=r(e.coverage),this.density=r(e.density),this.absorption=r(e.absorption),this.cloudSize=r(e.cloudSize),this.detailSize=r(e.detailSize),this.smoothness=r(e.smoothness),this.cloudHeight=r(e.cloudHeight),this.raymarchingSteps=e.raymarchingSteps}setDirty(){this._dirty=this.running=!0}runTask(e){0===this._faceIndex&&0===this._tileIndex&&(this._passParameters.raymarchingSteps=this.raymarchingSteps,this.updateWeatherTile(),f(this._passParameters.weatherTile,this._weatherTile));const t=this._getTechnique(this._passParameters.raymarchingSteps);if(!t.compiled)return U.YIELD;if(!this.context.renderContext.bindParameters.cloudsFade.isCameraPositionFinal||this.context.renderContext.bindParameters.cloudsFade.isFading||!this._ensureNoiseTexture())return U.YIELD;0===this._faceIndex&&0===this._tileIndex&&(this.context.renderContext.bindParameters.cloudsFade.renderingStage=b.RENDERING,this._passParameters.absorption=this.absorption,this._passParameters.density=this.density,this._passParameters.cloudSize=this.cloudSize,this._passParameters.detailSize=this.detailSize,this._passParameters.smoothness=this.smoothness,this._passParameters.cloudHeight=this.cloudHeight,this._passParameters.coverage=this.coverage,this._dirty=!1);const s=this.context.renderContext.rctx,i=s.bindTechnique(t,this._passParameters,this._bindParameters);s.bindVAO(this._vao),i.assertCompatibleVertexAttributeLocations(this._vao);const r=s.getViewport(),a=t.configuration.cubeMapSize,o=a/this._tilesPerFace,n=this._tileIndex*o;s.setViewport(0,n,a,o);const h=this._ensureFrameBufferCube(a);s.bindFramebuffer(h);const u=N[this._faceIndex],l=A[this._faceIndex];c(this._viewMatrix,O,u,l),d(this._drawParameters.viewMatrix,this._viewMatrix);const m=q.TEXTURE_CUBE_MAP_POSITIVE_X+this._faceIndex;return h.setColorTextureTarget(m),i.bindDraw(this._drawParameters,this._bindParameters,this._passParameters),s.gl.drawArrays(s.gl.TRIANGLE_STRIP,0,4),s.gl.flush(),s.setViewport(r.x,r.y,r.width,r.height),this.requestRender(),++this._tileIndex,4===this._faceIndex&&this._tileIndex===this._tilesPerFace?(this.running=this._dirty,this._faceIndex=0,this._tileIndex=0,this.context.renderContext.bindParameters.cloudsFade.renderingStage=b.FINISHED_RENDERING):this._tileIndex===this._tilesPerFace&&(++this._faceIndex,this._tileIndex=0),e.madeProgress(),U.YIELD}};e([u({constructOnly:!0})],B.prototype,\"context\",void 0),e([u({constructOnly:!0})],B.prototype,\"view\",void 0),e([u({constructOnly:!0})],B.prototype,\"requestRender\",void 0),e([u()],B.prototype,\"coverage\",void 0),e([u()],B.prototype,\"density\",void 0),e([u()],B.prototype,\"absorption\",void 0),e([u()],B.prototype,\"cloudSize\",void 0),e([u()],B.prototype,\"detailSize\",void 0),e([u()],B.prototype,\"smoothness\",void 0),e([u()],B.prototype,\"cloudHeight\",void 0),e([u()],B.prototype,\"raymarchingSteps\",void 0),e([u()],B.prototype,\"running\",void 0),B=e([l(\"esri.views.3d.environment.CloudsGenerator\")],B);const N=[w(1,0,0),w(-1,0,0),w(0,1,0),w(0,-1,0),w(0,0,1)],A=[w(0,1,0),w(0,1,0),w(0,0,-1),w(0,0,1),w(0,1,0)],O=x();export{B as CloudsGenerator};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../chunks/Fog.glsl.js\";import{ReloadableShaderModule as r}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as n}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as s}from\"../../webgl/enums.js\";import{makePipelineState as l,separateBlendingParams as a,defaultColorWriteParams as g}from\"../../webgl/renderState.js\";class m extends i{constructor(e){super(e,new o,(()=>this.destroy()))}initializeProgram(e){return new t(e.rctx,m.shader.get().build(),n)}initializePipeline(){return l({blending:a(s.SRC_ALPHA,s.ZERO,s.ONE_MINUS_SRC_ALPHA,s.ONE),colorWrite:g})}}m.shader=new r(e,(()=>import(\"./Fog.glsl.js\")));export{m as FogTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{smoothstep as s}from\"../../../core/mathUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{n as i,e as a,g as n,h as c,l as p}from\"../../../chunks/vec3.js\";import{c as m}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../geometry/ellipsoidUtils.js\";import{atmosphereHeight as u}from\"./atmosphereUtils.js\";import{F as d}from\"../../../chunks/Fog.glsl.js\";import{FogTechnique as l}from\"./FogTechnique.js\";import{weatherHeightLimit as g}from\"./weather.js\";import{Pos2Tex as f}from\"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";import{createQuadVAO as _}from\"../webgl-engine/lib/glUtil3D.js\";import{PrimitiveType as j}from\"../../webgl/enums.js\";const y=.95,b=1;let v=class extends e{constructor(t){super(t),this._passParameters=new d;const e=t.context.renderContext.rctx;this._vao=_(e,f),this._technique=new l(t);const s=h(t.view.spatialReference);this._planetRadius=s.radius,this._atmosphereRadius=s.radius+u}destroy(){this._technique.release(),this._vao.dispose()}set strength(t){this._passParameters.fogStrength=t}get strength(){return this._passParameters.fogStrength}render(t,e){if(this._update(t,e),this._passParameters.fogAmount<=0)return;const s=this._technique;if(!s.compiled)return void this.context.requestRender();const r=t.offscreenRenderingHelper;r.renderDepthDetached((()=>{this._passParameters.depthTexture=r.depthTexture;const e=t.rctx.bindTechnique(s,this._passParameters,t.bindParameters);this._renderFog(e,t)}))}_renderFog(t,e){const s=e.rctx;s.bindVAO(this._vao),t.assertCompatibleVertexAttributeLocations(this._vao),s.drawArrays(j.TRIANGLE_STRIP,0,4)}_update(t,e){const r=t.bindParameters.camera;i(P,r.eye);const o=Math.max(0,a(P,t.bindParameters.lighting.mainLight.direction)),m=e.color;n(w,m,.1),c(this._passParameters.fogColor,w,m,o);const h=p(r.eye),u=h*h;this._passParameters.atmosphereC=u-this._atmosphereRadius*this._atmosphereRadius,this._passParameters.fogAmount=(1-s(y*g,b*g,Math.abs(h-this._planetRadius)))*e.amount,this._passParameters.fogStrength=e.strength}static isSupported(t){return t.capabilities.depthTexture}};t([r({constructOnly:!0})],v.prototype,\"context\",void 0),t([r({constructOnly:!0})],v.prototype,\"view\",void 0),t([r({constructOnly:!0})],v.prototype,\"rctx\",void 0),t([r({constructOnly:!0})],v.prototype,\"viewingMode\",void 0),v=t([o(\"esri.views.3d.environment.Fog\")],v);class x{constructor(){this.color=m(),this.strength=0,this.amount=0}}const P=m(),w=m();export{v as Fog,x as FogParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../chunks/SimpleAtmosphere.glsl.js\";import{SimpleAtmosphereGeometry as r}from\"./SimpleAtmosphereTechniqueConfiguration.js\";import{ReloadableShaderModule as i}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as n}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as l,CompareFunction as s}from\"../../webgl/enums.js\";import{makePipelineState as m,separateBlendingParams as g,backFaceCullingParams as a,defaultColorWriteParams as p}from\"../../webgl/renderState.js\";class h extends o{initializeProgram(e){return new n(e.rctx,h.shader.get().build(this.configuration),t)}initializePipeline(){return this.configuration.geometry===r.Cylinder?m({blending:g(l.SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),culling:a,depthTest:{func:s.LEQUAL},colorWrite:p}):m({blending:g(l.SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),depthTest:{func:s.LEQUAL},colorWrite:p})}}h.shader=new i(e,(()=>import(\"./SimpleAtmosphere.glsl.js\")));export{h as SimpleAtmosphereTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nconst e=new Uint8ClampedArray([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,6,0,0,0,6,0,0,0,6,0,0,0,6,0,0,0,6,0,0,0,7,0,0,0,7,0,0,0,7,0,0,0,7,0,0,0,7,0,0,0,8,0,0,0,8,0,0,0,8,0,0,0,8,0,0,0,8,0,0,0,9,0,0,0,9,0,0,0,9,0,0,0,9,0,0,0,9,0,0,0,10,0,0,0,10,0,0,0,10,0,0,0,10,0,0,0,11,0,0,0,11,0,0,0,11,0,0,0,11,0,0,0,11,0,0,0,12,0,0,0,12,0,0,0,12,0,0,0,12,0,0,0,13,0,0,0,13,0,0,0,13,0,0,0,13,0,0,0,14,0,0,0,14,0,0,0,14,0,0,0,14,0,0,0,15,0,0,0,15,0,0,0,15,0,0,0,15,0,0,0,15,16,0,0,16,16,0,0,16,16,0,0,16,16,0,0,16,15,0,0,17,15,0,0,17,15,0,0,17,15,0,0,17,14,0,0,18,14,0,0,18,14,0,0,18,13,0,0,19,13,0,0,19,13,0,0,19,13,0,0,19,13,0,0,20,13,0,0,20,13,0,0,20,13,0,0,20,12,0,0,21,12,0,0,21,12,0,0,21,12,0,0,21,12,0,0,22,12,0,0,22,12,0,0,22,12,0,0,22,11,0,0,23,11,0,0,23,11,0,0,23,11,0,0,24,11,0,0,24,11,0,0,24,11,0,0,24,10,0,0,25,10,0,0,25,10,0,0,25,10,0,0,26,10,0,0,26,10,0,0,26,10,0,0,26,9,0,0,27,9,0,0,27,9,0,0,27,18,0,0,28,18,0,0,28,18,0,0,28,18,0,0,28,18,0,0,29,18,0,0,29,18,0,0,29,17,0,0,30,17,0,0,30,17,0,0,30,17,0,0,30,16,0,0,31,16,0,0,31,16,0,0,31,16,0,0,32,16,0,0,32,16,0,0,32,15,0,0,33,15,0,0,33,15,0,0,33,15,0,0,34,15,8,0,34,15,8,0,34,15,8,0,34,15,7,0,35,15,7,0,35,15,7,0,35,21,7,0,36,21,7,0,36,21,7,0,36,21,7,0,37,21,7,0,37,21,7,0,37,20,7,0,38,20,7,0,38,20,7,0,38,20,7,0,39,20,7,0,39,20,7,0,39,20,7,0,39,19,6,0,40,19,6,0,40,19,6,0,40,19,6,0,41,19,6,0,41,19,6,0,41,18,6,0,42,18,6,0,42,18,6,0,42,24,6,0,43,24,6,0,43,24,6,0,43,23,6,0,44,23,6,0,44,23,6,0,44,23,6,0,45,23,6,0,45,23,6,0,45,22,6,0,46,22,6,0,46,22,6,0,46,22,5,0,47,22,5,0,47,22,5,0,47,21,5,0,48,21,5,0,48,21,5,0,48,21,5,0,49,21,5,0,49,26,5,0,49,25,5,0,50,25,5,0,50,25,5,0,50,25,5,0,51,25,5,0,51,25,5,0,51,25,5,0,52,25,5,0,52,25,5,0,52,24,5,0,53,24,5,0,53,24,5,0,53,24,9,0,54,28,9,0,54,28,9,0,54,28,9,0,55,28,9,0,55,27,9,0,56,27,9,0,56,27,9,0,56,27,9,4,57,27,9,4,57,27,9,4,57,26,9,4,58,26,9,4,58,26,9,4,58,26,9,4,59,26,9,4,59,26,9,4,59,26,8,4,60,30,8,4,60,30,8,4,60,29,8,4,61,29,8,4,61,29,8,4,62,29,8,4,62,29,8,4,62,28,8,4,63,28,8,4,63,28,8,4,63,28,12,4,64,28,12,4,64,28,12,4,64,27,12,4,65,27,12,8,65,27,12,8,65,31,12,8,66,31,12,8,66,30,11,8,67,30,11,8,67,30,11,8,67,30,11,8,68,30,11,8,68,30,11,8,68,30,15,7,69,30,15,7,69,30,15,7,69,33,15,11,70,33,15,11,70,32,14,11,71,32,14,11,71,32,14,11,71,32,18,14,72,32,18,14,72,32,18,14,72,31,17,14,73,35,17,14,73,34,17,17,74,34,21,17,74,34,21,17,74,34,20,17,75,34,20,20,75,34,20,20,75,34,23,20,76,34,23,20,76,36,23,23,77,36,23,23,77,36,23,23,77,36,23,23,78,36,26,26,78,36,26,26,78,36,26,26,79,36,26,29,79,38,26,29,80,38,29,29,80,38,29,29,80,38,28,31,81,38,28,31,81,38,31,31,81,37,31,34,82,37,31,34,82,37,31,37,83,40,34,37,83,40,34,37,83,39,33,39,84,39,33,39,84,39,36,42,84,39,36,42,85,39,36,42,85,39,36,42,85,39,39,44,86,39,39,44,86,41,38,47,87,41,41,47,87,41,41,50,87,41,41,49,88,41,41,52,88,40,43,52,89,43,43,52,89,43,43,54,89,42,45,54,90,42,45,57,90,42,45,57,90,42,45,59,91,42,48,59,91,44,47,61,92,44,47,61,92,44,50,61,92,44,49,63,93,44,49,63,93,44,52,66,93,43,52,65,94,46,54,68,94,46,54,70,95,46,54,70,95,46,54,70,95,45,56,72,96,45,56,72,96,45,58,74,97,47,58,76,97,47,58,76,97,47,60,78,98,47,60,78,98,47,60,81,98,49,62,80,99,49,62,82,99,48,61,84,100,48,64,84,100,48,64,84,100,50,63,86,101,50,66,86,101,50,66,88,101,50,65,90,102,52,67,89,103,51,69,91,104,51,68,92,105,52,69,93,107,52,71,94,108,54,70,96,109,53,71,96,111,52,73,98,112,54,72,98,114,53,73,100,115,54,72,100,117,54,73,102,118,55,74,104,120,55,76,105,121,56,77,106,123,56,76,107,124,57,79,107,126,58,78,110,128,57,79,111,129,56,80,113,131,58,79,112,132,57,82,114,134,58,81,116,136,60,82,117,137,59,83,117,139,60,83,119,141,59,84,120,142,60,85,122,144,59,86,122,146,60,86,126,148,62,87,127,149,61,88,127,151,62,88,128,153,63,89,130,155,62,90,131,156,63,90,132,158,64,91,134,160,65,91,135,162,64,92,136,163,63,93,138,165,66,95,139,167,65,95,140,169,66,95,142,171,67,96,142,172,66,97,144,174,67,99,145,176,67,97,148,178,67,99,147,180,68,100,149,181,68,100,150,183,69,101,152,185,70,102,153,187,71,103,155,188,70,103,156,190,70,104,157,192,71,105,158,194,71,106,160,195,72,106,161,197,72,108,161,199,73,108,163,200,73,109,164,202,74,109,165,204,74,110,167,206,75,111,168,207,74,112,170,209,75,112,170,210,76,113,171,212,76,114,173,214,77,115,174,215,78,115,175,217,78,116,175,218,78,117,177,220,78,118,178,221,79,118,180,223,80,120,180,224,81,120,181,226,81,120,182,227,82,121,184,229,82,122,185,230,84,123,186,232,83,123,187,233,84,124,189,234,84,125,188,235,85,126,189,237,86,126,190,238,86,127,191,239,87,127,192,240,87,129,193,242,88,129,194,243,89,130,195,244,90,131,196,245,90,132,197,246,91,132,197,247,92,133,198,248,92,134,199,249,93,135,200,250,94,136,201,251,95,137,202,252,96,138,203,253,97,140,204,254,98,141,205,254,99,142,206,255,101,143,207,255,102,144,208,255,103,146,209,255,104,147,209,255,106,148,210,255,107,149,211,255,108,151,212,255,110,152,213,255,111,153,213,255,112,154,214,255,114,156,215,255,115,157,215,255,117,158,216,255,118,160,217,255,120,161,217,255,121,162,218,255,123,164,218,255,124,165,219,255,125,166,219,255,127,167,220,255,129,169,220,255,130,170,221,255,132,171,221,255,133,173,222,255,134,174,222,255,136,175,223,255,139,178,224,255,142,180,224,255,144,182,225,255,147,185,226,255,150,187,226,255,153,189,227,255,155,191,228,255,158,194,228,255,160,196,229,255,163,198,229,255,165,200,230,255,168,202,231,255,170,203,231,255,172,205,232,255,174,207,232,255,176,209,233,255,178,210,234,255,180,212,234,255,182,214,235,255,184,215,236,255,186,217,237,255,188,219,238,255,190,220,238,255,192,221,239,255,193,222,240,255,194,224,240,255,196,225,241,255,197,226,241,255,198,226,242,255,199,227,242,255,200,228,242,255,201,228,243,255,202,229,243,255,203,230,243,255,204,230,244,255,205,231,244,255,207,232,244,255,208,233,245,255,209,233,245,255,211,234,246,255,213,235,246,255,217,238,247,255,222,240,248,255,226,242,249,255,231,245,250,255,236,247,251,255,241,249,252,255,245,251,253,255,249,252,254,255,255,255,255,255]);export{e as earthAtmosphereTextureSimple};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../core/maybe.js\";import{c as t}from\"../../../chunks/mat4.js\";import{c as r}from\"../../../chunks/mat4f64.js\";import{AtmosphereType as s}from\"./AtmosphereType.js\";import{S as o}from\"../../../chunks/SimpleAtmosphere.glsl.js\";import{SimpleAtmosphereTechnique as i}from\"./SimpleAtmosphereTechnique.js\";import{SimpleAtmosphereTechniqueConfiguration as m,SimpleAtmosphereGeometry as a}from\"./SimpleAtmosphereTechniqueConfiguration.js\";import{earthAtmosphereTextureSimple as n}from\"./resources/SimpleAtmosphereTexture.js\";import{glLayout as p}from\"../support/buffer/glUtil.js\";import{newLayout as c}from\"../support/buffer/InterleavedLayout.js\";import{Default3D as u}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{createPolySphereData as f}from\"../webgl-engine/lib/GeometryUtil.js\";import{VertexArrayObject as h}from\"../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as l}from\"../webgl-engine/lib/VertexAttribute.js\";import{BufferObject as b}from\"../../webgl/BufferObject.js\";import{TextureWrapMode as g,PrimitiveType as j,Usage as _}from\"../../webgl/enums.js\";import{Texture as x}from\"../../webgl/Texture.js\";import{TextureDescriptor as w}from\"../../webgl/TextureDescriptor.js\";import{vertexCount as A}from\"../../webgl/Util.js\";class d{constructor(e,t){this.type=s.Local,this._configuration=new m,this._passParameters=new o,this._configuration.geometry=a.Cylinder,this._technique=t.techniqueRepository.acquire(i,this._configuration);const r=t.renderContext.rctx;this._vao=this._createVertexArrayObject(r),this._vaoCount=A(this._vao,\"geometry\");const p=new w;p.wrapMode=g.CLAMP_TO_EDGE,p.flipped=!0,p.width=1,p.height=512,this._passParameters.texture=new x(r,p,n)}destroy(){this._passParameters.texture=e(this._passParameters.texture),this._vao.dispose(),this._technique.release()}render(e){const t=e.rctx,r=t.bindTechnique(this._technique,this._passParameters,e.bindParameters);y(v,e.bindParameters.camera.viewMatrix),r.setUniformMatrix4fv(\"view\",v),t.bindVAO(this._vao),r.assertCompatibleVertexAttributeLocations(this._vao),t.drawArrays(j.TRIANGLES,0,this._vaoCount)}renderHaze(){return!1}_createVertexArrayObject(e){const t=f(1,2,!1),r=t.indices[0][1],s=t.vertexAttributes[0][1];for(let a=0;a<r.length;a+=3){const e=r[a];r[a]=r[a+2],r[a+2]=e}const o=s.data,i=T.createBuffer(r.length),m=i.position;for(let a=0;a<r.length;++a){const e=3*r[a];m.set(a,0,o[e]),m.set(a,1,o[e+1]),m.set(a,2,o[e+2])}return new h(e,u,{geometry:p(T)},{geometry:b.createVertex(e,_.STATIC_DRAW,i.buffer)})}}function y(e,r){t(e,r),e[12]=0,e[13]=0,e[14]=0,e[15]=1}const v=r(),T=c().vec3f(l.POSITION);export{d as LocalAtmosphere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nconst e=new Uint8ClampedArray([0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,6,0,0,0,6,0,0,0,7,0,0,0,7,0,0,0,7,0,0,0,8,0,0,0,8,0,0,0,8,0,0,0,9,0,0,0,9,0,0,0,9,0,0,0,10,0,0,0,10,0,0,0,11,0,0,0,11,0,0,0,11,0,0,0,12,0,0,0,12,0,0,0,12,0,0,0,13,0,0,0,13,0,0,0,14,0,0,0,14,0,0,0,14,0,0,0,14,0,0,0,14,0,0,0,15,0,0,0,15,0,0,0,16,0,0,0,16,0,0,0,16,0,0,0,17,0,0,0,17,0,0,0,18,0,0,0,18,0,0,0,19,0,0,0,19,0,0,0,19,0,0,0,20,0,0,0,20,0,0,0,21,0,0,0,21,0,0,0,22,0,0,0,22,11,0,0,23,11,0,0,23,11,0,0,23,11,0,0,23,11,0,0,24,11,0,0,24,11,0,0,24,10,0,0,25,10,0,0,25,10,0,0,26,10,0,0,26,9,0,0,27,9,0,0,27,9,0,0,28,9,0,0,28,9,0,0,29,9,0,0,29,8,0,0,30,8,0,0,30,8,0,0,31,8,0,0,31,8,0,0,32,8,0,0,32,8,0,0,32,8,0,0,32,8,0,0,33,8,0,0,33,8,0,0,34,7,0,0,35,7,0,0,35,7,0,0,36,7,0,0,36,7,7,0,37,7,7,0,37,7,7,0,38,7,7,0,38,13,7,0,39,13,7,0,39,13,6,0,40,13,6,0,40,12,6,0,41,12,6,0,41,12,6,0,41,12,6,0,42,12,6,0,42,12,6,0,43,12,6,0,43,12,6,0,44,12,6,0,44,11,6,0,45,11,6,6,45,11,6,6,46,11,5,5,47,11,5,5,47,11,5,5,48,11,5,5,48,10,5,5,49,10,5,5,49,10,5,5,50,15,5,5,51,15,5,5,51,15,5,5,51,15,5,5,51,15,5,5,52,15,5,5,52,14,5,5,53,14,5,5,54,14,5,5,54,14,5,5,55,14,5,5,55,14,5,5,56,13,4,4,57,13,4,4,57,13,4,4,58,13,4,4,58,13,4,4,59,13,4,4,59,17,4,4,60,17,4,4,60,17,4,4,60,17,4,4,61,17,4,4,61,16,4,4,62,16,4,4,63,16,4,4,63,16,8,4,64,16,8,4,64,16,8,4,65,15,8,4,66,15,8,4,66,15,8,4,67,19,8,4,68,19,8,4,68,18,7,4,69,18,7,4,69,18,7,4,69,18,7,4,70,18,7,4,70,18,7,4,71,18,7,4,71,18,7,4,72,17,7,3,73,17,7,3,73,21,7,3,74,21,7,3,74,20,7,3,75,20,7,3,76,20,7,3,76,20,7,3,77,20,7,3,77,20,7,3,78,20,7,3,78,20,7,7,78,19,6,6,79,19,10,6,80,19,10,6,80,22,9,6,81,22,9,6,81,22,9,6,82,22,9,6,83,22,9,6,83,21,9,6,84,21,9,6,84,21,9,6,85,21,9,6,86,21,9,6,86,23,9,6,87,23,9,6,87,23,9,6,87,23,9,6,88,23,9,6,88,23,9,6,89,23,8,6,90,23,8,6,90,22,8,6,91,22,8,6,91,25,8,6,92,25,8,5,93,25,8,5,93,24,8,5,94,24,8,5,94,24,11,5,95,24,11,5,96,24,11,5,96,26,11,5,97,26,11,5,97,26,11,5,97,26,10,5,98,26,10,5,98,26,10,5,99,25,10,5,100,25,10,5,100,25,10,5,101,25,10,5,101,25,10,5,102,27,10,5,103,27,10,5,103,27,10,5,104,27,10,5,104,27,12,5,105,26,12,5,106,26,12,5,106,29,12,5,106,29,12,5,106,29,12,7,107,28,12,7,108,28,12,7,108,28,12,7,109,28,12,7,109,30,12,7,110,30,11,7,111,30,11,7,111,30,11,7,112,30,11,7,112,29,11,7,113,29,11,7,114,29,11,7,114,31,11,7,115,31,11,7,115,31,11,7,115,31,11,7,116,31,11,7,116,33,13,7,117,33,13,9,117,32,13,9,118,32,13,9,118,32,13,9,119,34,15,8,120,34,15,8,120,34,15,8,121,36,15,8,121,36,15,8,122,36,15,8,122,35,15,8,123,37,14,8,124,37,14,8,124,37,14,8,124,37,14,8,124,39,14,8,125,39,16,8,125,38,16,8,126,38,16,8,127,38,16,8,127,40,16,10,128,40,16,10,128,40,16,10,129,42,18,10,129,41,18,10,130,41,18,10,130,43,18,10,131,43,18,10,131,42,17,10,132,42,17,12,132,42,17,12,133,44,17,12,133,44,17,12,133,46,17,11,134,46,17,11,134,45,19,11,135,45,19,11,135,47,19,11,136,47,19,11,136,47,19,11,137,47,19,11,137,48,20,11,138,48,20,11,138,50,20,13,139,50,20,13,139,49,20,13,140,49,22,13,140,51,22,13,141,51,22,13,141,50,22,13,142,52,22,13,142,52,21,12,143,53,21,12,143,53,21,12,143,53,21,12,143,53,21,14,144,53,23,14,144,55,23,14,145,55,23,14,145,56,23,14,146,56,23,14,146,57,24,14,147,57,24,14,147,59,24,16,148,59,24,16,148,58,24,15,149,58,26,15,149,58,26,15,149,60,26,15,150,60,26,15,150,61,25,15,151,61,25,15,151,62,25,17,152,62,25,17,152,64,25,17,152,64,27,17,152,63,27,17,153,63,27,17,153,65,27,17,153,66,28,17,154,66,28,17,154,67,28,16,155,67,28,16,155,67,30,16,155,69,29,18,156,69,29,18,156,68,29,18,157,70,29,18,157,70,29,18,157,71,31,18,158,71,31,18,158,72,30,19,159,72,30,19,159,74,30,19,159,73,30,19,160,73,32,19,160,74,32,19,161,74,32,21,161,76,32,21,161,78,33,21,161,78,33,21,161,79,35,20,162,78,34,20,163,79,34,22,164,81,36,22,164,82,36,22,165,81,35,22,166,82,37,21,167,84,37,21,167,85,36,21,168,86,38,23,169,88,38,23,169,88,38,23,170,88,39,23,170,89,39,24,171,91,40,24,171,92,40,24,172,93,40,24,173,94,41,25,173,95,41,25,174,96,42,25,175,98,42,25,175,99,43,26,176,99,43,26,177,101,45,26,177,102,44,26,178,103,46,27,179,104,46,27,179,105,46,27,179,106,45,28,180,108,47,28,180,108,46,28,181,109,48,28,182,111,48,29,182,111,49,29,183,114,49,29,184,114,50,30,184,114,50,30,185,116,51,30,185,117,51,30,186,119,52,31,187,119,53,31,187,121,53,31,188,122,54,33,188,123,54,32,189,124,55,32,189,125,55,32,189,126,56,34,190,128,56,34,190,128,57,33,191,130,57,33,191,131,58,35,192,131,58,35,192,133,59,34,193,134,60,35,194,135,60,35,194,136,61,37,195,139,61,37,195,139,62,36,196,141,62,36,196,141,63,38,197,142,63,38,197,143,64,39,198,144,64,39,198,146,66,39,198,146,67,39,198,147,67,38,199,147,68,40,199,149,68,40,200,150,69,40,200,152,70,41,201,154,71,41,201,154,71,42,202,155,72,42,202,156,73,41,203,157,73,43,203,158,74,42,204,160,75,44,204,161,76,44,204,162,77,44,205,164,77,45,205,165,78,45,206,166,79,45,206,168,80,46,207,169,81,46,207,170,83,47,207,171,83,47,207,172,83,47,207,174,85,48,208,175,85,48,208,177,85,48,209,178,87,49,209,180,87,49,210,181,87,49,210,182,89,50,210,182,89,50,211,185,91,50,211,186,91,51,212,186,93,51,212,189,94,52,212,190,95,51,213,192,96,51,213,193,96,53,213,194,97,52,214,195,98,54,214,197,98,55,215,198,100,55,215,199,101,55,215,200,102,55,216,202,103,55,216,203,104,55,216,204,105,57,216,205,106,57,216,207,107,58,216,208,108,58,217,209,109,59,217,210,110,60,217,211,111,60,218,212,112,61,218,213,113,61,218,214,114,62,219,217,115,63,219,217,116,64,219,218,118,64,220,219,119,65,220,220,121,66,220,222,121,67,221,222,122,67,221,222,123,68,221,223,124,69,222,224,125,70,222,225,127,71,222,226,128,72,223,228,129,73,223,228,130,74,223,229,132,75,223,230,135,79,224,231,138,81,224,233,141,84,224,233,144,87,225,235,147,91,225,236,150,94,225,237,154,97,225,238,158,102,225,239,161,107,225,239,165,110,225,240,168,114,226,241,172,118,226,241,176,122,226,241,181,126,226,242,183,130,227,243,186,135,227,243,190,139,227,244,194,143,227,244,197,147,228,244,200,150,228,245,204,154,228,245,207,157,228,245,210,161,229,246,212,164,229,246,215,167,229,246,217,169,229,246,220,172,230,247,221,174,230]);export{e as marsAtmosphereTextureSimple};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{lerp as e,clamp as t}from\"../../../core/mathUtils.js\";import{disposeMaybe as s}from\"../../../core/maybe.js\";import{watch as r,syncAndInitial as i}from\"../../../core/reactiveUtils.js\";import{u as o}from\"../../../chunks/mat4.js\";import{c as a}from\"../../../chunks/mat4f64.js\";import{s as n}from\"../../../chunks/vec2.js\";import{l as h,g as m,a as p,i as u,f as c,p as _}from\"../../../chunks/vec3.js\";import{c as l}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as d}from\"../../../geometry/ellipsoidUtils.js\";import{newFloatArray as f}from\"../../../geometry/support/FloatArray.js\";import{AtmosphereType as g}from\"./AtmosphereType.js\";import{computeInnerAltitudeFade as b,innerAtmosphereDepth as R}from\"./atmosphereUtils.js\";import{S as j}from\"../../../chunks/SimpleAtmosphere.glsl.js\";import{SimpleAtmosphereTechnique as x}from\"./SimpleAtmosphereTechnique.js\";import{SimpleAtmosphereTechniqueConfiguration as V,SimpleAtmosphereGeometry as y}from\"./SimpleAtmosphereTechniqueConfiguration.js\";import{marsAtmosphereTextureSimple as w}from\"./resources/MarsAtmosphereTexture.js\";import{makePiecewiseLinearFunction as A}from\"../support/mathUtils.js\";import{glLayout as P}from\"../support/buffer/glUtil.js\";import{newLayout as T}from\"../support/buffer/InterleavedLayout.js\";import{Default3D as q}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{createQuadVAO as v}from\"../webgl-engine/lib/glUtil3D.js\";import{project as S}from\"../webgl-engine/lib/Util.js\";import{VertexArrayObject as F}from\"../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as C}from\"../webgl-engine/lib/VertexAttribute.js\";import{BufferObject as M}from\"../../webgl/BufferObject.js\";import{TextureWrapMode as U,PrimitiveType as W,Usage as I}from\"../../webgl/enums.js\";import{Texture as O}from\"../../webgl/Texture.js\";import{TextureDescriptor as k}from\"../../webgl/TextureDescriptor.js\";import{vertexCount as D}from\"../../webgl/Util.js\";const L=128,E=-R,G=0,H=50,N=()=>1-511/512,B=A([[50,.1015625],[500,.21875],[5e3,1-250/512],[5e4,.4140625]]);class z{constructor(e,t){this.view=e,this.type=g.Mars,this._passParameters=new j,this._vaoCount=0,this._texV1=1;const s=d(e.spatialReference);this._planetRadius=s.radius,this._outerRimWidth=s.outerAtmosphereRimWidth,this._innerRimFactor=(this._planetRadius+E)/this._planetRadius,this._middleRimFactor=(this._planetRadius+G)/this._planetRadius,this._outerRimFactor=(this._planetRadius+this._outerRimWidth)/this._planetRadius,this._texV0=G/this._outerRimWidth,this._texVScale=this._texV1-this._texV0,this._techniqueRepository=t.techniqueRepository;const o=t.renderContext.rctx;this._cameraChangeHandle=r((()=>this.view.state?.camera),(()=>t.requestRender()),i),this._vao=this._createRibbon(o),this._vaoCount=D(this._vao,\"geometry\"),this._fadeVao=v(o),this._fadeVaoCount=D(this._fadeVao,\"geometry\");const a=new k;a.wrapMode=U.CLAMP_TO_EDGE,a.flipped=!0,a.width=1,a.height=512,this._passParameters.texture=new O(o,a,w);const n=new V;n.geometry=y.Cone,this._coneTechnique=this._techniqueRepository.acquire(x,n),n.geometry=y.Underground,this._undergroundTechnique=this._techniqueRepository.acquire(x,n)}destroy(){this._coneTechnique.release(),this._undergroundTechnique.release(),this._cameraChangeHandle.remove(),this._passParameters.texture=s(this._passParameters.texture),this._fadeVao.dispose(),this._vao.dispose()}render(e){const t=e.bindParameters.camera;this._update(t);const s=e.rctx;this._passParameters.undergroundFadeAlpha<1&&(s.bindTechnique(this._coneTechnique,this._passParameters,e.bindParameters),s.bindVAO(this._vao),s.drawArrays(W.TRIANGLES,0,this._vaoCount)),this._passParameters.undergroundFadeAlpha>0&&(s.bindTechnique(this._undergroundTechnique,this._passParameters,e.bindParameters),s.bindVAO(this._fadeVao),s.drawArrays(W.TRIANGLE_STRIP,0,this._fadeVaoCount))}renderHaze(){}_update(s){const r=l(),i=this._planetRadius,o=h(s.eye),a=o-i;if(a<0){const e=Math.min(-a/5e3,1);this._passParameters.undergroundFadeAlpha=e}else this._passParameters.undergroundFadeAlpha=0;const p=Math.max(H,a),u=i+E;this._passParameters.innerScale=Y(i+p,i,u)-1,this._passParameters.altitudeFade=b(a),m(r,s.eye,(i+H)/o),J(r,s.center,s.up,i,this._passParameters.silhouette);const c=this._computeScreenRimWidth(s,r,s.up,this._passParameters.silhouette),_=N(),d=B(a);let f=this._texV0+_*this._texVScale,g=this._texV0+c*d*this._texVScale;if(a>H){J(s.eye,s.center,s.up,i,this._passParameters.silhouette);const r=this._computeScreenRimWidth(s,s.eye,s.up,this._passParameters.silhouette),o=t((r-1.5)/(c-1.5),0,1);f=this._texV0+o*_*this._texVScale,g=this._texV0+e(this._texV1,c*d,o)*this._texVScale}n(this._passParameters.texV,f,g)}_createRibbon(e){const t=f(3+3*L*3),s=new Uint32Array(3*L*5);t[0]=0,t[1]=0,t[2]=-1;for(let o=0;o<L;o++){const e=9*o+3;t[e]=o,t[e+1]=this._innerRimFactor,t[e+2]=-1,t[e+3]=o,t[e+4]=this._middleRimFactor,t[e+5]=0,t[e+6]=o,t[e+7]=this._outerRimFactor,t[e+8]=1;const r=3*o+1,i=o===L-1?1:r+3,a=15*o;s[a]=r,s[a+1]=r+1,s[a+2]=i+1,s[a+3]=i+1,s[a+4]=i,s[a+5]=r,s[a+6]=r+1,s[a+7]=r+2,s[a+8]=i+2,s[a+9]=i+2,s[a+10]=i+1,s[a+11]=r+1,s[a+12]=r,s[a+13]=i,s[a+14]=0}const r=Z.createBuffer(s.length),i=r.position;for(let o=0;o<s.length;++o){const e=3*s[o];i.set(o,0,t[e]),i.set(o,1,t[e+1]),i.set(o,2,t[e+2])}return new F(e,q,{geometry:P(Z)},{geometry:M.createVertex(e,I.STATIC_DRAW,r.buffer)})}_computeScreenRimWidth(e,t,s,r){return p(Q,r.center,r.v2),m(X,Q,this._outerRimFactor),o(K,t,Q,s),S(Q,K,e.projectionMatrix,e.viewport,Q),S(X,K,e.projectionMatrix,e.viewport,X),u(Q,X)/e.height}}function J(e,t,s,r,i){const o=h(e),a=r*Math.sqrt(o*o-r*r)/o,n=Math.sqrt(r*r-a*a),p=i.v1,u=i.v2;return m(i.center,e,n/o),c(p,e,t),_(p)<1&&c(p,e,s),m(p,p,a/h(p)),c(u,p,e),m(u,u,a/h(u)),a}const K=a(),Q=l(),X=l();function Y(e,t,s){return e*e/(Math.sqrt(e*e-t*t)*Math.sqrt(e*e-s*s)+t*s)}const Z=T().vec3f(C.POSITION);export{z as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{P as e}from\"../../../chunks/Precipitation.glsl.js\";import{NoParameters as i}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{ReloadableShaderModule as r}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Program as s}from\"../webgl-engine/lib/Program.js\";import{VertexAttribute as n}from\"../webgl-engine/lib/VertexAttribute.js\";import{BlendFactor as o,CompareFunction as l}from\"../../webgl/enums.js\";import{makePipelineState as a,separateBlendingParams as m,defaultColorWriteParams as c}from\"../../webgl/renderState.js\";class g extends i{constructor(){super(...arguments),this.time=0,this.radius=1,this.width=500,this.opacity=1}}class d extends t{initializeProgram(e){return new s(e.rctx,d.shader.get().build(this.configuration),h)}initializePipeline(){return a({blending:m(o.ONE,o.ONE,o.ONE_MINUS_SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),depthTest:{func:l.LEQUAL},colorWrite:c})}}d.shader=new r(e,(()=>import(\"./Precipitation.glsl.js\")));const h=new Map([[n.POSITION,0],[n.INSTANCEFEATUREATTRIBUTE,1]]);export{g as PrecipitationPassParameters,d as PrecipitationTechnique,h as attributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{lerp as i}from\"../../../core/mathUtils.js\";import{releaseMaybe as r,disposeMaybe as s}from\"../../../core/maybe.js\";import{secondsFromMilliseconds as n}from\"../../../core/time.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WatchUpdatingTracking as c}from\"../../../core/support/WatchUpdatingTracking.js\";import{getReferenceEllipsoid as u}from\"../../../geometry/ellipsoidUtils.js\";import{PrecipitationPassParameters as h,PrecipitationTechnique as p,attributeLocations as m}from\"./PrecipitationTechnique.js\";import{PrecipitationTechniqueConfiguration as d,PrecipitationType as _}from\"./PrecipitationTechniqueConfiguration.js\";import{glLayout as l}from\"../support/buffer/glUtil.js\";import{newLayout as f}from\"../support/buffer/InterleavedLayout.js\";import{AnimationTimer as T}from\"../webgl-engine/lib/AnimationTimer.js\";import{VertexArrayObject as y}from\"../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as g}from\"../webgl-engine/lib/VertexAttribute.js\";import{BufferObject as w}from\"../../webgl/BufferObject.js\";import{PrimitiveType as b,Usage as j}from\"../../webgl/enums.js\";import{bindVertexBufferLayout as q,unbindVertexBufferLayout as I}from\"../../webgl/Util.js\";let A=class extends t{constructor(e){super(e),this._numParticles=25e4,this._rainSpeed=.1,this._snowSpeed=.01,this._passParameters=new h,this._animation=new T,this._updatingTracking=new c,this._passParameters.time=0,this._passParameters.radius=u(e.view.spatialReference).radius,this._techniqueRepository=e.context.techniqueRepository}destroy(){this._updatingTracking.destroy(),this._numParticles=0,this._snowTechniqueCached=r(this._snowTechniqueCached),this._rainTechniqueCached=r(this._rainTechniqueCached),this._vao=s(this._vao),this._instanceIdBuffer=s(this._instanceIdBuffer)}get updating(){return this._updatingTracking.updating}get _rainTechnique(){if(null==this._rainTechniqueCached){const e=new d;e.type=_.Rain,this._rainTechniqueCached=this._techniqueRepository.acquire(p,e)}return this._rainTechniqueCached}get _snowTechnique(){if(null==this._snowTechniqueCached){const e=new d;e.type=_.Snow,this._snowTechniqueCached=this._techniqueRepository.acquire(p,e)}return this._snowTechniqueCached}update(e){return this._animation.advance(e)}render(e,t,r){const s=\"rainy\"===r?this._rainTechnique:this._snowTechnique;if(!s.compiled)return void this.context.requestRender();const o=e.rctx;if(this._ensureResources(o),null==s||null==this._vao||null==this._instanceIdBuffer)return;if(null!=e.bindParameters.cloudsFade.data&&(this._passParameters.opacity=1-e.bindParameters.cloudsFade.fadeInOutHeight.factor),this._passParameters.opacity<=0)return;const a=.35;t=t<.5?i(0,a,2*t):i(a,1,2*(t-.5)),this._passParameters.time=(\"rainy\"===r?this._rainSpeed:this._snowSpeed)*n(this._animation.time)%1e5;const c=o.bindTechnique(s,this._passParameters,e.bindParameters);o.bindVAO(this._vao),c.assertCompatibleVertexAttributeLocations(this._vao),q(o,m,this._instanceIdBuffer,P,0),o.capabilities.instancing?.drawArraysInstanced(b.TRIANGLES,0,3,this._numParticles*t),I(o,m,this._instanceIdBuffer,P)}_ensureResources(e){null==this._vao&&(this._vao=this._createVertexArrayObject(e)),null==this._instanceIdBuffer&&(this._instanceIdBuffer=this._createInstanceIndices(e))}_createInstanceIndices(e){const t=[];for(let i=0;i<this._numParticles;i++)t.push(i);return w.createVertex(e,j.STATIC_DRAW,new Float32Array(t))}_createVertexArrayObject(e){const t=new Float32Array([-1,0,1,1,0,-1,1,0,1]);return new y(e,m,{geometry:l(v)},{geometry:w.createVertex(e,j.STATIC_DRAW,t)})}};e([o({constructOnly:!0})],A.prototype,\"context\",void 0),e([o({constructOnly:!0})],A.prototype,\"view\",void 0),e([o({readOnly:!0})],A.prototype,\"updating\",null),e([o()],A.prototype,\"_updatingTracking\",void 0),A=e([a(\"esri.views.3d.environment.Precipitation\")],A);const v=f().vec3f(g.POSITION),P=l(f().f32(g.INSTANCEFEATUREATTRIBUTE),1);export{A as Precipitation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../chunks/mat4f64.js\";import{S as r}from\"../../../chunks/Stars.glsl.js\";import{NoParameters as i}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{ReloadableShaderModule as t}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as s}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as n}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as a}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as l,CompareFunction as m}from\"../../webgl/enums.js\";import{makePipelineState as c,separateBlendingParams as g,defaultColorWriteParams as u}from\"../../webgl/renderState.js\";class d extends i{constructor(){super(...arguments),this.modelMatrix=e()}}class h extends o{constructor(e){super(e,new s,(()=>this.destroy()))}initializeProgram(e){return new a(e.rctx,h.shader.get().build(),n)}initializePipeline(){return c({blending:g(l.SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),depthTest:{func:m.LEQUAL},colorWrite:u})}}h.shader=new t(r,(()=>import(\"./Stars.glsl.js\")));export{d as StarPassParameters,h as StarsTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{fetchAsset as e}from\"../../../assets.js\";import r from\"../../../core/Accessor.js\";import{createTask as s}from\"../../../core/asyncUtils.js\";import i from\"../../../core/Error.js\";import a from\"../../../core/Logger.js\";import{abortMaybe as o,releaseMaybe as n,disposeMaybe as c}from\"../../../core/maybe.js\";import{isAbortError as f}from\"../../../core/promiseUtils.js\";import{initial as u}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as p,o as l,m}from\"../../../chunks/mat4.js\";import{f as g}from\"../../../chunks/mat4f64.js\";import{WatchUpdatingTracking as _}from\"../../../core/support/WatchUpdatingTracking.js\";import{StarPassParameters as b,StarsTechnique as y}from\"./StarsTechnique.js\";import{glLayout as v}from\"../support/buffer/glUtil.js\";import{newLayout as j}from\"../support/buffer/InterleavedLayout.js\";import{Default3D as w}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{VertexArrayObject as T}from\"../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as k}from\"../webgl-engine/lib/VertexAttribute.js\";import{BufferObject as D}from\"../../webgl/BufferObject.js\";import{PrimitiveType as P,Usage as A}from\"../../webgl/enums.js\";let x=class extends r{get updating(){return this._updatingTracking.updating||this.loading}get loading(){return null!=this._loadDataTask&&!this._loadDataTask.finished}constructor(t){super(t),this._loadDataTask=null,this._numPoints=0,this._renderParameter=new b,this._updatingTracking=new _}initialize(){this._loadDataTask=this._createLoadDataTask()}destroy(){this._loadDataTask=o(this._loadDataTask),this._updatingTracking.destroy(),this._numPoints=0,this._technique=n(this._technique),this._vao=c(this._vao),L=null}render(t){const{rctx:e}=t;if(this._ensureResources(e),null==this._technique||null==this._vao)return;if(!this._technique.compiled)return void this.requestRender();const r=e.bindTechnique(this._technique,this._renderParameter,t.bindParameters);e.bindVAO(this._vao),r.assertCompatibleVertexAttributeLocations(this._vao),e.drawArrays(P.POINTS,0,this._numPoints)}_ensureResources(t){if(null!=this._technique||null==L)return;this._technique=new y({rctx:t,viewingMode:this.view.state.viewingMode}),this._numPoints=L.byteLength/I;const e=new Float32Array(L,0,2*this._numPoints),r=new Uint8Array(L,2*this._numPoints*4,this._numPoints);this._vao=this._createVertexArrayObject(t,e,r,this._numPoints),this._updatingTracking.add((()=>\"virtual\"!==this.view.environment.lighting.type?this.view.environment.lighting.date:null),(t=>this._update(t)),u)}_computeDayDuration(t){const e=t,r=new Date(t.getFullYear(),0,1,11,58,56);return(+e-+r)/(+new Date(t.getFullYear()+1,0,1,11,58,55)-+r)}_update(t){if(!t)return;const e=(t.getHours()/12+t.getMinutes()/60*(2/24)+t.getSeconds()/60*(2/1440)-.9972222)%2,r=2*this._computeDayDuration(t),s=p(this._renderParameter.modelMatrix,S);l(s,s,-r*Math.PI),m(s,O,s),l(s,s,-e*Math.PI),this.requestRender()}_hexToRGB(t){return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}_unpackUint8Attributes(t){return t>=192?[2.9,t-192]:t>=160?[2.5,t-160]:t>=128?[2,t-128]:t>=96?[1.5,t-96]:t>=64?[1,t-64]:t>=32?[.7,t-32]:[.4,t]}_createVertexArrayObject(t,e,r,s){const i=M.createBuffer(s),a=i.position,o=i.color,n=i.size;for(let c=0;c<s;c++){const t=e[2*c],s=e[2*c+1];a.set(c,0,-Math.cos(t)*Math.sin(s)),a.set(c,1,-Math.sin(t)*Math.sin(s)),a.set(c,2,-Math.cos(s));const i=this._unpackUint8Attributes(r[c]),f=this._hexToRGB(q[i[1]]);o.set(c,0,255*f[0]),o.set(c,1,255*f[1]),o.set(c,2,255*f[2]),o.set(c,3,255),n.set(c,i[0])}return new T(t,w,{geometry:v(M)},{geometry:D.createVertex(t,A.STATIC_DRAW,i.buffer)})}_createLoadDataTask(){if(null!=L)return null;const t=s((async t=>{const{data:r}=await e(\"esri/views/3d/environment/resources/stars.wsv\",{responseType:\"array-buffer\",signal:t});this._verifyStarData(r),L=r}));return t.promise.catch((t=>{f(t)||a.getLogger(this).error(t)})).then((()=>{this.destroyed||(this.requestRender(),this.notifyChange(\"updating\"))})),t}_verifyStarData(t){if(!t)throw new i(\"stars:no-data-received\",\"Failed to create stars because star catalogue is missing\");const e=t.byteLength/I;if(e%1!=0||e>5e4||e<5e3)throw new i(\"stars:invalid-data\",\"Failed to create stars because star catalogue data is invalid\")}};t([h({constructOnly:!0})],x.prototype,\"view\",void 0),t([h({constructOnly:!0})],x.prototype,\"requestRender\",void 0),t([h({readOnly:!0})],x.prototype,\"updating\",null),t([h()],x.prototype,\"_loadDataTask\",void 0),t([h()],x.prototype,\"_updatingTracking\",void 0),x=t([d(\"esri.views.3d.environment.Stars\")],x);const q=[\"9bb2ff\",\"9eb5ff\",\"aabfff\",\"bbccff\",\"ccd8ff \",\"dae2ff\",\"e4e9ff\",\"eeefff\",\"f8f6ff\",\"fff9fb\",\"fff5ef\",\"fff1e5\",\"ffeddb\",\"ffe9d2\",\"ffe6ca\",\"ffe3c3\",\"ffe0bb\",\"ffddb4\",\"ffdaad\",\"ffd6a5\",\"ffd29c\",\"ffcc8f\",\"ffc178\",\"ffa94b\",\"ff7b00\"],O=g(1,0,0,0,0,.9174771405229186,.39778850739794974,0,0,-.39778850739794974,.9174771405229186,0,0,0,0,1),S=g(1,0,0,0,0,.9174771405229186,-.39778850739794974,0,0,.39778850739794974,.9174771405229186,0,0,0,0,1),I=9,M=j().vec3f(k.POSITION).vec4u8(k.COLOR).f32(k.SIZE);let L=null;export{x as Stars};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as a}from\"../../../core/mathUtils.js\";import{e}from\"../../../chunks/mat4.js\";import{l as t,F as r,n as o,g as s,c as n,b as d}from\"../../../chunks/vec3.js\";import{f as i,c}from\"../../../chunks/vec3f64.js\";import{I as f}from\"../../../chunks/mat4f64.js\";import{create as I,fromPoints as g,axis as N}from\"../../../geometry/support/axisAngleDegrees.js\";import{earth as E}from\"../../../geometry/support/Ellipsoid.js\";import{FadeInStages as l,FadeInOutStages as F,FadeHeightStages as u}from\"./CloudsCompositionParameters.js\";import{CloudsRenderingStages as H,ensureClouds as S}from\"./CloudsData.js\";import{weatherHeightLimit as m}from\"./weather.js\";import{RenderState as C}from\"../../support/RenderState.js\";function h(e,t,r){const o=e.parallax.anchorPointClouds;e.fadeIn.stage===l.FINISHED&&(e.fadeIn.factor=0,n(o,R),e.fadeIn.stage=l.CHANGE_ANCHOR,e.crossFade.enabled=!1,e.fadeInOut.stage=F.FINISHED),e.fadeIn.stage===l.CHANGE_ANCHOR&&e.isCameraPositionFinal&&(S(e.data)&&e.renderingStage!==H.RENDERING||e.renderingStage===H.FADING_TEXTURE_CHANNELS)&&(n(o,R),e.fadeIn.stage=l.FADE_IN,e.startTime=t,e.renderingStage===H.FADING_TEXTURE_CHANNELS&&(e.renderingStage=H.SWITCH_CHANNELS)),e.fadeIn.factor<1&&e.fadeIn.stage===l.FADE_IN?e.fadeIn.factor=r?a((t-e.startTime)/(G*r),0,1):1:e.fadeIn.factor>=1&&e.fadeIn.stage===l.FADE_IN&&(e.fadeIn.stage=l.FINISHED,e.fadeIn.factor=1)}function D(e,t,r){const{fadeInOut:o,crossFade:s}=e;o.stage===F.FINISHED&&(e.startTime=t,o.factor=1,o.stage=F.FADE_OUT),o.factor>0&&o.stage===F.FADE_OUT?o.factor=r?1-a((t-e.startTime)/(U*r),0,1):0:(o.factor<=0&&o.stage===F.FADE_OUT&&(o.factor=0,n(e.parallax.anchorPointClouds,R)),o.factor<=0&&o.stage===F.FADE_OUT&&e.isCameraPositionFinal&&(o.factor=0,o.stage=F.SWITCH,e.crossFade.enabled=!1,s.factor=1),o.stage===F.SWITCH&&(S(e.data)&&e.renderingStage!==H.RENDERING||e.renderingStage===H.FADING_TEXTURE_CHANNELS)&&(e.startTime=t,o.factor=0,o.stage=F.FADE_IN,n(e.parallax.anchorPointClouds,R),e.crossFade.enabled=!1,s.factor=1,e.renderingStage===H.FADING_TEXTURE_CHANNELS&&(e.renderingStage=H.SWITCH_CHANNELS)),o.factor<1&&o.stage===F.FADE_IN?o.factor=r?a((t-e.startTime)/(G*r),0,1):1:o.factor>=1&&o.stage===F.FADE_IN&&(o.stage=F.FINISHED,o.factor=1))}function T(e,t,r,o){const{crossFade:s}=e,d=e.parallax.anchorPointClouds;e.crossFade.enabled&&!o||(n(e.parallaxNew.anchorPointClouds,R),e.startTime=t,s.factor=0,e.crossFade.enabled=!0),s.factor<1&&e.crossFade.enabled?s.factor=r?a((t-e.startTime)/(b*r),0,1):1:s.factor>=1&&e.crossFade.enabled&&(e.crossFade.enabled=!1,s.factor=1,n(d,e.parallaxNew.anchorPointClouds),e.renderingStage===H.FADING_TEXTURE_CHANNELS&&(e.renderingStage=H.SWITCH_CHANNELS))}function A(e,t,r,o){const s=e.fadeInOutHeight,n=s.stage===u.FINISHED?r:e.startTimeHeightFade;if(0!==o){const a=(r-n)/(j*o);s.factor+=t?-a:a}else s.factor=t?0:1;e.startTimeHeightFade=r,s.factor=a(s.factor,0,1),s.stage=u.HEIGHT_FADE}function _(a,i,c,I,_){a.renderingStage===H.FINISHED_RENDERING&&(a.renderingStage=H.FADING_TEXTURE_CHANNELS);const p=t(i.eye);a.fadeInOutHeight.factor<0&&(a.fadeInOutHeight.factor=p-E.radius>m?1:0),a.isCameraPositionFinal=r(a.cameraPositionLastFrame,i.eye),o(R,i.eye),s(R,R,E.radius);const G=a.parallax;0===G.anchorPointClouds[0]&&0===G.anchorPointClouds[1]&&0===G.anchorPointClouds[2]&&n(G.anchorPointClouds,R);const U=t(d(L,G.anchorPointClouds,R));let b=!0;if(U>a.fadeIn.distanceThresholdFactor*G.cloudsHeight||a.fadeIn.stage!==l.FINISHED)h(a,I,_);else if(U>a.fadeInOut.distanceThresholdFactor*G.cloudsHeight||a.fadeInOut.stage!==F.FINISHED)D(a,I,_);else if(U>a.crossFade.distanceThresholdFactor*G.cloudsHeight||a.crossFade.enabled||a.renderingStage===H.FADING_TEXTURE_CHANNELS){T(a,I,_,(c!==C.IDLE||!S(a.data))&&a.renderingStage!==H.FADING_TEXTURE_CHANNELS)}else b=!1;const j=p-E.radius;if((j>1.7*m||j<-m)&&a.fadeInOutHeight.factor<1?a.fadeInOutHeight.factor=1:(j>m||j<-.35*m)&&a.fadeInOutHeight.factor<1?A(a,!1,I,_):j<m&&j>-.35*m&&a.fadeInOutHeight.factor>0?A(a,!0,I,_):a.fadeInOutHeight.stage=u.FINISHED,a.renderingStage===H.SWITCH_CHANNELS&&(a.readChannels=1-a.readChannels,a.renderingStage=H.FINISHED),G.radiusCurvatureCorrectionFactor=.84*Math.sqrt(Math.max(p*p-E.radius*E.radius,0))/p,g(O,G.anchorPointClouds,P),e(G.transform,f,P[3],N(P)),b){const{parallaxNew:t}=a;g(O,t.anchorPointClouds,P),e(t.transform,f,P[3],N(P))}n(a.cameraPositionLastFrame,i.eye)}function p(a){return a.crossFade.enabled||a.fadeInOut.stage!==F.FINISHED||a.fadeIn.stage!==l.FINISHED||a.fadeInOutHeight.stage!==u.FINISHED||a.renderingStage!==H.FINISHED}const O=i(0,0,1),P=I(),R=c(),L=c(),G=1,U=.5,b=1.3,j=1;export{_ as updateWeatherFading,p as weatherFadingNeedsRender};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Immediate=0]=\"Immediate\",e[e.Faded=1]=\"Faded\"}(e||(e={}));export{e as Update};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import{lerp as s}from\"../../../core/mathUtils.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{watch as i,syncAndInitial as a,initial as o,sync as n}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{l as d,c as p,h as u}from\"../../../chunks/vec3.js\";import{f as m}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as c}from\"../../../geometry/ellipsoidUtils.js\";import{isMoon as _,isEarth as g,isMars as f}from\"../../../geometry/support/spatialReferenceUtils.js\";import{ViewingMode as w}from\"../../ViewingMode.js\";import{AtmosphereType as y}from\"./AtmosphereType.js\";import{ChapmanAtmosphere as v}from\"./ChapmanAtmosphere.js\";import{CloudsComposition as P}from\"./CloudsComposition.js\";import{FadeInStages as b,FadeInOutStages as R}from\"./CloudsCompositionParameters.js\";import{isReadyCloudsData as A,CloudsRenderingStages as x}from\"./CloudsData.js\";import{CloudsGenerator as N}from\"./CloudsGenerator.js\";import{cloudPresets as j}from\"./CloudsPresets.js\";import{Fog as C,FogParameters as W}from\"./Fog.js\";import{LocalAtmosphere as E}from\"./LocalAtmosphere.js\";import F from\"./MarsAtmosphere.js\";import{Precipitation as O}from\"./Precipitation.js\";import{Stars as S}from\"./Stars.js\";import{weatherHeightLimit as M}from\"./weather.js\";import{updateWeatherFading as T,weatherFadingNeedsRender as z}from\"./weatherUtils.js\";import{ShaderOutput as I}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{RenderFeature as L}from\"../webgl-engine/lib/RenderFeature.js\";import{RenderSlot as U}from\"../webgl-engine/lib/RenderSlot.js\";import{Update as q}from\"../webgl-engine/lib/Update.js\";var H;const V=[U.POSTPROCESSING_ENVIRONMENT_OPAQUE,U.POSTPROCESSING_ENVIRONMENT_TRANSPARENT];let k=H=class extends t{constructor(e){super(e),this._context=null,this._atmosphere=null,this._oldWeatherParameters=new G,this._newWeatherParameters=new G,this._fadedWeatherParameters=new G,this._weatherParameters=this._newWeatherParameters}initialize(){this.view._stage.addRenderPlugin(V,this)}destroy(){this.removeHandles(),this.uninitializeRenderContext(),null!=this.view?._stage&&this.view._stage.removeRenderPlugin(this),this._set(\"view\",null)}get atmosphere(){return this._atmosphere}get _atmosphereType(){return null!=this.atmosphere?this.atmosphere.type:y.None}get canRender(){return!(null===this._atmosphere&&null===this._stars)}get needsLinearDepth(){return this._atmosphereType===y.Realistic}updateAnimation(e){return null!=this._precipitation&&this._precipitation.update(e)}get updating(){return null!=this._stars&&this._stars.updating||null!=this._clouds&&this._clouds.running}get weatherVisible(){return d(this.view.state.camera.eye)-c(this.view.spatialReference).radius<=M}get _stars(){const e=this.view,t=e.environment?.starsEnabled??!1,s=this._get(\"_stars\");return t&&null!=this._context?null!=s?s:new S({view:e,requestRender:()=>this._setNeedsRender()}):(r(s),null)}get _precipitation(){const e=this._get(\"_precipitation\");if(!this._precipitationEnabled||null==this._context)return r(e),null;const t=this.view,s=this._context;return null!=e&&e.context===s?e:(r(e),new O({context:s,view:t}))}get _clouds(){const e=this._get(\"_clouds\");if(!this.weatherEnabled||null==this._context)return r(e),null;if(null!=e)return e;const t=this.view,s=this._context;return r(e),new N({context:s,view:t,requestRender:()=>this._setNeedsRender()})}get _cloudsComposition(){const e=this._get(\"_cloudsComposition\");if(!this.weatherEnabled||null==this._context)return r(e),null;const t=this.view.state.viewingMode,s=this._context.renderContext.rctx,i=c(this.view.spatialReference).radius;return null!=e&&e.viewingMode===t&&e.planetRadius===i?e:(r(e),new P({rctx:s,viewingMode:t,planetRadius:i,requestRender:()=>this._setNeedsRender()}))}get _fog(){const e=this._get(\"_fog\");if(!this.weatherEnabled||null==this._context)return r(e),null;if(null!=e)return e;const t=this.view,s=this._context,i=this._context.renderContext.rctx,a=this.view.state.viewingMode;return new C({context:s,view:t,rctx:i,viewingMode:a})}get weatherEnabled(){return!!this.view?.environmentManager?.weatherEnabled}get _precipitationEnabled(){return this.weatherEnabled&&(\"rainy\"===this.view.environment.weather.type||\"snowy\"===this.view.environment.weather.type)}initializeRenderContext(e=null){this._context=e;const t=()=>this._setNeedsRender();this.addHandles([i((()=>({viewingMode:this.view.state.viewingMode,enabled:this.view.environment.atmosphereEnabled})),(e=>this._updateAtmosphere(e)),a),i((()=>this._stars),t),i((()=>this._precipitation),t),i((()=>this._clouds),(()=>this._updateWeather()),o),i((()=>this._fog),(()=>this._updateFogHaze()),o),i((()=>this.view.state.mode),(()=>{this._setNeedsRender()}),n),i((()=>this._weatherUpdateParameters),(()=>{this._updateWeather(),this._updateFogHaze()}),a)])}uninitializeRenderContext(){this._context=null,this._atmosphere=r(this._atmosphere),this._set(\"_stars\",r(this._stars)),this._set(\"_precipitation\",r(this._precipitation)),this._set(\"_clouds\",r(this._clouds)),this._set(\"_cloudsComposition\",r(this._cloudsComposition)),this._set(\"_fog\",r(this._fog))}prepareRender(e){e.bindParameters.cloudsFade.data=A(this._clouds)?this._clouds:null,\"local\"!==this.view.viewingMode&&null!=e.bindParameters.cloudsFade.data?.cubeMap&&(T(e.bindParameters.cloudsFade,e.bindParameters.camera,this.view.state.mode,e.time,this.view.qualitySettings.fadeDuration),this._updateWeatherFading(e.bindParameters),e.bindParameters.cloudsFade.renderingStage===x.FINISHED&&null!=this._clouds&&0===this._clouds.coverage&&!1===this._clouds.running&&(this._clouds.destroyFrameBufferCube(),e.bindParameters.cloudsFade.data=null))}render(e){if(e.output===I.Color)switch(e.bindParameters.slot){case U.POSTPROCESSING_ENVIRONMENT_OPAQUE:null!=this._stars&&this._stars.render(e),null!=this.atmosphere&&(this.atmosphere.render(e,this.view?.qualitySettings.highResolutionAtmosphere||this.view?._stage?.renderer?.isFeatureEnabled(L.HighResolutionAtmosphere)),null!=this._cloudsComposition&&null!=e.bindParameters.cloudsFade.data&&(this.weatherVisible&&null!=this._clouds&&this._clouds.updateWeatherTile(),this._cloudsComposition.render(e)),z(e.bindParameters.cloudsFade)&&null!=this._context&&null!=e.bindParameters.cloudsFade.data?.cubeMap&&this._context.requestRender());break;case U.POSTPROCESSING_ENVIRONMENT_TRANSPARENT:if(null!=this.atmosphere&&(this.atmosphere.renderHaze(e,this._weatherParameters.hazeAmount,this.view?.qualitySettings.highResolutionAtmosphere||this.view?._stage?.renderer?.isFeatureEnabled(L.HighResolutionAtmosphere)),this._weatherParameters.fog.amount>0&&null!=this._fog&&this._fog.render(e,this._weatherParameters.fog),null!=this._precipitation)){const t=this.view.environment.weather;\"rainy\"!==t.type&&\"snowy\"!==t.type||this._precipitation.render(e,t.precipitation,t.type)}}}updateLightSources(e,t,s,r){if(null!=this._context){const i=this._context.renderContext;i.bindParameters.oldLighting.copyFrom(i.bindParameters.lighting),i.bindParameters.newLighting.noonFactor=t,i.bindParameters.newLighting.globalFactor=s,i.bindParameters.newLighting.set(e);r===q.Faded||i.bindParameters.weatherFading?i.bindParameters.fadeLighting(0):i.bindParameters.fadeLighting(1),this._context.requestRender()}}get _weatherUpdateParameters(){const e=this.weatherEnabled?this.view.environment.weather:null;return null==e?null:\"rainy\"===e.type||\"snowy\"===e.type?{type:e.type,weatherAdjustment:e.cloudCover,effect:e.precipitation}:{type:e.type,weatherAdjustment:\"foggy\"===e.type?e.fogStrength:e.cloudCover}}_updateWeatherFading(e){if(!e.weatherFading)return;const t=e.cloudsFade;return t.fadeIn.stage===b.FADE_IN?(e.fadeLighting(t.fadeIn.factor),void this._fadeWeather(t.fadeIn.factor)):t.fadeInOut.stage===R.FADE_IN?(e.fadeLighting(t.fadeInOut.factor),void this._fadeWeather(t.fadeInOut.factor)):t.crossFade.enabled?(e.fadeLighting(t.crossFade.factor),void this._fadeWeather(t.crossFade.factor)):(e.fadeLighting(0),void this._fadeWeather(0))}_fadeWeather(e){const{_newWeatherParameters:t,_oldWeatherParameters:s}=this;e>=1?this._weatherParameters=t:(this._fadedWeatherParameters.lerp(s,t,e),this._weatherParameters=this._fadedWeatherParameters)}_updateWeather(){const e=this._weatherUpdateParameters;null!=e&&null!=this._clouds&&(this._clouds.applyPreset(j[e.type],e.weatherAdjustment),this._setNeedsRender())}_setNeedsRender(){null!=this._context&&this._context.requestRender()}_updateFogHaze(){const e=this._weatherUpdateParameters;if(null==this._fog||null==e||null==this._context)return;const t=this._context.renderContext.bindParameters;switch(this._oldWeatherParameters.copyFrom(this._weatherParameters),e.type){case\"foggy\":this._newWeatherParameters.fog.strength=s(3e-5,.005,e.weatherAdjustment**3),p(this._newWeatherParameters.fog.color,B),this._newWeatherParameters.fog.amount=1,this._newWeatherParameters.hazeAmount=1,this._setNeedsRender();break;case\"rainy\":this._newWeatherParameters.fog.strength=s(4e-6,2e-4,(e.effect??0)**3),p(this._newWeatherParameters.fog.color,D),this._newWeatherParameters.fog.amount=1,this._newWeatherParameters.hazeAmount=0,this._setNeedsRender();break;case\"snowy\":this._newWeatherParameters.fog.strength=s(4e-6,2e-4,(e.effect??0)**3),p(this._newWeatherParameters.fog.color,B),this._newWeatherParameters.fog.amount=1,this._newWeatherParameters.hazeAmount=1,this._setNeedsRender();break;default:this._newWeatherParameters.fog.strength=0,this._newWeatherParameters.fog.amount=0,this._newWeatherParameters.hazeAmount=1,this._setNeedsRender()}t.weatherFading?this._fadeWeather(0):this._fadeWeather(1)}_updateAtmosphere(e){const t=this._selectAtmosphereType(e);if(t!==y.None&&this._context){if(!this._atmosphere||this._atmosphere.type!==t){this._atmosphere=r(this._atmosphere);const e=this._getAtmosphereClass(t);e&&(this._atmosphere=new e(this.view,this._context))}}else this._atmosphere=r(this._atmosphere);this._setNeedsRender()}_getAtmosphereClass(e){switch(e){case y.Realistic:return v;case y.Local:return E;case y.Mars:return F;default:case y.None:return null}}_selectAtmosphereType(e){const{enabled:t,viewingMode:s}=e;return!t||_(this.view.spatialReference)?y.None:s===w.Local?y.Local:null!=this._context&&v.isSupported(this._context)&&g(this.view.spatialReference)?y.Realistic:f(this.view.spatialReference)?y.Mars:y.None}get test(){return{atmosphere:this._atmosphere,clouds:this._clouds,selectAtmosphereType:()=>this._selectAtmosphereType({viewingMode:this.view.state.viewingMode,enabled:this.view.environment.atmosphereEnabled}),stubGetAtmosphereClass:e=>{Q=H.prototype._getAtmosphereClass,H.prototype._getAtmosphereClass=e},restoreGetAtmosphereClass:()=>{H.prototype._getAtmosphereClass=Q}}}};e([h({constructOnly:!0})],k.prototype,\"view\",void 0),e([h({readOnly:!0})],k.prototype,\"atmosphere\",null),e([h({readOnly:!0})],k.prototype,\"_atmosphereType\",null),e([h({type:Boolean,readOnly:!0})],k.prototype,\"updating\",null),e([h({readOnly:!0})],k.prototype,\"weatherVisible\",null),e([h()],k.prototype,\"_context\",void 0),e([h()],k.prototype,\"_atmosphere\",void 0),e([h({readOnly:!0})],k.prototype,\"_stars\",null),e([h({readOnly:!0})],k.prototype,\"_precipitation\",null),e([h({readOnly:!0})],k.prototype,\"_clouds\",null),e([h({readOnly:!0})],k.prototype,\"_cloudsComposition\",null),e([h({readOnly:!0})],k.prototype,\"_fog\",null),e([h({readOnly:!0})],k.prototype,\"weatherEnabled\",null),e([h({readOnly:!0})],k.prototype,\"_precipitationEnabled\",null),e([h({readOnly:!0})],k.prototype,\"_weatherUpdateParameters\",null),k=H=e([l(\"esri.views.3d.environment.EnvironmentRenderer\")],k);class G{constructor(){this.fog=new W,this.hazeAmount=1}copyFrom(e){this.fog.amount=e.fog.amount,this.hazeAmount=e.hazeAmount,this.fog.strength=e.fog.strength,p(this.fog.color,e.fog.color)}lerp(e,t,r){this.fog.amount=s(e.fog.amount,t.fog.amount,r),this.hazeAmount=s(e.hazeAmount,t.hazeAmount,r),this.fog.strength=s(e.fog.strength,t.fog.strength,r),u(this.fog.color,e.fog.color,t.fog.color,r)}}const D=m(.5,.5,.5),B=m(1.5,1.5,1.5);let Q;export{k as EnvironmentRenderer,G as WeatherParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{rad2deg as t,asinClamped as n,deg2rad as o}from\"../../../core/mathUtils.js\";import{getReferenceEllipsoid as e}from\"../../../geometry/ellipsoidUtils.js\";import r from\"../../../geometry/Point.js\";function u(t,n,o){if(null==n.longitude||null==n.latitude||null==o.longitude||null==o.latitude)throw new Error(\"Invalid points: no lon/lat\");return i(t,n.longitude,n.latitude,o.longitude,o.latitude)}function i(t,e,r,u,i){const s=o(r),l=o(i),a=s-l,c=o(e)-o(u),d=Math.sin(a/2),h=Math.sin(c/2),m=2*n(Math.sqrt(d*d+Math.cos(s)*Math.cos(l)*h*h))*t;return Math.round(1e4*m)/1e4}function s(t,n,o){const i=n.spatialReference,s=e(i),l=new r(n.x,t.y,i),a=new r(o.x,t.y,i),c=new r(t.x,n.y,i),d=new r(t.x,o.y,i);return{lon:u(s.radius,l,a),lat:u(s.radius,c,d)}}function l(e,r,u){const i=r/u,s=o(e),l=Math.sin(i/2),a=Math.cos(s),c=2*n(Math.sqrt(l*l/(a*a)));return t(c)}function a(t,n){let o=t/15;return n||(o=Math.round(o)),o}function c(t,n){const o=t?.[0];if(null==o)return null;n||(n={hours:0,minutes:0,seconds:0}),n.hours=a(o,!0);const e=n.hours%1;n.hours-=e,n.minutes=60*e;const r=n.minutes%1;return n.minutes-=r,n.seconds=Math.round(60*r),n}export{i as getGreatCircleDistance,u as getGreatCircleDistanceFromPoints,s as getGreatCircleSpanAt,l as getLonDeltaForDistance,a as longitudeToTimezone,c as positionToTimezoneInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{g as n}from\"./_commonjsHelpers.js\";var t,r,e,o={exports:{}};o.exports,t=o,r=function(){var n=Math.PI,t=Math.sin,r=Math.cos,e=Math.tan,o=Math.asin,u=Math.atan2,a=Math.acos,i=n/180,c=864e5,f=2440588,s=2451545,d={dec:0,ra:0};function p(n){return n.valueOf()/c-.5+f}function v(n){return new Date((n+.5-f)*c)}function M(n){return p(n)-s}var l=23.4397*i;function h(n,o){return u(t(n)*r(l)-e(o)*t(l),r(n))}function x(n,e){return o(t(e)*r(l)+r(e)*t(l)*t(n))}function N(n,o,a){return u(t(n),r(n)*t(o)-e(a)*r(o))}function P(n,e,u){return o(t(e)*t(u)+r(e)*r(u)*r(n))}function m(n,t){return i*(280.16+360.9856235*n)-t}function E(n){return i*(357.5291+.98560028*n)}function I(n){return i*(1.9148*t(n)+.02*t(2*n)+3e-4*t(3*n))}function g(t,r){return t+r+102.9372*i+n}function O(n,t){var r=E(n),e=g(r,I(r));return t||(t={dec:0,ra:0}),t.dec=x(e,0),t.ra=h(e,0),t}var T={PolarException:{NORMAL:0,MIDNIGHT_SUN:1,POLAR_NIGHT:2},getPosition:function(n,t,r,e){var o=i*-r,u=i*t,a=M(n),c=O(a,d),f=m(a,o)-c.ra;return e||(e={azimuth:0,altitude:0}),e.azimuth=N(f,u,c.dec),e.altitude=P(f,u,c.dec),e}},A=[[-.83,\"sunrise\",\"sunset\"]];T.addTime=function(n,t,r){A.push([n,t,r])};var H=9e-4;function L(t,r){return Math.round(t-H-r/(2*n))}function R(t,r,e){return H+(t+r)/(2*n)+e}function _(n,r,e){return s+n+.0053*t(r)-.0069*t(2*e)}function G(n,e,o){return a((t(n)-t(e)*t(o))/(r(e)*r(o)))}function z(n){var e=i*(134.963+13.064993*n),o=i*(93.272+13.22935*n),u=i*(218.316+13.176396*n)+6.289*i*t(e),a=5.128*i*t(o),c=385001-20905*r(e);return{ra:h(u,a),dec:x(u,a),dist:c}}return T.getTimes=function(n,e,o){var u=i*-o,a=i*e,c=L(M(n),u),f=R(0,u,c),s=E(f),d=I(s),p=g(s,d),l=x(p,0),h=_(f,s,p);function N(n){return _(R(G(n,a,l),u,c),s,p)}function P(n){var e=(t(n)-t(a)*t(l))/(r(a)*r(l));return e<-1?T.PolarException.MIDNIGHT_SUN:e>1?T.PolarException.POLAR_NIGHT:T.PolarException.NORMAL}var m,O,H,z,D,S={solarNoon:v(h),nadir:v(h-.5),polarException:T.PolarException.NORMAL};for(m=0,O=A.length;m<O;m+=1)D=h-((z=N((H=A[m])[0]*i))-h),S[H[1]]=v(D),S[H[2]]=v(z);return S.polarException=P(A[0][0]*i),S},T.getMoonPosition=function(n,t,r){var o=i*-r,u=i*t,a=M(n),c=z(a),f=m(a,o)-c.ra,s=P(f,u,c.dec);return s+=.017*i/e(s+10.26*i/(s+5.1*i)),{azimuth:N(f,u,c.dec),altitude:s,distance:c.dist}},T.getMoonFraction=function(n){var e=M(n),o=O(e),i=z(e),c=149598e3,f=a(t(o.dec)*t(i.dec)+r(o.dec)*r(i.dec)*r(o.ra-i.ra)),s=u(c*t(f),i.dist-c*r(f));return(1+r(s))/2},T},void 0!==(e=r())&&(t.exports=e);const u=n(o.exports);export{u as S};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{lerp as t,clamp as e}from\"../../../core/mathUtils.js\";import{d as i,i as n,r as o,n as a,o as l}from\"../../../chunks/mat4.js\";import{c as s}from\"../../../chunks/mat4f64.js\";import{j as c,l as r}from\"../../../chunks/vec2.js\";import{f as u,a as m}from\"../../../chunks/vec2f64.js\";import{s as h,h as d,n as f,g,m as b,a as y,c as p}from\"../../../chunks/vec3.js\";import{f as A,c as w,a as N}from\"../../../chunks/vec3f64.js\";import{ViewingMode as v}from\"../../ViewingMode.js\";import{S as T}from\"../../../chunks/SunCalc.js\";import{angle as M}from\"./mathUtils.js\";const j={local:{altitude:1500,ambientAtNight:.1,ambientAtNoon:.45,ambientAtTwilight:.2,directAtNoon:.65,directAtTwilight:.7},global:{altitude:8e5,ambient:.015,direct:.75},planarDirection:{localAltitude:1e4,globalAltitude:1e6,globalAngles:{azimuth:1.3*Math.PI,altitude:.6*Math.PI}}};class x{constructor(t,e){this.direct=t,this.ambient=e}}function S(i,n,o,a,l,s){h(s.ambient.color,1,1,1),s.ambient.intensity=j.global.ambient,h(s.direct.color,1,1,1),s.direct.intensity=j.global.direct;const c=n[2],r=e((Math.abs(c)-j.local.altitude)/(j.global.altitude-j.local.altitude),0,1);let u;if(s.globalFactor=r,null!=i&&(u=T.getTimes(i,n[1],n[0])),r<1){let e;if(null!=i)e=nt(i,u,a);else{const t=F(a);e={direct:{intensity:j.local.directAtNoon*t.direct,color:A(1,1,1)},ambient:{intensity:j.local.ambientAtNoon*t.ambient,color:A(1,1,1)},timeOfDay:\"early afternoon\"}}d(s.ambient.color,e.ambient.color,s.ambient.color,r),s.ambient.intensity=t(e.ambient.intensity,s.ambient.intensity,r),d(s.direct.color,e.direct.color,s.direct.color,r),s.direct.intensity=t(e.direct.intensity,s.direct.intensity,r),s.specularStrength=\"rainy\"===a||\"snowy\"===a||\"foggy\"===a?0:1,s.environmentStrength=\"rainy\"===a?.7:\"snowy\"===a||\"foggy\"===a?.75:1}s.noonFactor=null!=i?H(i,u):1,null!=i?P(i,n,o,s.direct.directionToLightSource):O(l,o,s.direct.directionToLightSource)}function O(t,e,n){e===v.Global?f(lt,t.eye):h(lt,0,0,1),g(st,t.viewForward,-1);const o=M(st,lt),a=Math.max(o-2*rt,0),l=.85*a/(a+1),s=Math.max(rt,o-rt-l);i(at,-s,t.viewRight),b(n,st,at),y(n,n,g(ct,t.viewRight,ut)),f(n,n)}function P(t,i,s,c){const r=G,u=n(I);if(s===v.Global)T.getPosition(t,0,0,r),h(c,0,0,-1),o(u,u,-r.azimuth),a(u,u,-r.altitude),b(c,c,u);else{const n=j.planarDirection,a=n.globalAngles,s=i[2];let m=(Math.abs(s)-n.localAltitude)/(n.globalAltitude-n.localAltitude);m=e(m,0,1),m<1?(T.getPosition(t,i[1],i[0],r),r.azimuth=(1-m)*r.azimuth+m*a.azimuth,r.altitude=(1-m)*r.altitude+m*a.altitude):(r.azimuth=a.azimuth,r.altitude=a.altitude),h(c,0,-1,0),l(u,u,-r.azimuth),o(u,u,-r.altitude),b(c,c,u)}}function z(t,e){if(e===v.Global)return!0;const i=j.planarDirection;return Math.abs(t)<i.localAltitude}function k(t,e,i,n,o){const a=t.getTime(),l=e.getTime()-a,s=Math.floor(l/i)+1,c=new Array(s);for(let r=0;r<s;++r)ot.setTime(a+i*r),c[r]=w(),P(ot,n,o,c[r]);return c}const D=A(.5773502691896258,-.5773502691896258,.5773502691896258);class E{constructor(){this.ambient={color:A(1,1,1),intensity:.55},this.direct={color:A(1,1,1),intensity:.55,directionToLightSource:N(D)},this.noonFactor=.5,this.globalFactor=0,this.specularStrength=1,this.environmentStrength=1}}const I=s(),G={azimuth:0,altitude:0};function H(t,i){const n=t.valueOf();let o,a;i.polarException===T.PolarException.MIDNIGHT_SUN?(o=n-60*(t.getHours()+48)*60*1e3-60*t.getMinutes()*1e3,a=o+432e6):i.polarException===T.PolarException.POLAR_NIGHT?(o=n-2,a=n-1):(o=i.sunrise.valueOf(),a=i.sunset.valueOf());const l=o+(a-o)/2;return 1-e(Math.abs(n-l)/432e5,0,1)}function F(t){switch(t){case\"disabled\":case\"sunny\":case\"cloudy\":return new x(1,1);case\"rainy\":return new x(.4,1.2);case\"snowy\":return new x(.5,1.3);case\"foggy\":return new x(.2,1.6)}}function L(t,e){const i=(t[0]+t[1]+t[2])/3;t[0]+=(i-t[0])*e,t[1]+=(i-t[1])*e,t[2]+=(i-t[2])*e}const R=A(.01,.01,.01),U=A(1,.6,.5),_=A(1,.98,.98),C=A(1,1,1),V=A(.8,.8,1),q=A(.8,.8,1),B=A(.98,.98,1),J=A(1,1,1),K=u(.01,j.local.ambientAtNight),Q=u(j.local.directAtTwilight,j.local.ambientAtTwilight),W=u(.9*j.local.directAtNoon,j.local.ambientAtNoon),X=u(j.local.directAtNoon,j.local.ambientAtNoon),Y=W,Z=_,$=B,tt=Q,et=U,it=q;function nt(t,e,i){const n=t.valueOf();let o,a;e.polarException===T.PolarException.MIDNIGHT_SUN?(o=n-60*(t.getHours()+48)*60*1e3-60*t.getMinutes()*1e3,a=o+432e6):e.polarException===T.PolarException.POLAR_NIGHT?(o=n-2,a=n-1):(o=e.sunrise.valueOf(),a=e.sunset.valueOf());const l=a-o,s=o+l/2,u=l/4,h=s-u,f=s+u,g=.06*l,b=o-g/2,y=o+g/2,A=a-g/2,N=a+g/2,v=m(),M=w(),j=w();let x=\"\";if(n<b||n>N)c(v,K),p(M,R),p(j,V),x=\"night\";else if(n<y){const t=(n-b)/(y-b);r(v,K,Q,t),d(M,R,U,t),d(j,V,q,t),x=\"sun rising\"}else if(n<h){const t=(n-y)/(h-y);r(v,Q,W,t),d(M,U,_,t),d(j,q,B,t),x=\"early morning\"}else if(n<s){const t=(n-h)/(s-h);r(v,W,X,t),d(M,_,C,t),d(j,B,J,t),x=\"late morning\"}else if(n<f){const t=(n-s)/(f-s);r(v,X,Y,t),d(M,C,Z,t),d(j,J,$,t),x=\"early afternoon\"}else if(n<A){const t=(n-f)/(A-f);r(v,Y,tt,t),d(M,Z,et,t),d(j,$,it,t),x=\"late afternoon\"}else if(n<N){const t=(n-A)/(N-A);r(v,tt,K,t),d(M,et,R,t),d(j,it,V,t),x=\"sun setting\"}let S=0;switch(i){case\"rainy\":case\"foggy\":S=.8;break;case\"snowy\":S=.5}S>0&&(L(M,S),L(j,S));const O=F(i);return{direct:{intensity:v[0]*O.direct,color:M},ambient:{intensity:v[1]*O.ambient,color:j},timeOfDay:x}}const ot=new Date(0),at=s(),lt=w(),st=w(),ct=w(),rt=.25,ut=.2;export{E as ColorAndIntensity,S as computeColorAndIntensity,k as computeDirectionsOverTime,z as computeShadowsEnabled,O as computeVirtualLightDirection};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import r from\"../../../core/Evented.js\";import i from\"../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{after as n}from\"../../../core/promiseUtils.js\";import{watch as o,sync as a,syncAndInitial as h}from\"../../../core/reactiveUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{s as d,g as p,c as _,h as u}from\"../../../chunks/vec3.js\";import{c as m,f}from\"../../../chunks/vec3f64.js\";import{b as g,f as P}from\"../../../chunks/vec4f64.js\";import{canProjectToWGS84ComparableLonLat as v,projectPointToWGS84ComparableLonLat as b}from\"../../../geometry/projection.js\";import{isEarth as w}from\"../../../geometry/support/spatialReferenceUtils.js\";import{ViewingMode as y}from\"../../ViewingMode.js\";import{EnvironmentRenderer as C}from\"./EnvironmentRenderer.js\";import{positionToTimezoneInfo as U}from\"../support/earthUtils.js\";import{computeColorAndIntensity as S,computeVirtualLightDirection as T,computeShadowsEnabled as R,ColorAndIntensity as M}from\"../support/sunUtils.js\";import{Update as W}from\"../webgl-engine/lib/Update.js\";import{MainLight as H,AmbientLight as G,FillLight as j}from\"../webgl-engine/lighting/Lightsources.js\";import L from\"../../../webscene/background/ColorBackground.js\";let k=class extends r.EventedAccessor{constructor(){super(),this._referencePointUpdateDelay=200,this._referencePointUpdateInterval=3e3,this._referencePointUpdateDistThreshold=1e6,this._referencePosUpdateQuery=null,this._referencePosMapCoordsRequested=null,this._viewHandles=new i,this._preserveAbsoluteDateTime=!1,this._trackingEnabled=!1,this._referencePosResetPreserveAbsoluteTime=!1,this._referencePosUpdateTimer=null,this._referencePosMapCoords=null,this._mainLight=new H,this._ambientLight=new G,this._moonLight=new j,this.disableQueries=!1,this._disableWeather=!1,this._renderer=null,this._referencePosWGS84Comparable=null,this._resetReferencePosition()}destroy(){this.disconnectView(),this._viewHandles.destroy()}get _view(){return this._renderer?.view}get updating(){return!((this.disableQueries||!this._referencePosUpdateQuery&&!this._referencePosMapCoordsRequested)&&!this._renderer?.updating)}get weatherEnabled(){return this._view?.environment.atmosphereEnabled&&!this._disableWeather&&this._view?.state?.viewingMode===y.Global&&w(this._view.spatialReference)}get weatherVisible(){return this.weatherEnabled&&this._renderer?.weatherVisible}get referencePositionWGS84Comparable(){return this._referencePosWGS84Comparable}connectView(e){if(this._renderer)return;this._renderer=new C({view:e});const t=()=>this._updateRenderParameters(),r=()=>this._cameraHandler();this._viewHandles.add([o((()=>e.environment.lighting),(e=>this._updateLightingHandler(e)),a),o((()=>\"virtual\"!==e.environment.lighting.type?e.environment.lighting.date:null),(e=>this._lightingDateHandler(e)),a),o((()=>e.stationary),(()=>this._interactingStationaryHandler())),o((()=>e.environment.lighting.directShadowsEnabled),t,a),o((()=>e.qualitySettings.ambientOcclusion),t,a),o((()=>e.qualitySettings.reflections),t,a),o((()=>e.environment.background?.color),t,a),o((()=>e.spatialReference),(()=>this._resetReferencePosition(!0)),a),o((()=>e.environment.weather.type),(()=>this._updateLighting(null,W.Faded)),a),o((()=>this.weatherEnabled),(()=>this._updateLighting(null,W.Faded)),a),o((()=>e.viewingMode),(()=>this._resetReferencePosition(!0)),h),o((()=>\"virtual\"!==e.environment.lighting.type&&e.environment.lighting.cameraTrackingEnabled),(e=>this._updateCameraTracking(e)),h),o((()=>e.state.camera),r,h),o((()=>this.disableQueries),r)]),this._updateRenderParameters(),this._updateLighting(),this._cameraHandler(),this.notifyChange(\"updating\")}disconnectView(){this._viewHandles.removeAll(),this._resetReferencePosition(),this._renderer=s(this._renderer)}_updateLightingHandler(e){this._updateCameraTracking(\"virtual\"!==e.type&&e.cameraTrackingEnabled),this._lightingDateHandler(\"virtual\"!==e.type?e.date:null),this._updateRenderParameters()}_updateCameraTracking(e){if(this._trackingEnabled=e,e)this._cameraHandler();else{const e=this._view.environment.lighting;\"virtual\"!==e?.type&&(e.positionTimezoneInfo.autoUpdated=!1)}}_lightingDateHandler(e){const t=this._view.environment.lighting;if(\"virtual\"!==t?.type){if(e){if(!t.positionTimezoneInfo.autoUpdated){this._preserveAbsoluteDateTime=!0;const r=this._view.spatialReference;if(!v(r)){const e=this._view.camera.position;if(!this._referencePosMapCoords||!this._referencePosMapCoords.equals(e))return void this._requestReferencePositionUpdate(e)}if(this._preupdateTracking(e),null!=this._referencePosWGS84Comparable){const e=U(this._referencePosWGS84Comparable,D);null!=e&&(t.autoUpdate(null,e),this._trackingEnabled&&(t.positionTimezoneInfo.autoUpdated=!0))}}this._updateLighting(e)}}else this._updateLighting()}_preupdateTracking(e){!this._trackingEnabled&&\"virtual\"!==this._view.environment.lighting.type&&this._view.environment.lighting.cameraTrackingEnabled&&this._cameraHandler(e)}_cameraHandler(e=null){const t=this._view;if(!t.ready)return;const r=t.stateManager.camera;r&&(this._cameraHandlerClientSide(r,e)||this._cameraHandlerServerSide(r))}_cameraHandlerClientSide(e,t){const r=w(this._view.spatialReference);if(r&&!v(this._view.spatialReference))return\"virtual\"===this._view.environment.lighting.type&&this._updateLighting(),!1;const i=e.position;return null==this._referencePosWGS84Comparable&&(this._referencePosWGS84Comparable=m()),r?b(i,this._referencePosWGS84Comparable):d(this._referencePosWGS84Comparable,i.longitude??0,i.latitude??0,i.z??0),this.notifyChange(\"referencePositionWGS84Comparable\"),this._autoUpdateTimezone(this._referencePosWGS84Comparable,t)||this._updateLighting(t),!0}_cameraHandlerServerSide(e){const t=e.position;(!this._referencePosMapCoords||this._referencePosMapCoordsRequested||this._exceedsReferencePosDistThreshold(t))&&this._requestReferencePositionUpdate(t,!0),this._view.mapCoordsHelper&&this._referencePosWGS84Comparable&&(this._referencePosWGS84Comparable[2]=(t.z??0)*this._view.mapCoordsHelper.unitInMeters,this._referencePosChanged())}_interactingStationaryHandler(){this._view.stationary&&this._executePendingReferencePositionUpdate()}_updateLighting(e,t=W.Immediate){const r=this._view;e=e||(\"virtual\"===r.environment.lighting.type?null:r.environment.lighting.date);const i=this._referencePosWGS84Comparable,s=null!=i?q:E,n=this.weatherVisible?r.environment.weather.type:\"disabled\";null!=i?S(e,i,r.state.viewingMode,n,r.state.camera,s):\"virtual\"===r.environment.lighting.type&&T(r.state.camera,r.state.viewingMode,s.direct.directionToLightSource);const o=this._mainLight,a=s.direct;p(o.intensity,a.color,a.intensity*Math.PI),_(o.direction,a.directionToLightSource),o.specularStrength=s.specularStrength,o.environmentStrength=s.environmentStrength;const h=this._ambientLight;p(h.intensity,s.ambient.color,s.ambient.intensity);const c=this._moonLight;u(c.intensity,A,I,s.globalFactor);const l=(1-.5*s.globalFactor)*(1-.4*s.noonFactor*(1-s.globalFactor));p(c.intensity,c.intensity,l),_(c.direction,a.directionToLightSource),this._renderer.updateLightSources([o,h,c],s.noonFactor,s.globalFactor,t),this._updateRenderParameters()}_autoUpdateTimezone(e,t=null){if(\"virtual\"===this._view.environment.lighting.type||!this._view.environment.lighting.cameraTrackingEnabled||null==e)return!1;const r=Q;r.setTime((t||this._view.environment.lighting.date).getTime());const i=U(e,D);if(null==i)return!1;let s=this._view.environment.lighting.positionTimezoneInfo;if(s.autoUpdated){if(s.hours===i.hours&&s.minutes===i.minutes&&s.seconds===i.seconds)return!1}else s=i;const n=r.getUTCHours()-(i.hours-s.hours),o=r.getUTCMinutes()-(i.minutes-s.minutes),a=r.getUTCSeconds()-(i.seconds-s.seconds);return r.setUTCHours(n),r.setUTCMinutes(o),r.setUTCSeconds(a),!t&&this._view.environment.lighting.autoUpdate(r,i)}_updateRenderParameters(){const e=this._view._stage;if(!e)return;const r=null==this._referencePosWGS84Comparable||R(this._referencePosWGS84Comparable[2],this._view.state.viewingMode),i=this._view.environment.background,s=i instanceof L?{type:\"color\",color:g(t.toUnitRGBA(i.color))}:{type:\"color\",color:P(0,0,0,1)};e.renderer.setParameters({shadowMap:this._view.environment.lighting.directShadowsEnabled&&r,background:s,environment:this._view.environment,weatherVisible:this._view.environmentManager.weatherVisible,qualitySettings:this._view.qualitySettings})}_resetReferencePosition(e=!1){this._cancelReferencePosUpdates(),this._referencePosMapCoords=null,this._referencePosMapCoordsRequested=null,this._referencePosResetPreserveAbsoluteTime=null,this._referencePosWGS84Comparable=null,this.notifyChange(\"updating\"),e&&this._cameraHandler()}_requestReferencePositionUpdate(e,t=!1){if(!this.disableQueries&&(this._referencePosMapCoordsRequested?this._referencePosMapCoordsRequested.copy(e):this._referencePosMapCoordsRequested=e.clone(),this._referencePosResetPreserveAbsoluteTime=!!t,!this._referencePosUpdateQuery&&!this._referencePosUpdateTimer&&this._view.stationary)){const e=this._referencePosUpdateQuery=n(this._referencePointUpdateDelay).then((()=>{if(this._referencePosUpdateQuery===e){const t=()=>this._referencePosUpdateQuery!==e;return this._doReferencePositionUpdateQuery(t)}})).catch((e=>{\"mapcoordshelper:missing-geometry-service\"===e.name&&(this.disableQueries=!0)})).then((()=>{this._referencePosUpdateQuery===e&&(this._referencePosUpdateQuery=null,this._referencePosUpdateTimer||this._executePendingReferencePositionUpdate(),this.notifyChange(\"updating\"))})),t=this._referencePosUpdateTimer=n(this._referencePointUpdateInterval).then((()=>{this._referencePosUpdateTimer===t&&(this._referencePosUpdateTimer=null,this._referencePosUpdateQuery||this._executePendingReferencePositionUpdate())}));this.notifyChange(\"updating\")}}async _doReferencePositionUpdateQuery(e){this._referencePosResetPreserveAbsoluteTime&&(this._preserveAbsoluteDateTime=!1),this._referencePosMapCoords?this._referencePosMapCoords.copy(this._referencePosMapCoordsRequested):this._referencePosMapCoords=this._referencePosMapCoordsRequested.clone(),this._referencePosResetPreserveAbsoluteTime=null,this._referencePosMapCoordsRequested=null;const t=await this._view.mapCoordsHelper.toGeographic(this._referencePosMapCoords);if(!e()&&!isNaN(t[0])&&!isNaN(t[1])){const e=(this._referencePosMapCoords.z??0)*this._view.mapCoordsHelper.unitInMeters;this._referencePosWGS84Comparable?(this._referencePosWGS84Comparable[0]=t[0],this._referencePosWGS84Comparable[1]=t[1],this._referencePosWGS84Comparable[2]=e):this._referencePosWGS84Comparable=[t[0],t[1],e],this._referencePosChanged()}}_executePendingReferencePositionUpdate(){const e=this._referencePosMapCoordsRequested;e&&this._requestReferencePositionUpdate(e,this._referencePosResetPreserveAbsoluteTime)}_referencePosChanged(){this._preserveAbsoluteDateTime?this._updateLighting():this._autoUpdateTimezone(this._referencePosWGS84Comparable)||this._updateLighting(),this.notifyChange(\"referencePositionWGS84Comparable\")}_exceedsReferencePosDistThreshold(e){if(this._referencePosMapCoords){let t=this._referencePosMapCoords.distance(e);return this._view.mapCoordsHelper&&(t*=this._view.mapCoordsHelper.unitInMeters),t>this._referencePointUpdateDistThreshold}return!0}_cancelReferencePosUpdates(){const e=!!this._referencePosUpdateQuery;return this._referencePosUpdateQuery=null,this._referencePosUpdateTimer=null,e}get test(){const e=this;return{get renderer(){return e._renderer},set referencePointUpdateInterval(t){e._referencePointUpdateInterval=t},set referencePointUpdateDistThreshold(t){e._referencePointUpdateDistThreshold=t},set referencePosUpdateTimer(t){e._referencePosUpdateTimer=t},set referencePointUpdateDelay(t){e._referencePointUpdateDelay=t},set disableWeather(t){e._disableWeather=t}}}};e([c({type:Boolean,readOnly:!0})],k.prototype,\"updating\",null),e([c()],k.prototype,\"disableQueries\",void 0),e([c()],k.prototype,\"_disableWeather\",void 0),e([c()],k.prototype,\"weatherEnabled\",null),e([c()],k.prototype,\"weatherVisible\",null),e([c()],k.prototype,\"referencePositionWGS84Comparable\",null),e([c()],k.prototype,\"_renderer\",void 0),e([c()],k.prototype,\"_referencePosWGS84Comparable\",void 0),k=e([l(\"esri.views.3d.environment.SceneViewEnvironmentManager\")],k);const q=new M,E=new M,Q=new Date,D={hours:0,minutes:0,seconds:0},A=f(.22,.22,.33),I=f(.22,.22,.22);export{k as SceneViewEnvironmentManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar L;!function(L){L[L.NONE=0]=\"NONE\",L[L.TILT=1]=\"TILT\",L[L.ALTITUDE=2]=\"ALTITUDE\",L[L.DISTANCE=4]=\"DISTANCE\",L[L.COLLISION=8]=\"COLLISION\",L[L.ALL=15]=\"ALL\",L[L.ALL_EXCEPT_COLLISION=7]=\"ALL_EXCEPT_COLLISION\"}(L||(L={}));export{L as ConstraintTypes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar O;!function(O){O[O.NONE=0]=\"NONE\",O[O.ZOOM=1]=\"ZOOM\",O[O.TUMBLE=2]=\"TUMBLE\",O[O.LOOK_AROUND=3]=\"LOOK_AROUND\",O[O.PAN=4]=\"PAN\",O[O.ASCEND=5]=\"ASCEND\"}(O||(O={}));export{O as InteractionType};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar O;!function(O){O[O.TUMBLE=0]=\"TUMBLE\",O[O.LOOK_AROUND=1]=\"LOOK_AROUND\"}(O||(O={}));export{O as TiltMode};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as t,g as n,e as a}from\"../../../../chunks/vec3.js\";import{ConstraintTypes as i}from\"./ConstraintTypes.js\";import{InteractionType as m}from\"./InteractionType.js\";import{TiltMode as o}from\"./TiltMode.js\";function r(t,n){return 0!=(t&n)}function e(t,n,a,i,m,o){0!==t&&(a?(o.min=Math.min(o.min,n),o.max=Math.max(o.max,n)):null!=i?(o.min-=Math.max(0,(n-o.min)*(1-i)),o.max+=Math.max(0,(n-o.max)*(1-i))):m&&(o.min-=Math.max(0,n-o.min-m),o.max+=Math.max(0,n-o.max-m)))}const c={selection:i.NONE,interactionType:m.NONE,interactionFactor:0,interactionStartCamera:null,interactionDirection:null,tiltMode:o.TUMBLE};function s(i,m,o,r){return m=m||i.viewForward,t(r,m),n(r,r,Math.sign(a(m,o))),r}export{e as adjustRangeForInteraction,c as defaultConstraintOptions,r as hasConstraintType,s as interactionDirectionTowardsConstraintMinimization};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{c as e,g as r}from\"../../../../chunks/vec3.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{wrap as o}from\"../../../../geometry/support/ray.js\";import{interactionDirectionTowardsConstraintMinimization as i,defaultConstraintOptions as s,hasConstraintType as c,adjustRangeForInteraction as a}from\"./common.js\";import{ConstraintTypes as m}from\"./ConstraintTypes.js\";import{InteractionType as u}from\"./InteractionType.js\";import{closestPointOnRay as p}from\"../../support/intersectionUtils.js\";function f(t,r,n=s){const c=l(t,r,n);if(0===c)return!1;const a=t.renderCoordsHelper,m=a.getAltitude(r.eye)+c,u=i(r,n.interactionDirection,j(t,r,Math.sign(c),C),g),f=e(M,r.viewForward),d=a.intersectInfiniteManifold(o(r.eye,u),m,h);return r.eye=null!=d?d:a.setAltitude(h,m,r.eye),r.center=p(h,r.eye,f,r.center),!0}function l(e,r,n=s){if(!d(e,n)||!e.state.constraints.altitude)return 0;const o=T(e.state.constraints.altitude,x);y(e,n,o);const i=e.renderCoordsHelper.getAltitude(r.eye),c=t(i,o.min,o.max)-i;return Math.abs(c)<=1e-6?0:c}function d(t,e){const r=t.state.constraints.altitude;return!(!t.state.isGlobal||!r)&&(e.interactionType!==u.TUMBLE||!c(e.selection,m.TILT))}function y(t,e,r){const n=e.interactionType;if(n===u.NONE)return;const{min:o,max:i}=r,{interactionStartCamera:s,interactionFactor:c}=e;if(!s)return;const m=n===u.TUMBLE||n===u.ZOOM,p=l(t,s),f=0===p?0:t.renderCoordsHelper.getAltitude(s.eye);r.min=o,r.max=i;a(p,f,m,c,.05*f,r)}function j(t,e,n,o){return t.renderCoordsHelper.worldUpAtPosition(e.eye,o),r(o,o,n),o}function T(t,e){return e.min=t.min,e.max=t.max,e}const x={min:0,max:0},g=n(),C=n(),M=n(),h=n();export{f as applyAltitudeConstraint,l as getAltitudeConstraintError};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as n,b as e,a as r,i as t,r as o}from\"../../../../chunks/vec3.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{wrap as c}from\"../../../../geometry/support/ray.js\";import{i as s,k as a}from\"../../../../chunks/sphere.js\";import{defaultConstraintOptions as f,interactionDirectionTowardsConstraintMinimization as m,adjustRangeForInteraction as u}from\"./common.js\";import{InteractionType as p}from\"./InteractionType.js\";function d(n,e,r=f){if(!n.state.isLocal)return 0;const t=n.state.constraints.distance;if(!n.pointsOfInterest.surfaceOrigin.renderLocation||t===1/0)return 0;j.min=0,j.max=t,O(n,r,j);const o=l(n,e),i=j.max-o;return i>=-1e-6?0:i}function y(t,o,i=f){const u=d(t,o,i);if(0===u)return!1;const p=t.pointsOfInterest.surfaceOrigin;if(!p.renderLocation)return!1;const y=l(t,o)+u,O=n(x,o.eye),j=m(o,i.interactionDirection,L(o,p.renderLocation,h),I);if(!s(a(p.renderLocation,y),c(o.eye,j),k))return!1;o.eye=k;const C=e(g,o.eye,O);o.center=r(k,o.center,C);const N=t.renderCoordsHelper.getAltitude(o.center),v=t.renderCoordsHelper.intersectInfiniteManifold(o.ray,N,k);return null!=v&&(o.center=v),!0}function O(n,e,r){const t=e.interactionType;if(t===p.NONE)return;const{min:o,max:i}=r,{interactionStartCamera:c,interactionFactor:s}=e;if(!c)return;const a=t===p.ZOOM||t===p.PAN,f=d(n,c),m=0===f?0:l(n,c);r.min=o,r.max=i;u(f,m,a,s,.05*m,r)}function l(n,e){const r=n.pointsOfInterest.surfaceOrigin;return r.renderLocation?t(e.eye,r.renderLocation):0}function L(n,e,r){return o(r,n.eye,e)}const j={min:0,max:0},x=i(),g=i(),I=i(),h=i(),k=i();export{y as applyDistanceConstraint,d as getDistanceConstraintError};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as e,d as r,g as n,b as t,a as i,e as o,l as s}from\"../../../chunks/vec3.js\";import{c as a}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as c}from\"../../../geometry/ellipsoidUtils.js\";import{containsPoint as l}from\"../../../geometry/support/aaBoundingRect.js\";import{newIntersector as d}from\"../webgl-engine/lib/Intersector.js\";function u(e,r,n,t){return null!=e.renderCoordsHelper.fromRenderCoords(r.eye,M,t)&&l(n,M)}function g(e,r){return e.elevationProvider?e.elevationProvider.getElevation(r[0],r[1],r[2],e.renderCoordsHelper.spatialReference,\"ground\")??0:0}function f(o,s,a,c){const l=o.state.camera.clone();s&&a&&c&&(l.eye=s,l.center=a,l.up=c),m(o,l.ray,b)||e(b,l.center);const d=o.state.constraints,u=d.minimumPoiDistance;if(r(l.eye,b)<u){const r=d.collision.enabled;e(w,l.viewForward),n(w,w,u),r?l.eye=t(M,b,w):i(b,l.eye,w);const s=o.renderCoordsHelper,a=s.getAltitude(l.eye),c=d.collision.elevationMargin;r&&a<c&&(t(w,b,l.eye),l.eye=s.setAltitude(M,c,l.eye),i(b,l.eye,w))}return l.center=b,l}function p(e,n,t){if(!e.state.isGlobal||!e.stateManager.constraintsManager)return!1;const i=g(e,n),o=e.stateManager.constraintsManager.nearFarHeuristic,{far:s}=o.compute(n,t,e.renderDataExtent,i,H),a=s*s;return r(n,t)>a}function m(e,r,n){let t=v[e.viewingMode];t||(t=d(e.state.viewingMode),t.options.backfacesTerrain=!e.state.isGlobal,t.options.invisibleTerrain=!0,v[e.viewingMode]=t);const{isGlobal:i}=e.state;return!(!e.sceneIntersectionHelper.intersectRay(r,t,n)||p(e,r.origin,n))||(!(!e.renderCoordsHelper.intersectManifold(r,0,n)||p(e,r.origin,n))||!!i&&y(r,n,c(e.spatialReference).radius))}function y(e,r,t){const a=o(e.origin,e.origin)-t*t,c=a>0?Math.sqrt(a)/3:1;return n(r,e.direction,c/s(e.direction)),i(r,r,e.origin),!0}const v={},M=a(),b=a(),w=a(),H={near:0,far:0};export{f as cameraOnContentAlongViewDirection,u as eyeWithinExtent,g as surfaceElevationBelowRenderLocation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{l as e,b as E,a as t,g as n}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{surfaceElevationBelowRenderLocation as s}from\"../intersectionUtils.js\";function o(r,o,l=i.EYE){const a=r.state.constraints;if(!a.collision.enabled)return!1;const N=s(r,o.eye),A=r.renderCoordsHelper.getAltitude(o.eye),C=N+a.collision.elevationMargin;if(A>=C)return!1;const f=e(o.eye);if(E(c,o.center,o.eye),o.eye=r.renderCoordsHelper.setAltitude(_,C,o.eye),l===i.EYE_AND_CENTER)o.center=t(c,o.eye,c);else if(l===i.EYE_AND_CENTER_SCALE){const e=(f-A+C)/f;o.center=n(c,o.center,e)}return!0}var i;!function(e){e[e.EYE=0]=\"EYE\",e[e.EYE_AND_CENTER=1]=\"EYE_AND_CENTER\",e[e.EYE_AND_CENTER_SCALE=2]=\"EYE_AND_CENTER_SCALE\"}(i||(i={}));const c=r(),_=r();export{i as Mode,o as applySurfaceCollisionConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{acosClamped as o}from\"../../../../core/mathUtils.js\";import{b as s,l as t,e as r}from\"../../../../chunks/vec3.js\";import{c}from\"../../../../chunks/vec3f64.js\";function n(c,n,e){c.worldUpAtPosition(n,i),s(m,e,n);const a=t(m);return 0===a?0:o(r(m,i)/a)}const i=c(),m=c();export{n as viewAngle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{clamp as t,acosClamped as n,asinClamped as r,deg2rad as i}from\"../../../../core/mathUtils.js\";import{d as s}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f64.js\";import{b as o,m as c,g as u,a as l,i as m,e as d,n as f,l as p,p as y}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as M}from\"../../../../geometry/ellipsoidUtils.js\";import{b as C,e as T,t as I}from\"../../../../chunks/sphere.js\";import{defaultConstraintOptions as O,hasConstraintType as A,adjustRangeForInteraction as D}from\"./common.js\";import{ConstraintTypes as S}from\"./ConstraintTypes.js\";import{InteractionType as R}from\"./InteractionType.js\";import{TiltMode as w}from\"./TiltMode.js\";import{viewAngle as j}from\"../../state/utils/viewUtils.js\";function x(t,n,r=O,i=!0){V.eyeCenterDistance=0,V.requiresTwoSteps=!1;const a=U(t,n,r,void 0,V);if(0===a)return!1;switch(s(_,-a,n.viewRight),r.tiltMode){case w.LOOK_AROUND:c(K,n.viewForward,_),u(K,K,V.eyeCenterDistance),n.center=l(z,n.eye,K);break;case w.TUMBLE:o(K,n.center,n.eye),c(K,K,_),n.eye=o(z,n.center,K);break;default:e(r.tiltMode)}return n.up=c(z,n.up,_),!V.requiresTwoSteps||!i||x(t,n,r,!1)}function U(e,t,n=O,r=O,i){if(!e.state.constraints.tilt)return 0;const s=t.distance,a=e.state.constraints.tilt(s,J);return N(e,n,a),r.interactionType===R.TUMBLE&&A(r.selection,S.ALTITUDE)&&B(e,r.interactionStartCamera,a),n.tiltMode===w.LOOK_AROUND||r.tiltMode===w.LOOK_AROUND?L(e,t,a,i):P(e,t,a)}function P(e,n,r){const i=j(e.renderCoordsHelper,n.center,n.eye),s=i-t(i,r.min,r.max);return k(s)?s:0}function L(e,t,n,r){switch(r&&(r.requiresTwoSteps=!1),e.viewingMode){case\"global\":return v(e,t,n,r);case\"local\":return q(e,t,n,r)}}function q(e,n,r,i){const s=j(e.renderCoordsHelper,n.center,n.eye),a=t(s,r.min,r.max),o=s-a;if(!k(o))return 0;if(i){const t=e.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,r=e.renderCoordsHelper.getAltitude(n.eye)-t,s=Math.cos(a);Math.abs(s)>1e-4?i.eyeCenterDistance=r/s:i.eyeCenterDistance=n.distance}return o}function v(e,n,r,i){const s=b(e,n,Q),a=t(s.tiltAtCenter,r.min,r.max);if(!k(s.tiltAtCenter-a))return 0;let o,c;return s.centerIsOnSurface?(o=H(s),c=E(s,o)):(o=s.constraints.clampTilt(s.eyeCenterDistance,s.tiltAtCenter),i&&o<Math.PI/2&&(i.requiresTwoSteps=!0,o=Math.PI/2-1e-5),c=F(s,o)),i&&(i.eyeCenterDistance=g(s,o)),c}function b(e,t,r){const i=e.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,s=i+M(e.spatialReference).radius,a=e.renderCoordsHelper.intersectManifold(t.ray,i,z);return r.eyeCenterDistance=t.distance,r.centerIsOnSurface=!1,null!=a?(r.eyeCenterDistance=m(t.eye,a),r.tiltAtCenter=j(e.renderCoordsHelper,a,t.eye),r.centerIsOnSurface=!0):e.state.isLocal?r.tiltAtCenter=j(e.renderCoordsHelper,t.center,t.eye):(C(T(I,s),t.ray,z),r.eyeCenterDistance=m(t.eye,z),r.tiltAtCenter=n(-d(t.viewForward,f(z,z)))),r.radius=s,r.eyeRadius=p(t.eye),r.constraints=e.state.constraints,r}function k(e){return Math.abs(e)>1e-9}function H(e){const{constraints:t,eyeCenterDistance:n,tiltAtCenter:r}=e;let i=r,s=t.clampTilt(n,r);const a=g(e,s);if(t.clampTilt(a,r)===s)return s;let o=0;for(;o<10&&k(s-i);){const n=(i+s)/2,r=g(e,n);k(t.clampTilt(r,n)-n)?i=n:s=n,o++}return s}function g(e,n){if(!e.centerIsOnSurface)return e.eyeCenterDistance;const i=Math.PI-t(n,0,Math.PI),s=r(e.radius/e.eyeRadius*Math.sin(i)),a=Math.PI-i-s,o=Math.sin(a)/Math.sin(i);if(e.eyeRadius<e.radius&&o>1){const t=Math.PI-s,n=Math.PI-i-t;return Math.sin(n)/Math.sin(i)*e.eyeRadius}return o*e.eyeRadius}function E(e,t){const n=r(e.radius/e.eyeRadius*Math.sin(e.tiltAtCenter)),i=r(e.radius/e.eyeRadius*Math.sin(t));return e.eyeRadius>e.radius?n-i:i-n}function F(e,t){return e.tiltAtCenter-Math.PI/2-(t-Math.PI/2)}function N(e,t,n){if(t.interactionType===R.NONE)return;const{interactionStartCamera:r,interactionFactor:i}=t;if(!r)return;const{min:s,max:a}=n,o=U(e,r,O,t),c=0===o?0:j(e.renderCoordsHelper,r.center,r.eye);n.min=s,n.max=a,t.interactionType===R.TUMBLE?(A(t.selection,S.ALTITUDE)&&B(e,r,n),D(o,c,!0,i,G,n)):D(o,c,!1,i,G,n)}function B(e,t,r){const i=e.state.constraints;if(e.state.isLocal||!i.altitude||!t)return;const s=y(t.center),a=Math.sqrt(s),o=t.distance,c=M(e.spatialReference).radius,u=i.altitude.min+c,l=i.altitude.max+c,m=(u*u-o*o-s)/(-2*a*o),d=(l*l-o*o-s)/(-2*a*o);r.min=Math.max(r.min,Math.min(Math.PI-n(d),r.max)),r.max=Math.min(r.max,Math.PI-n(m))}const K=h(),_=a(),z=h(),G=i(5),J={min:0,max:0},Q={constraints:null,radius:0,eyeRadius:0,centerIsOnSurface:!0,eyeCenterDistance:0,tiltAtCenter:0},V={eyeCenterDistance:0,requiresTwoSteps:!1};export{x as applyTiltConstraint,U as getTiltConstraintError};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction t(t){return t}const u=t=>t*t,o=t=>1-u(1-t),i=t=>t<.5?u(2*t)/2:(o(2*(t-.5))+1)/2,n=t=>t*t*t,c=t=>1-n(1-t),a=t=>t<.5?n(2*t)/2:(c(2*(t-.5))+1)/2,s=t=>t*t*t*t,q=t=>1-s(1-t),r=t=>t<.5?s(2*t)/2:(q(2*(t-.5))+1)/2,e=t=>t*t*t*t*t,b=t=>1-e(1-t),d=t=>t<.5?e(2*t)/2:(b(2*(t-.5))+1)/2,h=t=>1-Math.cos(t*Math.PI/2),p=t=>1-h(1-t),x=t=>t<.5?h(2*t)/2:(p(2*(t-.5))+1)/2,M=t=>2**(10*(t-1)),f=t=>1-M(1-t),l=t=>t<.5?M(2*t)/2:(f(2*(t-.5))+1)/2,I=t=>-(Math.sqrt(1-t*t)-1),P=t=>1-I(1-t),g=t=>t<.5?I(2*t)/2:(P(2*(t-.5))+1)/2;function j(t){const u=2*(t-Math.sqrt((t-1)*t)),o=u/2/t;return i=>i<o?t*i*i:u*i-u+1}function k(t,u){return(o,i)=>o<u?u*t(o/u,i):1-t((1-o)/(1-u),i)*(1-u)}const m=k(j(1),1),v=k(j(1),0),w=k(j(1),.5),y=k(j(2),1),z=k(j(2),0),A=k(j(2),.5),B=k(j(3),1),C=k(j(3),0),D=k(j(3),.5),E=k(j(4),1),F=k(j(4),0),G=k(j(4),.5),H={linear:t,\"in-quad\":u,\"out-quad\":o,\"in-out-quad\":i,\"in-coast-quad\":m,\"out-coast-quad\":v,\"in-out-coast-quad\":w,\"in-cubic\":n,\"out-cubic\":c,\"in-out-cubic\":a,\"in-coast-cubic\":y,\"out-coast-cubic\":z,\"in-out-coast-cubic\":A,\"in-quart\":s,\"out-quart\":q,\"in-out-quart\":r,\"in-coast-quart\":B,\"out-coast-quart\":C,\"in-out-coast-quart\":D,\"in-quint\":e,\"out-quint\":b,\"in-out-quint\":d,\"in-coast-quint\":E,\"out-coast-quint\":F,\"in-out-coast-quint\":G,\"in-sine\":h,\"out-sine\":p,\"in-out-sine\":x,\"in-expo\":M,\"out-expo\":f,\"in-out-expo\":l,\"in-circ\":I,\"out-circ\":P,\"in-out-circ\":g};export{H as EasingFunctions,I as inCirc,y as inCoastCubic,m as inCoastQuad,B as inCoastQuart,E as inCoastQuint,n as inCubic,M as inExpo,g as inOutCirc,A as inOutCoastCubic,w as inOutCoastQuad,D as inOutCoastQuart,G as inOutCoastQuint,a as inOutCubic,l as inOutExpo,i as inOutQuad,r as inOutQuart,d as inOutQuint,x as inOutSine,u as inQuad,s as inQuart,e as inQuint,h as inSine,t as linear,P as outCirc,z as outCoastCubic,v as outCoastQuad,C as outCoastQuart,F as outCoastQuint,c as outCubic,f as outExpo,o as outQuad,q as outQuart,b as outQuint,p as outSine};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{getAltitudeConstraintError as t,applyAltitudeConstraint as o}from\"./constraintUtils/altitude.js\";import{hasConstraintType as r}from\"./constraintUtils/common.js\";import{ConstraintTypes as i}from\"./constraintUtils/ConstraintTypes.js\";import{getDistanceConstraintError as n,applyDistanceConstraint as e}from\"./constraintUtils/distance.js\";import{InteractionType as s}from\"./constraintUtils/InteractionType.js\";import{applySurfaceCollisionConstraint as a,Mode as c}from\"./constraintUtils/surfaceCollision.js\";import{applyTiltConstraint as l,getTiltConstraintError as p}from\"./constraintUtils/tilt.js\";import{TiltMode as m}from\"./constraintUtils/TiltMode.js\";import{inOutCubic as f}from\"../../animation/easing.js\";function E(t,o,n=U,e=o){e!==o&&e.copyFrom(o),e.computeUp(t.state.viewingMode);let s=!1;for(let i=0;i<C;i++){let o=0;for(const i of N)if(r(n.selection,i.type)){const r=Math.abs(i.error(t,e,n));i.apply(t,e,n)&&(s=!0,o+=r)}if(0===o)break}const c=r(n.selection,i.COLLISION),l=u(n.interactionType,t);return c&&a(t,e,l)&&(s=!0),s&&e.computeUp(t.state.viewingMode),s}function u(t,o){switch(t){case s.PAN:return c.EYE_AND_CENTER;case s.ASCEND:return o.state.isGlobal?c.EYE_AND_CENTER_SCALE:c.EYE_AND_CENTER;default:return c.EYE}}function T(t){const o=Math.min(1,t/150);return f(o)}function y(t,o,r){return p(t,o,r)*o.distance}const N=[{type:i.TILT,error:y,apply:l},{type:i.ALTITUDE,error:t,apply:o},{type:i.DISTANCE,error:n,apply:e}],U={selection:i.ALL,interactionType:s.NONE,interactionFactor:0,interactionStartCamera:null,interactionDirection:null,tiltMode:m.TUMBLE},C=5;export{E as applyAll,T as pixelDistanceToInteractionFactor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{lerp as t}from\"../../../../core/mathUtils.js\";import{t as e}from\"../../../../chunks/mat3.js\";import{c as i}from\"../../../../chunks/mat3f64.js\";import{l as s,i as a,h as o,c as h,b as r,t as n,g as c,f as p,e as m,a as d,n as w}from\"../../../../chunks/vec3.js\";import{c as l,a as u,f as y}from\"../../../../chunks/vec3f64.js\";import{ViewingMode as M}from\"../../../ViewingMode.js\";import{angle as f,slerp as A}from\"../../support/mathUtils.js\";const P=l(),g=l(),_=l(),k=l(),v=l(),x=l(),z={upward:y(0,0,1),forward:y(0,1,0),sideway:y(1,0,0)},b=i();class T{constructor(t=M.Global){this.viewingMode=t,this.center=l(),this.pitch=0,this.yaw=0,this.distance=0,this.lookAtDirection=u(z.forward)}pixelsPerPanAtZoom(t){return this.size/2/(this._zoomToPanScale*t)}zoomAtPixelsPerPan(t){return this.size/2/(this._zoomToPanScale*t)}pixelsPerRotateAtZoom(){const t=Math.max(Math.cos(Math.abs(this.pitch)),.5);return this.size/2/t}compareTo(t,e){if(e||(e={pan:0,rotate:0,sourceZoom:0,targetZoom:0}),this.viewingMode===M.Global){const i=(s(this.center)+s(t.center))/2;e.pan=f(this.center,t.center)*i}else e.pan=a(this.center,t.center);let i=Math.abs(t.yaw-this.yaw);i>=Math.PI&&(i=2*Math.PI-i);const o=Math.abs(t.pitch-this.pitch);return e.rotate=Math.max(i,o),e.sourceZoom=this.distance,e.targetZoom=t.distance,e}interpolate(e,i,s){this.viewingMode===M.Global?A(e.center,i.center,s.pan,this.center):o(this.center,e.center,i.center,s.pan),this.distance=isFinite(i.distance)?t(e.distance,i.distance,s.zoom):e.distance,this.pitch=t(e.pitch,i.pitch,s.rotate);let a=e.yaw;const h=i.yaw;Math.abs(h-a)>=Math.PI&&(a+=2*(a<h?1:-1)*Math.PI),this.yaw=t(a,h,s.rotate)}copyFrom(t){h(this.center,t.center),this.pitch=t.pitch,this.yaw=t.yaw,this.distance=t.distance,h(this.lookAtDirection,t.lookAtDirection),this.size=t.size,this.copyFromCommon(t),this.viewingMode=t.viewingMode}copyFromRenderCamera(t){const e=this._lookAtOrientation(t.center,b);h(this.center,t.center),r(k,t.center,t.eye),n(k,k,e),n(v,t.up,e),this.distance=s(k),0!==this.distance&&(k[0]/=this.distance,k[1]/=this.distance,k[2]/=this.distance),this.pitch=this._eyeUpToPitch(k),this.yaw=this._eyeUpToYaw(k,v),this.size=Math.sqrt(t.width*t.width+t.height*t.height),this.copyFromCommon(t)}copyFromCommon(t){this.fov=t.fov,this._zoomToPanScale=Math.atan(.5*this.fov)}copyToRenderCamera(t){const i=this._lookAtOrientation(this.center,b);e(i,i),this._axisAngleVec3(z.sideway,this.pitch-Math.PI/2,z.forward,k),this._axisAngleVec3(z.upward,this.yaw,k),this._axisAngleVec3(z.sideway,this.pitch-Math.PI/2,z.upward,v),this._axisAngleVec3(z.upward,this.yaw,v),c(k,k,this.distance),n(k,k,i),n(v,v,i),t.center=this.center,t.eye=r(k,this.center,k),t.up=v}_axisAngleVec3(t,e,i,s=i){const a=Math.cos(e),o=Math.sin(e);return c(P,i,a),p(g,t,i),c(g,g,o),c(_,t,(1-a)*m(t,i)),d(s,d(s,P,g),_)}_lookAtOrientation(t,e=i()){return this._upAtLookAt(t,_),p(P,this.lookAtDirection,_),w(P,P),0===P[0]&&0===P[1]&&0===P[2]&&h(P,z.sideway),p(g,_,P),w(g,g),e[0]=P[0],e[1]=g[0],e[2]=_[0],e[3]=P[1],e[4]=g[1],e[5]=_[1],e[6]=P[2],e[7]=g[2],e[8]=_[2],e}_upAtLookAt(t,e){return this.viewingMode===M.Local?h(e,z.upward):w(e,t)}_eyeUpToPitch(t){return Math.PI-f(z.upward,t)}_eyeUpToYaw(t,e){const i=x;return Math.abs(e[2])<.5?(h(i,e),t[2]>0&&c(i,i,-1)):h(i,t),p(g,i,z.upward),w(g,g),f(z.sideway,g,z.upward)}}export{T as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{Milliseconds as e}from\"../../../core/time.js\";const o={desiredScreenFlow:2,minDuration:e(500),maxDuration:e(8e3)};export{o as defaultSettings};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{defaultSettings as e}from\"./Settings.js\";class t{constructor(t){this._createCamera=t,this.compared={sourceZoom:0,targetZoom:0,pan:0,rotate:0},this.settings={desiredScreenFlow:e.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const e=new t(this._createCamera);return e.copyFrom(this),e}copyFrom(e){this.update(e.source,e.target,e.settings)}update(t,r,s){this.source!==t&&this.source.copyFrom(t),this.target!==r&&this.target.copyFrom(r),this.compared=this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=null!=s.desiredScreenFlow?s.desiredScreenFlow:e.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){const t=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/t}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>1e-9}get hasRotate(){return this.compared.rotate>1e-9}}export{t as Definition};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{Seconds as t}from\"../../../core/time.js\";let e=class{constructor(){this.segments=[]}get time(){return this.segments.reduce(((e,o)=>t(e+o.time)),t(0))}interpolateComponentsAt(t,e){t=Math.min(Math.max(t,0),1),t*=this.time;let o=0,s=0;const n=this.definition;for(let a=0;a<this.segments.length;a++){const m=this.segments[a],i=m.definition;if(t<=m.time||a===this.segments.length-1){if(e=this.segmentInterpolateComponentsAt(m,0===m.time?0:t/m.time,e),n.hasPan&&!isNaN(e.pan)&&isFinite(n.compared.pan)?e.pan=(o+i.compared.pan*e.pan)/n.compared.pan:e.pan=1,n.hasRotate&&!isNaN(e.rotate)&&isFinite(n.compared.rotate)?e.rotate=(s+i.compared.rotate*e.rotate)/n.compared.rotate:e.rotate=1,n.hasZoom&&!isNaN(e.zoom)&&isFinite(i.compared.targetZoom)){const t=e.zoom*(i.compared.targetZoom-i.compared.sourceZoom)+i.compared.sourceZoom,o=this.segments[0].definition.compared.sourceZoom,s=this.segments[this.segments.length-1].definition.compared.targetZoom;e.zoom=(t-o)/(s-o)}else e.zoom=1;return e}t-=m.time,o+=i.compared.pan,s+=i.compared.rotate}}segmentInterpolateComponentsAt(t,e,o){return t.interpolateComponentsAt(e,o)}};export{e as Path};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{Seconds as t}from\"../../../core/time.js\";class i{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,i=t.compared,o=i.sourceZoom,e=i.targetZoom;this._zoomSign=o>e?1:-1,this._panPixelsAtSource=i.pan*t.source.pixelsPerPanAtZoom(o);const n=(t.source.pixelsPerRotateAtZoom(o)+t.target.pixelsPerRotateAtZoom(e))/2;this._rotatePixels=i.rotate*n}_updatePixelFlow(){const i=this.definition.compared.sourceZoom,o=this.definition.compared.targetZoom,{hasZoom:e,hasPan:n,hasRotate:s}=this.definition;let a=0,h=0;e&&(n&&(a=(o/i-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),s&&(h=this._zoomSign*(Math.log(i/o)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const l=this.definition.desiredPixelFlow;if(e&&n&&s){const t=a+h+a*h;this._zoomPixelFlow=a*h/t*l,this._panPixelFlow=h/t*l,this._rotatePixelFlow=a/t*l}else if(e&&n){const t=1+a;this._zoomPixelFlow=a/t*l,this._panPixelFlow=1/t*l}else if(e&&s){const t=1+h;this._zoomPixelFlow=h/t*l,this._rotatePixelFlow=1/t*l}else if(n&&s){const t=this._panPixelsAtSource/this._rotatePixels,i=1+t;this._panPixelFlow=t/i*l,this._rotatePixelFlow=1/i*l}else n?this._panPixelFlow=l:e?this._zoomPixelFlow=l:s&&(this._rotatePixelFlow=l);this._time=s?this.rotateTime:e?this.zoomTime:n?this.panTime:t(0)}get rotateTime(){return this.definition.hasRotate?t(this._rotatePixels/this._rotatePixelFlow):t(0)}get zoomTime(){return this.definition.hasZoom?t(this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow):t(0)}get panTime(){if(this.definition.hasPan){if(this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,o=i*this._panPixelsAtSource;return t(Math.log(o*(this._zoomPixelFlow/this._panPixelFlow)+1)/(i*this._zoomPixelFlow))}return t(this._panPixelsAtSource/this._panPixelFlow)}return t(0)}_interpolateComponentsZoom(t){if(0===t||1===t)return t;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,o=this.definition.compared.targetZoom;return(i*(i/o)**-t-i)/(o-i)}return t}_interpolateComponentsPan(t){if(0===t||1===t)return t;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*t*this._time)-1))/(i*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1);const o=this._interpolateComponentsZoom(t),e=this._interpolateComponentsPan(t),n=this._interpolateComponentsRotate(t);return i?(i.zoom=o,i.pan=e,i.rotate=n):i={zoom:o,pan:e,rotate:n},i}}export{i as Segment};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction o(o,a,e){const n=a-o.compared.sourceZoom,t=o.halfWindowPanAtZoom(n);return-o.halfWindowSize*(e.ascensionFactor*Math.LN2*o.compared.pan+t)*Math.log(o.compared.sourceZoom/a)/(o.desiredPixelFlow*Math.LN2*t)}function a(o,a,e){const n=1/a,t=Math.log(o.compared.sourceZoom*n),i=1/o.desiredPixelFlow,r=1/Math.LN2,d=a-o.compared.sourceZoom,c=1/d,l=(e.ascensionFactor*Math.LN2*o.compared.pan+o.halfWindowPanAtZoom(d))/o.halfWindowPanAtZoom(1);return o.halfWindowSize*n*i*r*c*l-o.halfWindowSize*t*i*r*c+o.halfWindowSize*t*i*r*l/(d*d)}function e(o,a,e){const n=a-o.compared.sourceZoom,t=1/n,i=1/a,r=Math.log(o.compared.sourceZoom*i),d=(e.ascensionFactor*Math.LN2*o.compared.pan+o.halfWindowPanAtZoom(n))/o.halfWindowPanAtZoom(1);return o.halfWindowSize*t*(-2*t*i*d+2*t*r+2*i-2*r*d/(n*n)-d/(a*a))/(o.desiredPixelFlow*Math.LN2)}function n(o,a){return-o.halfWindowSize*Math.log(o.compared.sourceZoom/a)/(o.desiredPixelFlow*Math.LN2)}function t(o,a){return o.halfWindowSize/(a*o.desiredPixelFlow*Math.LN2)}function i(o,a){return-o.halfWindowSize/(a*a*o.desiredPixelFlow*Math.LN2)}function r(o,a,e){return-o.compared.pan*o.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(o.desiredPixelFlow*o.halfWindowPanAtZoom(a))}function d(o,a,e){return o.compared.pan*o.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(o.desiredPixelFlow*o.halfWindowPanAtZoom(a*a))}function c(o,a,e){return-2*o.compared.pan*o.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(o.desiredPixelFlow*o.halfWindowPanAtZoom(a*a*a))}function l(o,a,e){return o.halfWindowSize*(-o.halfWindowPanAtZoom(a)-e.descensionFactor*Math.LN2*o.compared.pan+o.halfWindowPanAtZoom(o.compared.targetZoom))*Math.log(a/o.compared.targetZoom)/(o.desiredPixelFlow*Math.LN2*o.halfWindowPanAtZoom(-a+o.compared.targetZoom))}function m(o,a,e){const n=Math.log(a/o.compared.targetZoom),t=1/o.desiredPixelFlow,i=1/Math.LN2,r=-a+o.compared.targetZoom,d=1/r,c=(-o.halfWindowPanAtZoom(a)-e.descensionFactor*Math.LN2*o.compared.pan+o.halfWindowPanAtZoom(o.compared.targetZoom))/o.halfWindowPanAtZoom(1);return-o.halfWindowSize*n*t*i*d+o.halfWindowSize*n*t*i*c/(r*r)+o.halfWindowSize*t*i*d*c/a}function h(o,a,e){const n=a-o.compared.targetZoom,t=1/n,i=1/a,r=Math.log(a/o.compared.targetZoom),d=(o.halfWindowPanAtZoom(a)+e.descensionFactor*Math.LN2*o.compared.pan-o.halfWindowPanAtZoom(o.compared.targetZoom))/o.halfWindowPanAtZoom(1);return o.halfWindowSize*t*(-2*t*i*d-2*t*r+2*i+2*r*d/(n*n)-d/(a*a))/(o.desiredPixelFlow*Math.LN2)}function s(o,a){return o.halfWindowSize*Math.log(a/o.compared.targetZoom)/(o.desiredPixelFlow*Math.LN2)}function f(o,a){return o.halfWindowSize/(a*o.desiredPixelFlow*Math.LN2)}function w(o,a){return-o.halfWindowSize/(a*a*o.desiredPixelFlow*Math.LN2)}function p(o){const a=Math.LN2*o.compared.pan,e=o.compared.sourceZoom-o.compared.targetZoom,n=o.halfWindowPanAtZoom(e),t=o.halfWindowSize*Math.log(o.compared.sourceZoom/o.compared.targetZoom)/(o.desiredPixelFlow*Math.LN2*n);return o.compared.sourceZoom<=o.compared.targetZoom?t*(a-n):t*(a+n)}export{i as ddtAscensionZoomOnly,e as ddtAscensionZoomPan,w as ddtDescensionZoomOnly,h as ddtDescensionZoomPan,c as ddtPanion,t as dtAscensionZoomOnly,a as dtAscensionZoomPan,f as dtDescensionZoomOnly,m as dtDescensionZoomPan,d as dtPanion,n as tAscensionZoomOnly,o as tAscensionZoomPan,p as tBaseLine,s as tDescensionZoomOnly,l as tDescensionZoomPan,r as tPanion};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{tBaseLine as o,tPanion as e,dtPanion as n,ddtPanion as a,tAscensionZoomOnly as t,tAscensionZoomPan as c,dtAscensionZoomOnly as s,dtAscensionZoomPan as m,ddtAscensionZoomOnly as r,ddtAscensionZoomPan as i,tDescensionZoomOnly as u,tDescensionZoomPan as l,dtDescensionZoomOnly as d,dtDescensionZoomPan as x,ddtDescensionZoomOnly as p,ddtDescensionZoomPan as F}from\"./functions.js\";function f(f,Z){let P=D(f,Z);const b={ascensionFactor:null!=Z.ascensionFactor?Z.ascensionFactor:.5,descensionFactor:null!=Z.descensionFactor?Z.descensionFactor:.5},g=0===b.ascensionFactor,h=0===b.descensionFactor,M=g?t:c,k=g?s:m,N=g?r:i,j=h?u:l,w=h?d:x,z=h?p:F,A=o=>M(f,o,b)+e(f,o,b)+j(f,o,b),I=o=>k(f,o,b)+n(f,o,b)+w(f,o,b),q=o=>N(f,o,b)+a(f,o,b)+z(f,o,b);let v=A(P);const y=o(f);let B;const C=Z.maximumIterations||20,E=null!=Z.maximumDistance?Z.maximumDistance:1/0;for(B=0;B<C;B++){const o=1e-6,e=(I(P)+o)/q(P);if(isNaN(e)||P>=E&&e<0){if(!isFinite(E))return null;P=E,v=A(P);break}if(P-=e,P<f.compared.sourceZoom||P<f.compared.targetZoom)return null;const n=A(P);if(Math.abs(n-v)/v<=.005)break;v=n}return v>y*(1-.3)||P<f.compared.sourceZoom||P<f.compared.targetZoom?null:P}function D(o,e){const n=Math.max(o.compared.sourceZoom,o.compared.targetZoom),a=o.source.zoomAtPixelsPerPan(o.desiredPixelFlow/o.compared.pan)/2;return a<n?null!=e.maximumDistance?n+(e.maximumDistance-n)/2:1.5*n:e.maximumDistance?Math.min(e.maximumDistance,a):a}export{f as optimalDistance};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{outQuad as i,inQuad as e}from\"../../easing.js\";import{Path as n}from\"../Path.js\";import{Segment as t}from\"../Segment.js\";import{optimalDistance as o}from\"./planning.js\";class s extends n{constructor(i,e){super(),this._preallocSegments=[new t,new t,new t],this._ascensionSegment=null,this._descensionSegment=null,this.update(i,e)}update(i,e){if(!i)return;this.definition?this.definition.copyFrom(i):this.definition=i.clone();let n=null;e&&e.apex&&(n=o(i,e.apex)),this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,null==n?this._updateWithoutApex():this._updateWithApex(n,e?.apex)}segmentInterpolateComponentsAt(n,t,o){return o=n.interpolateComponentsAt(t,o),n===this._ascensionSegment?o.zoom=i(o.zoom):n===this._descensionSegment&&(o.zoom=e(o.zoom)),o}_updateWithApex(i,e){const[n,t,o]=this._preallocSegments,s=e?.ascensionFactor??.5,d=Math.min(1-s,null!=e?.ascensionFactor&&null!=e.descensionFactor?e.descensionFactor:.5),a=1-s-d;n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.targetZoom=i,n.definition.compared.pan=this.definition.compared.pan*s,n.definition.compared.rotate=this.definition.compared.rotate*s,n.update(),this._ascensionSegment=n,this.segments.push(n),a>0&&(t.definition?t.definition.copyFrom(this.definition):t.definition=this.definition.clone(),t.definition.copyFrom(this.definition),t.definition.compared.sourceZoom=i,t.definition.compared.targetZoom=i,t.definition.compared.pan=this.definition.compared.pan*a,t.definition.compared.rotate=this.definition.compared.rotate*a,t.update(),this.segments.push(t)),o.definition?o.definition.copyFrom(this.definition):o.definition=this.definition.clone(),o.definition.compared.sourceZoom=i,o.definition.compared.pan=this.definition.compared.pan*d,o.definition.compared.rotate=this.definition.compared.rotate*d,o.update(),this._descensionSegment=o,this.segments.push(o)}_updateWithoutApex(){const[i]=this._preallocSegments;i.update(this.definition),this.segments.push(i)}}export{s as Path};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{Milliseconds as t,millisecondsFromSeconds as i,Seconds as e}from\"../../../core/time.js\";import{inOutCoastQuad as n,outExpo as a}from\"../easing.js\";import{Definition as s}from\"./Definition.js\";import{defaultSettings as o}from\"./Settings.js\";import{Path as r}from\"./apex/Path.js\";const m={zoom:0,pan:0,rotate:0};let h=class{get time(){return this._time}constructor(i){this._createCamera=i,this._time=t(0),this.definition=new s(i),this.path=new r}update(t,s,o){this.definition.update(t,s,o),this.path.update(this.definition,o),this._time=this._applyTimeSettings(i(isFinite(this.path.time)?this.path.time:e(0)),o),this._easing=o.easing??(this._time>=1e3?n:a)}cameraAt(t,i){i=i||this._createCamera(),t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const e=this.path.interpolateComponentsAt(t,m);return i.interpolate(this.definition.source,this.definition.target,e),i}_normalizedEasing(t){const i=this._easing(0,this._time),e=this._easing(1,this._time);return(this._easing(t,this._time)-i)/(e-i)}_applyTimeSettings(i,e){const n=null!=e.speedFactor?e.speedFactor:1;null!=e.duration?i=e.duration:null!=e.speedFactor&&(i=t(i/n));const a=null!=e.minDuration?e.minDuration:o.minDuration/n,s=null!=e.maxDuration?e.maxDuration:o.maxDuration/n;return t(Math.min(Math.max(a,i),s))}};export{h as Animation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{Milliseconds as t,millisecondsFromSeconds as i}from\"../../../../core/time.js\";import{b as e,l as r,c as n}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import s from\"./Camera.js\";import{Camera as a}from\"../../webgl-engine/lib/Camera.js\";import{Animation as o}from\"../../../animation/pointToPoint/Animation.js\";const c=m();class h{get finished(){return this.currentTime>=this._animation.time}get time(){return this._animation.time}constructor(i){this.currentTime=t(0),this._animation=new o((()=>new s(i))),this._current=new s(i)}update(i,m,s){const a=this._animation.definition.source,o=this._animation.definition.target,h=e(c,m.center,i.center),u=r(h);u>=1e-5?(h[0]/=u,h[1]/=u,h[2]/=u):(h[0]=0,h[1]=1,h[0]=0),n(a.lookAtDirection,h),n(o.lookAtDirection,h),a.copyFromRenderCamera(i),o.copyFromRenderCamera(m),this._current.copyFrom(a),this._animation.update(a,o,s),this.currentTime=t(0),i.almostEquals(m)&&(this.currentTime=this._animation.time)}cameraAt(t,i){return this._animation.cameraAt(t,this._current),i=i||new a,this._current.copyToRenderCamera(i),i}step(e,r){return this.finished||(this.currentTime=t(this.currentTime+i(e)),this.currentTime>=this.time&&(this.currentTime=this.time)),this.cameraAt(this.currentTime/this.time,r)}}export{h as Animation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";var s;!function(t){t.Ready=\"ready\",t.Rejected=\"rejected\",t.Running=\"running\",t.Stopped=\"stopped\",t.Finished=\"finished\"}(s||(s={}));let i=class extends e{constructor(t){super(t),this.state=s.Ready}get active(){return this.state===s.Running}get isInteractive(){return!1}get canStop(){return!1}stopController(){return!!this.canStop&&(this.state=s.Stopped,!0)}finishController(){this.state=s.Finished}get steppingFinished(){return!1}};t([r({constructOnly:!0})],i.prototype,\"view\",void 0),t([r({readOnly:!0})],i.prototype,\"active\",null),t([r()],i.prototype,\"state\",void 0),t([r({readOnly:!0})],i.prototype,\"isInteractive\",null),i=t([o(\"esri.views.3d.state.controllers.CameraController\")],i);export{i as CameraController,s as State};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{assertIsSome as s}from\"../../../../core/maybe.js\";import{createAbortError as i}from\"../../../../core/promiseUtils.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Error.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../ViewAnimation.js\";import{CameraController as o,State as r}from\"./CameraController.js\";let a=class extends o{constructor(){super(...arguments),this._asyncResult=null}get canStop(){return!0}set asyncResult(t){this._asyncResult&&(this._asyncResult.reject(i()),this._asyncResult=null),this.state===r.Finished||this.state===r.Stopped?(s(t),this.state===r.Finished?t.resolve():t.reject(i())):this._asyncResult=t}get asyncResult(){return this._asyncResult}onControllerStart(){this.state=r.Running,null!=this.viewAnimation&&this.viewAnimation.when((()=>this.updateStateFromViewAnimation()),(()=>this.updateStateFromViewAnimation()))}updateStateFromViewAnimation(){null==this.viewAnimation||this.state!==r.Ready&&this.state!==r.Running||(this.viewAnimation.state===n.State.FINISHED?this.finish():this.viewAnimation.state===n.State.STOPPED&&(this.state=r.Stopped))}onControllerEnd(){null==this.viewAnimation||this.viewAnimation.done||(this.state===r.Finished?this.viewAnimation.finish():this.state===r.Stopped&&this.viewAnimation.stop()),this._asyncResult&&(this.state===r.Finished?this._asyncResult.resolve():this._asyncResult.reject(i()))}finish(){this.finishController()}};a=t([e(\"esri.views.3d.state.controllers.AnimationController\")],a);export{a as AnimationController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import s from\"../../../ViewAnimation.js\";import{Animation as o}from\"../../animation/pointToPoint/Animation.js\";import{AnimationController as r}from\"./AnimationController.js\";import{Camera as a}from\"../../webgl-engine/lib/Camera.js\";import{newIntersector as m}from\"../../webgl-engine/lib/Intersector.js\";import{EasingFunctions as c}from\"../../../animation/easing.js\";let h=class extends r{get intersectionHelper(){return this.view.sceneIntersectionHelper}constructor(i){super(i),this.mode=\"interaction\",this._hasTarget=!1}initialize(){this.animation=new o(this.view.state.viewingMode),this.viewAnimation=\"interaction\"===this.mode?null:new s}get isInteractive(){return\"interaction\"===this.mode}begin(i,t){this._hasTarget=!0;const e=this.animationSettings(t);p.copyFrom(this.view.state.camera);const n=m(this.view.state.viewingMode);this.intersectionHelper.intersectRay(p.ray,n,l)&&(p.center=l),this.animation.update(p,i,e),this.animation.finished&&this.finish()}finish(){this.animation.currentTime=this.animation.time,super.finish()}get steppingFinished(){return this._hasTarget&&this.animation.finished}stepController(i,t){this._hasTarget&&this.animation.step(i,t)}onControllerEnd(i){this._hasTarget&&(this.animation.cameraAt(this.animation.currentTime/this.animation.time,i),this.animation.currentTime=this.animation.time),super.onControllerEnd(i)}animationSettings(i={}){return{apex:{maximumDistance:this.view.state.constraints.clampAltitude(1/0)/6,ascensionFactor:void 0,descensionFactor:void 0},...i,easing:\"string\"==typeof i.easing?c[i.easing]:i.easing}}};i([t({constructOnly:!0})],h.prototype,\"mode\",void 0),i([t({readOnly:!0})],h.prototype,\"isInteractive\",null),h=i([e(\"esri.views.3d.state.controllers.PointToPointAnimationController\")],h);const p=new a,l=n();export{h as PointToPointAnimationController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{s as n,m as t,g as r}from\"../../chunks/quat.js\";import{a as u}from\"../../chunks/quatf64.js\";import{c as o,f as c,n as s}from\"../../chunks/vec3.js\";import{angle as e}from\"./vector.js\";import{sv4d as f}from\"./vectorStacks.js\";function i(n=x){return[n[0],n[1],n[2],n[3]]}function a(n,t,r,u){return j(n,t,r,u,f.get())}function m(n,t){return j(n[0],n[1],n[2],t,f.get())}function p(n,t=i()){return j(n[0],n[1],n[2],n[3],t)}function j(n,t,r,u,o=i()){return o[0]=n,o[1]=t,o[2]=r,o[3]=u,o}function g(n,t){const r=i();return o(v(r),n),r[3]=t,r}function k(n,t,r){return c(v(r),n,t),s(v(r),v(r)),r[3]=e(n,t),r}function h(u,o,c){return n(S,v(u),q(u)),n(b,v(o),q(o)),t(S,b,S),l(c,r(v(c),S))}function v(n){return n}function q(n){return n[3]}function l(n,t){return n[3]=t,n}const x=[0,0,1,0],S=u(),b=u();export{x as UP,q as angle,v as axis,h as compose,p as copy,i as create,g as fromAxisAndAngle,k as fromPoints,j as fromValues,l as setAngle,a as wrap,m as wrapAxisAngle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{create as r}from\"../../../../geometry/support/ray.js\";import{i as o}from\"../../../../chunks/sphere.js\";import{fromScreenAtEye as t}from\"./ray.js\";function s(r,s,p,e){const n=t(s,p,m);return o(r,n,e)}const m=r();export{s as intersectScreen};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{cyclicalPI as t}from\"../../../../core/Cyclical.js\";import{deg2rad as e,clamp as n,acosClamped as o,asinClamped as r}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as a}from\"../../../../core/screenUtils.js\";import{d as i,h as s,m as c,e as l}from\"../../../../chunks/mat4.js\";import{I as m,c as u}from\"../../../../chunks/mat4f64.js\";import{s as p}from\"../../../../chunks/vec2.js\";import{a as f}from\"../../../../chunks/vec2f64.js\";import{b as h,m as M,a as y,l as g,g as d,h as b,s as v,n as j,e as z,d as x,c as P,f as I}from\"../../../../chunks/vec3.js\";import{c as k}from\"../../../../chunks/vec3f64.js\";import{create as w,axis as S,fromPoints as E,wrapAxisAngle as A}from\"../../../../geometry/support/axisAngle.js\";import{coordinateSystemFromOneAxisAndNormalVector as H,vectorCoordinates as U}from\"../../../../geometry/support/coordinateSystem.js\";import{create as G,intersectRay as q,fromNormalAndOffset as C}from\"../../../../geometry/support/plane.js\";import{b as F,i as R,c as V}from\"../../../../chunks/sphere.js\";import{angle as T}from\"../../../../geometry/support/vector.js\";import{sm4d as O,sv3d as W}from\"../../../../geometry/support/vectorStacks.js\";import{fromScreen as B,fromScreenAtEye as D}from\"../../support/geometryUtils/ray.js\";import{intersectScreen as J}from\"../../support/geometryUtils/sphere.js\";import{Camera as K}from\"../../webgl-engine/lib/Camera.js\";import{TERRAIN_ID as L}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";var N;!function(t){t[t.Ellipsoid=0]=\"Ellipsoid\",t[t.Silhouette=1]=\"Silhouette\"}(N||(N={}));const Q=30,X=[1,3e8],Y=80,Z=8,$=200,_=1508e5,tt=5,et=50,nt=5,ot=10,rt=90,at={exclude:new Set([L])};function it(t,e,n){return n[0]=e[0]/(t.fullWidth/t.pixelRatio),n[1]=e[1]/(t.fullHeight/t.pixelRatio),n}function st(t){for(;t>Math.PI;)t-=2*Math.PI;for(;t<-Math.PI;)t+=2*Math.PI;return t}function ct(t,e,n){const o=i(O.get(),n[3],S(n));null==o||s(o,m)||(h(oe,t.eye,e),M(oe,oe,o),t.eye=y(oe,oe,e),h(oe,t.center,e),M(oe,oe,o),t.center=y(oe,oe,e),t.up=M(oe,t.up,o))}function lt(t,e,n,o){return q(t,B(e,n,ce),o)}function mt(t,e,n,o){return q(t,D(e,n,ce),o)}function ut(t,e,n,o){const r=W.get();let a=1-n;h(r,e,t.eye);const i=g(r);let s=i*(1-a);a>=0&&s<o&&(s=o,a=-(s-i)/i),Math.abs(i-s)<1e-6||(d(r,r,a),t.eye=y(oe,t.eye,r),t.center=b(oe,t.center,e,a))}function pt(t,e,n){e.getScreenCenter(ft),J(t,e,ft,oe)&&(e.center=oe);const o=e.distance,r=o*n;if(Math.abs(o-r)<1e-6)return;const a=d(W.get(),e.viewForward,r);e.eye=h(oe,e.center,a)}const ft=a();function ht(t,e){v(e,0,0,0);for(const n of t)y(e,e,n);d(e,e,1/t.length)}function Mt(t,e,n,o){return Math.sin(t/g(e))*(n+o.radius)}function yt(t,e,n,o){return Mt(Math.PI/2,e,n,o)+(t-Math.PI/2)}var gt;!function(t){t[t.Vertical=0]=\"Vertical\",t[t.Horizontal=1]=\"Horizontal\"}(gt||(gt={}));const dt={Elevation:3e4,Angle:e(16)},bt={Pole:.95,Angle:e(18),Tilt:45},vt=e(80);function jt(t,e,n,o,r,a){const i=k(),s=V();let c=!0,l=!0;return t.intersectScreen(n,i,a)?s[3]=g(i):(l=!1,e.aboveGround&&r!==N.Ellipsoid?s[3]=Math.max(g(e.center),.9*o.radius):s[3]=g(e.eye)-e.relativeElevation,r===N.Silhouette?It(s,e,n,i):c=J(s,e,n,i)),{sphere:s,scenePickPoint:c?i:null,hasGeometryIntersection:l}}function zt(t,e,n){if(g(t.eye)-n.radius>dt.Elevation)return gt.Horizontal;D(t,e,le);return-Math.sign(t.relativeElevation)*(.5*Math.PI+T(t.eye,le.direction))<dt.Angle?gt.Vertical:gt.Horizontal}function xt(t,e,n){h(Pt,n,e),t.eye=h(oe,t.eye,Pt),t.center=h(oe,t.center,Pt)}const Pt=k();function It(t,e,n,o){const r=D(e,n,ce);return null!=r&&(F(t,r,kt),R(t,r,o)?!(x(kt,r.origin)<x(o,r.origin))||(P(o,kt),!1):(h(wt,e.eye,e.center),j(wt,wt),C(wt,-z(j(wt,wt),kt),St),q(St,r,o),!1))}const kt=k(),wt=k(),St=G();function Et(a,i,s,c,l,m){let u=0;if(I(ie,a,i),h(re,a,i),g(a)<=l||!c.aboveGround){I(s,re,c.eye);const p=z(a,i)/(g(a)*g(i));if(p<.9999)u=o(p);else{const t=g(I(k(),a,i))/(g(a)*g(i));u=r(t)}const f=Math.cos(n(t.normalize(e(m)),0,vt));u=-u-Math.max(0,g(i)-l)/(f*l)}else h(At,c.eye,c.center),I(s,re,At),u=-g(re)/l;return j(s,s),d(s,s,g(ie)),u}const At=k();function Ht(r,a,i,s){let c,l;const m=Math.cos(n(t.normalize(e(s)),0,vt));return c=a>i?-(a-i)/(m*i):a<-i?Math.PI-(a+i)/(m*i):o(a/i),l=r>i?-(r-i)/(m*i):r<-i?Math.PI-(r+i)/(m*i):o(r/i),(l-c)*i}function Ut(t,e,n,o,r,a,i,s,c,l){const m=Ht(t[2],e[2],a[3],s),u=c?Ht(t[0],e[0],a[3],180):e[0]-t[0],f=Math.sin(i)*u-Math.cos(i)*m,h=Math.cos(i)*u+Math.sin(i)*m;j(oe,r);const M=c?f/Math.sqrt(Math.abs(a[3]**2-z(n,oe)**2)):f/a[3],y=h/Math.sqrt(Math.abs(a[3]**2-z(n,o)**2));p(l,M,y)}function Gt(t,e,n,o,r,a,i,s,c,l){I(ie,t,e),H(a.up,a.eye,Lt,Nt,Qt),H([0,0,1],a.eye,Dt,Jt,Kt),P(n,Jt),P(o,Dt),j(n,n),d(n,n,g(ie)),U(t,j(Nt,Nt),j(Qt,Qt),j(Lt,Lt),Xt),U(e,Nt,Qt,Lt,Yt),Ut(Xt,Yt,t,Dt,Jt,i,s,c,l,r)}function qt(t,e,n,o,r,a,s){i(_t,r,o),i(te,s,a),c(ee,_t,te),h(e,t,n),M(e,e,ee),y(e,e,n)}function Ct(t,e,n,o,r,a){i(_t,o,n),i(te,a,r),c(ee,_t,te),h(oe,t.eye,e),M(oe,oe,ee),t.eye=y(oe,oe,e),h(oe,t.center,e),M(oe,oe,ee),t.center=y(oe,oe,e),h(oe,t.up,e),M(oe,oe,ee),t.up=y(oe,oe,e)}function Ft(t,e,n,o,r,a){return(Math.abs(o)>Math.PI-bt.Angle||Math.abs(o)<bt.Angle)&&(Math.abs(t[2])<n*bt.Pole||Math.abs(e)>n)&&a.aboveGround&&r<bt.Tilt}function Rt(t,e,n,o,r,a){if(a)E(n,o,$t),ct(e,t,$t);else{const a=Et(n,o,se,e,t[3],r);ct(e,t,A(se,a))}}function Vt(t,e,n,o,r,a,i){const s=i?20:1,c=1e-12;let l,m;P(ne,o),ae.copyFrom(e);for(let u=0;u<s&&x(n,ne)>c&&(l=x(n,ne),Gt(n,ne,Jt,Dt,Zt,ae,t,r,a,i),Ct(ae,t,Dt,Zt[1],Jt,Zt[0]),qt(ne,ne,t,Dt,Zt[1],Jt,Zt[0]),m=x(n,ne),m<l||0===u);u++)e.copyFrom(ae)}function Tt(n,o,r,a,i,s,c){Ft(r,z(o.up,r),n[3],-t.normalize(e(i)),s,o)?Vt(n,o,r,a,-t.normalize(e(i)),s,c):Rt(n,o,r,a,s,c)}function Ot(t,e,n,o,r,a){const{eye:i}=t;H([0,0,1],i,Dt,Jt,Kt);const s=e.translation[0]*n.pan,c=\"zoom\"===r.mode?0:e.translation[1]*n.pan,m=Math.max(Math.sqrt(Math.abs(1-z(t.center,Dt)**2/g(t.center)**2)),.5),u=(Math.sin(a)*c+Math.cos(a)*s)/m,p=-Math.cos(a)*c+Math.sin(a)*s;switch(l(o.pan.matrix,o.pan.matrix,u,Dt),o.pan.enabled=!0,r.mode){case\"pan\":l(o.pan.matrix,o.pan.matrix,p,Jt),o.pan.enabled=!0;break;case\"zoom\":o.zoom=-e.translation[1]*n.zoom}}function Wt(t,e,n,o,r){const{eye:a,viewRight:i}=t,s=I(W.get(),i,a),c=e.translation[0]*n.pan;switch(0!==c&&(l(o.pan.matrix,o.pan.matrix,-c,s),o.pan.enabled=!0),r.mode){case\"pan\":{const t=e.translation[1]*n.pan;0!==t&&(l(o.pan.matrix,o.pan.matrix,t,i),o.pan.enabled=!0);break}case\"zoom\":o.zoom=-e.translation[1]*n.zoom}}function Bt(n,o,r,a,i,s,c,l,m){Ft(n.center,z(n.up,n.center),g(n.center),-t.normalize(e(s)),c,o)?Ot(o,r,a,l,m,-t.normalize(e(i))):Wt(o,r,a,l,m)}const Dt=k(),Jt=k(),Kt=k(),Lt=k(),Nt=k(),Qt=k(),Xt=k(),Yt=k(),Zt=f(),$t=w(),_t=u(),te=u(),ee=u(),ne=k(),oe=k(),re=k(),ae=new K,ie=k(),se=k(),ce={origin:k(),direction:k()},le={origin:k(),direction:k()};export{X as DISTANCE_CLAMP_VALUES,et as MIN_HEIGHT_LIMIT,gt as NavigationMode,tt as PAN_DISTANCE_MODIFIER,Q as PIVOT_DISTANCE_MODIFIER,bt as PreservingHeadingThreshold,nt as ROTATE_PIVOT_DISTANCE_MODIFIER,ot as ROTATE_PIVOT_MIN_DISTANCE_MODIFIER,rt as ROTATE_SCREEN_PIXEL_AREA,Y as SCREEN_PIXEL_AREA,N as SpherePickPointFallback,vt as TiltThresholdPanningSpeed,dt as VerticalPanTresholds,Z as ZOOM_DISTANCE_MODIFIER,_ as ZOOM_MAX_DISTANCE_MODIFIER,$ as ZOOM_MIN_DISTANCE_MODIFIER,xt as applyPanPlanar,Rt as applyPanSphericalDirectRotation,Vt as applyPanSphericalPreserveHeading,ct as applyRotation,Ct as applyRotationWithTwoAxes,pt as applyZoomOnSphere,ut as applyZoomToPoint,ht as centroid,at as contentIntersectorOptions,zt as decideNavigationMode,lt as intersectPlaneFromScreenPoint,mt as intersectPlaneFromScreenPointAtEye,Ht as lengthFromPoints,it as normalizeCoordinate,st as normalizeRotationDelta,yt as offSurfaceTiltToEyeTiltGlobal,Mt as onSurfaceTiltToEyeTiltGlobal,Bt as panMotionToRotationMatrix,Tt as panToPosition,jt as pickPointAndInitSphere,Ft as preserveHeadingThreshold,qt as rotatePointAroundTwoAxes,Et as rotationAngleAndAxisDirectRotation,Gt as rotationAnglesAndAxesHeadingPreserving,Ut as rotationAnglesHeadingPreserving,It as sphereOrPlanePointFromScreenPoint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{clamp as i}from\"../../../../../core/mathUtils.js\";import{Milliseconds as e}from\"../../../../../core/time.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Error.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as s,n as o,g as a,e as n,l as m,b as c,a as h,d as p}from\"../../../../../chunks/vec3.js\";import{c as _}from\"../../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as l}from\"../../../../../geometry/ellipsoidUtils.js\";import{c as y}from\"../../../../../chunks/sphere.js\";import{applyAll as f}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as d}from\"../../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as g}from\"../../../camera/constraintUtils/InteractionType.js\";import{applySurfaceCollisionConstraint as u}from\"../../../camera/constraintUtils/surfaceCollision.js\";import{TiltMode as w}from\"../../../camera/constraintUtils/TiltMode.js\";import{PointToPointAnimationController as j}from\"../PointToPointAnimationController.js\";import{contentIntersectorOptions as C,decideNavigationMode as D,ZOOM_MAX_DISTANCE_MODIFIER as v,ZOOM_MIN_DISTANCE_MODIFIER as R,ZOOM_DISTANCE_MODIFIER as M,NavigationMode as b,panToPosition as L}from\"../../utils/navigationUtils.js\";import{fromScreenAtEye as S}from\"../../../support/geometryUtils/ray.js\";import{intersectScreen as U}from\"../../../support/geometryUtils/sphere.js\";import{Camera as z}from\"../../../webgl-engine/lib/Camera.js\";import{newIntersector as O}from\"../../../webgl-engine/lib/Intersector.js\";import{outExpo as V}from\"../../../../animation/easing.js\";const T=.6,F=4,k=60;let A=class extends j{constructor(){super(...arguments),this._zoomLocation=_(),this._tmpCamera=new z,this._tmpViewDir=_(),this._tmpRayDir={origin:_(),direction:_()},this._targetOnSphere=_(),this._tmpCenter=_(),this._constraintOptions={selection:d.ALL_EXCEPT_COLLISION,interactionType:g.ZOOM,interactionFactor:null,interactionStartCamera:new z,interactionDirection:null,tiltMode:w.TUMBLE},this._sphere=y()}initialize(){this._intersector=O(this.view.state.viewingMode)}zoomStep(t,i){if(!this.active)return;const e=this.view.state,{interactionStartCamera:r}=this._constraintOptions;r&&(this.animation.finished?r.copyFrom(e.camera):this.animation.cameraAt(1,r));let o=!1,a=!1;this.intersectionHelper.intersectScreen(i,this._zoomLocation,0===this.view.map.ground.opacity?C:{})&&(o=t>0,a=!0),this._tmpCamera.copyFrom(e.camera),o?this.intersectionHelper.intersectRay(this._tmpCamera.ray,this._intersector,this._tmpCenter)&&(this._tmpCamera.center=this._tmpCenter):this.intersectionHelper.intersectRay(this._tmpCamera.ray,this._intersector,this._zoomLocation)?this._tmpCamera.center=this._zoomLocation:s(this._zoomLocation,this._tmpCamera.center),this._updateCamera(this._tmpCamera,t,this._zoomLocation,i,a),this.begin(this._tmpCamera)}animationSettings(){return{duration:e(600),easing:V}}_updateCamera(t,e,r,s,_){const y=l(this.view.spatialReference),d=D(t,s,y),g=Math.abs(this.view.camera.position.z);o(H,t.eye),a(H,H,-1),S(t,s,this._tmpRayDir),o(this._tmpRayDir.direction,this._tmpRayDir.direction);const w=i(Math.min(M,1/Math.abs(n(H,this._tmpRayDir.direction)))*g,R,v);if(d===b.Horizontal){let i=T**e;this._sphere[3]=m(r),c(this._tmpViewDir,t.center,t.eye);const o=Math.min(m(this._tmpViewDir),w);let n=o*i;if(i<=1&&n<F&&(n=F,i=n/o),Math.abs(o-n)<1e-6)return;const _=m(t.center);if(this._sphere[3]!==_){const e=this._sphere[3]+i*(_-this._sphere[3]);t.center=a(E,t.center,e/_)}a(this._tmpViewDir,this._tmpViewDir,-i),t.eye=h(E,t.center,this._tmpViewDir),f(this.view,t,this._constraintOptions),p(r,t.center)>1e-12&&U(this._sphere,t,s,this._targetOnSphere)&&L(this._sphere,t,r,this._targetOnSphere,this.view.camera.heading,this.view.camera.tilt,!0)}else{let i=T**Math.abs(e);const o=e>0?1:-1;c(this._tmpViewDir,r,t.eye);const n=m(this._tmpViewDir),p=this.view._stage.renderView.getMinimalDepthForArea(null,s[0],s[1],this.view.state.camera,k);let l=null!=p?p:w;l=_&&e>0?Math.min(l,n):l,a(this._tmpRayDir.direction,this._tmpRayDir.direction,l),h(r,this._tmpRayDir.origin,this._tmpRayDir.direction);let y=l*i;const f=Math.max(F,1.01*t.nearFar[0]);if(e>0&&y<f&&(y=f,i=y/l),Math.abs(l-y)<1e-6)return;a(this._tmpRayDir.direction,this._tmpRayDir.direction,o*(1-i)),t.eye=h(E,t.eye,this._tmpRayDir.direction),t.center=h(E,t.center,this._tmpRayDir.direction)}u(this.view,t)}};A=t([r(\"esri.views.3d.state.controllers.global.ZoomStepController\")],A);const E=_(),H=_();export{A as ZoomStepController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{clamp as i}from\"../../../../../core/mathUtils.js\";import{Milliseconds as e}from\"../../../../../core/time.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Error.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as r,b as s,n as a,e as n,l as m,a as c,g as p,h}from\"../../../../../chunks/vec3.js\";import{c as l,f as _}from\"../../../../../chunks/vec3f64.js\";import{applyAll as y}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as C}from\"../../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as f}from\"../../../camera/constraintUtils/InteractionType.js\";import{TiltMode as j}from\"../../../camera/constraintUtils/TiltMode.js\";import{PointToPointAnimationController as u}from\"../PointToPointAnimationController.js\";import{contentIntersectorOptions as g,ZOOM_MAX_DISTANCE_MODIFIER as v,ZOOM_MIN_DISTANCE_MODIFIER as w,ZOOM_DISTANCE_MODIFIER as L}from\"../../utils/navigationUtils.js\";import{Camera as b}from\"../../../webgl-engine/lib/Camera.js\";import{newIntersector as d}from\"../../../webgl-engine/lib/Intersector.js\";import{outExpo as z}from\"../../../../animation/easing.js\";const M=.6,D=4,R=60;let S=class extends u{constructor(){super(...arguments),this._zoomLocation=l(),this._tmpCamera=new b,this._tmpRayDir=l(),this._tmpCenter=l(),this._constraintOptions={selection:C.ALL,interactionType:f.ZOOM,interactionFactor:null,interactionStartCamera:new b,interactionDirection:null,tiltMode:j.TUMBLE}}zoomStep(t,e){if(!this.active)return;const o=this.view.state,{interactionStartCamera:h}=this._constraintOptions;h&&(this.animation.finished?h.copyFrom(o.camera):this.animation.cameraAt(1,h)),this._tmpCamera.copyFrom(o.camera);const _=d(this.view.state.viewingMode);let y=!1;t>0?(y=this.intersectionHelper.intersectScreenFreePointFallback(e,this._zoomLocation,0===this.view.map.ground.opacity?g:{}),this.intersectionHelper.intersectRay(this._tmpCamera.ray,_,this._tmpCenter)&&(this._tmpCamera.center=this._tmpCenter)):this.intersectionHelper.intersectRay(this._tmpCamera.ray,_,this._zoomLocation)?this._tmpCamera.center=this._zoomLocation:r(this._zoomLocation,this._tmpCamera.center);const C=M**t;let f=this.view._stage.renderView.getMinimalDepthForArea(this.view.voxelWasm,e[0],e[1],this.view.state.camera,R);s(T,this._tmpCamera.eye,this._zoomLocation),a(T,T);const j=i(Math.min(L,1/Math.abs(n(F,T)))*Math.abs(this.view.camera.position.z),w,v);if(f=null!=f?f:j,f){const t=l();s(t,this._zoomLocation,this._tmpCamera.eye),(f<m(t)||!y)&&(a(t,t),c(this._zoomLocation,this._tmpCamera.eye,p(t,t,f)))}this._updateCamera(this._tmpCamera,C,this._zoomLocation),this.begin(this._tmpCamera)}animationSettings(){return{duration:e(600),easing:z}}_updateCamera(t,i,e){s(this._tmpRayDir,e,t.eye);const o=m(this._tmpRayDir);let r=o*i;const a=i<=1,n=Math.max(D,1.01*t.nearFar[0]);0!==r&&(a&&r<n&&(r=n,i=r/o),Math.abs(o-r)<1e-6||(p(this._tmpRayDir,this._tmpRayDir,i),t.eye=s(U,e,this._tmpRayDir),t.center=h(U,t.center,e,1-i),y(this.view,t,this._constraintOptions)))}};S=t([o(\"esri.views.3d.state.controllers.local.ZoomStepController\")],S);const U=l(),F=_(0,0,1),T=l();export{S as ZoomStepController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as o}from\"../../../../core/screenUtils.js\";import{ZoomStepController as t}from\"../../state/controllers/global/ZoomStepController.js\";import{ZoomStepController as e}from\"../../state/controllers/local/ZoomStepController.js\";import{InputHandler as r}from\"../../../input/InputHandler.js\";import{eventMatchesPointerAction as i}from\"../../../input/handlers/support.js\";class s extends r{constructor(o,t){super(!0),this._view=o,this.registerIncoming(\"double-click\",t,(o=>this._handleDoubleClick(o)))}_handleDoubleClick(r){const s=r.data;if(i(s,\"primary\")){const i=this._view.state.isGlobal?new t({view:this._view,mode:\"animation\"}):new e({view:this._view,mode:\"animation\"});this._view.state.switchCameraController(i),i.zoomStep(Math.log(.5)/Math.log(.6),o(s.x,s.y)),r.stopPropagation()}}}export{s as DoubleClickZoom};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{lerp as e,clamp as t}from\"../../../core/mathUtils.js\";import{getMetersPerUnitForSR as i}from\"../../../core/unitUtils.js\";import{b as r,n as s,e as n,l as a}from\"../../../chunks/vec3.js\";import{c as m}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as o}from\"../../../geometry/ellipsoidUtils.js\";import h from\"../../../geometry/Extent.js\";import{ViewingMode as l}from\"../../ViewingMode.js\";import{computeInnerAltitudeFade as x}from\"../environment/atmosphereUtils.js\";function c(e,t,i){return e===l.Global?new M(i):new u(t,i)}class u{constructor(e,t){this._elevationProvider=e,this._referenceEllipsoid=o(t),this._unitInMeters=i(t,this._referenceEllipsoid.metersPerDegree)}compute(i,a,m,o,l){l||(l={near:0,far:0});let x=i[2]*this._unitInMeters;const c=x,u=x-o,M=this._elevationProvider?.visibleElevationBounds;M&&(x=u>=0?c-this._unitInMeters*M.min:this._unitInMeters*M.max-c);const _={x:(m=null!=m?m:new h({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0})).xmax-m.xmin,y:m.ymax-m.ymin,z:4*Math.max(m.xmax-m.xmin,m.ymax-m.ymin)},I=Math.max(_.x,_.y,_.z);r(E,a,i),v[0]=E[0]>0?m.xmax:m.xmin,v[1]=E[1]>0?m.ymax:m.ymin,v[2]=E[2]>0?I/2:-I/2,r(v,v,i),s(E,E);const j=1.1*n(v,E)*this._unitInMeters,b=Math.sqrt(x*(x+2*this._referenceEllipsoid.radius)),g=Math.max(m.xmax-m.xmin,m.ymax-m.ymin),w=g*d*this._unitInMeters,z=g*y*this._unitInMeters,U=t((x-z)/(w-z),0,1)**3,P=Math.min(e(b,j,U),b)*Math.max(Math.log(Math.abs(u)),1);return f(Math.min(P,Math.max(34064e4,I))/this._unitInMeters,p,this._unitInMeters,l)}}class M{constructor(e){this._referenceEllipsoid=o(e)}compute(i,r,s,n,m){m||(m={near:0,far:0});const o=a(i),h=o-this._referenceEllipsoid.radius,l=this._referenceEllipsoid.radius+Math.min(0,n),c=Math.abs(h-n),u=Math.max(c,Math.abs(h)),M=Math.sqrt(u*(u+2*l)),p=o+this._referenceEllipsoid.radius;return f(1.2*e(M,p,x(u)),t(2e4-(Math.log(u)-7.983)/9.011*19e3,1e3,2e4),1,m)}}function f(e,t,i,r){const s=_/i;return e/t>s?(r.far=e,r.near=r.far/t):(r.near=s,r.far=r.near*t),r}const p=2e4,_=2,d=.001,y=1e-4,v=m(),E=m();export{c as createNearFarHeuristic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{eyeWithinExtent as o}from\"../camera/intersectionUtils.js\";import{applySurfaceCollisionConstraint as a,Mode as i}from\"../camera/constraintUtils/surfaceCollision.js\";let n=class extends t{constructor(e){super(e)}initialize(){this.addHandles(this.view.basemapTerrain.on(\"elevation-change\",(e=>this._handleElevationChangeEvent(e))))}_handleElevationChangeEvent(e){if(this.view.state.cameraController)return;const t=this.view.state.camera;null!=e.spatialReference&&o(this.view,t,e.extent,e.spatialReference)&&this._applyToCurrentCamera()}_applyToCurrentCamera(){this.view.state.updateCamera((e=>a(this.view,e,i.EYE_AND_CENTER)))}};e([r({constructOnly:!0})],n.prototype,\"view\",void 0),n=e([s(\"esri.views.3d.state.ElevationCollisionConstraint\")],n);export{n as SurfaceCollisionConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import{deg2rad as a,rad2deg as e}from\"../../../core/mathUtils.js\";import{watch as s,sync as r,initial as n}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ViewingMode as l}from\"../../ViewingMode.js\";import{applyAll as u}from\"../camera/constraintUtils.js\";import{surfaceElevationBelowRenderLocation as p}from\"../camera/intersectionUtils.js\";import{ConstraintTypes as d}from\"../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as h}from\"../camera/constraintUtils/InteractionType.js\";import{TiltMode as m}from\"../camera/constraintUtils/TiltMode.js\";import{createNearFarHeuristic as v}from\"./NearFarHeuristic.js\";import{SurfaceCollisionConstraint as w}from\"./SurfaceCollisionConstraint.js\";let _=class extends i{constructor(t){super(t),this.nearFarHeuristic=v(t.view.state.viewingMode,t.view.basemapTerrain,t.view.renderCoordsHelper.spatialReference)}initialize(){this.addHandles([s((()=>[this.view.constraints?.clipDistance?.near,this.view.constraints?.clipDistance?.far]),(()=>this._clipDistanceNearFarChanged())),s((()=>this.view.constraints?.clipDistance?.mode),(()=>this._updateNearFar())),this.view.state.events.on(\"before-camera-change\",(t=>this._updateCameraNearFar(t))),s((()=>this.view.renderDataExtent),(()=>this._updateNearFar()),r),s((()=>[this.view.constraints?.altitude?.min,this.view.constraints?.altitude?.max]),(()=>this._updateAltitude()),r),s((()=>this.view.constraints?.tilt?.max),(()=>this._updateTiltMax()),r),s((()=>this.view.constraints?.tilt?.mode),(()=>this._updateTilt()),r),s((()=>this.view.state?.camera),(()=>this._updateTiltAutoMax()),r),s((()=>[this.view.map?.ground?.navigationConstraint?.type,this.view.state?.constraints?.collision?.enabled]),(()=>this._updateCollision()),r)]),this.view.state.isLocal&&this.addHandles(s((()=>this.view.renderDataExtent),(t=>this._updateLocalSurfaceDistance(t)),n)),this._updateNearFar(),this.view.state.viewingMode!==l.Local&&this._updateAltitude(),this._updateTilt(),this._updateCollision(),this._set(\"surfaceCollisionConstraint\",new w({view:this.view}))}destroy(){this.surfaceCollisionConstraint&&(this.surfaceCollisionConstraint.destroy(),this._set(\"surfaceCollisionConstraint\",null))}_clipDistanceNearFarChanged(){const t=this.view.constraints?.clipDistance;t&&\"auto\"!==t.mode&&this.view.state.updateCamera((i=>this._updateCameraNearFarManual(i,t)))}_updateNearFar(){this.view.state.updateCamera((t=>this._updateCameraNearFar(t)))}_updateCameraNearFar(t){const i=this.view.constraints&&this.view.constraints.clipDistance;\"manual\"===(i?i.mode:\"auto\")?this._updateCameraNearFarManual(t,i):this._updateCameraNearFarAuto(t,i)}_updateCameraNearFarAuto(t,i){this.nearFarHeuristic.compute(t.eye,t.center,this.view.renderDataExtent,p(this.view,t.eye),t),i&&i.autoUpdate(t.near,t.far)}_updateCameraNearFarManual(t,i){i&&(t.near=i.near,t.far=i.far)}_updateCollision(){const t=this.view.map?.ground?.navigationConstraint?.type,i=!t||\"stay-above\"===t,a=this.view.state.constraints.collision;if(i!==a.enabled){a.enabled=i,i&&this._reapplyConstraints(d.COLLISION);const t=this.view.constraints&&this.view.constraints.tilt;t&&\"auto\"!==t.mode||this._updateTiltAuto()}}_updateAltitude(){const t=this.view.constraints&&this.view.constraints.altitude;t&&this.view.state.viewingMode!==l.Local?this.view.state.constraints.altitude={min:t.min,max:t.max}:this.view.state.constraints.altitude=null,this._reapplyConstraints()}_updateTiltMax(){const t=this.view.constraints&&this.view.constraints.tilt;t&&\"auto\"!==t.mode&&(this._updateTiltManual(t),this._reapplyConstraints())}_updateTilt(){const t=this.view.constraints&&this.view.constraints.tilt;\"manual\"===(t?t.mode:\"auto\")?this._updateTiltManual(t):this._updateTiltAuto(),this._reapplyConstraints()}_updateTiltManual(t){const i=this.view.state.constraints;i.tilt=i.createConstantMaxTilt(a(t.max))}_updateTiltAuto(){const t=this.view.state.constraints;t.tilt=t.createDefaultTilt(),this._updateTiltAutoMax()}_updateTiltAutoMax(){const t=this.view.constraints&&this.view.constraints.tilt;if(!t||\"auto\"!==t.mode)return;const i=this.view.state.constraints;if(i.tilt){const a=i.tilt(this.view.state.camera.distance).max;t.autoUpdate(e(a))}}_updateLocalSurfaceDistance(t){if(null==t)return;let i=Math.max(t.width,t.height);if(i<=0)return;null!=t.zmax&&null!=t.zmin&&(i=Math.max(i,t.zmax-t.zmin));const a=this.view.state,e=3*i/Math.atan(a.camera.fov/2);e!==a.constraints.distance&&(a.constraints.distance=e)}_reapplyConstraints(t=d.ALL){this.view.state.updateCamera((i=>u(this.view,i,{selection:t,interactionType:h.NONE,interactionFactor:null,interactionStartCamera:null,interactionDirection:null,tiltMode:m.TUMBLE})))}};t([o({constructOnly:!0})],_.prototype,\"view\",void 0),t([o({readOnly:!0})],_.prototype,\"surfaceCollisionConstraint\",void 0),_=t([c(\"esri.views.3d.state.ConstraintsManager\")],_);export{_ as ConstraintsManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{eyeWithinExtent as s}from\"../../camera/intersectionUtils.js\";import{applySurfaceCollisionConstraint as o,Mode as a}from\"../../camera/constraintUtils/surfaceCollision.js\";import{CameraController as i,State as n}from\"./CameraController.js\";let l=class extends i{set desiredCamera(e){this._set(\"desiredCamera\",e.clone())}constructor(e){super(e)}get canStop(){return!0}get constraintEnabled(){return this.view.state.constraints.collision.enabled}onControllerStart(){this.state=n.Running,this.addHandles(this.view.basemapTerrain.on(\"elevation-change\",(e=>this._handleElevationChangeEvent(e)))),this._applyCorrection()}onControllerEnd(){this.removeAllHandles()}stepController(){}_handleElevationChangeEvent(e){(null==e.spatialReference||s(this.view,this.desiredCamera,e.extent,e.spatialReference))&&this._applyCorrection()}_applyCorrection(){this.view.state.updateCamera((e=>{e.copyViewFrom(this.desiredCamera),o(this.view,e,a.EYE_AND_CENTER)||this.constraintEnabled||(this.state=n.Stopped)}))}};e([t({constructOnly:!0})],l.prototype,\"desiredCamera\",null),l=e([r(\"esri.views.3d.state.controllers.SurfaceCollisionCorrectionController\")],l);export{l as SurfaceCollisionCorrectionController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{rad2deg as t,acosClamped as s}from\"../../../core/mathUtils.js\";import{n,e as a,c as o,g as c,b as i,l as r,f as e}from\"../../../chunks/vec3.js\";import{c as f}from\"../../../chunks/vec3f64.js\";const l=f(),u=f();function h(){return{direction:f(),up:f()}}function m(f,h,m,p,b){let d=n(l,f),g=a(d,p);const j=g>0;g=Math.abs(g),g>.99&&(g=Math.abs(a(h,p)),g<.99?(o(d,h),j&&c(d,d,-1)):d=null);let k=0;if(d){c(u,p,a(p,d)),i(d,d,u);const n=a(d,b)/(r(d)*r(b));e(u,d,b);k=(a(u,p)>0?1:-1)*t(s(n))}const v=t(s(-a(p,f)/r(f)));return m?(m.heading=k,m.tilt=v,m):{heading:k,tilt:v}}export{h as createDirectionUp,m as directionToHeadingTilt};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{rad2deg as t,deg2rad as e}from\"../core/mathUtils.js\";import{b as o,r}from\"./mat4.js\";import{c as i}from\"./mat4f64.js\";import{m as n,g as a,a as s}from\"./vec3.js\";import{f as c,c as m}from\"./vec3f64.js\";import f from\"../geometry/Extent.js\";import{projectPointToVector as l,projectVectorToVector as p}from\"../geometry/projection.js\";import{createDirectionUp as u,directionToHeadingTilt as d}from\"../views/3d/support/cameraUtilsInternal.js\";const T=c(0,1,0),j=c(0,0,1),g=i(),y=m(),x=m();function h(t,i,s,c=u()){const{direction:m,up:f}=c;return o(g,-e(i)),r(g,g,e(s)),n(m,j,g),a(m,m,-1),n(f,T,g),c}function b(t,e,o,r){return d(e,o,r,j,T)}function v(t,e,o,r){const i=h(t,o,r),n=m();return a(n,i.direction,-e),s(n,n,t),{up:i.up,eye:n,heading:o,tilt:r}}function R(e){return t(e)}function _(t){return e(t)}function E(t,e,o,r,i){const n=t.renderSpatialReference,a=t.map&&t.spatialReference||e.spatialReference;return l(e,y,n),l(e,x,n),y[0]-=o/2,x[0]+=o/2,y[1]-=r/2,x[1]+=r/2,p(y,n,y,a),p(x,n,x,a),i?(i.xmin=y[0],i.ymin=y[1],i.xmax=x[0],i.ymax=x[1],i.spatialReference=a):i=new f(y[0],y[1],x[0],x[1],a),i}const H=Object.freeze(Object.defineProperty({__proto__:null,directionToHeadingTilt:b,eyeForCenterWithHeadingTilt:v,eyeTiltToLookAtTilt:_,headingTiltToDirectionUp:h,lookAtTiltToEyeTilt:R,toExtent:E},Symbol.toStringTag,{value:\"Module\"}));export{_ as a,H as c,b as d,v as e,h,R as l,E as t};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{Cyclical as t,cyclical2PI as e}from\"../core/Cyclical.js\";import{deg2rad as o,rad2deg as a,asinClamped as n}from\"../core/mathUtils.js\";import{d as i,e as s}from\"./mat4.js\";import{c as r}from\"./mat4f64.js\";import{n as c,f as l,e as m,m as f,o as p,l as h,g as u}from\"./vec3.js\";import{f as y,c as M}from\"./vec3f64.js\";import{getReferenceEllipsoid as d}from\"../geometry/ellipsoidUtils.js\";import g from\"../geometry/Extent.js\";import j from\"../geometry/SpatialReference.js\";import{geographicToWebMercator as T}from\"../geometry/support/webMercatorUtils.js\";import{createDirectionUp as b,directionToHeadingTilt as x}from\"../views/3d/support/cameraUtilsInternal.js\";import{getLonDeltaForDistance as R}from\"../views/3d/support/earthUtils.js\";const I=y(0,0,1),P=c(M(),y(1,1,1)),U=new t(-180,180),v=r(),w=M(),q=M();function S(t,e,a,n=b()){l(w,t,I),0===m(w,w)&&l(w,t,P),i(v,-o(e),t),s(v,v,-o(a),w);const{up:r,direction:h}=n;return l(r,w,t),c(r,r),f(r,r,v),c(h,t),p(h,h),f(h,h,v),n}function _(t,e,o,a){const n=w,i=q;return c(n,t),l(q,n,I),0===m(q,q)&&l(q,n,P),l(i,q,n),x(e,o,a,n,i)}function E(t,e,a,i){const s={eye:M(),up:null,tilt:i,heading:a},r=w;r[0]=t[0],r[1]=t[2],r[2]=-t[1];const c=e,l=o(a),m=o(i),f=Math.sin(l),p=Math.cos(l),y=Math.sin(m),d=Math.cos(m),g=h(r);let j;if(Math.abs(m)<1e-8)j=c+g;else{const t=g/y,e=n(c/t),o=Math.PI-m-e;j=t*Math.sin(o)}const T=d*c,b=c*c*(y*y),x=p*p*b,R=j-T,I=R*R,P=x*(x+I-r[1]*r[1]);if(P<0)return u(s.eye,r,j/g),s.tilt=0,W(s,t);const U=Math.sqrt(P),v=r[1]*R,q=x+I;let S;if(S=p>0?-U+v:U+v,Math.abs(q)<1e-8)return g<1e-8?(s.eye[0]=0,s.eye[1]=0,s.eye[2]=c):u(s.eye,r,j/g),s.tilt=0,H(s.eye),W(s,t);s.eye[1]=S/q;const _=f*f*b,E=y*c,k=p*E*s.eye[1],z=s.eye[1]*s.eye[1],A=1-z,C=Math.sqrt(A),G=x*z+_-2*k*C*R+A*I;return Math.abs(G)<1e-8?(u(s.eye,r,j/g),s.tilt=0,H(s.eye),W(s,t)):(s.eye[0]=(A*(j*r[0]-T*r[0])-E*C*(r[0]*s.eye[1]*p+r[2]*f))/G,s.eye[2]=(A*(j*r[2]-T*r[2])-E*C*(r[2]*s.eye[1]*p-r[0]*f))/G,u(s.eye,s.eye,j),H(s.eye),W(s,t))}function H(t){const e=t[1];t[1]=-t[2],t[2]=e}function W(t,e){const o=S(e,t.heading,t.tilt);return t.up=o.up,t}function k(t,e,o){const i=h(e),s=Math.sqrt(o*o+i*i-2*o*i*Math.cos(Math.PI-t)),r=n(o/(s/Math.sin(t)));return a(t-r)}function z(t,e,a){const i=o(t),s=h(e);return n(a/(s/Math.sin(i)))+i}function A(t,n,i,s,r){let c,l,m,f;const p=n.latitude,h=d(t.spatialReference).radius,u=n.longitude,y=R(p,i,h)/2;c=u-y,l=u+y;const M=o(p),b=(1+Math.sin(M))/(1-Math.sin(M)),x=(b+1)*Math.tan(s/h/2),I=x*x;function P(t){const o=Math.PI/2;return(t=e.normalize(t,-o))>o&&(t=Math.PI-t),t}if(m=1.5*Math.PI-2*Math.atan(.5*(x+Math.sqrt(4*b+I))),f=m+s/h,m=P(m),f=P(f),f<m){const t=f;f=m,m=t}if(m=Math.max(a(m),-90),f=Math.min(a(f),90),l=U.monotonic(c,l),l-c>180){const t=(l-c-180)/2;c+=t,l-=t}const v=t.spatialReference&&t.spatialReference.isGeographic?t.spatialReference:j.WGS84;return r?(r.xmin=c,r.ymin=m,r.xmax=l,r.ymax=f,r.spatialReference=v):r=new g(c,m,l,f,v),t.spatialReference&&t.spatialReference.isWebMercator&&T(r,!1,r),r}const C=Object.freeze(Object.defineProperty({__proto__:null,directionToHeadingTilt:_,eyeForCenterWithHeadingTilt:E,eyeTiltToLookAtTilt:z,headingTiltToDirectionUp:S,lookAtTiltToEyeTilt:k,toExtent:A},Symbol.toStringTag,{value:\"Module\"}));export{z as a,C as c,_ as d,E as e,S as h,k as l,A as t};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{SupportedGCSWkids as i}from\"../../geometry/support/SupportedGCSWkids.js\";import{ViewingMode as o}from\"../ViewingMode.js\";function r(r,S){return null!=r&&(null==S||(S===o.Local?!r.isGeographic||(r.isWGS84||r.wkid===i.CGCS2000):r.isWebMercator||r.isWGS84||r.wkid===i.CGCS2000||r.wkid===i.GCSMARS2000||r.wkid===i.GCSMARS2000_SPHERE||r.wkid===i.GCSMOON2000))}export{r as isSpatialReferenceSupported};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../Camera.js\";import{Cyclical as n}from\"../../../core/Cyclical.js\";import t from\"../../../core/Logger.js\";import{deg2rad as r,rad2deg as i}from\"../../../core/mathUtils.js\";import{createResolver as o}from\"../../../core/promiseUtils.js\";import{g as a,a as l,j as s,c}from\"../../../chunks/vec3.js\";import{a as u,c as f}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as m}from\"../../../geometry/ellipsoidUtils.js\";import p from\"../../../geometry/Point.js\";import{projectPointToVector as d,projectVectorToVector as v,projectVectorToPoint as h,project as g}from\"../../../geometry/projection.js\";import y from\"../../../geometry/SpatialReference.js\";import{ViewingMode as x}from\"../../ViewingMode.js\";import{cameraOnContentAlongViewDirection as R}from\"../camera/intersectionUtils.js\";import{t as M,c as w}from\"../../../chunks/cameraUtilsPlanar.js\";import{t as S,c as j}from\"../../../chunks/cameraUtilsSpherical.js\";import{getGreatCircleSpanAt as T}from\"./earthUtils.js\";import{getElevationAtPoint as z}from\"./ElevationProvider.js\";import{isSpatialReferenceSupported as C}from\"../../support/spatialReferenceSupport.js\";const U=t.getLogger(\"esri.views.3d.support.cameraUtils\"),P=39.37,b=96,A=1,D=8,H=5,L=1,G=f(),E={heading:0,tilt:0},O=new p,k=new n(-20037508.342788905,20037508.342788905),I=new n(-180,180);var q;function J(e){return e.spatialReference||y.WGS84}function F(e){return\"global\"===e.viewingMode?j:w}function W(e,n,t,r,i){return F(e).headingTiltToDirectionUp(n,t,r,i)}function X(e,n){if(null==n)return null;const t=e.renderSpatialReference,i=F(e).headingTiltToDirectionUp,o=f();if(!d(n.position,o,t))return null;const s=i(o,n.heading,n.tilt);a(s.direction,s.direction,e.state.camera.distance),l(s.direction,s.direction,o);const c=R(e,o,s.direction,s.up);return c.fov=r(n.fov),c}!function(e){e[e.LOCKED=0]=\"LOCKED\",e[e.ADJUST=1]=\"ADJUST\"}(q||(q={}));const K=f();function Y(n,t,r){const o=n.renderSpatialReference,a=Q(n,t.eye,t.viewForward,t.up,E);let l=J(n);return v(t.eye,o,K,l)||(l=y.WGS84,v(t.eye,o,K,l)),null==r?new e(new p(K,l),a.heading,a.tilt,i(t.fov)):(r.position.x=K[0],r.position.y=K[1],r.position.z=K[2],r.position.spatialReference=l,r.heading=a.heading,r.tilt=a.tilt,r.fov=i(t.fov),r)}function N(e,n,t){const i=e.state.camera,o=i.width/2/i.pixelRatio;e.renderCoordsHelper.viewingMode===x.Global&&null!=t&&(n*=Math.cos(r(t))),n/=e.renderCoordsHelper.unitInMeters;return o/(b*P/n)/Math.tan(i.fovX/2)}function V(e,n,t){const i=e.state.camera,o=n*Math.tan(i.fovX/2),a=i.width/2/i.pixelRatio;let l=b*P/(a/o);return e.renderCoordsHelper.viewingMode===x.Global&&null!=t&&(l/=Math.cos(r(t))),l*e.renderCoordsHelper.unitInMeters}function Z(e,n,t,r,i,o){return B(e,n,N(e,t,n.latitude),r,i,o)}function B(e,n,t,r,i,o){if(ye(o)){const a=new ge(o.signal);return te(e,r.heading,r.tilt,n,t,i,a),void a.resolver.promise.then((n=>{const t=pe(e,n,r.fov);if(null!=t)return o.resolver.resolve(t);o.resolver.reject()}),(e=>o.resolver.reject(e)))}const a=te(e,r.heading,r.tilt,n,t,i);return pe(e,a,r.fov,o)}function Q(e,n,t,r,i){return F(e).directionToHeadingTilt(n,t,r,i)}function $(e,n){return!!(e.basemapTerrain&&e.renderCoordsHelper.fromRenderCoords(n,O,e.spatialReference)&&e.elevationProvider&&(z(e.elevationProvider,O)??0)>(O.z??0)-L)}async function _(e,n,t){if(!e.renderCoordsHelper.fromRenderCoords(n,O,e.spatialReference)||!e.elevationProvider)return!1;const r=O.z??0;return(await e.elevationProvider.queryElevation(O.x,O.y,r,O.spatialReference,\"ground\",t)??0)>r-L}async function ee(e,n,t){const r=f();if(n)if(n instanceof p){if(d(n,r,e.renderSpatialReference),null==n.z&&null!=e.basemapTerrain&&null!=e.elevationProvider){const i=await e.elevationProvider.queryElevation(n.x,n.y,n.z??0,n.spatialReference,\"ground\",t);return null!=i&&e.renderCoordsHelper.setAltitude(r,i),r}}else c(r,n);else c(r,e.state.camera.center);return r}function ne(e,n){const t=f();if(n&&n instanceof p){if(d(n,t,e.renderSpatialReference),null==n.z&&null!=e.basemapTerrain&&null!=e.elevationProvider){const r=z(e.elevationProvider,n);null!=r&&e.renderCoordsHelper.setAltitude(t,r)}}else c(t,n||e.state.camera.center);return t}function te(e,n,t,r,i,o,a){const l=r&&r instanceof p?r:null;if(ye(a))return ee(e,r,a.signal).then((r=>{re(e,n,t,l,r,i,o,a)}),(e=>a.resolver.reject(e))),null;const s=ne(e,r);return re(e,n,t,l,s,i,o,a)}function re(e,n,t,r,i,o,a,l){if(null==r){const n=e.renderSpatialReference;if(null==(r=h(i,n,J(e))))return null}o=Math.max(o,e.state.constraints.minimumPoiDistance);const s=le(e,n,t,i,o,a),c=(0,F(e).eyeForCenterWithHeadingTilt)(i,o,s.heading,s.tilt);if(a===q.ADJUST&&\"global\"===e.viewingMode&&t>0){const s=()=>{const s=fe(e,i,o,ue(e,o,t,i));return a=t-s<1?q.LOCKED:q.ADJUST,re(e,n,s,r,i,o,a,l)},f=e.map.ground.navigationConstraint;if(!f||\"stay-above\"===f.type){if($(e,c.eye))return s();if(ye(l))return _(e,c.eye,l.signal).then((e=>e?s():(l.resolver.resolve({eye:c.eye,up:c.up,center:u(i),heading:c.heading,tilt:c.tilt}),null))),null}}const m=!l||ye(l)?{center:f(),eye:f(),up:f(),tilt:0,heading:0}:l;return m.eye=c.eye,m.up=c.up,m.center=u(i),m.heading=c.heading,m.tilt=c.tilt,ye(l)&&l.resolver.resolve(m),m}function ie(e,n,t,r,i,o=null){let a,l,s;if(e.state.isGlobal){if(!C(n.spatialReference,x.Global))return ye(o)&&o.resolver.reject(),null;const e=new p(n.xmin,n.ymin,n.spatialReference),t=new p(n.xmax,n.ymax,n.spatialReference),r=n.spatialReference.isGeographic?I:k;a=new p({x:r.center(e.x,t.x),y:(t.y+e.y)/2,z:null!=n.zmax&&null!=n.zmin?(n.zmax+n.zmin)/2:void 0,spatialReference:n.spatialReference});const i=m(n.spatialReference),c=T(a,e,t);l=c.lon,s=c.lat,r.diff(e.x,t.x)>r.range/2&&(l+=i.halfCircumference),l=Math.min(l,i.halfCircumference),s=Math.min(s,i.halfCircumference)}else{const t=e.renderSpatialReference??n.spatialReference;t.equals(n.spatialReference)||(n=g(n,t)),l=n.xmax-n.xmin,s=n.ymax-n.ymin;const r=null!=n.zmax&&null!=n.zmin?(n.zmax+n.zmin)/2:void 0;a=new p({x:n.xmin+.5*l,y:n.ymin+.5*s,z:r,spatialReference:t})}const c=null!=n.zmax&&null!=n.zmin?n.zmax-n.zmin:0,u=e.state.camera,f=1/Math.tan(u.fovX/2),d=1/Math.tan(u.fovY/2),v=1/Math.tan(u.fov/2),h=Math.max(.5*l*f,.5*s*d,.5*c*v)/A;if(ye(o)){const n=new ge(o.signal);return te(e,t,r,a,h,i,n),void n.resolver.promise.then((n=>{const t=pe(e,n,e.camera.fov);if(null!=t)return o.resolver.resolve(t);o.resolver.reject()}),(e=>o.resolver.reject(e)))}const y=te(e,t,r,a,h,i);return pe(e,y,e.camera.fov,o)}function oe(e,n,t){const r=e.renderSpatialReference,i=h(t,r,J(e));if(null==i)return null;const o=Math.tan(n.fovX/2),a=Math.tan(n.fovY/2),l=s(n.eye,t),c=2*l*o*A,u=2*l*a*A;return\"global\"===e.viewingMode?S(e,i,c,u):M(e,i,c,u)}function ae(e,n,t){const r=e.pointsOfInterest.centerOnSurfaceFrequent.distance;if(Math.log(t/r)/Math.LN2>D)return!0;const i=e.renderSpatialReference,o=J(e),a=h(n,i,o),l=h(e.pointsOfInterest.centerOnSurfaceFrequent.renderLocation,i,o);if(null==a||null==l)return!1;const s=Math.tan(.5*e.state.camera.fov)*r;return l.distance(a)/s>H}function le(e,n,t,r,i,o){let a=0;return o===q.ADJUST&&ae(e,r,i)?(n=0,a=ce(e,i,t,r)):a=me(e,r,i,t),a=e.state.constraints.clampTilt(i,a),{heading:n,tilt:t=fe(e,r,i,a)}}const se=.7;function ce(e,n,t,r){const i=me(e,r,n,t);if(!e.state.constraints.tilt)return i;const o=e.state.constraints.tilt(n);o.max=Math.min(o.max,.5*Math.PI);const a=o.min*(1-se)+o.max*se;return Math.min(i,a)}function ue(e,n,t,r){let i=me(e,r,n,t);if(!e.state.constraints.tilt)return i;const o=e.state.constraints.tilt(n);return i=Math.min(i,.5*Math.PI),o.min*(1-se)+i*se}function fe(e,n,t,r){return F(e).lookAtTiltToEyeTilt(r,n,t)}function me(e,n,t,r){return F(e).eyeTiltToLookAtTilt(r,n,t)}function pe(n,t,r,i){if(null==t)return null;const o=n.renderSpatialReference,a=h(t.eye,o,J(n));return null==a?null:null!=i?(i.position=a,i.heading=t.heading,i.tilt=t.tilt,i.fov=r,i):new e(a,t.heading,t.tilt,r)}function de(e,n){const t=e.basemapTerrain?.tilingScheme;if(t)return t.levelAtScale(n);U.error(\"#scaleToZoom()\",\"Cannot compute zoom from scale without a tiling scheme\")}function ve(e,n){const t=e.basemapTerrain?.tilingScheme;if(t)return t.scaleAtLevel(n);U.error(\"#zoomToScale()\",\"Cannot compute scale from zoom without a tiling scheme\")}function he(e,n){return v(n.center,e.renderSpatialReference,G,y.WGS84),V(e,n.distance,G[1])}class ge{constructor(e){this.signal=e,this.resolver=o()}}function ye(e){return e&&\"resolver\"in e}export{ge as AsyncContext,q as OrientationMode,he as computeScale,Q as directionToHeadingTilt,V as distanceToScale,X as externalToInternal,B as fromCenterDistance,Z as fromCenterScale,ie as fromExtent,te as getObserverForPointAtDistance,W as headingTiltToDirectionUp,Y as internalToExternal,pe as observerToCamera,N as scaleToDistance,de as scaleToZoom,oe as toExtent,ve as zoomToScale};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../Camera.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import n from\"../../../Viewpoint.js\";import{result as r}from\"../../../core/asyncUtils.js\";import\"../../../core/has.js\";import{cyclicalDegrees as a}from\"../../../core/Cyclical.js\";import o from\"../../../core/Error.js\";import{eachAlways as i}from\"../../../core/promiseUtils.js\";import{f as s,t as c}from\"../../../chunks/mat3.js\";import{c as l}from\"../../../chunks/mat3f64.js\";import{c as m}from\"../../../chunks/mat4f64.js\";import{g as u,a as f,i as p,c as g,b as h,s as y,t as d}from\"../../../chunks/vec3.js\";import{c as x}from\"../../../chunks/vec3f64.js\";import{projectVectorToPoint as w,projectPointToVector as v,projectBuffer as b,computeTranslationToOriginAndRotation as j,projectVectorToVector as R}from\"../../../geometry/projection.js\";import{create as G,empty as z,center as S,toRect as B,isPoint as k,expandWithVec3 as M,expandWithAABB as A,width as F,height as T,depth as E}from\"../../../geometry/support/aaBoundingBox.js\";import{create as U,isPoint as Z}from\"../../../geometry/support/aaBoundingRect.js\";import{intersectsPoint as D}from\"../../../geometry/support/frustum.js\";import{getResolutionInMetersForScale as O}from\"../../../geometry/support/scaleUtils.js\";import{project as C,canProject as P}from\"../../../geometry/support/webMercatorUtils.js\";import{cameraOnContentAlongViewDirection as I}from\"../camera/intersectionUtils.js\";import{internalToExternal as J,OrientationMode as K,scaleToDistance as L,fromCenterDistance as N,fromExtent as V,externalToInternal as W,computeScale as Y,AsyncContext as $,distanceToScale as q,fromCenterScale as X,directionToHeadingTilt as _,zoomToScale as H}from\"./cameraUtils.js\";import{getElevationAtPoint as Q}from\"./ElevationProvider.js\";import ee from\"../../../geometry/Point.js\";import te from\"../../../geometry/SpatialReference.js\";import ne from\"../../../geometry/Extent.js\";import re from\"../../../geometry/Geometry.js\";const ae=.66;function oe(e){return 360-a.normalize(e)}function ie(e){return a.normalize(360-e)}function se(e){return null!=e&&e.resolver&&e.resolver.reject(),null}function ce(e,t){return null!=e&&e.resolver&&e.resolver.resolve(t),t}function le(e,t,n,r=null){if(!t)return se(r);const a=e.spatialReference||te.WGS84;if(null!=t.camera){const e=C(t.camera.position,a);if(null==e)return se(r);const n=t.camera.clone();return n.position=e.clone(),ce(r,n)}if(null==t.targetGeometry)return se(r);const o=t.get(\"targetGeometry.spatialReference\");if(o&&!P(o,a))return se(r);const i=J(e,e.state.camera);let s=K.ADJUST;if(null!=t.rotation&&(i.heading=oe(t.rotation),s=K.LOCKED),null!=n&&(i.tilt=n),\"point\"===t.targetGeometry.type){const n=t.targetGeometry;let a;const o=t.targetGeometry.clone();return a=null!=t.scale?L(e,t.scale,n.latitude):e.state.camera.distance,N(e,o,a,i,s,r)}const c=t.targetGeometry.extent;return c?V(e,c,i.heading,i.tilt,s,r):se(r)}function me(e,t,r=null){return null==r&&(r=new n),he(e,null,t.clone(),r)}async function ue(t,r,a){const i=ke(t,r);if(!i)throw new o(\"viewpointutils-create:no-target\",\"Missing target for creating viewpoint\");const s=new e({fov:t.camera.fov}),c=new n({camera:s});if(i.target instanceof n){return Me(await we(t,i.target,i,a,c))}if(i.target instanceof e)return Me(ve(t,i.target,c));const l=null!=i.scale||null!=i.zoom;if(i.target instanceof ne){const e=i.target.xmin===i.target.xmax||i.target.ymin===i.target.ymax;return Me(l||e?await je(t,i,i.target.center,s,a,c):await ze(t,i,i.target,s,a,c))}const m={boundingBox:z(),hasZ:!1,screenSpaceObjects:[]},u=l?pe(t,i):void 0;if(await xe(t,i.target,u,m),isFinite(m.boundingBox[0])){let e;if(S(m.boundingBox,Fe),Ie.x=Fe[0],Ie.y=Fe[1],Ie.z=Fe[2],Ie.spatialReference=t.spatialReference,isFinite(Ie.z)&&m.hasZ?e=k(m.boundingBox):(Ie.z=void 0,e=Z(B(m.boundingBox,Ze))),l||e)return Me(await je(t,i,Ie,s,a,c));const n=Ae(t,m.screenSpaceObjects);return Me(await Be(t,i,Ie,m.boundingBox,n,s,a,c))}return i.position?Me(Re(t,i,s,c)):Me(await Ge(t,i,s,a,c))}function fe(e,t){return null==t.scale&&null!=t.zoom?H(e,t.zoom):t.scale}function pe(e,t){const n=fe(e,t);return n?O(n):void 0}function ge(e,t){let n=!1;return null!=t.heading?(e.heading=t.heading,n=!0):null!=t.rotation&&(e.heading=oe(t.rotation),n=!0),null!=t.tilt&&(e.tilt=t.tilt,n=!0),null!=t.fov&&(e.fov=t.fov),n}function he(e,t,n,r){const a=e.spatialReference||te.WGS84;return null==(t=null!=t?t:W(e,n))||(r.targetGeometry=w(t.center,e.renderSpatialReference,a),r.scale=Y(e,t),r.rotation=ie(n.heading),r.camera=n),r}function ye(e,t,n){const r=()=>new o(\"viewpointutils:invalid-geometry\",\"The target is missing a valid geometry\");if(!t)throw r();if(!P(t.spatialReference,e.spatialReference))throw new o(\"viewpointutils:incompatible-spatialreference\",`Spatial reference (${t.spatialReference?t.spatialReference.wkid:\"unknown\"}) is incompatible with the view (${e.spatialReference?.wkid})`,{geometry:t});const a=[];if(!t.hasZ&&e.basemapTerrain){let n;switch(t.type){case\"point\":n=t;break;case\"multipoint\":case\"polyline\":n=t.extent?.center;break;case\"mesh\":n=t.origin;break;case\"extent\":n=t.center;break;case\"polygon\":n=t.centroid}n&&null!=e.basemapTerrain.spatialReference&&P(n,e.basemapTerrain.spatialReference)&&e.elevationProvider?Fe[2]=Q(e.elevationProvider,n)??0:Fe[2]=0}(0,Je[t.type])(t,(e=>{a.push(e[0],e[1],e[2])}),Fe);const i=a.length/3;if(0===i)throw r();const s=new Array(a.length);if(b(a,t.spatialReference,0,s,e.spatialReference,0,i)){t.hasZ&&(n.hasZ=!0);for(let e=0;e<s.length;e+=3)t.hasZ?(Fe[0]=s[e],Fe[1]=s[e+1],Fe[2]=s[e+2]):(Fe[0]=s[e],Fe[1]=s[e+1]),M(n.boundingBox,Fe)}}async function de(e,t,n,a){const o=await r(e.whenViewForGraphic(t));if(!1===o.ok||null==o.value||!(\"whenGraphicBounds\"in o.value))return void ye(e,t.geometry,a);const i=o.value,s=await r(i.whenGraphicBounds(t,{minDemResolution:n}));if(!1===s.ok)return void ye(e,t.geometry,a);const{screenSpaceObjects:c,boundingBox:l}=s.value;A(a.boundingBox,l),c&&c.forEach((e=>{a.screenSpaceObjects.push(e)})),isFinite(l[2])&&(a.hasZ=!0)}async function xe(e,n,r,a){if(Array.isArray(n)&&2===n.length){const t=n[0],r=n[1];if(\"number\"==typeof t&&\"number\"==typeof r)return Ie.x=t,Ie.y=r,Ie.z=void 0,Ie.spatialReference=e.spatialReference?.isGeographic?e.spatialReference:te.WGS84,void ye(e,Ie,a)}n&&\"map\"in n&&\"function\"==typeof n.map?await i(n.map((t=>xe(e,t,r,a)))):n instanceof re?ye(e,n,a):n instanceof t&&await de(e,n,r,a)}async function we(e,t,n,r,a){if(null!=t.camera)return ve(e,t.camera,a);a.scale=t.scale,a.rotation=t.rotation,a.targetGeometry=null!=t.targetGeometry?t.targetGeometry.clone():null,a.camera=null,null!=n.heading?a.rotation=ie(n.heading):null!=n.rotation&&(a.rotation=n.rotation);const o=fe(e,n);null!=o&&(a.scale=o);const i=new $(r);return le(e,a,n.tilt,i),a.camera=await i.resolver.promise,a}function ve(e,t,n){const r=e.spatialReference,a=C(t.position,r);return null==a?null:((t=t.clone()).fov=e.camera.fov,t.position=a,he(e,null,t,n))}function be(e,t,n,r,a,o){const i=e.renderSpatialReference;return v(n,Oe,i),v(t,Ce,i),o.targetGeometry=new ee(t),a.position=new ee(n),h(De,Ce,Oe),_(e,Oe,De,r.up,a),o.scale=q(e,p(Oe,Ce),o.targetGeometry.latitude),o.rotation=ie(a.heading),o.camera=a,o}async function je(e,t,n,r,a,i){if(null==n)throw new o(\"createfromcenter\",\"invalid point\");i.targetGeometry=n.clone();const s=I(e);if(t.position)return be(e,i.targetGeometry,t.position,s,r,i);if(t.zoomFactor){const r=s.distance/t.zoomFactor,a=u(Fe,s.viewForward,-r);s.eye=f(Fe,s.center,a),i.scale=q(e,r,n.latitude)}J(e,s,r);const c=ge(r,t)?K.LOCKED:K.ADJUST;if(!t.zoomFactor){const o=fe(e,t);null==o?(v(n,Fe,e.renderSpatialReference),D(s.frustum,Fe)?i.scale=q(e,p(s.eye,Fe),n.latitude):i.scale=Y(e,s)):i.scale=o;const l=new $(a);X(e,i.targetGeometry,i.scale,r,c,l),i.camera=await l.resolver.promise}return i}function Re(e,t,n,r){const a=I(e);return g(De,a.viewForward),_(e,a.eye,De,a.up,Pe),n.position=new ee(t.position),n.heading=null!=t.heading?t.heading:Pe.heading,n.tilt=null!=t.tilt?t.tilt:Pe.tilt,he(e,null,n,r)}async function Ge(e,t,n,r,a){const o=I(e);return je(e,t,w(o.center,e.renderSpatialReference,e.spatialReference),n,r,a)}async function ze(e,t,n,r,a,o){o.targetGeometry=n.clone();const i=I(e);J(e,i,r);const s=ge(r,t)?K.LOCKED:K.ADJUST,c=new $(a);return V(e,n,r.heading,r.tilt,s,c),o.camera=await c.resolver.promise,o}function Se(e,t,n,r,a){let o=0;null!=n.z?o=n.z:e.basemapTerrain&&e.elevationProvider&&(o=Q(e.elevationProvider,n)),y(Fe,n.x,n.y,o),j(e.spatialReference,Fe,Te,e.renderSpatialReference),s(Ee,Te),c(Ee,Ee),z(Ue);const i=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]];for(let s=0;s<i.length;s++){const t=i[s];let n=r[t[2]];isFinite(n)||(n=o),y(Fe,r[t[0]],r[t[1]],n),R(Fe,e.spatialReference,Fe,e.renderSpatialReference),M(Ue,d(Fe,Fe,Ee))}const l=F(Ue),m=T(Ue),u=E(Ue),f=1/Math.tan(t.fovX/2),p=1/Math.tan(t.fovY/2),g=.5*Math.sqrt(l*l+u*u)*Math.max(p,f)+.5*m,h=.5*m*p+.5*Math.max(l,u);return Math.max(g,h)/a}async function Be(e,t,n,r,a,o,i,s){s.targetGeometry=n.clone();const c=I(e),l=Se(e,c,n,r,a);J(e,c,o);const m=ge(o,t)?K.LOCKED:K.ADJUST;s.scale=q(e,l,s.targetGeometry.latitude);const u=new $(i);return X(e,s.targetGeometry,s.scale,o,m,u),s.camera=await u.resolver.promise,s}function ke(e,t){if(!t||!e.spatialReference)return null;const n={target:void 0};return\"declaredClass\"in t||Array.isArray(t)?n.target=t:(Object.assign(n,t),t.center&&!n.target&&(n.target=t.center)),n}function Me(e){return e&&null!=e.camera&&(e.rotation=ie(e.camera.heading)),e}function Ae(e,t){const n=ae;if(!t.length)return n;let r=Number.NEGATIVE_INFINITY;for(let a=0;a<t.length;a++){const e=t[a].screenSpaceBoundingRect;r=Math.max(r,Math.abs(e[0]),Math.abs(e[1]),Math.abs(e[2]),Math.abs(e[3]))}return n-r/Math.min(e.width,e.height)*2}const Fe=x(),Te=m(),Ee=l(),Ue=G(),Ze=U(),De=x(),Oe=x(),Ce=x(),Pe={heading:0,tilt:0},Ie=new ee,Je={point(e,t,n){n[0]=e.x,n[1]=e.y,null!=e.z&&(n[2]=e.z),t(n)},polygon(e,t,n){const r=e.hasZ;for(let a=0;a<e.rings.length;a++){const o=e.rings[a];for(let e=0;e<o.length;e++)n[0]=o[e][0],n[1]=o[e][1],r&&(n[2]=o[e][2]),t(n)}},polyline(e,t,n){const r=e.hasZ;for(let a=0;a<e.paths.length;a++){const o=e.paths[a];for(let e=0;e<o.length;e++)n[0]=o[e][0],n[1]=o[e][1],r&&(n[2]=o[e][2]),t(n)}},multipoint(e,t,n){const r=e.points,a=e.hasZ;for(let o=0;o<r.length;o++)n[0]=r[o][0],n[1]=r[o][1],a&&(n[2]=r[o][2]),t(n)},extent(e,t,n){null!=e.zmin&&null!=e.zmax?(t(y(n,e.xmin,e.ymin,e.zmin)),t(y(n,e.xmax,e.ymin,e.zmin)),t(y(n,e.xmin,e.ymax,e.zmin)),t(y(n,e.xmax,e.ymax,e.zmin)),t(y(n,e.xmin,e.ymin,e.zmax)),t(y(n,e.xmax,e.ymin,e.zmax)),t(y(n,e.xmin,e.ymax,e.zmax)),t(y(n,e.xmax,e.ymax,e.zmax))):(t(y(n,e.xmin,e.ymin,n[2])),t(y(n,e.xmax,e.ymin,n[2])),t(y(n,e.xmin,e.ymax,n[2])),t(y(n,e.xmax,e.ymax,n[2])))},mesh(e,t,n){const r=e.vertexAttributes&&e.vertexAttributes.position;if(r)for(let a=0;a<r.length;a+=3)t(y(n,r[a],r[a+1],r[a+2]))}};export{ue as create,me as fromCamera,ie as headingToRotation,oe as rotationToHeading,le as toCamera};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"../../../Camera.js\";import i from\"../../../Viewpoint.js\";import e from\"../../../core/Error.js\";import{onAbort as a,createAbortError as n}from\"../../../core/promiseUtils.js\";import{whenOnce as o}from\"../../../core/reactiveUtils.js\";import{applyAll as r}from\"../camera/constraintUtils.js\";import{applySurfaceCollisionConstraint as s,Mode as l}from\"../camera/constraintUtils/surfaceCollision.js\";import{State as c}from\"./controllers/CameraController.js\";import{PointToPointAnimationController as h}from\"./controllers/PointToPointAnimationController.js\";import{SurfaceCollisionCorrectionController as m}from\"./controllers/SurfaceCollisionCorrectionController.js\";import{externalToInternal as w}from\"../support/cameraUtils.js\";import{create as p}from\"../support/viewpointUtils.js\";class f{constructor(t,i,e){this.target=t,this.options=i,this.view=e,this.state=\"pending\",this._animationController=null,this._promise=new Promise(((t,i)=>{this._resolveCallback=t,this._rejectCallback=i;const e=new AbortController;null!=this.options.signal&&a(this.options.signal,(()=>{this.abort()})),this._abortController=e,this.waitForReady()}))}then(t,i){return this._promise.then(t,i)}catch(t){return this._promise.catch(t)}resolve(t){if(\"finished\"!==this.state)return this.state=\"finished\",this._resolveCallback(t)}reject(t){if(\"finished\"!==this.state)return this.state=\"finished\",this._rejectCallback(t)}abort(t=!1){if(this._abortController.abort(),\"wait-for-animation-finish\"===this.state)!t&&null!=this._animationController&&this.view.state.cameraController===this._animationController&&this._animationController.active&&this._animationController.stopController();this.reject(n())}async waitForReady(){if(this.state=\"wait-for-ready\",!this.view.ready)try{await o((()=>this.view.ready),this._abortController.signal)}catch(t){return this.reject(t)}this.createViewPoint()}createViewPoint(){\"finished\"!==this.state&&(this.state=\"wait-for-viewpoint\",this._animationController=this.options.animate?this._getAnimationController():null,p(this.view,this.target,this._abortController.signal).then((t=>{if(\"finished\"===this.state)return;const i=t?this._getCameraFromViewpoint(t):null;if(null!=i)if(this.options.animate){if(null==this._animationController)return;this.startAnimation(i,this._animationController)}else this.view.stateManager.setStateCamera(i.camera,{applyConstraints:!i.isFullySpecified,positionAndOrientationOnly:!0,doNotCancelGoToOperation:!0}),this.resolve()}),(t=>{this.reject(t)})))}_getCameraFromViewpoint(a){const n=!!(this.target instanceof i&&this.target.camera||this.target instanceof t),o=a.camera;if(null==o)return null;if(!this.view.stateManager.isCompatible(o)){const t=o.position,i=t&&t.spatialReference,a=i?i.wkid:\"none\",n=this.view.spatialReference?.wkid;return this.reject(new e(\"GotoAnimation:incompatible-spatialreference\",`Resulting camera has an incompatible spatial reference (camera: ${a}, view: ${n})`,{camera:o})),null}const r=w(this.view,o);return null==r?(this.reject(new e(\"GotoAnimation:invalid-camera\",\"Resulting camera is invalid\")),null):{viewpoint:a,camera:r,isFullySpecified:n}}startAnimation(t,i){this.state=\"wait-for-animation-finish\";const a=i.viewAnimation;if(null==a)return void this.reject(new e(\"GotoAnimation:missing-animation\",\"Unreachable code in view.stateManager\"));if(a.update(t.viewpoint,\"running\"),!i.active||null==i.viewAnimation||i.viewAnimation.target!==t.viewpoint||this.view.state.cameraController!==i)return this.abort();let n;t.isFullySpecified?(n=new m({view:this.view,desiredCamera:t.camera}),s(this.view,t.camera,l.EYE_AND_CENTER)):r(this.view,t.camera),i.begin(t.camera,this.options);const o=()=>{const e=this.view.state.cameraController;n&&(e&&e.active?e instanceof h&&null!=e.viewAnimation&&e.viewAnimation.target===t.viewpoint&&(this.view.state.cameraController=n):null!=i.viewAnimation&&i.viewAnimation.target===t.viewpoint&&\"finished\"===i.state&&(this.view.state.cameraController=n))},w=t=>{if(null!=this.view.state)switch(i.state){case c.Finished:switch(this.state){case\"pending\":case\"wait-for-ready\":case\"wait-for-viewpoint\":case\"wait-for-animation-finish\":this.resolve()}break;case c.Ready:case c.Rejected:case c.Running:case c.Stopped:switch(this.state){case\"pending\":case\"wait-for-ready\":case\"wait-for-viewpoint\":case\"wait-for-animation-finish\":this.reject(t)}}};a.when(o,(t=>w(t))),i.asyncResult={resolve:()=>w(),reject:t=>w(t)}}_getAnimationController(){let t=null,i=null;const a=this.view.state.cameraController;return a instanceof h&&(a.updateStateFromViewAnimation(),a.active&&(t=a,i=t.viewAnimation)),null!=t||(t=new h({view:this.view,mode:\"animation\"}),i=t.viewAnimation,this.view.state.switchCameraController(t))?t:(null!=i&&i.stop(),this.reject(new e(\"GotoAnimation:goto-cannot-interrupt\",\"Cannot start an animation while interacting\")),null)}}export{f as GoToOperation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Camera.js\";import i from\"../../../Viewpoint.js\";import a from\"../../../core/Accessor.js\";import r from\"../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{watch as n,on as o,sync as h,when as l}from\"../../../core/reactiveUtils.js\";import{addFrameTask as p}from\"../../../core/scheduling.js\";import{createScreenPoint as c}from\"../../../core/screenUtils.js\";import{property as m}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{d as v}from\"../../../chunks/vec3.js\";import{g as u}from\"../../../chunks/vec3f64.js\";import{s as w}from\"../../../chunks/vec4.js\";import{c as g}from\"../../../chunks/vec4f64.js\";import y from\"../../../geometry/Extent.js\";import _ from\"../../../geometry/Point.js\";import{canProject as C}from\"../../../geometry/support/webMercatorUtils.js\";import{ViewingMode as f}from\"../../ViewingMode.js\";import{applyAll as R}from\"../camera/constraintUtils.js\";import{cameraOnContentAlongViewDirection as x,surfaceElevationBelowRenderLocation as P}from\"../camera/intersectionUtils.js\";import{ConstraintsManager as S}from\"./ConstraintsManager.js\";import{Frustum as O}from\"./Frustum.js\";import{GoToOperation as T}from\"./GoToOperation.js\";import{SurfaceCollisionCorrectionController as b}from\"./controllers/SurfaceCollisionCorrectionController.js\";import{internalToExternal as I,externalToInternal as j,toExtent as z,distanceToScale as M,scaleToZoom as E,fromExtent as A,OrientationMode as N,getObserverForPointAtDistance as H,scaleToDistance as L,zoomToScale as B}from\"../support/cameraUtils.js\";import{PropertiesPool as D}from\"../support/PropertiesPool.js\";import{fromCamera as U,toCamera as V}from\"../support/viewpointUtils.js\";import{Camera as k,PaddingSide as F}from\"../webgl-engine/lib/Camera.js\";import{RenderFeature as G}from\"../webgl-engine/lib/RenderFeature.js\";import{RenderState as q}from\"../../support/RenderState.js\";import{ensureAttachmentMaxSize as W}from\"../../webgl/FramebufferObject.js\";let J=class extends a{get camera(){const e=this._get(\"camera\");if(!this.ready)return e;const t=I(this.view,this.view.state.camera,Z);return t&&e&&t.equals(e)?e:t.clone()}set camera(e){this._updatePropertyBeforeReady(\"camera\",e)||(this.view.elevationProvider?.enableElevationCache(!0),this.setStateCamera(j(this.view,e),{applyConstraints:!1})||r.getLogger(this).error(\"#camera=\",\"Invalid camera\",e),this.view.elevationProvider?.enableElevationCache(!1))}get contentCamera(){const e=this._get(\"contentCamera\");if(!this.ready)return e;const t=I(this.view,this.view.state.contentCamera,Z);return t&&e&&t.equals(e)?e:t.clone()}set contentCamera(e){if(this._updatePropertyBeforeReady(\"contentCamera\",e))return;const t=j(this.view,e);null!=t?(this._updateElevation(t),this.view.state.contentCamera=t):this.view.state.contentCamera=null}installContentCameraReset(e){if(this.removeHandles(ie),this.test.contentCameraResetState.clear(),!this.view.state.fixedContentCamera)return!1;const t=this.zoom,i=this.view.state.camera.distance**2,a=u(this.view.state.camera.center),r=e.sticky?this.contentCamera.clone():null;return this.addHandles([n((()=>this.contentCamera),(()=>{e.sticky||(this.removeHandles(ie),this.test.contentCameraResetState.clear())})),n((()=>this.zoom),(e=>{void 0!==e&&void 0!==t&&(this.test.contentCameraResetState.set(\"view.zoom\",Math.abs(e-t)/2),Math.abs(e-t)>2?this.contentCamera=null:this.view.state.fixedContentCamera||(this.contentCamera=r))})),n((()=>this.view.state.camera),(e=>{const t=v(a,e.center);this.test.contentCameraResetState.set(\"camera.center\",t/i),t>i?this.contentCamera=null:this.view.state.fixedContentCamera||(this.contentCamera=r)}))],ie),!0}get center(){return this.ready?this.view.pointsOfInterest.centerOnContent.location:this._get(\"center\")}set center(e){this._updatePropertyBeforeReady(\"center\",e)||(e?this.isCompatible(e)?this.setStateCamera(this._centerToCamera(e),{applyConstraints:!0})?this.view.pointsOfInterest.centerOnContent.runTask():r.getLogger(this).error(\"#center=\",\"Invalid center\",e):r.getLogger(this).error(\"#center=\",\"Center has an incompatible spatial reference (center: \"+(e.spatialReference?e.spatialReference.wkid:\"none\")+\", view: \"+this.view.spatialReference?.wkid+\")\",e):r.getLogger(this).error(\"#center=\",\"Center may not be null or undefined\"))}get extent(){if(!this.ready)return this._get(\"extent\");const e=this.view,t=z(e,e.state.camera,e.pointsOfInterest.centerOnContent.renderLocation);return null!=t?t:this._get(\"extent\")}set extent(e){this._updatePropertyBeforeReady(\"extent\",e)||(e?this.isCompatible(e)?this.setStateCamera(this._extentToCamera(e),{applyConstraints:!0})||r.getLogger(this).error(\"#extent=\",\"Invalid extent\",e):r.getLogger(this).error(\"#extent=\",\"Extent has an incompatible spatial reference (extent: \"+(e.spatialReference?e.spatialReference.wkid:\"none\")+\", view: \"+this.view.spatialReference?.wkid+\")\",e):r.getLogger(this).error(\"#extent=\",\"Extent may not be null or undefined\"))}get frustum(){const e=this._propertiesPool.get(\"frustum\");return e.renderCoordsHelper=this.view.renderCoordsHelper,e.update(this.view.state.camera),e}get hasInitialView(){return!!this.view.get(\"map.initialViewProperties.viewpoint\")}get scale(){if(this.ready){const e=this.view.pointsOfInterest.centerOnContent;return M(this.view,e.distance,e.location.latitude)}return this._get(\"scale\")}set scale(e){this._updatePropertyBeforeReady(\"scale\",e)||this.setStateCamera(this._scaleToCamera(e),{applyConstraints:!0})||r.getLogger(this).error(\"#scale=\",\"Invalid scale\",e)}get padding(){if(!this.ready)return this._get(\"padding\");const e=this.view.state.camera,t=e.padding,i=e.pixelRatio,a=this._get(\"padding\"),r=Math.round(t[F.TOP]/i),s=Math.round(t[F.RIGHT]/i),n=Math.round(t[F.BOTTOM]/i),o=Math.round(t[F.LEFT]/i);return null!=a&&a.top===r&&a.right===s&&a.bottom===n&&a.left===o?a:{top:r,right:s,bottom:n,left:o}}set padding(e){this._updatePropertyBeforeReady(\"padding\",e)||(this._paddingToArray(e,this.view.state.camera.pixelRatio,ee),this.view.state.updateCamera((e=>e.padding=ee)))}_paddingToArray(e,t,i){e?w(i,e.top||0,e.right||0,e.bottom||0,e.left||0):w(i,0,0,0,0);for(let a=0;a<4;a++)i[a]=Math.round(i[a]*t)}get screenCenter(){const e=this.padding;return c((this.view.width-(e.left+e.right))/2+e.left,(this.view.height-(e.top+e.bottom))/2+e.top)}get viewpoint(){return this.ready?U(this.view,this.camera):this._get(\"viewpoint\")}set viewpoint(e){if(!this._updatePropertyBeforeReady(\"viewpoint\",e))if(e)if(this.isCompatible(e))this.setStateCamera(this._viewpointToCamera(e),{applyConstraints:!e.camera})||r.getLogger(this).error(\"#viewpoint=\",\"Invalid viewpoint\",e);else{const t=null!=e.camera?e.camera.position:e.targetGeometry,i=null!=t&&t.spatialReference;r.getLogger(this).error(\"#viewpoint=\",\"Viewpoint has an incompatible spatial reference (viewpoint: \"+(i?i.wkid:\"none\")+\", view: \"+this.view.spatialReference?.wkid+\")\",e)}else r.getLogger(this).error(\"#viewpoint=\",\"Viewpoint may not be null or undefined\")}get zoom(){return this.ready?E(this.view,this.scale):this._get(\"zoom\")}set zoom(e){this._updatePropertyBeforeReady(\"zoom\",e)||void 0===e||this.setStateCamera(this._zoomToCamera(e),{applyConstraints:!0})||r.getLogger(this).error(\"#zoom=\",\"Invalid zoom\",e)}_computeCanvasSize(){if(this._devicePixelRatioOverride)return this.view.state.contentPixelRatio=this._devicePixelRatioOverride,this._tmpCanvasSize.width=Math.round(this.view.surface.clientWidth*this._devicePixelRatioOverride),this._tmpCanvasSize.height=Math.round(this.view.surface.clientHeight*this._devicePixelRatioOverride),this._tmpCanvasSize.pixelRatio=this._devicePixelRatioOverride,this._tmpCanvasSize;const e=Math.min(this._windowDevicePixelRatio,this.view.qualitySettings.maximumPixelRatio),t=this._usePhysicalPixelRendering?this._windowDevicePixelRatio:e;this._tmpCanvasSize.width=Math.round(this.view.surface.clientWidth*t),this._tmpCanvasSize.height=Math.round(this.view.surface.clientHeight*t);const i=this.view._stage.renderView.renderingContext.parameters.maxTextureSize;return W(this._tmpCanvasSize,i)?this._tmpCanvasSize.pixelRatio=t:this._tmpCanvasSize.pixelRatio=this._tmpCanvasSize.width>0?this._tmpCanvasSize.width/this.view.surface.clientWidth:t,this.view.state&&(this.view.state.contentPixelRatio=Math.min(this._windowDevicePixelRatio,this.view.qualitySettings.maximumPixelRatio)),this._tmpCanvasSize}get _rasterPixelRatio(){return null!=this._devicePixelRatioOverride?this._devicePixelRatioOverride:this._usePhysicalPixelRenderingAny?this._windowDevicePixelRatio:Math.min(this._windowDevicePixelRatio,this.view.qualitySettings.maximumPixelRatio)}get _usePhysicalPixelRendering(){return this.view?._stage?.renderer.isFeatureEnabled(G.PhysicalPixelRendering)??!1}get _usePhysicalPixelRenderingAny(){const e=this.view?._stage?.renderer;return e&&(e.isFeatureEnabled(G.PhysicalPixelRendering,q.IDLE)||e.isFeatureEnabled(G.PhysicalPixelRendering,q.INTERACTING)||e.isFeatureEnabled(G.PhysicalPixelRendering,q.ANIMATING))}constructor(e){super(e),this.constraintsManager=null,this.ready=!1,this._windowDevicePixelRatio=1,this._devicePixelRatioOverride=null,this._updatingIgnoreRenderState=!1,this.test={viewStateManager:this,contentCameraResetState:new Map,setDevicePixelRatio:e=>this._devicePixelRatioOverride=e,renderState:null,get maximumPixelRatio(){return this.viewStateManager.view.qualitySettings.maximumPixelRatio},set updatingIgnoreRenderState(e){this.viewStateManager._updatingIgnoreRenderState=e},get updatingIgnoreRenderState(){return this.viewStateManager._updatingIgnoreRenderState||null!=this.renderState}},this._propertiesPool=new D({frustum:O},this),this._cameraSetByUser=!1,this._gotoOperation=null,this._cameraChangeTime=0,this._tmpCanvasSize=new K}initialize(){this._cameraChangeTime=performance.now(),this.addHandles([o((()=>this.view.state.events),\"before-camera-change\",(e=>e&&this._updateElevation(e))),n((()=>this.view.state?.camera),((e,t)=>this._cameraChangedHandler(e,t)),h)]),l((()=>this.view.state?.camera),(e=>this._updateElevation(e)),{once:!0,sync:!0}),this.addHandles([p({prepare:()=>this._prepareFrame()}),n((()=>this.view.state.cameraController),(()=>{this._cameraSetByUser=!0,this.removeHandles(te)})),o((()=>this.view.state.events),\"camera-projection-changed\",(()=>this.notifyChange(\"scale\")))])}destroy(){this.exit(),this._propertiesPool=s(this._propertiesPool)}init(){this.constraintsManager=new S({view:this.view}),this._prepareFrame();const e=this._getInitialProperties();this._cameraSetByUser=!1,this._set(\"ready\",!0);for(const t of e)this.set(t.name,t.value);if(!this._cameraSetByUser){const e=this.view.get(\"map.initialViewProperties.viewpoint\")||this.view.initialExtent;e&&this.isCompatible(e)?this._setInitialView(e):this.view.state.viewingMode===f.Local&&this.addHandles(l((()=>this.view.basemapTerrain.ready),(()=>{this.removeHandles(te),this._setInitialView(this.view.dataExtent)}),{once:!0,initial:!0}),te)}}exit(){this._cancelGoToOperation(),this.ready&&(this._override(\"padding\",this.padding),this._set(\"ready\",!1),this._clearOverride(\"hasInitialView\"),this._cameraSetByUser=!1,this.removeHandles(te),this.constraintsManager=s(this.constraintsManager))}async goTo(e,t){const i={animate:!0,...t};return null!=this._gotoOperation&&this._gotoOperation.abort(i.animate),this._gotoOperation=new T(e,i,this.view),this.view.resourceController.scheduler.stopFrame(),this._gotoOperation}debugSetCameraOnContent(){this.setStateCamera(x(this.view),{applyConstraints:!1})}step(e){const t=this.view.state,i=t?.cameraController;i&&(t.updateCamera((t=>i.stepController(e,t))),i.steppingFinished&&i.finishController())}_cancelGoToOperation(){null!=this._gotoOperation&&(this._gotoOperation.abort(),this._gotoOperation=null)}_getInitialProperties(){const e=new Set,t=[];for(const{propertyName:i,overrides:a}of X){const r=e.has(i),s=this._isOverridden(i);!r&&s&&t.push({name:i,value:this._get(i)}),this._clearOverride(i),(r||s)&&a.forEach((t=>e.add(t)))}return t}_setInitialView(e){if(null==e||this._cameraSetByUser)return;if(e instanceof t)return void this.setStateCamera(j(this.view,e),{applyConstraints:!1});if(e instanceof i){if(e.targetGeometry instanceof y){const t=A(this.view,e.targetGeometry,0,.5,N.LOCKED);return void(null!=t&&this.setStateCamera(j(this.view,t),{applyConstraints:!0}))}const t={applyConstraints:!e.camera},i=this._viewpointToCamera(e);return void this.setStateCamera(i,t)}const a=A(this.view,e,0,.5,N.LOCKED);null!=a&&this.setStateCamera(j(this.view,a),{applyConstraints:!0})}_updatePropertyBeforeReady(e,t){return!this.ready&&(this._override(e,t),t&&Q.includes(e)&&this._override(\"hasInitialView\",!0),!0)}isCompatible(e){return null!=e&&(e instanceof i?e.camera?this.isCompatible(e.camera):this.isCompatible(e.targetGeometry):e instanceof t?this.isCompatible(e.position):e.spatialReference&&C(e.spatialReference,this.view.spatialReference))}_getPreservingHeadingTilt(e=Y){return this._cameraSetByUser?(e.heading=this.camera.heading,e.tilt=this.camera.tilt):(e.heading=0,e.tilt=.5),e}_centerPointAtDistanceToCamera(e,t,i=$){const{heading:a,tilt:r}=this._getPreservingHeadingTilt(),s=H(this.view,a,r,e,t,N.ADJUST);return null==s?null:(i.copyFrom(this.view.state.camera),i.eye=s.eye,i.center=s.center,i.up=s.up,i)}_centerToCamera(e){const t=this.view.pointsOfInterest.centerOnContent;t.runTask();const i=t.distance;return this._centerPointAtDistanceToCamera(e,i)}_extentToCamera(e){const{heading:t,tilt:i}=this._getPreservingHeadingTilt(),a=A(this.view,e,t,i,N.ADJUST,Z);return a?j(this.view,a):null}_scaleToCamera(e){if(null==e)return null;const t=this.view.pointsOfInterest.centerOnContent;t.runTask();const i=t.renderLocation,a=t.location.latitude;if(null==a)return null;const r=L(this.view,e,a);return this._centerPointAtDistanceToCamera(i,r)}_zoomToCamera(e){return this._scaleToCamera(B(this.view,e))}_viewpointToCamera(e){return j(this.view,V(this.view,e))}setStateCamera(e,t){return!(null==e||!this.view.state.stopActiveCameraController())&&(this._cameraSetByUser=!0,t.doNotCancelGoToOperation||this._cancelGoToOperation(),this.view.state.updateCamera((i=>{t.positionAndOrientationOnly?(i.eye=e.eye,i.center=e.center,i.up=e.up):i.copyFrom(e),t.applyConstraints&&R(this.view,i)})),t.applyConstraints||(this.view.state.cameraController=new b({view:this.view,desiredCamera:e})),!0)}_prepareFrame(){const{surface:e,canvas:t}=this.view;if(!e||!t)return;this._windowDevicePixelRatio=window.devicePixelRatio;const i=this._computeCanvasSize();if(0!==i.width&&0!==i.height&&(t.width===i.width&&t.height===i.height||(t.width=i.width,t.height=i.height),this.view.state)){const e=this.view.state.camera;e.fullWidth===i.width&&e.fullHeight===i.height&&e.pixelRatio===i.pixelRatio||($.copyFrom(e),$.pixelRatio!==i.pixelRatio&&(this._paddingToArray(this.padding,i.pixelRatio,ee),$.padding=ee),$.fullWidth=i.width,$.fullHeight=i.height,$.pixelRatio=i.pixelRatio,this.view.state.camera=$),this._updateViewState()}}_updateElevation(e){const t=this.view.basemapTerrain&&this.view.basemapTerrain.spatialReference,i=this.view.renderCoordsHelper?.getAltitude(e.eye)??0,a=t?P(this.view,e.eye):0;e.relativeElevation=i-a}_updateViewState(){null!=this.test.renderState?this.view.state.mode=this.test.renderState:this.view.animation?this.view.state.mode=q.ANIMATING:this.view.interacting?this.view.state.mode=q.INTERACTING:(this.view.state.mode===q.ANIMATING&&(this._cameraChangeTime=0),performance.now()-this._cameraChangeTime<=ae?this.view.state.mode=q.INTERACTING:this.view.state.mode=q.IDLE),this.view.state.rasterPixelRatio=this._rasterPixelRatio}_cameraChangedHandler(e,t){e&&t&&e.almostEquals(t)||(this._cameraChangeTime=performance.now(),this._updateViewState())}};e([m({type:t,dependsOn:[\"view.state.camera\",\"ready\"]})],J.prototype,\"camera\",null),e([m({type:t,dependsOn:[\"view.state.contentCamera\",\"ready\"]})],J.prototype,\"contentCamera\",null),e([m({type:_})],J.prototype,\"center\",null),e([m({type:y})],J.prototype,\"extent\",null),e([m({readOnly:!0})],J.prototype,\"frustum\",null),e([m({readOnly:!0})],J.prototype,\"hasInitialView\",null),e([m({readOnly:!0,type:Boolean})],J.prototype,\"ready\",void 0),e([m({type:Number})],J.prototype,\"scale\",null),e([m()],J.prototype,\"padding\",null),e([m({readOnly:!0})],J.prototype,\"screenCenter\",null),e([m({constructOnly:!0})],J.prototype,\"view\",void 0),e([m({type:i})],J.prototype,\"viewpoint\",null),e([m({type:Number})],J.prototype,\"zoom\",null),e([m({readOnly:!0})],J.prototype,\"_rasterPixelRatio\",null),e([m({readOnly:!0})],J.prototype,\"_usePhysicalPixelRendering\",null),e([m({readOnly:!0})],J.prototype,\"_usePhysicalPixelRenderingAny\",null),e([m()],J.prototype,\"_windowDevicePixelRatio\",void 0),e([m()],J.prototype,\"_devicePixelRatioOverride\",void 0),J=e([d(\"esri.views.3d.state.ViewStateManager\")],J);class K{constructor(){this.width=0,this.height=0,this.pixelRatio=1}}const Q=[\"camera\",\"viewpoint\",\"extent\",\"scale\",\"center\",\"zoom\"],X=[{propertyName:\"camera\",overrides:[\"viewpoint\"]},{propertyName:\"viewpoint\",overrides:[\"extent\"]},{propertyName:\"extent\",overrides:[\"center\",\"scale\"]},{propertyName:\"center\",overrides:[]},{propertyName:\"scale\",overrides:[\"zoom\"]},{propertyName:\"zoom\",overrides:[]},{propertyName:\"padding\",overrides:[]}],Y={heading:0,tilt:0},Z=new t,$=new k,ee=g(),te=\"pending-initial-view\",ie=\"content-camera-reset\",ae=300,re=100;export{re as INTERACTING_TIMEOUT,J as ViewStateManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{INTERACTING_TIMEOUT as o}from\"../ViewStateManager.js\";import{CameraController as s,State as a}from\"./CameraController.js\";import{Camera as i}from\"../../webgl-engine/lib/Camera.js\";let n=class extends s{constructor(){super(...arguments),this.startCamera=new i,this.currentCamera=new i,this._lastInteraction=0}get isInteractive(){return performance.now()-this._lastInteraction<o}stepController(r,t){t.copyViewFrom(this.currentCamera),this.currentCamera.copyFrom(t)}onControllerStart(r){this.state=a.Running,this.startCamera.copyFrom(r),this.currentCamera.copyFrom(r)}onControllerEnd(r){r.copyViewFrom(this.currentCamera)}commitCamera(){this._lastInteraction=performance.now(),setTimeout((()=>this.notifyChange(\"isInteractive\")),o),this.view.state.updateCamera((r=>this.stepController(0,r))),this.steppingFinished&&this.finishController()}};r([t({readOnly:!0})],n.prototype,\"isInteractive\",null),r([t()],n.prototype,\"_lastInteraction\",void 0),n=r([e(\"esri.views.3d.state.controllers.InteractiveController\")],n);export{n as InteractiveController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{acosClamped as i,clamp as s}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as a,e as n}from\"../../../../chunks/mat4.js\";import{c as h}from\"../../../../chunks/mat4f64.js\";import{j as p}from\"../../../../chunks/vec2.js\";import{a as m}from\"../../../../chunks/vec2f64.js\";import{c,b as l,l as _,e as v,n as u,a as C,g as f,f as P,m as E}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as w}from\"../../../../geometry/ellipsoidUtils.js\";import{applyAll as T}from\"../../camera/constraintUtils.js\";import{ConstraintTypes as R}from\"../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as j}from\"../../camera/constraintUtils/InteractionType.js\";import{TiltMode as y}from\"../../camera/constraintUtils/TiltMode.js\";import{TiltDefault as U}from\"../Constraints.js\";import{InteractiveController as M}from\"./InteractiveController.js\";import{contentIntersectorOptions as O,normalizeCoordinate as x,ROTATE_PIVOT_DISTANCE_MODIFIER as D,ROTATE_PIVOT_MIN_DISTANCE_MODIFIER as g,decideNavigationMode as A,ROTATE_SCREEN_PIXEL_AREA as N,NavigationMode as k}from\"../utils/navigationUtils.js\";var b;!function(t){t[t.CENTER=0]=\"CENTER\",t[t.EYE=1]=\"EYE\"}(b||(b={}));let L=class extends M{get _intersectionHelper(){return this.view.sceneIntersectionHelper}constructor(t){super(t),this.pivot=b.CENTER,this._rotScale=0,this._lastPoint=m(),this._tmpWorldUp=d(),this._tmpViewDir=d(),this._tmpRotCurPoint=m(),this._tmpTransf=h(),this._tmpAxis=d(),this._tmpPivotPoint=d(),this._pivotPos=d(),this._constraintOptions={selection:R.ALL,interactionType:j.TUMBLE,interactionFactor:0,interactionStartCamera:null,interactionDirection:null,tiltMode:y.TUMBLE}}initialize(){this._rotScale=this.pivot===b.CENTER?3:1.5}begin(t){if(this.active){switch(this.pivot){case b.EYE:c(this._pivotPos,this.startCamera.eye),this._constraintOptions.interactionType=j.LOOK_AROUND,this._constraintOptions.tiltMode=y.LOOK_AROUND,this._constraintOptions.selection=R.NONE;break;case b.CENTER:{const i=this._intersectionHelper.intersectRayFreePointFallback(this.startCamera.ray,this._pivotPos,0===this.view.map.ground.opacity?O:{});i||c(this._pivotPos,this.startCamera.center),this._constrainPivotPoint(t,i),this.startCamera.center=this._pivotPos,this._constraintOptions.interactionType=j.TUMBLE,this._constraintOptions.tiltMode=y.TUMBLE,this._constraintOptions.selection=R.ALL&~R.DISTANCE;break}}this._constraintOptions.interactionStartCamera=this.startCamera,x(this.startCamera,t,this._lastPoint)}}_constrainPivotPoint(t,i){const s=this.startCamera,o=d();l(o,this._pivotPos,s.eye);const e=_(o),a=Math.abs(this.view.camera.position.z);this.view.renderCoordsHelper.worldUpAtPosition(s.eye,V);let n=Math.max(Math.min(D,1/Math.abs(v(V,s.viewForward)))*a,g);i&&(n=Math.min(e,n));const h=w(this.view.spatialReference),p=r(s.width/s.pixelRatio*.5,s.height/s.pixelRatio*.5),m=A(this.startCamera,p,h);let P=this.view._stage.renderView.getMinimalDepthForArea(this.view.voxelWasm,s.fullWidth/s.pixelRatio*.5,s.fullHeight/s.pixelRatio*.5,s,2.5*N,N),E=this.view._stage.renderView.getMinimalDepthForArea(this.view.voxelWasm,t[0],t[1],s,N);null==P&&null==E||(P=P??E??0,E=null==E||m===k.Horizontal?P:E,n=P>E?E:P,n=i?Math.min(n,e):n),u(o,o),c(this._pivotPos,C(this._tmpPivotPoint,s.eye,f(this._tmpPivotPoint,o,n)))}update(t){if(this.active){switch(this.pivot){case b.EYE:this.currentCamera.center=this._applyRotation(this.currentCamera,t,this.currentCamera.center,this._pivotPos);break;case b.CENTER:this.currentCamera.center=this._pivotPos,this.currentCamera.eye=this._applyRotation(this.currentCamera,t,this.currentCamera.eye,this._pivotPos)}T(this.view,this.currentCamera,this._constraintOptions),this.commitCamera()}}end(){this.active&&this.finishController()}_applyRotation(t,r,o,e){this.view.renderCoordsHelper.worldUpAtPosition(e,this._tmpWorldUp),x(t,r,this._tmpRotCurPoint);let h=(this._lastPoint[1]-this._tmpRotCurPoint[1])*this._rotScale,m=(this._tmpRotCurPoint[0]-this._lastPoint[0])*this._rotScale;l(this._tmpViewDir,o,e);const c=_(this._tmpViewDir),u=i(v(this._tmpViewDir,this._tmpWorldUp)/c);if(this.pivot===b.EYE){h*=-.5;const t=.5*Math.PI-u,i=.5*Math.PI*.99;h=t-Math.max(-i,Math.min(i,t+h))}return h=s(h+u,U.min,U.max)-u,P(this._tmpAxis,t.up,this._tmpViewDir),this.pivot===b.CENTER&&(m=-m),a(this._tmpTransf,m,this._tmpWorldUp),n(this._tmpTransf,this._tmpTransf,h,this._tmpAxis),E(this._tmpViewDir,this._tmpViewDir,this._tmpTransf),t.up=E(S,t.up,this._tmpTransf),C(S,e,this._tmpViewDir),p(this._lastPoint,this._tmpRotCurPoint),S}};t([o()],L.prototype,\"pivot\",void 0),L=t([e(\"esri.views.3d.state.controllers.RotateController\")],L);const S=d(),V=d();export{b as PivotPoint,L as RotateController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as t}from\"../../../../core/screenUtils.js\";import{RotateController as r}from\"../../state/controllers/RotateController.js\";export{PivotPoint}from\"../../state/controllers/RotateController.js\";import{InputHandler as e}from\"../../../input/InputHandler.js\";import{eventMatchesMousePointerAction as o}from\"../../../input/handlers/support.js\";class a extends e{constructor(t,r,e,o){super(!0),this._view=t,this.pointerAction=r,this._pivot=e,this.registerIncoming(\"drag\",o,(t=>this._handleDrag(t)))}_handleDrag(e){const a=e.data;if(a.pointers.size>1)return;if(!o(e.data,this.pointerAction))return;const i=t(a.center.x,a.center.y);switch(a.action){case\"start\":this._cameraController&&(this._cameraController.end(),this._cameraController=null),this._cameraController=new r({view:this._view,pivot:this._pivot}),this._view.state.switchCameraController(this._cameraController),this._cameraController.begin(i);break;case\"update\":this._cameraController&&this._cameraController.update(i);break;case\"end\":this._cameraController&&(this._cameraController.end(),this._cameraController=null)}e.stopPropagation()}}export{a as DragRotate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{clamp as i}from\"../../../../../core/mathUtils.js\";import{createScreenPointArray as r}from\"../../../../../core/screenUtils.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Error.js\";import{subclass as e}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{j as s,d as a}from\"../../../../../chunks/vec2.js\";import{a as n}from\"../../../../../chunks/vec2f64.js\";import{n as o,b as c,l as h,e as m,g as p,a as l}from\"../../../../../chunks/vec3.js\";import{c as _}from\"../../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as u}from\"../../../../../geometry/ellipsoidUtils.js\";import{create as P,fromPoints as y}from\"../../../../../geometry/support/axisAngle.js\";import{c as C}from\"../../../../../chunks/sphere.js\";import{pixelDistanceToInteractionFactor as d,applyAll as f}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as g}from\"../../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as j}from\"../../../camera/constraintUtils/InteractionType.js\";import{applySurfaceCollisionConstraint as v}from\"../../../camera/constraintUtils/surfaceCollision.js\";import{TiltMode as R}from\"../../../camera/constraintUtils/TiltMode.js\";import{InteractiveController as k}from\"../InteractiveController.js\";import{NavigationMode as D,normalizeCoordinate as M,pickPointAndInitSphere as w,contentIntersectorOptions as A,SpherePickPointFallback as U,decideNavigationMode as O,DISTANCE_CLAMP_VALUES as b,PIVOT_DISTANCE_MODIFIER as z,SCREEN_PIXEL_AREA as S,sphereOrPlanePointFromScreenPoint as H,applyRotation as T}from\"../../utils/navigationUtils.js\";import{fromScreenAtEye as x}from\"../../../support/geometryUtils/ray.js\";let L=class extends k{constructor(){super(...arguments),this._pickPoint=_(),this._tmpP0=n(),this._panAxisAngle=P(),this._tmpRayDir=_(),this._tmpRayDirPick=_(),this._targetOnSphere=_(),this._navMode=D.Horizontal,this._tmpRay={origin:_(),direction:_()},this.dragBeginPoint=r(),this._normalizedAnchorPoint=n(),this._constraintOptions={selection:g.ALL_EXCEPT_COLLISION,interactionType:j.ZOOM,interactionFactor:0,interactionStartCamera:null,interactionDirection:null,tiltMode:R.TUMBLE},this._sphere=C(),this._hasPickPoint=!1}get _intersectionHelper(){return this.view.sceneIntersectionHelper}begin(t){if(!this.active)return;s(this.dragBeginPoint,t),M(this.startCamera,t,this._normalizedAnchorPoint);const r=u(this.view.spatialReference),e=w(this._intersectionHelper,this.startCamera,t,r,U.Ellipsoid,0===this.view.map.ground.opacity?A:{});if(this._navMode=O(this.startCamera,t,r),this._navMode===D.Horizontal)this._hasPickPoint=!!e.scenePickPoint,this._pickPoint=e.scenePickPoint??this._pickPoint,this._sphere=e.sphere;else{let r;x(this.startCamera,t,this._tmpRay),o(this._tmpRay.direction,this._tmpRay.direction),null!=e.scenePickPoint&&(c(this._tmpRayDirPick,this.startCamera.eye,e.scenePickPoint),r=h(this._tmpRayDirPick));const s=Math.abs(this.view.camera.position.z);this.view.renderCoordsHelper.worldUpAtPosition(this.startCamera.eye,E);let a=i(Math.min(z,1/Math.abs(m(E,this._tmpRay.direction)))*s,b[0],b[1]);const n=this.view._stage.renderView.getMinimalDepthForArea(null,t[0],t[1],this.view.state.camera,S);a=null!=n?n:a,a=null!=r?Math.min(a,r):a,this._hasPickPoint=!0,p(this._tmpRay.direction,this._tmpRay.direction,a),l(this._pickPoint,this._tmpRay.origin,this._tmpRay.direction)}this._constraintOptions.interactionStartCamera=this.startCamera}update(t){if(this.active){if(this.currentCamera.eye=this.startCamera.eye,this.currentCamera.center=this.startCamera.center,this.currentCamera.up=this.startCamera.up,this._navMode===D.Horizontal){c(this._tmpRayDir,this.currentCamera.center,this.currentCamera.eye);const i=h(this._tmpRayDir);M(this.currentCamera,t,this._tmpP0);const r=12*(this._normalizedAnchorPoint[1]-this._tmpP0[1]);let e=i*2**r;const s=this.view.state.constraints.minimumPoiDistance;if(r<0&&e<s&&(e=s),Math.abs(i-e)<1e-6)return;if(this._hasPickPoint&&e<i){const t=1-(1-e/i)*(1-this._sphere[3]/h(this.currentCamera.center));this.currentCamera.center=p(B,this.currentCamera.center,t)}p(this._tmpRayDir,this._tmpRayDir,-e/i),this.currentCamera.eye=l(B,this.currentCamera.center,this._tmpRayDir),this._constraintOptions.interactionFactor=d(a(this.dragBeginPoint,t)),f(this.view,this.currentCamera,this._constraintOptions),this._hasPickPoint&&(H(this._sphere,this.currentCamera,this.dragBeginPoint,this._targetOnSphere),y(this._pickPoint,this._targetOnSphere,this._panAxisAngle),T(this.currentCamera,this._sphere,this._panAxisAngle))}else{const i=h(this._tmpRay.direction);M(this.currentCamera,t,this._tmpP0);const r=12*(this._normalizedAnchorPoint[1]-this._tmpP0[1]);let e=i*2**r;const s=this.view.state.constraints.minimumPoiDistance;if(r<0&&e<s&&(e=s),Math.abs(i-e)<1e-6)return;p(this._tmpRayDir,this._tmpRay.direction,1-e/i),this.currentCamera.eye=l(B,this.currentCamera.eye,this._tmpRayDir),this.currentCamera.center=l(B,this.currentCamera.center,this._tmpRayDir)}v(this.view,this.currentCamera),this.commitCamera()}}end(){this.active&&this.finishController()}};L=t([e(\"esri.views.3d.state.controllers.global.ZoomController\")],L);const B=_(),E=_();export{L as ZoomController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{clamp as i}from\"../../../../../core/mathUtils.js\";import{createScreenPointArray as s}from\"../../../../../core/screenUtils.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Error.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{j as e,d as a}from\"../../../../../chunks/vec2.js\";import{a as n}from\"../../../../../chunks/vec2f64.js\";import{b as o,l as m,n as h,e as c,g as p,a as _,o as l,c as u,h as C}from\"../../../../../chunks/vec3.js\";import{c as P,f as D}from\"../../../../../chunks/vec3f64.js\";import{create as f,fromPositionAndNormal as j}from\"../../../../../geometry/support/plane.js\";import{pixelDistanceToInteractionFactor as y,applyAll as g}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as v}from\"../../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as d}from\"../../../camera/constraintUtils/InteractionType.js\";import{TiltMode as M}from\"../../../camera/constraintUtils/TiltMode.js\";import{InteractiveController as w}from\"../InteractiveController.js\";import{normalizeCoordinate as O,contentIntersectorOptions as U,DISTANCE_CLAMP_VALUES as b,PIVOT_DISTANCE_MODIFIER as N,SCREEN_PIXEL_AREA as R,intersectPlaneFromScreenPoint as k}from\"../../utils/navigationUtils.js\";let A=class extends w{constructor(){super(...arguments),this._tmpP=P(),this._tmpDir=P(),this._tmpN=P(),this._tmpP0=n(),this._tmpPoi=P(),this._tmpRayDir=P(),this.dragBeginPoint=s(),this._normalizedAnchorPoint=n(),this._constraintOptions={selection:v.ALL,interactionType:d.ZOOM,interactionFactor:0,interactionStartCamera:null,interactionDirection:P(),tiltMode:M.TUMBLE},this._plane=f()}get _intersectionHelper(){return this.view.sceneIntersectionHelper}begin(t){if(!this.active)return;e(this.dragBeginPoint,t),O(this.startCamera,t,this._normalizedAnchorPoint);const s=this._intersectionHelper.intersectScreenFreePointFallback(t,this._tmpP,0===this.view.map.ground.opacity?U:{});o(this._tmpDir,this._tmpP,this.startCamera.eye);const r=m(this._tmpDir);h(this._tmpDir,this._tmpDir);const a=Math.abs(this.view.camera.position.z);let n=i(Math.min(N,1/Math.abs(c(z,this._tmpDir)))*a,b[0],b[1]);const u=this.view._stage.renderView.getMinimalDepthForArea(this.view.voxelWasm,t[0],t[1],this.view.state.camera,R);n=null!=u?u:n,n=s?Math.min(n,r):n,p(this._tmpDir,this._tmpDir,n),_(this._tmpP,this.startCamera.eye,this._tmpDir),o(this._tmpN,this.startCamera.eye,this.startCamera.center),h(this._tmpN,this._tmpN),this._tmpN[1]<0&&l(this._tmpN,this._tmpN),j(this._tmpP,this._tmpN,this._plane),this._constraintOptions.interactionStartCamera=this.startCamera}update(t){if(!this.active)return;k(this._plane,this.currentCamera,this.dragBeginPoint,this._tmpPoi)||u(this._tmpPoi,this.currentCamera.center),O(this.currentCamera,t,this._tmpP0);let i=4*(this._tmpP0[1]-this._normalizedAnchorPoint[1]);e(this._normalizedAnchorPoint,this._tmpP0),o(this._tmpRayDir,this._tmpPoi,this.currentCamera.eye);const s=m(this._tmpRayDir);let r=s*(1-i);this._constraintOptions.interactionDirection&&(u(this._constraintOptions.interactionDirection,this._tmpRayDir),p(this._constraintOptions.interactionDirection,this._constraintOptions.interactionDirection,Math.sign(i)/s));const n=this.view.state.constraints.minimumPoiDistance;i>=0&&r<n&&(r=n,i=-(r-s)/s),Math.abs(s-r)<1e-6||(p(this._tmpRayDir,this._tmpRayDir,i),this.currentCamera.eye=_(T,this.currentCamera.eye,this._tmpRayDir),C(T,this.currentCamera.center,this._tmpPoi,i),this._tmpPoi[2]>this.startCamera.center[2]?T[2]=Math.max(this.startCamera.center[2],T[2]):T[2]=Math.min(this.startCamera.center[2],T[2]),this.currentCamera.center=T,this._constraintOptions.interactionFactor=y(a(this.dragBeginPoint,t)),g(this.view,this.currentCamera,this._constraintOptions),this.commitCamera())}end(){this.active&&this.finishController()}};A=t([r(\"esri.views.3d.state.controllers.local.ZoomController\")],A);const T=P(),z=D(0,0,1);export{A as ZoomController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{ZoomController as t}from\"../../state/controllers/global/ZoomController.js\";import{ZoomController as e}from\"../../state/controllers/local/ZoomController.js\";import{InputHandler as o}from\"../../../input/InputHandler.js\";import{eventMatchesMousePointerAction as a}from\"../../../input/handlers/support.js\";class s extends o{constructor(r,t,e){super(!0),this._view=r,this.pointerAction=t,this.registerIncoming(\"drag\",e,(r=>this._handleDrag(r)))}_handleDrag(o){const s=o.data;if(s.pointers.size>1)return;if(!a(o.data,this.pointerAction))return;const i=r(s.center.x,s.center.y);switch(s.action){case\"start\":this._cameraController&&(this._cameraController.end(),this._cameraController=null),this._view.state.isGlobal?this._cameraController=new t({view:this._view}):this._cameraController=new e({view:this._view}),this._view.state.switchCameraController(this._cameraController),this._cameraController.begin(i);break;case\"update\":this._cameraController&&this._cameraController.update(i);break;case\"end\":this._cameraController&&(this._cameraController.end(),this._cameraController=null)}o.stopPropagation()}}export{s as DragZoom};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{neverReached as e}from\"../../../../core/compilerUtils.js\";import{clamp as i,acosClamped as a,deg2rad as r}from\"../../../../core/mathUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{w as n,e as c,i as m}from\"../../../../chunks/mat4.js\";import{c as l}from\"../../../../chunks/mat4f64.js\";import{b as p,m as h,a as d,g as u,c as _,o as f,l as v,s as C,n as g,f as y,i as w,r as O,e as b}from\"../../../../chunks/vec3.js\";import{c as S}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as x}from\"../../../../geometry/ellipsoidUtils.js\";import{wrap as j}from\"../../../../geometry/support/ray.js\";import{b as M,e as T,t as L}from\"../../../../chunks/sphere.js\";import{angle as A}from\"../../../../geometry/support/vector.js\";import{sv3d as z}from\"../../../../geometry/support/vectorStacks.js\";import{applyAll as E}from\"../../camera/constraintUtils.js\";import{ConstraintTypes as I}from\"../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as D}from\"../../camera/constraintUtils/InteractionType.js\";import{TiltMode as U}from\"../../camera/constraintUtils/TiltMode.js\";import{TiltDefault as R}from\"../Constraints.js\";import{InteractiveController as k}from\"./InteractiveController.js\";import{panMotionToRotationMatrix as H,onSurfaceTiltToEyeTiltGlobal as N,offSurfaceTiltToEyeTiltGlobal as P}from\"../utils/navigationUtils.js\";import{viewAngle as F}from\"../utils/viewUtils.js\";import{headingTiltToDirectionUp as G}from\"../../support/cameraUtils.js\";import{createDirectionUp as V}from\"../../support/cameraUtilsInternal.js\";import{Camera as B}from\"../../webgl-engine/lib/Camera.js\";import{extractTransformation as K,isZeroTransformation as X,extractTransformationKeyboard as Z}from\"../../../navigation/gamepadAndKeyboardUtils.js\";let q=class extends k{constructor(t){super(t),this._filteredSurfaceElevation=0,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._keysButtonState=[0,0,0,0,0,0,0,0,0,0,0,0],this._tmpCamera=new B,this._headingStart=0,this._constraintOptions={selection:I.ALL,interactionType:D.NONE,interactionStartCamera:new B,interactionFactor:0,interactionDirection:null,tiltMode:U.LOOK_AROUND}}handleEventGamepad(t){const e=K(t,this.view.navigation.gamepad,this._transformation);(\"end\"===t.action||X(e))&&this.finishController()}activateDirection(t){this._keysButtonState[t]=1,Z(this._keysButtonState,this._transformation)}deactivateDirection(t){this._keysButtonState[t]=0;const e=Z(this._keysButtonState,this._transformation);X(e)&&this.finishController()}onControllerStart(t){this._filteredSurfaceElevation=this.view.pointsOfInterest.cameraOnSurface.location.z,this._headingStart=this.view.camera.heading,super.onControllerStart(t)}_updateFilteredSurfaceElevation(t){const e=this.view.pointsOfInterest.cameraOnSurface.location.z,i=1;this._filteredSurfaceElevation+=i*(e-this._filteredSurfaceElevation)*t}stepController(t,e){this._updateStartHeading(),this._updateFilteredSurfaceElevation(t),this.currentCamera.copyViewFrom(e),this._updateCameraCenter(),this._constraintOptions.interactionStartCamera?.copyFrom(this.currentCamera),this._calculateControlTransformation(t,this.currentCamera,it),this._applyDisabledMovementTypes(it),this._applyPan(it.pan),this._applyRotate(it.rotate),this._applyZoom(it.zoom),this._applyAscend(it.ascend),this._constraintOptions.interactionType=D.NONE,this._constraintOptions.selection=I.COLLISION,E(this.view,this.currentCamera,this._constraintOptions),super.stepController(t,e)}_updateStartHeading(){0!==this._transformation.heading&&(this._headingStart=this.view.camera.heading)}_applyRotate(t){if(!t.enabled)return;const e=this.currentCamera;p(at,e.center,e.eye),h(at,at,t.matrix),e.center=d(at,at,e.eye),e.up=h(at,e.up,t.matrix),this._constraintOptions.interactionType=D.LOOK_AROUND,this._constraintOptions.selection=I.ALL_EXCEPT_COLLISION,E(this.view,e,this._constraintOptions)}_applyPan(t,e=this.currentCamera){if(!t.enabled)return;e.eye=h(at,e.eye,t.matrix),e.center=h(at,e.center,t.matrix);this.view.state.isGlobal&&(e.up=h(at,e.up,t.matrix)),this._constraintOptions.interactionType=D.PAN,this._constraintOptions.selection=I.ALL,E(this.view,e,this._constraintOptions)}_applyZoom(t){if(!t)return;const e=this.currentCamera.viewForward;this.currentCamera.eye=d(at,this.currentCamera.eye,u(z.get(),e,t)),_(rt,e),f(rt,rt),this._constraintOptions.interactionDirection=rt,this._constraintOptions.interactionType=D.ZOOM,this._constraintOptions.selection=I.ALL_EXCEPT_COLLISION,E(this.view,this.currentCamera,this._constraintOptions),this._constraintOptions.interactionDirection=null}_applyAscend(t){if(!t)return;const e=this.view.renderCoordsHelper.worldUpAtPosition(this.currentCamera.eye,z.get());this._constraintOptions.interactionDirection=_(rt,e);if(this.view.state.isGlobal){const e=v(this.currentCamera.eye),i=(e+t)/e;this.currentCamera.eye=u(at,this.currentCamera.eye,i),this.currentCamera.center=u(at,this.currentCamera.center,i)}else{const i=u(z.get(),e,t);this.currentCamera.eye=d(at,this.currentCamera.eye,i),this.currentCamera.center=d(at,this.currentCamera.center,i)}this._updateCameraCenter(),this._constraintOptions.interactionType=D.ASCEND,this._constraintOptions.selection=I.COLLISION,E(this.view,this.currentCamera,this._constraintOptions)&&this._updateCameraCenter(),this._constraintOptions.selection=I.ALL_EXCEPT_COLLISION,E(this.view,this.currentCamera,this._constraintOptions),this._constraintOptions.interactionDirection=null}_calculateControlTransformation(t,e,i){st(i);const a=this._computeVelocities(t);this.view.state.isLocal?this._calculateControlTransformationLocal(a,e,i):this._calculateControlTransformationGlobal(a,e,i)}_updateCameraCenter(){const t=this.view.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,e=this.view.renderCoordsHelper,i=this.currentCamera.ray;this.currentCamera.center=e.intersectManifoldClosestSilhouette(i,t,at)}_calculateControlTransformationLocal(t,a,r){const{viewRight:o,viewForward:s}=a,m=this._transformation,l=this.view.navigation.gamepad,p=C(z.get(),s[0],s[1],0);g(p,p);const h=m.translation[0]*t.pan;if(0!==h){const t=u(z.get(),o,h);n(r.pan.matrix,r.pan.matrix,t),r.pan.enabled=!0}switch(l.mode){case\"pan\":{const e=-m.translation[1]*t.pan;if(0!==e){const t=u(z.get(),p,e);n(r.pan.matrix,r.pan.matrix,t),r.pan.enabled=!0}r.zoom=m.zoom*t.zoom;break}case\"zoom\":r.zoom=(-m.translation[1]+m.zoom)*t.zoom;break;default:e(l.mode)}const d=m.translation[2]*t.ascend;r.ascend=d;const _=-m.heading*t.rotate;0!==_&&(c(r.rotate.matrix,r.rotate.matrix,_,this.view.renderCoordsHelper.worldUpAtPosition(a.eye,z.get())),r.rotate.enabled=!0);const f=m.tilt*t.rotate,v=F(this.view.renderCoordsHelper,a.center,a.eye),y=i(v+f,R.min,R.max)-v;y&&(c(r.rotate.matrix,r.rotate.matrix,y,o),r.rotate.enabled=!0)}_calculateControlTransformationGlobal(t,e,i){const{eye:a,viewRight:r}=e,o=this._transformation,s=this.view.navigation.gamepad,n=y(z.get(),r,a);g(n,n),f(n,n),H(this.startCamera,e,o,t,this.view.camera.heading,this._headingStart,this.view.camera.tilt,i,s),this._tmpCamera.copyFrom(this.currentCamera),this._applyPan(it.pan,this._tmpCamera);const m=this.view.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,l=o.translation[2]*t.ascend;i.ascend=l;const p=-o.heading*t.rotate;0!==p&&(c(i.rotate.matrix,i.rotate.matrix,p,this._tmpCamera.eye),i.rotate.enabled=!0);const h=o.tilt*t.rotate,d=this._clampTiltDeltaGlobalToValidRange(h,e.ray,m);0!==d&&(c(i.rotate.matrix,i.rotate.matrix,d,this._tmpCamera.viewRight),i.rotate.enabled=!0),i.zoom+=o.zoom*t.zoom}_clampTiltDeltaGlobalToValidRange(t,e,a){const r=x(this.view.spatialReference),o=N(R.min,e.origin,a,r);let s=0,n=0;const c=z.get();if(this.view.renderCoordsHelper.intersectManifold(e,a,c)){const t=F(this.view.renderCoordsHelper,c,e.origin);s=N(t,e.origin,a,r),n=N(R.max,e.origin,a,r)}else{M(T(L,a+r.radius),e,c);const t=Math.PI+A(e.direction,c);s=P(t,e.origin,a,r),n=P(R.max,e.origin,a,r)}return i(s+t,o,n)-s}_getPointAbsoluteSurfaceElevation(t,e,i){const{renderCoordsHelper:a}=this.view,r=a.getAltitude(t),o=e+Math.abs(r-e);return a.setAltitude(i,o,t),o}_clampedDistanceToSurface(t,e){const{renderCoordsHelper:i}=this.view,{camera:a}=this.view.state,{direction:r}=G(this.view,e,0,Q,ot),o=i.intersectManifoldClosestSilhouette(j(e,r),t,z.get()),s=w(e,o),n=i.intersectManifoldClosestSilhouette(j(e,O(z.get(),e,a.center)),t,z.get()),c=w(e,n);return Math.min(s,c)}_computeHeadingRotateRadius(t){const{renderCoordsHelper:e,state:i}=this.view,{camera:r,isGlobal:o}=i,s=e.intersectManifoldClosestSilhouette(r.ray,this._filteredSurfaceElevation,z.get());if(o){const e=p(z.get(),t,s),i=v(e);u(e,e,1/i);const r=g(z.get(),t),o=a(b(r,e));return i*Math.sin(Math.min(W,o))}{const i=_(z.get(),t);return e.setAltitude(i,this._filteredSurfaceElevation),w(s,i)}}_minimumAscendVelocity(){return this.view.state.constraints.collision.enabled?0:$}_computeVelocities(t){const e=this._filteredSurfaceElevation,a=e+x(this.view.spatialReference).radius,{camera:r,isGlobal:o}=this.view.state,s=z.get(),n=this._getPointAbsoluteSurfaceElevation(r.eye,e,s),c=this._clampedDistanceToSurface(e,s),m=r.width/2,l=Y*r.width,p=Y*r.width,h=c*Math.tan(.5*r.fovX)/m,d=h/a,u=h/this._computeHeadingRotateRadius(s),_=n-e;return{pan:(o?d:h)*l*t,ascend:Math.max(this._minimumAscendVelocity()*t,2**(l*t/m)*_-_),zoom:2**(l*t/m)*c-c,rotate:i(u*p,tt,et)*t}}_applyDisabledMovementTypes(t){null==this.disableMovements||void 0!==this.disableMovements.mode&&this.view.state.viewingMode!==this.disableMovements.mode||(t.zoom=this.disableMovements.zoom?0:t.zoom,t.ascend=this.disableMovements.ascend?0:t.ascend,t.pan.enabled=!this.disableMovements.pan,this.disableMovements.pan&&m(t.pan.matrix),t.rotate.enabled=!this.disableMovements.rotate,this.disableMovements.rotate&&m(t.rotate.matrix))}static activatesFor(t,e){const i=K(e,t.navigation.gamepad,J);return!(\"end\"===e.action||X(i))}};t([o({constructOnly:!0})],q.prototype,\"gamepadDevice\",void 0),t([o({constructOnly:!0})],q.prototype,\"disableMovements\",void 0),q=t([s(\"esri.views.3d.state.controllers.GamepadKeyboardController\")],q);const J={translation:[0,0,0],heading:0,tilt:0,zoom:0},Q=80,W=r(Q),Y=.75,$=5,tt=r(30),et=r(80),it={zoom:0,ascend:0,pan:{enabled:!1,matrix:l()},rotate:{enabled:!1,matrix:l()}},at=S(),rt=S(),ot=V();function st(t){t.zoom=0,t.ascend=0,t.pan.enabled=!1,m(t.pan.matrix),t.rotate.enabled=!1,m(t.rotate.matrix)}export{q as GamepadKeyboardController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport a from\"../../../../core/Handles.js\";import{watch as e,initial as t}from\"../../../../core/reactiveUtils.js\";import{GamepadKeyboardController as r}from\"../../state/controllers/GamepadKeyboardController.js\";import{InputHandler as i}from\"../../../input/InputHandler.js\";class l extends i{constructor(e){super(!0),this._view=e,this._watchHandles=new a,this._handle=this.registerIncoming(\"gamepad\",(a=>this._handleEventGamepad(a))),this._handle.pause()}onInstall(a){super.onInstall(a),this._watchHandles.add([e((()=>this._view.navigation.gamepad.enabled),(a=>{a?this._handle.resume():(this._handle.pause(),this._cameraControllerGamepad&&(this._cameraControllerGamepad.finishController(),this._cameraControllerGamepad=null))}),t),e((()=>this._view.navigation.gamepad.device),(a=>{this._cameraControllerGamepad&&a&&this._cameraControllerGamepad.gamepadDevice!==a&&(this._cameraControllerGamepad.finishController(),this._cameraControllerGamepad=null)}))])}onUninstall(){this._watchHandles.removeAll(),super.onUninstall()}_handleEventGamepad(a){const e=this._view.navigation.gamepad.device;if(e&&a.data.device!==e)return;const t=this._cameraControllerGamepad&&this._cameraControllerGamepad.active;if(t||r.activatesFor(this._view,a.data)){if(!t){const e=new r({view:this._view,gamepadDevice:a.data.device});this._view.state.switchCameraController(e)&&(this._cameraControllerGamepad=e)}this._cameraControllerGamepad&&this._cameraControllerGamepad.active&&this._cameraControllerGamepad.gamepadDevice===a.data.device&&this._cameraControllerGamepad.handleEventGamepad(a.data)}}}export{l as GamepadNavigation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ViewingMode as e}from\"../../../ViewingMode.js\";import{GamepadKeyboardController as t}from\"../../state/controllers/GamepadKeyboardController.js\";import{InputHandler as r}from\"../../../input/InputHandler.js\";var a;!function(e){e[e.LEFT=0]=\"LEFT\",e[e.RIGHT=1]=\"RIGHT\",e[e.FORWARD=2]=\"FORWARD\",e[e.BACKWARD=3]=\"BACKWARD\",e[e.UP=4]=\"UP\",e[e.DOWN=5]=\"DOWN\",e[e.HEADINGLEFT=6]=\"HEADINGLEFT\",e[e.HEADINGRIGHT=7]=\"HEADINGRIGHT\",e[e.TILTUP=8]=\"TILTUP\",e[e.TILTDOWN=9]=\"TILTDOWN\",e[e.ZOOMIN=10]=\"ZOOMIN\",e[e.ZOOMOUT=11]=\"ZOOMOUT\"}(a||(a={}));class o extends r{constructor(t,r){super(!0),this._view=t,this._disableMovements={pan:!0,zoom:!1,ascend:!0,rotate:!1,mode:e.Local},this._keyToNumber={[r.left]:a.LEFT,[r.right]:a.RIGHT,[r.forward]:a.FORWARD,[r.backward]:a.BACKWARD,[r.up]:a.UP,[r.down]:a.DOWN,[r.headingLeft]:a.HEADINGLEFT,[r.headingRight]:a.HEADINGRIGHT,[r.tiltUp]:a.TILTUP,[r.tiltDown]:a.TILTDOWN,[r.zoomIn]:a.ZOOMIN,[r.zoomOut]:a.ZOOMOUT},this.registerIncoming(\"key-down\",null,(e=>this._handleKeyDown(e))),this.registerIncoming(\"key-up\",null,(e=>this._handleKeyUp(e))),this.registerIncoming(\"blur\",null,(()=>this._handleBlur()))}_handleKeyDown(e){if(e.data.native.ctrlKey||e.data.native.metaKey)return;const r=this._keyToNumber[e.data.key];null!=r&&(this._cameraControllerKeyboard&&this._cameraControllerKeyboard.active||(this._cameraControllerKeyboard=new t({view:this._view,disableMovements:this._disableMovements}),this._view.state.switchCameraController(this._cameraControllerKeyboard)),this._cameraControllerKeyboard.active&&(this._cameraControllerKeyboard.activateDirection(r),e.stopPropagation()))}_handleBlur(){this._cameraControllerKeyboard&&this._cameraControllerKeyboard.active&&(this._cameraControllerKeyboard.finishController(),this._cameraControllerKeyboard=null)}_handleKeyUp(e){if(e.data.native.ctrlKey||e.data.native.metaKey)return;const t=this._keyToNumber[e.data.key];null!=t&&this._cameraControllerKeyboard&&this._cameraControllerKeyboard.active&&(this._cameraControllerKeyboard.deactivateDirection(t),e.stopPropagation())}}export{o as KeyboardNavigation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e}from\"../../../../core/screenUtils.js\";import{ZoomStepController as t}from\"../../state/controllers/global/ZoomStepController.js\";import{ZoomStepController as o}from\"../../state/controllers/local/ZoomStepController.js\";import{InputHandler as r}from\"../../../input/InputHandler.js\";class i extends r{constructor(e,t){super(!0),this._view=e,this.registerIncoming(\"mouse-wheel\",t,(e=>this._handleMouseWheel(e)))}_handleMouseWheel(r){if(!this._view.navigation.mouseWheelZoomEnabled)return;const i=r.data;this._cameraController&&this._cameraController.active||(this._cameraController=this._view.state.isGlobal?new t({view:this._view,mode:\"interaction\"}):new o({view:this._view,mode:\"interaction\"}),this._view.state.switchCameraController(this._cameraController)),this._cameraController.zoomStep(-1/60*i.deltaY,e(i.x,i.y)),r.preventDefault(),r.stopPropagation()}}export{i as MouseWheelZoom};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._gain=t}reset(t){this._value=t}set gain(t){this._gain=t}get value(){return void 0===this._value?0:this._value}update(t){void 0===this._value?this._value=t:this._value=this._gain*t+(1-this._gain)*this._value}}export{t as ExponentialFalloff};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Error.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import e from\"../../../../ViewAnimation.js\";import{applyAll as r}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as o}from\"../../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as s}from\"../../../camera/constraintUtils/InteractionType.js\";import{TiltMode as n}from\"../../../camera/constraintUtils/TiltMode.js\";import{AnimationController as a}from\"../AnimationController.js\";import{Camera as m}from\"../../../webgl-engine/lib/Camera.js\";let c=class extends a{constructor(){super(...arguments),this._beginCamera=new m,this._elapsedTimeSec=0,this.constraintOptions={selection:o.ALL,interactionType:s.PAN,interactionFactor:0,interactionStartCamera:new m,interactionDirection:null,tiltMode:n.TUMBLE}}initialize(){this.constraintOptions.interactionType=this.interactionType,this.viewAnimation=new e}get steppingFinished(){return this.momentum.isFinished(this._elapsedTimeSec)}onControllerStart(t){this._beginCamera.copyFrom(t),this.constraintOptions.interactionStartCamera=this._beginCamera,super.onControllerStart(t)}stepController(t,i){i.copyViewFrom(this._beginCamera),this._elapsedTimeSec+=t,this.momentumStep(this._elapsedTimeSec,i),r(this.view,i,this.constraintOptions)}};c=t([i(\"esri.views.3d.state.controllers.momentum.MomentumController\")],c);export{c as MomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{g as s,b as e}from\"../../../../../chunks/vec3.js\";import{c as m}from\"../../../../../chunks/vec3f64.js\";import{InteractionType as n}from\"../../../camera/constraintUtils/InteractionType.js\";import{MomentumController as c}from\"./MomentumController.js\";let i=class extends c{constructor(t){super(t),this.interactionType=n.PAN,this._tmpPan=m()}momentumStep(t,o){const r=this.momentum.value(t);s(this._tmpPan,this.momentum.direction,r),o.eye=e(p,o.eye,this._tmpPan),o.center=e(p,o.center,this._tmpPan),this.constraintOptions.interactionDirection=this._tmpPan}};t([o({constructOnly:!0})],i.prototype,\"momentum\",void 0),i=t([r(\"esri.views.3d.state.controllers.momentum.PanPlanarMomentumController\")],i);const p=m();export{i as PanPlanarMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as r,n as e,f as m}from\"../../../../../chunks/vec3.js\";import{c as i}from\"../../../../../chunks/vec3f64.js\";import{InteractionType as c}from\"../../../camera/constraintUtils/InteractionType.js\";import{MomentumController as n}from\"./MomentumController.js\";import{applyRotationWithTwoAxes as a}from\"../../utils/navigationUtils.js\";const p=i(),u=i();let l=class extends n{constructor(o){super(o),this.interactionType=c.PAN}momentumStep(o,t){const s=this.momentum.value1(o),i=this.momentum.value2(o);r(u,t.eye),e(u,u),m(this.momentum.axis2,u,this.momentum.axis1),a(t,p,this.momentum.axis1,s,this.momentum.axis2,i)}};o([t({constructOnly:!0})],l.prototype,\"momentum\",void 0),l=o([s(\"esri.views.3d.state.controllers.momentum.PanSphericalMomentumController\")],l);export{l as PanSphericalMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{a as s}from\"../../../../../chunks/vec3f64.js\";import{wrapAxisAngle as e}from\"../../../../../geometry/support/axisAngle.js\";import{InteractionType as m}from\"../../../camera/constraintUtils/InteractionType.js\";import{MomentumController as c}from\"./MomentumController.js\";import{applyRotation as i}from\"../../utils/navigationUtils.js\";let n=class extends c{set center(t){this._set(\"center\",s(t))}set axis(t){this._set(\"axis\",s(t))}constructor(t){super(t),this.interactionType=m.TUMBLE}momentumStep(t,o){const r=this.momentum.value(t);i(o,this.center,e(this.axis,r))}};t([o({constructOnly:!0})],n.prototype,\"momentum\",void 0),t([o({constructOnly:!0})],n.prototype,\"center\",null),t([o({constructOnly:!0})],n.prototype,\"axis\",null),n=t([r(\"esri.views.3d.state.controllers.momentum.MomentumController\")],n);export{n as RotationMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as s,r as e}from\"../../../../../chunks/vec3.js\";import{a as n,c as i}from\"../../../../../chunks/vec3f64.js\";import{InteractionType as m}from\"../../../camera/constraintUtils/InteractionType.js\";import{MomentumController as c}from\"./MomentumController.js\";import{applyZoomToPoint as a}from\"../../utils/navigationUtils.js\";let p=class extends c{set zoomCenter(t){this._set(\"zoomCenter\",n(t))}constructor(t){super(t),this.interactionType=m.ZOOM,this.constraintOptions.interactionDirection=i()}momentumStep(t,o){const{interactionDirection:r}=this.constraintOptions;if(!r)return;s(r,o.eye);const n=this.momentum.valueDelta(0,t);a(o,this.zoomCenter,n,this.view.state.constraints.minimumPoiDistance),e(r,o.eye,r)}};t([o({constructOnly:!0})],p.prototype,\"momentum\",void 0),t([o({constructOnly:!0})],p.prototype,\"zoomCenter\",null),p=t([r(\"esri.views.3d.state.controllers.momentum.ZoomPlanarMomentumController\")],p);export{p as ZoomPlanarMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{createScreenPointArray as e}from\"../../../../../core/screenUtils.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{a as o,c as i}from\"../../../../../chunks/vec3f64.js\";import{create as n,fromPoints as c}from\"../../../../../geometry/support/axisAngle.js\";import{c as p}from\"../../../../../chunks/sphere.js\";import{applyAll as m}from\"../../../camera/constraintUtils.js\";import{InteractionType as a}from\"../../../camera/constraintUtils/InteractionType.js\";import{MomentumController as h}from\"./MomentumController.js\";import{applyZoomOnSphere as l,sphereOrPlanePointFromScreenPoint as u,applyRotation as y}from\"../../utils/navigationUtils.js\";let j=class extends h{set screenCenter(t){this._set(\"screenCenter\",e(t[0],t[1]))}set sceneCenter(t){this._set(\"sceneCenter\",o(t))}constructor(t){super(t),this.interactionType=a.ZOOM,this.radius=0,this._tmpSceneCenter=i(),this._tmpZoomAxisAngle=n(),this._sphere=p()}initialize(){this._sphere[3]=this.radius}momentumStep(t,e){const s=this.momentum.valueDelta(0,t);l(this._sphere,e,s),this.constraintOptions.interactionType=a.ZOOM,m(this.view,e,this.constraintOptions),u(this._sphere,e,this.screenCenter,this._tmpSceneCenter),c(this.sceneCenter,this._tmpSceneCenter,this._tmpZoomAxisAngle),y(e,this._sphere,this._tmpZoomAxisAngle),this.constraintOptions.interactionType=a.PAN}};t([s({constructOnly:!0})],j.prototype,\"momentum\",void 0),t([s({constructOnly:!0})],j.prototype,\"screenCenter\",null),t([s({constructOnly:!0})],j.prototype,\"sceneCenter\",null),t([s({constructOnly:!0})],j.prototype,\"radius\",void 0),j=t([r(\"esri.views.3d.state.controllers.momentum.ZoomSphericalMomentumController\")],j);export{j as ZoomSphericalMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this._gain=e}update(e){void 0!==this.filteredValue?this.filteredValue=(1-this._gain)*this.filteredValue+this._gain*e:this.filteredValue=e}reset(){this.filteredValue=void 0}get hasFilteredValue(){return void 0!==this.filteredValue}}export{e as FilteredValue};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{a as t}from\"../../chunks/vec2f64.js\";import{p as e,n as i,c as s}from\"../../chunks/vec3.js\";import{c as a}from\"../../chunks/vec3f64.js\";import{rotationAngleAndAxisDirectRotation as l,rotationAnglesAndAxesHeadingPreserving as n}from\"../3d/state/utils/navigationUtils.js\";import{FilteredFiniteDifference as h}from\"./FilteredFiniteDifference.js\";import{FilteredValue as r}from\"./FilteredValue.js\";import{Momentum as _}from\"./Momentum.js\";const u=1e-5;class m extends _{constructor(t,e,i,s,a,l=0,n){super(t,e,i),this._angularVelocity1=s,this.axis1=a,this.angularVelocity2=l,this.axis2=n}value1(t){return super.valueFromInitialVelocity(this._angularVelocity1,t)}value2(t){return super.valueFromInitialVelocity(this.angularVelocity2,t)}}class c{constructor(e=300,i=12,s=.84){this._minimumInitialVelocity=e,this._stopVelocity=i,this._friction=s,this.enabled=!0,this._tmpAxis1=a(),this._tmpAxis2=a(),this._tmpAngles=t(),this._time=new h(.3),this._screen=[new h(.4),new h(.4)],this._angle1=new r(.6),this._angle2=new r(.6),this._axis1=a(),this._axis2=a(),this._lastScene=a()}addMomentumDirectRotation(t,a,n,h,r,_){if(this.enabled){if(this._time.hasLastValue()){if(this._time.computeDelta(n)<.01)return;let t=l(this._lastScene,a,this._tmpAxis2,h,r,_);this._angle2.update(0),e(this._tmpAxis2)<u?t=0:i(this._axis1,this._tmpAxis2),this._angle1.update(t),s(this._lastScene,a)}this._screen[0].update(t[0]),this._screen[1].update(t[1]),this._time.update(n)}}addMomentumPreserveHeading(t,a,l,h,r,_,m){if(this.enabled){if(this._time.hasLastValue()){if(this._time.computeDelta(l)<.01)return;n(this._lastScene,a,this._tmpAxis2,this._tmpAxis1,this._tmpAngles,h,r,_,m,!1),e(this._tmpAxis2)<u?(this._angle1.update(0),this._angle2.update(0)):(this._angle1.update(this._tmpAngles[1]),this._angle2.update(this._tmpAngles[0]),i(this._axis1,this._tmpAxis1),i(this._axis2,this._tmpAxis2)),s(this._lastScene,a)}this._screen[0].update(t[0]),this._screen[1].update(t[1]),this._time.update(l)}}reset(){this._screen[0].reset(),this._screen[1].reset(),this._angle1.reset(),this._angle2.reset(),this._time.reset()}evaluateMomentum(){if(!this.enabled||!this._screen[0].hasFilteredDelta())return null;const t=this._screen[0].filteredDelta,e=this._screen[1].filteredDelta,i=null==t||null==e?null:Math.sqrt(t*t+e*e),s=this._time.filteredDelta,a=null==i||null==s?0:i/s;return Math.abs(a)<this._minimumInitialVelocity?null:this.createMomentum(a,this._stopVelocity,this._friction)}createMomentum(t,e,i){const s=this._time.filteredDelta,a=this._angle1.filteredValue,l=this._angle2.filteredValue,n=null==s||null==l?0:l/s;return new m(t,e,i,null==s||null==a?0:a/s,this._axis1,n,this._axis2)}}export{m as PanSphericalMomentum,c as PanSphericalMomentumEstimator};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{cyclicalPI as i}from\"../../../../../core/Cyclical.js\";import{deg2rad as e}from\"../../../../../core/mathUtils.js\";import{createScreenPointArray as n,screenPointObjectToArray as s,createRenderScreenPointArray3 as o}from\"../../../../../core/screenUtils.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Error.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{j as a,d as m}from\"../../../../../chunks/vec2.js\";import{c as h,o as c,l as p,b as _,n as l,a as u,g as d,e as g}from\"../../../../../chunks/vec3.js\";import{c as P}from\"../../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as v}from\"../../../../../geometry/ellipsoidUtils.js\";import{wrapAxisAngle as C}from\"../../../../../geometry/support/axisAngle.js\";import{create as M,fromPositionAndNormal as S,normal as w}from\"../../../../../geometry/support/plane.js\";import{c as b}from\"../../../../../chunks/sphere.js\";import{pixelDistanceToInteractionFactor as f,applyAll as j}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as E}from\"../../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as y}from\"../../../camera/constraintUtils/InteractionType.js\";import{TiltMode as O}from\"../../../camera/constraintUtils/TiltMode.js\";import{ExponentialFalloff as A}from\"../../../input/util.js\";import{InteractiveController as k}from\"../InteractiveController.js\";import{PanPlanarMomentumController as z}from\"../momentum/PanPlanarMomentumController.js\";import{PanSphericalMomentumController as R}from\"../momentum/PanSphericalMomentumController.js\";import{RotationMomentumController as x}from\"../momentum/RotationMomentumController.js\";import{ZoomPlanarMomentumController as T}from\"../momentum/ZoomPlanarMomentumController.js\";import{ZoomSphericalMomentumController as H}from\"../momentum/ZoomSphericalMomentumController.js\";import{NavigationMode as U,pickPointAndInitSphere as F,contentIntersectorOptions as D,SpherePickPointFallback as I,decideNavigationMode as L,sphereOrPlanePointFromScreenPoint as Z,PAN_DISTANCE_MODIFIER as N,MIN_HEIGHT_LIMIT as B,SCREEN_PIXEL_AREA as G,intersectPlaneFromScreenPointAtEye as V,applyZoomOnSphere as q,preserveHeadingThreshold as J,applyPanSphericalPreserveHeading as K,applyPanSphericalDirectRotation as Q,normalizeRotationDelta as W,applyRotation as X,applyPanPlanar as Y,applyZoomToPoint as $}from\"../../utils/navigationUtils.js\";import{Camera as tt}from\"../../../webgl-engine/lib/Camera.js\";import{PanPlanarMomentumEstimator as it}from\"../../../../navigation/PanPlanarMomentumEstimator.js\";import{PanSphericalMomentumEstimator as et}from\"../../../../navigation/PanSphericalMomentumEstimator.js\";import{RotationMomentumEstimator as nt}from\"../../../../navigation/RotationMomentumEstimator.js\";import{ZoomMomentumEstimator as st}from\"../../../../navigation/ZoomMomentumEstimator.js\";let ot=class extends k{constructor(){super(...arguments),this._smoothRotation=new A(.05),this._rotationAxis=P(),this._beginAngle=0,this._beginHeading=0,this._panningPlane=M(),this._beginRadius=0,this._smoothScaling=new A(.05),this._zoomCenterScreen=n(),this._zoomMomentumEstimator=new st,this._rotationMomentumEstimator=new nt,this._panSphericalMomentumEstimator=new et,this._panPlanarMomentumEstimator=new it,this._adjustedSphere=b(),this._tmp3d=P(),this._tmpScreenPointArray=n(),this._beginScreenPoint=n(),this._beginScenePoint=P(),this._screenPickPoint=n(),this._scenePickPoint=P(),this._mode=U.Horizontal,this._sphere=b(),this._pointerCount=0,this._tmpInteractionDirection=P(),this._constraintOptions={selection:E.ALL,interactionType:y.NONE,interactionFactor:0,interactionStartCamera:new tt,interactionDirection:null,tiltMode:O.TUMBLE}}get _intersectionHelper(){return this.view.sceneIntersectionHelper}begin(t){if(!this.active)return;const n=this.view.navigation.momentumEnabled;this._zoomMomentumEstimator.enabled=n,this._rotationMomentumEstimator.enabled=n,this._panPlanarMomentumEstimator.enabled=n,this._panSphericalMomentumEstimator.enabled=n,this._beginHeading=-i.normalize(e(this.view.camera.heading)),this._beginRadius=t.radius,this._pointerCount=t.pointers.size,this._beginAngle=t.angle,this._smoothRotation.reset(),s(t.center,this._screenPickPoint),a(this._beginScreenPoint,this._screenPickPoint);const o=v(this.view.spatialReference),r=F(this._intersectionHelper,this.startCamera,this._screenPickPoint,o,I.Silhouette,0===this.view.map.ground.opacity?D:{});null!=r.scenePickPoint&&(this._scenePickPoint=r.scenePickPoint,this._sphere=r.sphere,h(this._beginScenePoint,this._scenePickPoint),this._mode=L(this.startCamera,this._screenPickPoint,o),this._mode===U.Vertical&&this._preparePlanarPanMode(t,r.hasGeometryIntersection),this._constraintOptions.interactionStartCamera?.copyFrom(this.startCamera))}update(t){if(!this.active)return;this.currentCamera.copyFrom(this.startCamera);const i=t.pointers.size>1;this._mode===U.Horizontal?(i&&this._zoomSpherical(t),this._panningSpherical(t),i&&this._rotateSpherical(t)):(i&&this._zoomPlanar(t),this._panningPlanar(t),i&&this._rotatePlanar(t)),this.commitCamera()}end(t){t.pointers.size===this._pointerCount&&this.update(t),this.finishController();const i=this._zoomMomentumEstimator.evaluateMomentum();if(i)return this._mode===U.Horizontal?new H({view:this.view,momentum:i,screenCenter:this._zoomCenterScreen,sceneCenter:this._beginScenePoint,radius:this._sphere[3]}):new T({view:this.view,momentum:i,zoomCenter:this._beginScenePoint});const e=this._rotationMomentumEstimator.evaluateMomentum();if(e)return new x({view:this.view,momentum:e,center:this._sphere,axis:this._rotationAxis});if(this._mode===U.Horizontal){const t=this._panSphericalMomentumEstimator.evaluateMomentum();if(t)return new R({view:this.view,momentum:t})}else{const t=this._panPlanarMomentumEstimator.evaluateMomentum();if(t)return new z({view:this.view,momentum:t})}return null}_preparePlanarPanMode(t,i){const e=c(this._tmp3d,this.startCamera.viewForward);S(this._scenePickPoint,e,this._panningPlane);const r=n(this._screenPickPoint[0],0),a=P(),m=p(this.startCamera.eye);this._adjustedSphere[3]=m<this._sphere[3]?m-100:this._sphere[3],Z(this._adjustedSphere,this.startCamera,r,a);const v=o();this.startCamera.projectToRenderScreen(a,v);const C=P(),M=P(),b=P();_(C,this._scenePickPoint,this.currentCamera.eye);const f=p(C);l(C,C);const j=N*Math.max(Math.abs(this.view.camera.position.z),B),E=this.view._stage.renderView.getMinimalDepthForArea(null,this._screenPickPoint[0],this._screenPickPoint[1],this.view.state.camera,G);let y=null!=E?E:j;y=i?Math.min(y,f):y,h(b,u(M,this.currentCamera.eye,d(M,C,y))),this._panningPlane[3]=-g(w(this._panningPlane),b),this.startCamera.center=u(M,this.startCamera.eye,d(M,this.startCamera.viewForward,y));const O=s(t.center,this._tmpScreenPointArray);V(this._panningPlane,this.startCamera,O,this._beginScenePoint)}_zoomSpherical(t){const i=this._beginRadius/t.radius,e=.001875*Math.min(Math.max(t.radius,40),120);this._smoothScaling.gain=e,this._smoothScaling.update(i),q(this._sphere,this.currentCamera,this._smoothScaling.value),s(t.center,this._zoomCenterScreen),this._zoomMomentumEstimator.add(this._smoothScaling.value,.001*t.timestamp),this._constraintOptions.interactionType=y.ZOOM,this._constraintOptions.interactionFactor=f(t.radius-this._beginRadius),j(this.view,this.currentCamera,this._constraintOptions)}_panningSpherical(t){const i=s(t.center,this._tmpScreenPointArray);Z(this._sphere,this.currentCamera,i,this._tmp3d),J(this._beginScenePoint,g(this.currentCamera.up,this._beginScenePoint),this._sphere[3],this._beginHeading,this.view.camera.tilt,this.startCamera)?(K(this._sphere,this.currentCamera,this._beginScenePoint,this._tmp3d,this._beginHeading,this.view.camera.tilt,!1),this._panSphericalMomentumEstimator.addMomentumPreserveHeading(i,this._tmp3d,.001*t.timestamp,this.startCamera,this._sphere,this._beginHeading,this.view.camera.tilt)):(Q(this._sphere,this.currentCamera,this._beginScenePoint,this._tmp3d,this.view.camera.tilt,!1),this._panSphericalMomentumEstimator.addMomentumDirectRotation(i,this._tmp3d,.001*t.timestamp,this.startCamera,this._sphere[3],this.view.camera.tilt)),this._constraintOptions.interactionType=y.PAN,this._constraintOptions.interactionFactor=f(m(this._screenPickPoint,i)),j(this.view,this.currentCamera,this._constraintOptions)}_rotateSpherical(t){l(this._rotationAxis,this._scenePickPoint),this.currentCamera.aboveGround||c(this._rotationAxis,this._rotationAxis);const i=this._smoothRotation.value,e=i+W(t.angle-i),n=.00125*Math.min(Math.max(t.radius,40),120);this._smoothRotation.gain=n,this._smoothRotation.update(e);const s=this._smoothRotation.value-this._beginAngle;this._rotationMomentumEstimator.add(s,.001*t.timestamp),X(this.currentCamera,this._sphere,C(this._rotationAxis,s)),this._constraintOptions.interactionType=y.TUMBLE,this._constraintOptions.interactionFactor=f(t.radius*e),j(this.view,this.currentCamera,this._constraintOptions)}_panningPlanar(t){const i=s(t.center,this._tmpScreenPointArray);V(this._panningPlane,this.currentCamera,i,this._tmp3d)&&(Y(this.currentCamera,this._beginScenePoint,this._tmp3d),this._panPlanarMomentumEstimator.add(i,this._tmp3d,.001*t.timestamp),this._constraintOptions.interactionType=y.PAN,this._constraintOptions.interactionFactor=f(m(this._beginScreenPoint,i)),this._constraintOptions.interactionDirection=this.view.renderCoordsHelper.worldUpAtPosition(this.currentCamera.eye,this._tmpInteractionDirection),j(this.view,this.currentCamera,this._constraintOptions),this._constraintOptions.interactionDirection=null)}_zoomPlanar(t){const i=this._beginRadius/t.radius,e=.001875*Math.min(Math.max(t.radius,40),120);this._smoothScaling.gain=e,this._smoothScaling.update(i),this._zoomMomentumEstimator.add(this._smoothScaling.value,.001*t.timestamp),$(this.currentCamera,this._beginScenePoint,this._smoothScaling.value,this.view.state.constraints.minimumPoiDistance),this._constraintOptions.interactionType=y.ZOOM,this._constraintOptions.interactionFactor=f(t.radius-this._beginRadius),j(this.view,this.currentCamera,this._constraintOptions)}_rotatePlanar(t){h(this._rotationAxis,this._beginScenePoint),this.currentCamera.aboveGround||c(this._rotationAxis,this._rotationAxis);const i=this._smoothRotation.value;let e=t.angle-i;e=W(e);const n=i+e,s=.00125*Math.min(Math.max(t.radius,40),120);this._smoothRotation.gain=s,this._smoothRotation.update(n);const o=this._smoothRotation.value-this._beginAngle;this._rotationMomentumEstimator.add(o,.001*t.timestamp),X(this.currentCamera,this._sphere,C(this._rotationAxis,o)),this._constraintOptions.interactionType=y.TUMBLE,this._constraintOptions.interactionFactor=f(t.radius*o),j(this.view,this.currentCamera,this._constraintOptions)}};ot=t([r(\"esri.views.3d.state.controllers.global.PinchAndPanController\")],ot);export{ot as PinchAndPanController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{asinClamped as i}from\"../../../../../core/mathUtils.js\";import{createScreenPointArray as e,screenPointObjectToArray as n}from\"../../../../../core/screenUtils.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Error.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{d as s}from\"../../../../../chunks/vec2.js\";import{o as r,c as a,e as m,b as h,l as c,n as l,g as p,a as _}from\"../../../../../chunks/vec3.js\";import{c as u,f as d}from\"../../../../../chunks/vec3f64.js\";import{wrapAxisAngle as C}from\"../../../../../geometry/support/axisAngle.js\";import{create as g,fromNormalAndOffset as M,setOffsetFromPoint as v,negate as b,normal as f}from\"../../../../../geometry/support/plane.js\";import{pixelDistanceToInteractionFactor as w,applyAll as j}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as E}from\"../../../camera/constraintUtils/ConstraintTypes.js\";import{InteractionType as P}from\"../../../camera/constraintUtils/InteractionType.js\";import{TiltMode as S}from\"../../../camera/constraintUtils/TiltMode.js\";import{ExponentialFalloff as V}from\"../../../input/util.js\";import{InteractiveController as z}from\"../InteractiveController.js\";import{PanPlanarMomentumController as H}from\"../momentum/PanPlanarMomentumController.js\";import{RotationMomentumController as O}from\"../momentum/RotationMomentumController.js\";import{ZoomPlanarMomentumController as y}from\"../momentum/ZoomPlanarMomentumController.js\";import{NavigationMode as T,contentIntersectorOptions as A,PAN_DISTANCE_MODIFIER as F,MIN_HEIGHT_LIMIT as L,SCREEN_PIXEL_AREA as U,centroid as x,applyZoomToPoint as R,applyPanPlanar as D,normalizeRotationDelta as N,applyRotation as k,intersectPlaneFromScreenPointAtEye as I}from\"../../utils/navigationUtils.js\";import{Camera as G}from\"../../../webgl-engine/lib/Camera.js\";import{PanPlanarMomentumEstimator as Z}from\"../../../../navigation/PanPlanarMomentumEstimator.js\";import{RotationMomentumEstimator as B}from\"../../../../navigation/RotationMomentumEstimator.js\";import{ZoomMomentumEstimator as W}from\"../../../../navigation/ZoomMomentumEstimator.js\";const q=d(0,0,1),J={ELEVATION_THRESHOLD:3e4,ANGLE_THRESHOLD:16/180*Math.PI};let K=class extends z{constructor(){super(...arguments),this._rotationValueSmooth=new V(.05),this._scalingValueSmooth=new V(.05),this._planeHorizontal=g(),this._planeVertical=g(),this._rotationMomentumEstimator=new B,this._panMomentumEstimator=new Z(300,12,.9),this._zoomMomentumEstimator=new W,this._beginRadius=0,this._beginCenter=u(),this._beginAngle=0,this._tmpPoints=[],this._panMode=T.Horizontal,this._beginCenterScreen=e(),this._tmpCentroid3d=u(),this._tmpCentroid2d=e(),this._tmp2d=e(),this._pointerCount=0,this._constraintOptions={selection:E.ALL,interactionType:P.NONE,interactionFactor:0,interactionStartCamera:new G,interactionDirection:null,tiltMode:S.TUMBLE}}begin(t){if(!this.active)return;const e=this.view.navigation.momentumEnabled;this._zoomMomentumEstimator.enabled=e,this._rotationMomentumEstimator.enabled=e,this._panMomentumEstimator.enabled=e,this._beginRadius=t.radius,this._pointerCount=t.pointers.size,this._beginAngle=t.angle,this._rotationValueSmooth.reset(),this._scalingValueSmooth.reset(),n(t.center,this._beginCenterScreen),M(q,0,this._planeHorizontal);const o=u(),s=this._intersectionHelper.intersectScreenFreePointFallback(this._beginCenterScreen,o,0===this.view.map.ground.opacity?A:{}),d=u();r(d,this.startCamera.viewForward);const C=u();a(C,q);const g=m(d,C),w=i(g<0?-g:g);this._panMode=w>=J.ANGLE_THRESHOLD?T.Horizontal:T.Vertical;const j=Math.min(F,1/Math.abs(m(C,this.startCamera.viewForward)))*Math.max(Math.abs(this.view.camera.position.z),L);v(this._planeHorizontal,this._planeHorizontal,o),this.startCamera.aboveGround||b(this._planeHorizontal,this._planeHorizontal);const E=u(),P=u(),S=u();h(E,o,this.currentCamera.eye);const V=c(E);if(l(E,E),this._panMode===T.Vertical){p(C,C,g),h(this._planeVertical,d,C),l(this._planeVertical,this._planeVertical),v(this._planeVertical,this._planeVertical,o);const i=this.view._stage.renderView.getMinimalDepthForArea(this.view.voxelWasm,this._beginCenterScreen[0],this._beginCenterScreen[1],this.view.state.camera,U);let e=null!=i?i:j;e=s?Math.min(e,V):e,a(S,_(P,this.currentCamera.eye,p(P,E,e))),this._planeVertical[3]=-m(this._planeVertical,S),this._computePlanePoints(t.pointers,this._planeVertical,this.startCamera,this._tmpPoints),x(this._tmpPoints,this._beginCenter)}else{const i=s?V:j;a(S,_(P,this.currentCamera.eye,p(P,E,i))),this._planeHorizontal[3]=-m(f(this._planeHorizontal),S),this._computePlanePoints(t.pointers,this._planeHorizontal,this.startCamera,this._tmpPoints),x(this._tmpPoints,this._beginCenter)}this._constraintOptions.interactionStartCamera?.copyFrom(this.startCamera)}update(t){if(!this.active)return;this.currentCamera.copyFrom(this.startCamera);const i=t.pointers.size>1,e=this._panMode===T.Horizontal?this._planeHorizontal:this._planeVertical,o=this._beginCenter;if(i){const i=this._beginRadius/t.radius,e=.001875*Math.min(Math.max(t.radius,40),120);this._scalingValueSmooth.gain=e,this._scalingValueSmooth.update(i),R(this.currentCamera,o,this._scalingValueSmooth.value,this.view.state.constraints.minimumPoiDistance),this._zoomMomentumEstimator.add(this._scalingValueSmooth.value,.001*t.timestamp),this._constraintOptions.interactionType=P.ZOOM,this._constraintOptions.interactionFactor=w(Math.abs(t.radius-this._beginRadius)),j(this.view,this.currentCamera,this._constraintOptions)}if(this._computePlanePoints(t.pointers,e,this.currentCamera,this._tmpPoints),x(this._tmpPoints,this._tmpCentroid3d),n(t.center,this._tmpCentroid2d),D(this.currentCamera,o,this._tmpCentroid3d),this._panMomentumEstimator.add(this._tmpCentroid2d,this._tmpCentroid3d,.001*t.timestamp),this._constraintOptions.interactionType=P.PAN,this._constraintOptions.interactionFactor=w(s(this._beginCenterScreen,this._tmpCentroid2d)),j(this.view,this.currentCamera,this._constraintOptions),i){const i=this._planeHorizontal,e=o,n=this._rotationValueSmooth.value,s=n+N(t.angle-n),r=.00125*Math.min(Math.max(t.radius,40),120);this._rotationValueSmooth.gain=r,this._rotationValueSmooth.update(s);const a=this._rotationValueSmooth.value-this._beginAngle;this._rotationMomentumEstimator.add(a,.001*t.timestamp),k(this.currentCamera,e,C(i,a)),this._constraintOptions.interactionType=P.TUMBLE,this._constraintOptions.interactionFactor=w(Math.abs(t.radius*a)),j(this.view,this.currentCamera,this._constraintOptions)}this.commitCamera()}end(t){t.pointers.size===this._pointerCount&&this.update(t),this.finishController();const i=this._zoomMomentumEstimator.evaluateMomentum();if(i)return new y({view:this.view,momentum:i,zoomCenter:this._beginCenter});const e=this._rotationMomentumEstimator.evaluateMomentum();if(e)return new O({view:this.view,momentum:e,center:this._beginCenter,axis:f(this._planeHorizontal)});const n=this._panMomentumEstimator.evaluateMomentum();return n?new H({view:this.view,momentum:n}):null}_computePlanePoints(t,i,e,n){n.length=t.size;const o=this._tmp2d;let s=0;return t.forEach((t=>{o[0]=t.x,o[1]=t.y,void 0===n[s]&&(n[s]=u()),I(i,e,o,n[s]),s+=1})),n}get _intersectionHelper(){return this.view.sceneIntersectionHelper}};K=t([o(\"esri.views.3d.state.controllers.local.PinchAndPanController\")],K);export{K as PinchAndPanController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{PinchAndPanController as t}from\"../../state/controllers/global/PinchAndPanController.js\";import{PinchAndPanController as e}from\"../../state/controllers/local/PinchAndPanController.js\";import{InputHandler as s}from\"../../../input/InputHandler.js\";import{eventMatchesMousePointerAction as r}from\"../../../input/handlers/support.js\";class i extends s{constructor(t,e,s){super(!0),this._view=t,this.pointerAction=e,this._lastEndTimestamp=0,this._lastTimestamp=0,this.registerIncoming(\"drag\",s,(t=>this._handleDrag(t)))}_handleDrag(t){if(\"mouse\"===t.data.pointerType&&!r(t.data,this.pointerAction))return;const e=t.timestamp-this._lastEndTimestamp,s=40,i=this._momentum&&this._momentum.active&&e<s;switch(t.data.action){case\"start\":case\"update\":if(i)break;this._controller&&this._controller.active?t.data.timestamp-this._lastTimestamp>2&&(this._controller.update(t.data),this._lastTimestamp=t.timestamp):this._startController(t);break;case\"end\":case\"removed\":this._endController(t,!0);break;case\"added\":this._endController(t,!1),this._startController(t)}t.stopPropagation()}_endController(t,e){if(this._controller&&this._controller.active){this._lastEndTimestamp=t.timestamp;const s=this._controller.end(t.data);e&&s&&(this._momentum=s,this._view.state.switchCameraController(this._momentum))}this._controller=null}_startController(t){this._controller=this._createController(),this._view.state.switchCameraController(this._controller),this._controller.begin(t.data),this._lastTimestamp=t.timestamp}_createController(){return this._view.state.isGlobal?new t({view:this._view}):new e({view:this._view})}}export{i as PinchAndPanNavigation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{InputHandler as t}from\"../../../input/InputHandler.js\";class e extends t{constructor(t,e){super(!0),this.view=t,this.registerIncoming(\"pointer-down\",e,(()=>this.view.state.stopActiveCameraController()))}}export{e as PointerDownCancelAnimation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{InputHandler as t}from\"../../../input/InputHandler.js\";class e extends t{constructor(t,e){super(!0),this.key=t,this.registerIncoming(\"key-down\",e,(t=>this._handleKeyDown(t)))}_handleKeyDown(t){t.data.key===this.key&&(this.activate(),t.stopPropagation())}}export{e as SingleKey};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{SingleKey as e}from\"./SingleKey.js\";class t extends e{constructor(e,t,i){super(t,i),this.view=e}activate(){this.view.goTo({heading:0}).catch((()=>{}))}}export{t as SingleKeyResetHeading};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{SingleKey as t}from\"./SingleKey.js\";class e extends t{constructor(t,e,i){super(e,i),this.view=t}activate(){this.view.goTo({tilt:0}).catch((()=>{}))}}export{e as SingleKeyResetTilt};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e}from\"../../../../core/screenUtils.js\";import{RotateController as t,PivotPoint as r}from\"../../state/controllers/RotateController.js\";import{InputHandler as a}from\"../../../input/InputHandler.js\";class o extends a{constructor(e,t=!1){super(!0),this._view=e,this._invert=t,this.registerIncoming(\"vertical-two-finger-drag\",(e=>this._handleTwoFinger(e)))}_handleTwoFinger(a){const o=this._invert?-1:1,i=e(0,a.data.delta*o);switch(a.data.action){case\"begin\":this._cameraController?.end(),this._cameraController=new t({view:this._view,pivot:r.CENTER}),this._view.state.switchCameraController(this._cameraController),this._cameraController.begin(i);break;case\"update\":this._cameraController?.update(i);break;case\"end\":this._cameraController?.end(),this._cameraController=null}}}export{o as TwoFingerTilt};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{DragEventSeparator as t}from\"../DragEventSeparator.js\";import{InputHandler as e}from\"../InputHandler.js\";class a extends e{constructor(e=20,a=40){super(!1),this._threshold=e,this._maxDelta=a,this._state=\"ready\",this._emittedArtificalEnd2=!1,this._vertical=this.registerOutgoing(\"vertical-two-finger-drag\"),this._artificalDrag=this.registerOutgoing(\"drag\"),this._dragEventSeparator=new t({start:(t,e)=>this._observeStart(t,e),update:(t,e,a)=>this._observeUpdate(t,e,a),end:(t,e)=>this._observeEnd(e)}),this.registerIncoming(\"drag\",(t=>this._dragEventSeparator.handle(t)))}get failed(){return\"failed\"===this._state}_observeStart(t,e){1===t&&this._emittedArtificalEnd2&&(this._emittedArtificalEnd2=!1,this._artificalDrag.emit({action:\"start\",button:e.data.button,buttons:e.data.buttons,pointerType:e.data.pointerType,timestamp:e.data.timestamp,pointers:e.data.pointers,pointer:e.data.pointer,angle:e.data.angle,radius:e.data.radius,center:e.data.center}),e.stopPropagation()),this._state=2===t?\"ready\":\"failed\"}_observeUpdate(t,e,a){if(\"failed\"!==this._state&&2===t)return\"active\"===this._state?(this._vertical.emit({delta:e.data.center.y-this._thresholdReachedCenter.y,action:\"update\"}),void e.stopPropagation()):void(this._checkMovementWithinLimits(e.data,a.data)?this._checkVerticalThresholdReached(e.data,a.data)&&(this._state=\"active\",this._emittedArtificalEnd2=!0,this._thresholdReachedCenter=e.data.center,this._artificalDrag.emit({action:\"end\",button:e.data.button,buttons:e.data.buttons,pointerType:e.data.pointerType,timestamp:e.data.timestamp,pointers:e.data.pointers,pointer:e.data.pointer,angle:e.data.angle,radius:e.data.radius,center:e.data.center}),this._vertical.emit({delta:e.data.center.y-this._thresholdReachedCenter.y,action:\"begin\"}),e.stopPropagation()):this._state=\"failed\")}_observeEnd(t){\"active\"===this._state&&(this._vertical.emit({delta:t.data.center.y-this._thresholdReachedCenter.y,action:\"end\"}),this._state=\"ready\",t.stopPropagation())}_checkMovementWithinLimits(t,e){let a=-1/0,i=1/0,r=-1/0,s=1/0;for(const{x:m,y:g}of e.pointers.values())a=Math.max(a,m),i=Math.min(i,m),r=Math.max(r,g),s=Math.min(s,g);let n=-1/0,h=1/0,d=-1/0,o=1/0;for(const{x:m,y:g}of t.pointers.values())n=Math.max(n,m),h=Math.min(h,m),d=Math.max(d,g),o=Math.min(o,g);const c=a-i,l=r-s,p=n-h,_=d-o;return Math.abs(t.center.x-e.center.x)<this._threshold&&Math.abs(p-c)<=this._maxDelta&&Math.abs(_-l)<=this._maxDelta}_checkVerticalThresholdReached(t,e){let a=Math.abs(t.center.y-e.center.y);return t.pointers.forEach(((t,i)=>{const r=e.pointers.get(i);a=Math.min(a,Math.abs(t.y-r.y))})),a>=this._threshold}}export{a as VerticalTwoFingerDrag};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import r from\"../../../core/Handles.js\";import{destroyMaybe as o}from\"../../../core/maybe.js\";import{watch as n,initial as i}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{DoubleClickZoom as p}from\"./handlers/DoubleClickZoom.js\";import{DragRotate as m}from\"./handlers/DragRotate.js\";import{DragZoom as d}from\"./handlers/DragZoom.js\";import{GamepadNavigation as c}from\"./handlers/GamepadNavigation.js\";import{KeyboardNavigation as l}from\"./handlers/KeyboardNavigation.js\";import{MouseWheelZoom as g}from\"./handlers/MouseWheelZoom.js\";import{PinchAndPanNavigation as u}from\"./handlers/PinchAndPanNavigation.js\";import{PointerDownCancelAnimation as h}from\"./handlers/PointerDownCancelAnimation.js\";import{SingleKeyResetHeading as w}from\"./handlers/SingleKeyResetHeading.js\";import{SingleKeyResetTilt as y}from\"./handlers/SingleKeyResetTilt.js\";import{TwoFingerTilt as _}from\"./handlers/TwoFingerTilt.js\";import{BrowserEventSource as f}from\"../../input/BrowserEventSource.js\";import{InputManager as D,ViewEventPriorities as j}from\"../../input/InputManager.js\";import{PreventContextMenu as v}from\"../../input/handlers/PreventContextMenu.js\";import{Drag as A}from\"../../input/recognizers/Drag.js\";import{ImmediateDoubleClick as M}from\"../../input/recognizers/ImmediateDoubleClick.js\";import{PointerClickHoldAndDrag as P}from\"../../input/recognizers/PointerClickHoldAndDrag.js\";import{SingleAndDoubleClick as T}from\"../../input/recognizers/SingleAndDoubleClick.js\";import{VerticalTwoFingerDrag as R}from\"../../input/recognizers/VerticalTwoFingerDrag.js\";import{PivotPoint as b}from\"../state/controllers/RotateController.js\";let z=class extends e{constructor(){super(...arguments),this._handles=new r}destroy(){this._handles=o(this._handles),this.disconnect()}get primaryDragAction(){return this._get(\"primaryDragAction\")}set primaryDragAction(t){\"pan\"!==t&&\"rotate\"!==t||t===this._get(\"primaryDragAction\")||(this._set(\"primaryDragAction\",t),this._updateMode())}get mode(){return this._get(\"mode\")}set mode(t){\"default\"!==t&&\"pro\"!==t||t===this._get(\"mode\")||(this._set(\"mode\",t),this._updateMode())}get updating(){return!!this._inputManager?.updating}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}disconnect(){this.view.viewEvents.disconnect(),this._inputManager=o(this._inputManager)}connect(){const t=this.view;this._source=new f(this.view.surface,t.input);const e=[new M,new P,new T,new A(this.view.navigation),new R],r=new D({eventSource:this._source,recognizers:e});this._inputManager=r,r.installHandlers(\"prevent-context-menu\",[new v],j.INTERNAL),this._modeDragPan=new u(t,\"primary\"),this._modeDragRotate=new m(t,\"secondary\",b.CENTER),this._modeDragZoom=new d(t,\"tertiary\");const o={lookAround:\"b\",pan:{left:\"ArrowLeft\",right:\"ArrowRight\",forward:\"ArrowUp\",backward:\"ArrowDown\",up:\"u\",down:\"j\",headingLeft:\"a\",headingRight:\"d\",tiltUp:\"w\",tiltDown:\"s\",zoomIn:\"+\",zoomOut:\"-\"},resetHeading:\"n\",resetTilt:\"p\"};r.installHandlers(\"navigation\",[new h(t),new p(t),new c(t),new l(t,o.pan),new g(t),new y(t,o.resetTilt),new w(t,o.resetHeading),new m(t,\"primary\",b.EYE,[o.lookAround]),new m(t,\"secondary\",b.CENTER,[o.lookAround]),new u(t,\"tertiary\",[o.lookAround]),this._modeDragRotate,this._modeDragZoom,this._modeDragPan,new _(t)],j.INTERNAL),this.view.viewEvents.connect(r),this._updateMode(),this._handles.add(n((()=>this.view.navigation?.browserTouchPanEnabled),(t=>{this._source.browserTouchPanningEnabled=!t}),i))}_updateMode(){const t=this.mode,e=this.primaryDragAction,r=E.get(t)?.get(e);r&&(this._modeDragPan&&(this._modeDragPan.pointerAction=r.pan),this._modeDragRotate&&(this._modeDragRotate.pointerAction=r.rotate),this._modeDragZoom&&(this._modeDragZoom.pointerAction=r.zoom))}get test(){return{inputManager:this._inputManager,modeDragPan:this._modeDragPan,modeDragRotate:this._modeDragRotate,modeDragZoom:this._modeDragZoom}}};t([a()],z.prototype,\"view\",void 0),t([a({value:\"pan\"})],z.prototype,\"primaryDragAction\",null),t([a({value:\"default\"})],z.prototype,\"mode\",null),t([a({readOnly:!0})],z.prototype,\"updating\",null),t([a()],z.prototype,\"latestPointerType\",null),t([a()],z.prototype,\"latestPointerLocation\",null),t([a()],z.prototype,\"multiTouchActive\",null),t([a()],z.prototype,\"_inputManager\",void 0),z=t([s(\"esri.views.3d.input.SceneInputManager\")],z);const E=new Map,k=new Map,C=new Map;k.set(\"pan\",{pan:\"primary\",rotate:\"secondary\",zoom:\"tertiary\"}),k.set(\"rotate\",{pan:\"secondary\",rotate:\"primary\",zoom:\"tertiary\"}),C.set(\"pan\",{pan:\"primary\",rotate:\"tertiary\",zoom:\"secondary\"}),C.set(\"rotate\",{pan:\"tertiary\",rotate:\"primary\",zoom:\"secondary\"}),E.set(\"default\",k),E.set(\"pro\",C);const N=z;export{N as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"../../support/debugFlags.js\";let e,n,i=!1,l=!1,o=!1,s=!1,a=null;function c(t,e){if(!l||!n)return;u();const i=n;let o=0;for(let n=0;n<t.accBinsNumX;n++)for(let e=0;e<t.accBinsNumY;e++){const l=t.accBins[n][t.accBinsNumY-1-e];o+=l.length;const s=n*t.accBinsSizeX,a=(n+1)*t.accBinsSizeX,c=e*t.accBinsSizeY,r=(e+1)*t.accBinsSizeY;i.fillText(l.length.toFixed(),s+5,c+15),h(s,a,c,r,\"blue\")}i.fillText(\"total totalShownLabels: \"+o,70,40),i.fillText(\"total visible labels: \"+e.size,70,50),i.fillText(\"total numTests: \"+t.accNumTests,70,30)}function r(n){o=t.DECONFLICTOR_SHOW_VISIBLE,s=t.DECONFLICTOR_SHOW_INVISIBLE,i=o||s,l=t.DECONFLICTOR_SHOW_GRID,a=null,i||l?a=()=>p(n):e&&(e.parentElement.removeChild(e),e=null)}function u(){a&&(a(),a=null)}function p(t){null==e&&(e=document.createElement(\"canvas\"),e.setAttribute(\"id\",\"debugCanvas2d\"),t.surface.parentElement.style.position=\"relative\",t.surface.parentElement.appendChild(e));const{state:i}=t,{camera:l,pixelRatio:o}=i,{width:s,height:a}=l,c=s*o,r=a*o;e.setAttribute(\"width\",`${c}px`),e.setAttribute(\"height\",`${r}px`),e.setAttribute(\"style\",`position:absolute;left:0px;top:0px;display:block;pointer-events:none;width:${s}px;height:${a}px`),n=e.getContext(\"2d\"),n.clearRect(0,0,s,a),n.font=\"12px Arial\"}function h(t,i,l,o,s){u();const a=e.height,c=n;c.beginPath(),c.lineWidth=1,c.strokeStyle=s,c.moveTo(t,a-l),c.lineTo(i,a-l),c.stroke(),c.lineTo(i,a-o),c.stroke(),c.lineTo(i,a-l),c.stroke(),c.lineTo(t,a-l),c.stroke(),c.lineTo(t,a-l),c.stroke(),c.closePath()}function f(t,e){i&&(e&&o||!e&&s)&&h(t.aabr[0],t.aabr[2],t.aabr[1],t.aabr[3],e?\"green\":\"red\")}export{c as drawAccelerationStruct,f as drawPoly,r as prepare};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{lerp as s}from\"../../../../core/mathUtils.js\";import e from\"../../../../core/PooledArray.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{p as a}from\"../../../../chunks/mat4.js\";import{c}from\"../../../../chunks/mat4f64.js\";import{a as n}from\"../../../../chunks/vec2f64.js\";import{m as l,g as h,s as p,c as u}from\"../../../../chunks/vec3.js\";import{Z as d,c as f}from\"../../../../chunks/vec3f64.js\";import{s as _,t as m,b as g}from\"../../../../chunks/vec4.js\";import{c as b}from\"../../../../chunks/vec4f64.js\";import{getReferenceEllipsoid as v}from\"../../../../geometry/ellipsoidUtils.js\";import{create as y,empty as G,offset as S,width as B,height as D,expand as w,intersects as N}from\"../../../../geometry/support/aaBoundingRect.js\";import{a as j,c as I,e as V}from\"../../../../chunks/boundedPlane.js\";import{create as C}from\"../../../../geometry/support/ray.js\";import{d as P,g as A,i as O,c as M}from\"../../../../chunks/sphere.js\";import{drawAccelerationStruct as x,prepare as z,drawPoly as E}from\"./deconflictorDebug.js\";import{VisibilityGroup as T,VisibilityFlag as X}from\"./enums.js\";import{Camera as F}from\"../../webgl-engine/lib/Camera.js\";import{applyPrecomputedScaleFactor as L}from\"../../webgl-engine/lib/screenSizePerspectiveUtils.js\";import{VertexAttribute as Y}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HUDMaterial as k}from\"../../webgl-engine/materials/HUDMaterial.js\";import{ScaleInfo as R}from\"../../webgl-engine/materials/ScaleInfo.js\";const U=f(),W=b(),H=b(),Z=f(),q=c(),J=M(),K=C(),Q=f(),$=y();class ii{constructor(){this.aabr=y(),this.distance=0,this.culled=!1,this.visible=!1}}class ti{constructor(i,t){this.graphics3DGraphic=i,this.slicePlaneEnabled=t,this.info={}}}var si;!function(i){i[i.Idle=0]=\"Idle\",i[i.Process=1]=\"Process\",i[i.Sort=2]=\"Sort\",i[i.Deconflict=3]=\"Deconflict\",i[i.NumStates=4]=\"NumStates\"}(si||(si={}));class ei{constructor(){this.camera=new F,this.slicePlane=j(),this.slicePlaneEnabled=!1}copyFrom(i){this.camera.copyFrom(i.camera),I(i.slicePlane,this.slicePlane),this.slicePlaneEnabled=i.slicePlaneEnabled}}let ri=class extends t{get dirty(){return this._dirty}get state(){return this._state}constructor(i){super(i),this._dirty=!1,this._runningViewState=new ei,this._state=si.Idle,this._active=new Map,this._visible=new Map,this._iterators=new li,this._accBinsNumX=15,this._accBinsNumY=20,this._accBinsSizeX=0,this._accBinsSizeY=0,this._accBins=null,this.accNumTests=0}destroy(){this._active.clear(),this._visible.clear(),this._iterators=null}setDirty(){!this._dirty&&this._active.size>0&&(this._dirty=!0,this.notifyChange(\"updating\"))}get updating(){return this._state!==si.Idle||this._dirty}get updatingProgress(){if(!this.updating)return 1;const i=this._state/si.NumStates;return this._dirty?.5*i:i}get running(){return this.view.ready&&null!=this.view.state&&this.updating}runTask(i){switch(this._state){case si.Idle:this._startUpdate(),i.madeProgress();case si.Process:if(this._state=si.Process,!this._processActiveGraphics(i))return;case si.Sort:if(this._state=si.Sort,!this._sortVisibleGraphics(i))return;case si.Deconflict:if(this._state=si.Deconflict,!this._deconflictVisibleGraphics(i))return;default:x(this,this._visible),this._state=si.Idle,this.notifyChange(\"updating\")}}modifyGraphics(i,t){t?i.forEach((i=>this.addToActiveGraphics(i))):i.forEach((i=>this.removeFromActiveGraphics(i))),this.setDirty()}layerSupportsDeconfliction(i){if(null==i||\"object3d\"!==i.type)return!1;const t=i.stageObject;if(1!==(t?t.geometries.length:0))return!1;const s=t?.geometries[0],e=s?.material;return e instanceof k}_startUpdate(){z(this.view),this._dirty=!1,this._runningViewState.copyFrom(this.viewState);const{fullWidth:i,fullHeight:t}=this._runningViewState.camera;this._initBins(i,t),this._resetIterators()}addToActiveGraphics(i){i.info[this.visibilityGroup]=new ii,this._active.set(i.graphics3DGraphic.graphic.uid,i),this.setDirty()}removeFromActiveGraphics(i){this._visible.delete(i.graphics3DGraphic.graphic.uid),oi(i,this.visibilityGroup),delete i.info[this.visibilityGroup],this._active.delete(i.graphics3DGraphic.graphic.uid),this.setDirty()}_processActiveGraphics(i){const t=this._ensureActiveGraphicsIterator(),s=a(q,this._runningViewState.camera.projectionMatrix),e=\"global\"===this.view.viewingMode&&1===this.view.map.ground.opacity&&this._runningViewState.camera.relativeElevation>0?J:null;let r=0;for(null!=e&&(l(e,d,this._runningViewState.camera.viewMatrix),e[3]=v(this.view.spatialReference).radius,r=P(e,d));!i.done;){i.madeProgress();const o=t.next();if(!0===o.done)return this._resetActiveGraphicsIterator(),!0;const a=o.value,c=a&&a.info[this.visibilityGroup];c&&(this._collectGraphics3DGraphics(a,s,e,r),c.culled?this._visible.delete(a.graphics3DGraphic.graphic.uid):this._visible.set(a.graphics3DGraphic.graphic.uid,a))}return!1}_sortVisibleGraphics(i){const t=this._ensureSortGraphicsIterator();for(;!i.done;){const s=t.next();if(i.madeProgress(),!0===s.done)return this._resetSortGraphicsIterator(),!0}return!1}_deconflictVisibleGraphics(i){const t=this._ensureVisibleGraphicsIterator(),s=this.visibilityGroup===T.LABEL;for(;!i.done;){i.madeProgress();const e=t.next();if(!0===e.done)return this._resetVisibleGraphicsIterator(),!0;const r=e.value,o=r.info[this.visibilityGroup];if(!o||o.culled)continue;const a=r.graphics3DGraphic,c=!s||a.isVisible();o.visible=c&&!this._isConflicted(r),o.visible&&this._addToBins(r),this._setGraphicVisibility(r,o.visible),E(o,o.visible)}return!1}_resetIterators(){this._iterators.active=null,this._iterators.visible=null,this._iterators.sort=null}_ensureActiveGraphicsIterator(){return this._iterators.active||(this._iterators.active=ai(this._active)),this._iterators.active}_resetActiveGraphicsIterator(){this._iterators.active=null}_ensureVisibleGraphicsIterator(){return this._iterators.visible||(this._iterators.visible=ai(this._visible)),this._iterators.visible}_resetVisibleGraphicsIterator(){this._iterators.visible=null}_ensureSortGraphicsIterator(){return this._iterators.sort||(this._iterators.sort=ci(this._visible,this._iterators.sortArray,this.visibilityGroup)),this._iterators.sort}_resetSortGraphicsIterator(){this._iterators.sort=null}_collectGraphics3DGraphics(i,t,s,e){const r=i.graphics3DGraphic;if(r.destroyed)return;const o=i.info[this.visibilityGroup];if(!r.isVisible(T.GRAPHIC,X.DECONFLICTION))return void(o.culled=!0);const a=this.getGraphicsLayers(r);G(o.aabr);let c=null;for(const n of a){if(!this.layerSupportsDeconfliction(n))continue;const r=n.stageObject.geometries[0].material;if(null==c&&(c=ui,this._getProjectionInfo(n,t,c),c.isOutsideScreen||this._isCulledBySlice(i,U)||null!=s&&this._isCulledByHorizon(c,s,e)))return void(o.culled=!0);this._expandBoundingRect(o,n,r,c)}null==c?o.culled=!0:(o.distance=c.distance,o.culled=!1)}_getProjectionInfo(i,t,s){const e=this._runningViewState.camera,r=i.stageObject,o=r.geometries[0],a=o.material,c=A(r.boundingVolumeWorldSpace.bounds);l(U,c,e.viewMatrix);const n=o.vertexAttributes,u=n.get(Y.NORMAL).data,d=n.get(Y.AUXPOS1).data;a.applyShaderOffsetsView(U,u,r.transformation,d,e,s.scaleInfo,U),_(W,U[0],U[1],U[2],1),m(H,W,e.projectionMatrix),h(s.positionNDC,H,1/H[3]),a.applyShaderOffsetsNDC(s.positionNDC,d,e,s.positionNDC,Z),s.distanceWithoutPolygonOffset=e.depthNDCToWorld(Z[2]),s.distance=Z[2]===s.positionNDC[2]?s.distanceWithoutPolygonOffset:e.depthNDCToWorld(s.positionNDC[2]),_(H,s.positionNDC[0],s.positionNDC[1],s.positionNDC[2],1),m(W,H,t),g(W,W,1/W[3]),p(s.positionView,U[0],U[1],U[2])}_isCulledByHorizon(i,t,s){return u(K.direction,i.positionView),p(K.origin,0,0,0),!!O(t,K,Q)&&i.distanceWithoutPolygonOffset>s}_isCulledBySlice(i,t){return i.slicePlaneEnabled&&this._runningViewState.slicePlaneEnabled&&V(this._runningViewState.slicePlane,t)}_expandBoundingRect(i,t,e,{positionNDC:r,scaleInfo:o}){const a=this._runningViewState.camera,c=t.getScreenSize(hi);L(c,o.factor,c),c[0]*=a.pixelRatio,c[1]*=a.pixelRatio;const n=S(e.calculateRelativeScreenBounds(c,o.factorAlignment.scale,$),s(0,a.fullWidth,.5+.5*r[0]),s(0,a.fullHeight,.5+.5*r[1])),l=this.iconMarginFactor;if(0!==l){const i=l*Math.min(B(n),D(n));n[0]-=i,n[1]-=i,n[2]+=i,n[3]+=i}w(i.aabr,n,i.aabr)}_isConflicted(i){const t=i.graphics3DGraphic.graphic.uid,s=i.info[this.visibilityGroup];for(let e=Math.floor(s.aabr[0]/this._accBinsSizeX);e<=Math.floor(s.aabr[2]/this._accBinsSizeX);e++)if(!(e<0||e>=this._accBinsNumX))for(let i=Math.floor(s.aabr[1]/this._accBinsSizeY);i<=Math.floor(s.aabr[3]/this._accBinsSizeY);i++){if(i<0||i>=this._accBinsNumY)continue;const r=this._accBins[e][i];for(let i=0;i<r.length;i++){const e=r.data[i],o=e.info[this.visibilityGroup];if(o&&o.visible&&e.graphics3DGraphic.graphic.uid!==t&&(this.accNumTests++,N(o.aabr,s.aabr)))return!0}}return!1}_initBins(i,t){if(null==this._accBins){this._accBins=[];for(let i=0;i<this._accBinsNumX;i++){this._accBins.push([]);const i=this._accBins[this._accBins.length-1];for(let t=0;t<this._accBinsNumY;t++)i.push(new e)}}else for(let s=0;s<this._accBinsNumX;s++)for(let i=0;i<this._accBinsNumY;i++)this._accBins[s][i].clear();this._accBinsSizeX=i/this._accBinsNumX,this._accBinsSizeY=t/this._accBinsNumY,this.accNumTests=0}_addToBins(i){const t=i.info[this.visibilityGroup],s=Math.floor(t.aabr[0]/this._accBinsSizeX),e=Math.floor(t.aabr[2]/this._accBinsSizeX),r=Math.floor(t.aabr[1]/this._accBinsSizeY),o=Math.floor(t.aabr[3]/this._accBinsSizeY);for(let a=s;a<=e;a++)if(!(a<0||a>=this._accBinsNumX))for(let t=r;t<=o;t++)t<0||t>=this._accBinsNumY||this._accBins[a][t].push(i)}_setGraphicVisibility(i,t){const s=i.graphics3DGraphic;s.destroyed||(s.setVisibilityFlag(this.visibilityGroup,X.DECONFLICTION,t),this.visibilityGroup===T.LABEL&&this.view.labeler.setLabelGraphicVisibility(s,t))}};function oi(i,t){const s=i.graphics3DGraphic;s.destroyed||s.setVisibilityFlag(t,X.DECONFLICTION,!0)}function*ai(i){if(Map.prototype.entries){const t=i.entries();for(let i=t.next();!i.done;i=t.next())yield i.value[1]}else yield*i.values()}function*ci(i,t,s){t.clear(),i.forEach(((i,e)=>{const r=t.pushNew();r.id=e,r.visible=i.graphics3DGraphic.getVisibilityFlag(s,X.DECONFLICTION);const o=i.info&&i.info[s];r.prio=i.graphics3DGraphic.deconflictionPriority,r.distance=o?o.distance:Number.MAX_VALUE})),yield;const e=t.iterableSort(((i,t)=>i.prio!==t.prio?t.prio-i.prio:i.distance!==t.distance?i.distance-t.distance:i.visible!==t.visible?i.visible?-1:1:i.id-t.id));for(let r=e.next();!r.done;r=e.next())yield;t.forAll((t=>{const s=i.get(t.id);s&&(i.delete(t.id),i.set(t.id,s))})),t.clear()}i([r({constructOnly:!0})],ri.prototype,\"view\",void 0),i([r({type:Boolean,readOnly:!0})],ri.prototype,\"updating\",null),ri=i([o(\"esri.views.3d.layers.graphics.Deconflictor\")],ri);class ni{constructor(){this.id=0,this.visible=!1,this.prio=0,this.distance=0}}class li{constructor(i=null,t=null,s=null){this.active=i,this.visible=t,this.sort=s,this.sortArray=new e({allocator:i=>i||new ni})}}const hi=n();class pi{constructor(){this.positionView=f(),this.positionNDC=f(),this.distance=0,this.distanceWithoutPolygonOffset=0,this.scaleInfo=new R}get isOutsideScreen(){const i=this.positionNDC;return i[0]<-1||i[1]<-1||i[2]<-1||i[0]>=1||i[1]>=1}}const ui=new pi;export{ri as Deconflictor,ti as DeconflictorGraphic,ei as DeconflictorViewState,si as State};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{Deconflictor as e,State as o}from\"./Deconflictor.js\";import{VisibilityGroup as i}from\"./enums.js\";import{RenderState as a}from\"../../../support/RenderState.js\";import{Task as c}from\"../../../support/Scheduler.js\";const n=2e3;let p=class extends e{constructor(r){super(r),this.visibilityGroup=i.LABEL,this.iconMarginFactor=0,this._lastDeconfliction=0}get viewState(){return this.parent.viewState}runTask(r){if(this.parent.running)return c.YIELD;const t=performance.now();if(r.state!==a.IDLE&&t-this._lastDeconfliction<n)return c.YIELD;super.runTask(r),this.state===o.Idle&&(this._lastDeconfliction=t)}enabledChanged(r,t){this.modifyGraphics(t,r.labelsEnabled)}getGraphicsLayers(r){return r.labelLayers}};r([t({constructOnly:!0})],p.prototype,\"parent\",void 0),p=r([s(\"esri.views.3d.layers.graphics.LabelDeconflictor\")],p);export{p as LabelDeconflictor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Handles.js\";import{someMap as i}from\"../../../../core/MapUtils.js\";import{watch as s,initial as r}from\"../../../../core/reactiveUtils.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Error.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{t as n}from\"../../../../chunks/boundedPlane.js\";import{Deconflictor as o,DeconflictorViewState as c,DeconflictorGraphic as l}from\"./Deconflictor.js\";import{VisibilityGroup as h,VisibilityFlag as p}from\"./enums.js\";import{LabelDeconflictor as d}from\"./LabelDeconflictor.js\";import{TaskPriority as u}from\"../../../support/Scheduler.js\";let _=class extends o{constructor(){super(...arguments),this._handles=new t,this._contexts=new Map,this._viewState=new c,this.visibilityGroup=h.GRAPHIC,this._iconMarginFactor=-.1}get labels(){return this._labels}get viewState(){return this._viewState}initialize(){this._handles.add([s((()=>this.view?.state?.camera),(()=>{this._updateViewState(),this.setDirty()})),s((()=>this.view?.map?.ground?.opacity),((e,t)=>{1!==e&&1!==t||this.setDirty()})),s((()=>this.view?.slicePlane),(()=>{this._updateSlicePlane(),this._slicePlaneChanged()}),r)]),this._frameTask=this.view.resourceController.scheduler.registerTask(u.GRAPHICS_DECONFLICTOR,this),this._labels=new d({view:this.view,parent:this})}destroy(){this._labels.destroy(),this._labels=null,this._handles.destroy(),this._handles=null,this._frameTask&&(this._frameTask.remove(),this._frameTask=null)}get iconMarginFactor(){return this._iconMarginFactor}set iconMarginFactor(e){this._iconMarginFactor=e,this.setDirty()}setDirty(){this._contexts.size>0&&(super.setDirty(),this._labels.setDirty())}runTask(e){super.runTask(e),this.running||this._labels.setDirty()}setInitialIconVisibilityFlag(e,t){const i=!(this._graphicSupportsDeconfliction(t)&&m(e));t.setVisibilityFlag(h.GRAPHIC,p.DECONFLICTION,i)}_updateViewState(){this.view&&this.view.state&&(this._viewState.camera.copyFrom(this.view.state.camera),this._updateSlicePlane())}_updateSlicePlane(){const e=this.view?this.view.slicePlane:null;null!=e&&n(e,this._viewState.camera.viewMatrix,this._viewState.slicePlane),this._viewState.slicePlaneEnabled=null!=e}_slicePlaneChanged(){i(this._contexts,((e,t)=>t.symbolCreationContext.slicePlaneEnabled))&&this.setDirty()}addGraphicsOwner(e){const t=this._getGraphicsContext(e);return{addGraphic:i=>this._addGraphic(e,t,i),removeGraphic:e=>this._removeGraphic(t,e),labelingInfoChange:()=>this._labels.enabledChanged(e,t),featureReductionChange:()=>this.enabledChanged(e,t),slicePlaneEnabledChange:()=>this._slicePlaneEnabledChanged(e,t),clear:()=>t.forEach((e=>this._removeGraphic(t,e.graphics3DGraphic)))}}removeGraphicsOwner(e){const t=this._contexts.get(e);t&&(t.forEach((e=>this._removeGraphic(t,e.graphics3DGraphic))),this._contexts.delete(e),this.setDirty())}_addGraphic(e,t,i){const s=i.graphic.uid,r=new l(i,e.symbolCreationContext.slicePlaneEnabled);t.set(s,r),m(e)&&this.addToActiveGraphics(r),e.labelsEnabled&&this._labels.addToActiveGraphics(r)}_removeGraphic(e,t){const i=t.graphic.uid,s=e.get(i);s&&(this.removeFromActiveGraphics(s),this._labels.removeFromActiveGraphics(s),e.delete(i),this.setDirty())}enabledChanged(e,t){const i=m(e);i||g(e),this.modifyGraphics(t,i)}_slicePlaneEnabledChanged(e,t){const i=e.symbolCreationContext.slicePlaneEnabled;t.forEach((e=>e.slicePlaneEnabled=i)),this.setDirty()}getGraphicsLayers(e){return e.layers}_graphicSupportsDeconfliction(e){if(e.isDraped)return!1;const t=e.layers;if(!t||!t.length)return!1;for(const i of t)if(this.layerSupportsDeconfliction(i))return!0;return!1}_getGraphicsContext(e){const t=this._contexts.get(e);if(t)return t;const i=new Map;return this._contexts.set(e,i),this.setDirty(),i}};function m(e){const t=e.layer;return!(!t||!t.featureReduction||\"selection\"!==t.featureReduction.type)}function g(e){const t=e.graphics3DGraphics;t&&t.forEach((e=>e.setVisibilityFlag(h.GRAPHIC,p.DECONFLICTION,!0)))}_=e([a(\"esri.views.3d.layers.graphics.GraphicsDeconflictor\")],_);export{_ as GraphicsDeconflictor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{acosClamped as e}from\"../../../../core/mathUtils.js\";import t from\"../../../../core/ObjectPool.js\";import{b as i,g as s,a as r,o as n,e as o}from\"../../../../chunks/vec3.js\";import{c as a}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as u}from\"../../../../geometry/ellipsoidUtils.js\";import{PointIndex as l,PlaneIndex as d}from\"../../../../geometry/support/frustum.js\";import{create as _,projectVector as c,fromPoints as h,normal as m}from\"../../../../geometry/support/plane.js\";import{wrap as T}from\"../../../../geometry/support/ray.js\";import{ViewingMode as p}from\"../../../ViewingMode.js\";import{FeatureTileDescriptor3D as E,Visibility as I}from\"./FeatureTileDescriptor3D.js\";import{Frustum as F}from\"../../state/Frustum.js\";import{FrustumExtentIntersection as f}from\"../../support/FrustumExtentIntersection.js\";class A{constructor(e){this._renderCoordsHelper=e,this._surfaceElevation=0,this._cache=new Map,this._frustum=new F(e),this._extendedFrustum=new F(e),this._intersector=new f({renderCoordsHelper:e}),this._renderCoordsHelper=e}begin(e,t){this._surfaceElevation=t,this._aboveGround=this._renderCoordsHelper.getAltitude(e.eye)>t,this._frustum.update(e),this._shortenFrustumFarPlane(this._frustum),this._updateExtendedFrustum(e)}end(){this._cache.clear()}calculate(e){if(this._allTilesInvisible)return I.INVISIBLE;const t=this._renderCoordsHelper.viewingMode===p.Global&&e.lij[0]>=R&&e.lij[0]<O,i=this._getOrCalculateSingleTileVisibility(e,!t);return i!==I.INVISIBLE&&t?this._calculateAggregatedChildrenVisibility(e):i}_shortenFrustumFarPlane(e){const t=F.nearFarLineIndices,n=e.mutablePoints;for(const o of t){const[e,t]=o,a=n[e],u=n[t];i(S,u,a),s(S,S,b),r(n[t],a,S)}e.updatePoints(n)}_calculateAggregatedChildrenVisibility(e){let t=I.INVISIBLE;const i=this._cache.get(e.id);if(null!=i)return i;const s=H.acquire();e.getChildren(s);for(const r of s){const e=this.calculate(r);if(e!==I.INVISIBLE&&(t=e,e===I.VISIBLE_ON_SURFACE))break}return H.release(s),this._cache.set(e.id,t),t}_getOrCalculateSingleTileVisibility(e,t){const i=this._cache.get(e.id);if(null!=i)return i;const s=this._calculateSingleTileVisibility(e);return t&&this._cache.set(e.id,s),s}_calculateSingleTileVisibility(e){if(!this._aboveGround&&this._renderCoordsHelper.viewingMode===p.Global&&e.lij[0]<g){return this._calculateSingleTileVisibilitySided(e,!1)===I.INVISIBLE?this._calculateSingleTileVisibilitySided(e,!0):void 0}return this._calculateSingleTileVisibilitySided(e,this._aboveGround)}_calculateSingleTileVisibilitySided(e,t){this._intersector.update(e.extent,e.tilingScheme.spatialReference,this._surfaceElevation,t);const i=u(e.tilingScheme.spatialReference).radius;return this._intersector.isVisibleInFrustum(this._extendedFrustum,i)?this._intersector.isVisibleInFrustum(this._frustum,i,!0)?I.VISIBLE_ON_SURFACE:I.VISIBLE_WHEN_EXTENDED:I.INVISIBLE}_updateExtendedFrustum(t){this._extendedFrustum.update(t),this._shortenFrustumFarPlane(this._extendedFrustum);const i=this._renderCoordsHelper.worldUpAtPosition(t.eye,S);this._aboveGround||n(i,i);const r=e(-o(i,t.viewForward));if(this._allTilesInvisible=r>(Math.PI+t.fovY)/2,this._allTilesInvisible)return;if(this._hasExtendedFrustum=r>t.fovY/2,!this._hasExtendedFrustum)return;const a=this._extendedFrustumParameters(),u=this._extendedFrustum.mutablePoints;for(let e=0;e<4;e++){const t=a.pointIndices[e],i=u[t],r=this._renderCoordsHelper.getAltitude(i);if(a.needsAltitudeAdjustment(r)){switch(this._renderCoordsHelper.worldUpAtPosition(i,S),t){case l.FAR_BOTTOM_LEFT:case l.FAR_TOP_LEFT:case l.NEAR_BOTTOM_LEFT:case l.NEAR_TOP_LEFT:c(this._extendedFrustum.planes[d.LEFT],S,S);break;case l.FAR_BOTTOM_RIGHT:case l.FAR_TOP_RIGHT:case l.NEAR_BOTTOM_RIGHT:case l.NEAR_TOP_RIGHT:c(this._extendedFrustum.planes[d.RIGHT],S,S)}s(S,S,a.direction),this._renderCoordsHelper.intersectInfiniteManifold(T(i,S),a.zWithMargin,i)}}if(this._extendedFrustum.updatePoints(u),h(u[l.NEAR_BOTTOM_LEFT],u[l.NEAR_BOTTOM_RIGHT],u[l.NEAR_TOP_RIGHT],N),h(u[l.NEAR_BOTTOM_RIGHT],u[l.NEAR_TOP_RIGHT],u[l.NEAR_TOP_LEFT],v),o(m(N),m(v))<0){const e=this._extendedFrustum.mutablePoints;this._aboveGround?[e[l.NEAR_BOTTOM_LEFT],e[l.NEAR_BOTTOM_RIGHT]]=[e[l.NEAR_BOTTOM_RIGHT],e[l.NEAR_BOTTOM_LEFT]]:[e[l.NEAR_TOP_LEFT],e[l.NEAR_TOP_RIGHT]]=[e[l.NEAR_TOP_RIGHT],e[l.NEAR_TOP_LEFT]],this._extendedFrustum.updatePoints(e)}}_extendedFrustumParameters(){return this._aboveGround?this._extendedFrustumParametersAboveSurface():this._extendedFrustumParametersBelowSurface()}_extendedFrustumParametersAboveSurface(){const e=this._surfaceElevation-P;return{zWithMargin:e,pointIndices:F.planePointIndices.bottom,direction:-1,needsAltitudeAdjustment:t=>t>e}}_extendedFrustumParametersBelowSurface(){const e=this._surfaceElevation+P;return{zWithMargin:e,pointIndices:F.planePointIndices.top,direction:1,needsAltitudeAdjustment:t=>t<e}}}const R=2,O=6,g=12,b=.95,P=1,S=a(),N=_(),v=_(),H=new t(Array,(e=>{4!==e.length&&(e[0]=new E,e[1]=new E,e[2]=new E,e[3]=new E)}),(e=>{e[0].release(),e[1].release(),e[2].release(),e[3].release()}));export{A as FeatureTileVisibility3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e,createRenderScreenPointArray3 as t}from\"../../../../core/screenUtils.js\";import{g as i,a as r}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{create as o,fromValues as n,distance as a,empty as c,expandPointInPlace as l,expand as h}from\"../../../../geometry/support/aaBoundingRect.js\";import{PlaneIndex as m}from\"../../../../geometry/support/frustum.js\";import{signedDistance as _,normal as u}from\"../../../../geometry/support/plane.js\";import{areaPoints2d as p}from\"../../../../geometry/support/triangle.js\";import{Visibility as d}from\"./FeatureTileDescriptor3D.js\";import{FeatureTileVisibility3D as f}from\"./FeatureTileVisibility3D.js\";import{Camera as S}from\"../../webgl-engine/lib/Camera.js\";class j{constructor(e){this._camera=new S,this._focusOnMap=[0,0],this._screenRect=o(),this._tileSize=e.tileSize,this._renderCoordsHelper=e.renderCoordsHelper,this._tilingScheme=e.tilingScheme,this._visibility=new f(e.renderCoordsHelper)}begin(e,t,i){this._camera.copyFrom(e),this._surfaceElevation=i,this._focusOnMap[0]=t.x,this._focusOnMap[1]=t.y,n(0,0,e.fullWidth,e.fullHeight,this._screenRect),this._visibility.begin(this._camera,i)}end(){this._visibility.end()}updateTile(e){e.measures.visibility=this._visibility.calculate(e),e.measures.distance=a(e.extent,this._focusOnMap),e.measures.visibility!==d.INVISIBLE&&this._updateScreenMeasure(e)}_updateScreenMeasure(e){const t=T,i=1<<t,r=e.measures.screenRect;c(r);let s=0;const o=e.lij[0]+t,n=e.lij[1]<<t,a=e.lij[2]<<t,l=this._tileSizeWithBias(e),h=l*l;for(let c=0;c<i;c++)for(let t=0;t<i;t++)if(s+=this._computeScreenArea(e,o,n+c,a+t,r),s>h)return void(e.measures.shouldSplit=!0);e.measures.shouldSplit=!1}_tileSizeWithBias(e){return e.measures.visibility===d.VISIBLE_WHEN_EXTENDED?this._tileSize*y:this._tileSize}_computeScreenArea(e,t,i,r,s){const o=e.measures.visibility===d.VISIBLE_WHEN_EXTENDED;this._projectToScreen(t,i,r,o,E),c(g);for(let n=0;n<4;n++)l(g,E[n]);return h(s,g,s),p(E[0],E[1],E[2])+p(E[0],E[2],E[3])}_projectToScreen(e,t,i,r,s){this._tilingScheme.ensureMaxLod(e),this._tilingScheme.getExtent(e,t,i,b),this._toRenderCoords(b,0,3,R[0]),this._toRenderCoords(b,2,3,R[1]),this._toRenderCoords(b,2,1,R[2]),this._toRenderCoords(b,0,1,R[3]),r&&(this._projectToPlane(R,this._camera.frustum[m.NEAR]),this._projectToPlane(R,this._camera.frustum[m.TOP]),this._projectToPlane(R,this._camera.frustum[m.BOTTOM]));for(let o=0;o<4;o++)this._camera.projectToRenderScreen(R[o],M),this._camera.renderToScreen(M,s[o])}_projectToPlane(e,t){for(let i=0;i<4;i++)C[i]=_(t,e[i]);const s=Math.max(C[0],C[1],C[2],C[3]);if(s>0){const o=i(v,u(t),-s);for(let t=0;t<4;t++)r(e[t],e[t],o)}}_toRenderCoords(e,t,i,r){return v[0]=e[t],v[1]=e[i],v[2]=this._surfaceElevation,this._renderCoordsHelper.toRenderCoords(v,this._tilingScheme.spatialReference,r),r}}const g=o(),T=2,y=5,E=[e(),e(),e(),e()],b=o(),v=s(),R=[s(),s(),s(),s()],C=[0,0,0,0],M=t();export{j as FeatureTileMeasurements3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Collection.js\";import s from\"../../../../core/Handles.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import n from\"../../../../core/Logger.js\";import{removeMaybe as o,destroyMaybe as l}from\"../../../../core/maybe.js\";import h from\"../../../../core/PooledArray.js\";import{watch as a,sync as c,syncAndInitial as u}from\"../../../../core/reactiveUtils.js\";import{property as d}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as _,empty as m,expand as f,height as g,intersects as T}from\"../../../../geometry/support/aaBoundingRect.js\";import{FeatureTileDescriptor3D as y,Visibility as S}from\"./FeatureTileDescriptor3D.js\";import{FeatureTileMeasurements3D as E}from\"./FeatureTileMeasurements3D.js\";import{toBoundingRect as v}from\"../../support/extentUtils.js\";import{TaskPriority as w,noBudget as R}from\"../../../support/Scheduler.js\";let x=class extends t{get tilingScheme(){const e=this.tilingSchemeOwner.tilingScheme;if(!e)return null;return e.clone()}set filterExtent(e){if(null!=e&&!e.spatialReference.equals(this.viewState.spatialReference))return void n.getLogger(this).error(\"#extent\",\"extent spatial reference needs to be in the same spatial reference as the view\");const t=this._get(\"filterExtent\");if(t===e||null!=t&&e&&t.equals(e))return;const i=null!=e?e.clone():null;this._set(\"filterExtent\",i),this._setDirty()}get _filterExtentRect(){if(null==this.filterExtent)return null;const e=_();return v(this.filterExtent,e,this.tilingScheme.spatialReference),e}get _rootTileIds(){const{tilingScheme:e}=this;return this._filterExtentRect&&e?e.rootTilesInExtent(this._filterExtentRect):[[0,0,0]]}set suspended(e){e!==this._get(\"suspended\")&&(this._set(\"suspended\",e),this._setDirty())}get updating(){return this._dirty||!!this._pendingTiles}constructor(e){super(e),this.tiles=new i,this.tileSize=512,this._idToTile=new Map,this._handles=new s,this._clients=new Set,this._dirty=!1,this._pendingTiles=null,this._newTiles=new h}initialize(){this._handles.add([a((()=>[this.tilingScheme,this.tileSize]),(()=>this._reset()),c),a((()=>[this.tileSize,this.cameraOnSurface?.location,this.tilingScheme,this.viewState?.contentCamera,this.focus?.location]),(()=>this._setDirty()),u)]),this.scheduler&&(this._frameWorker=this.scheduler.registerTask(w.FEATURE_TILE_TREE,this))}destroy(){this._frameWorker=o(this._frameWorker),this._handles=l(this._handles)}addClient(){const e=C();return this._clients.add(e),1===this._clients.size&&this._setDirty(),r((()=>this._removeClient(e)))}_removeClient(e){this._clients.delete(e),this._hasClients||this._clear()}get _hasClients(){return this._clients.size>0}_setDirty(){!this._hasClients||this.suspended||this._dirty||(this._frameWorker?(this._dirty=!0,this.notifyChange(\"updating\")):this.runTask(R))}_clear(){this.tiles.removeAll(),this._idToTile.clear(),this._reset(),this._dirty=!1,this.notifyChange(\"updating\")}get running(){return this.updating}runTask(e){this._dirty=!1,this._pendingTiles||(this._startUpdate(),null!=this._frameWorker&&(this._frameWorker.priority=w.FEATURE_TILE_TREE_ACTIVE)),this._subdivideTilesForView(e),this._pendingTiles||null==this._frameWorker||(this._frameWorker.priority=w.FEATURE_TILE_TREE),this.notifyChange(\"updating\")}_startUpdate(){if(this.suspended)return;if(!this.tilingScheme)return void this._clear();this._tileMeasurements||(this._tileMeasurements=new E({renderCoordsHelper:this.renderCoordsHelper,tilingScheme:this.tilingScheme,tileSize:this.tileSize}));const e=this.viewState.contentCamera;this._tileMeasurements.begin(e,this.focus.location,this.cameraOnSurface.location.z??0),this._pendingTiles=this._getRootTiles()}_reset(){this._newTiles.clear(),this._tileMeasurements=null,this._pendingTiles=null,this._setDirty()}_getRootTiles(){const{tilingScheme:e}=this;return this._rootTileIds.map((t=>new y(t[0],t[1],t[2],e)))}_purgeHorizonTiles(e){e.sort(((e,t)=>{const i=e.measures.screenRect,s=t.measures.screenRect;return i[1]+i[3]-(s[1]+s[3])})),m(O);for(let t=0;t<e.length;t++)if(f(O,e.data[t].measures.screenRect,O),g(O)>I)return e.data.slice(t,e.length);return[]}_subdivideTilesForView(e){if(!this._pendingTiles)return;const{tilingScheme:t}=this;for(;this._pendingTiles.length>0&&!e.done;){const i=this._pendingTiles.pop();e.madeProgress(),this._filterExtentRect&&!T(this._filterExtentRect,i.extent)||(this._tileMeasurements.updateTile(i),i.measures.visibility!==S.INVISIBLE&&(i.measures.shouldSplit?(t.ensureMaxLod(i.lij[0]+1),this._pendingTiles.push(...i.getChildren())):this._newTiles.push(i)))}0===this._pendingTiles.length&&(this._updateTiles(this._purgeHorizonTiles(this._newTiles)),this._newTiles.clear(),this._tileMeasurements.end(),this._pendingTiles=null)}_updateTiles(e){for(const s of this.tiles.items)s.used=!1;const t=e.filter((e=>{const t=this._idToTile.get(e.id);return t?(t.copyMeasurementsFrom(e),t.used=!0):this._idToTile.set(e.id,e),!t})),i=this.tiles.items.filter((e=>!e.used&&(this._idToTile.delete(e.id),!0)));this.tiles.removeMany(i),this.tiles.addMany(t),this._sortTiles()}_sortTiles(){this.viewState.fixedContentCamera||this.tiles.sort(((e,t)=>e.measures.visibility!==t.measures.visibility?e.measures.visibility===S.VISIBLE_ON_SURFACE?-1:1:e.measures.distance-t.measures.distance)),this.tiles.forEach(((e,t)=>e.loadPriority=t))}};e([d({constructOnly:!0})],x.prototype,\"scheduler\",void 0),e([d({constructOnly:!0})],x.prototype,\"renderCoordsHelper\",void 0),e([d({constructOnly:!0})],x.prototype,\"tilingSchemeOwner\",void 0),e([d({constructOnly:!0})],x.prototype,\"cameraOnSurface\",void 0),e([d({constructOnly:!0})],x.prototype,\"focus\",void 0),e([d({constructOnly:!0})],x.prototype,\"viewState\",void 0),e([d({constructOnly:!0})],x.prototype,\"terrain\",void 0),e([d()],x.prototype,\"tiles\",void 0),e([d()],x.prototype,\"tileSize\",void 0),e([d({readOnly:!0})],x.prototype,\"tilingScheme\",null),e([d()],x.prototype,\"filterExtent\",null),e([d({readOnly:!0})],x.prototype,\"_filterExtentRect\",null),e([d({readOnly:!0})],x.prototype,\"_rootTileIds\",null),e([d({value:!1})],x.prototype,\"suspended\",null),e([d({readOnly:!0})],x.prototype,\"updating\",null),x=e([p(\"esri.views.3d.layers.support.FeatureTileTree3D\")],x);let j=0;function C(){return j++}const O=_(),I=10;export{x as FeatureTileTree3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import r from\"../../../core/Evented.js\";import{when as o}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{afterDispatch as s}from\"../../../core/accessorSupport/watch.js\";import{f as n}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as l}from\"../../../geometry/ellipsoidUtils.js\";import p from\"../../ViewAnimation.js\";import{ViewingMode as c}from\"../../ViewingMode.js\";import{Constraints as m}from\"./Constraints.js\";import{AnimationController as h}from\"./controllers/AnimationController.js\";import{State as d}from\"./controllers/CameraController.js\";import{PropertiesPool as u}from\"../support/PropertiesPool.js\";import{Camera as g,PaddingSide as C}from\"../webgl-engine/lib/Camera.js\";import{RenderState as y}from\"../../support/RenderState.js\";let _=class extends t{constructor(){super(...arguments),this._propertiesPool=new u({camera:g},this),this._lastSeenCameraProjectionValues=new g,this.mode=y.ANIMATING,this._cssCamera=new g,this._camera=new g,this.rasterPixelRatio=1,this.contentPixelRatio=1,this.events=new r,this.viewingMode=c.Global,this._cameraChanged=!1,this._updateQueue=new Array,this._processingUpdates=!1}init(e,t){this._set(\"viewingMode\",e),this._set(\"spatialReference\",t),this._set(\"constraints\",new m({mode:this.viewingMode}))}exit(){this.cameraController?.destroy(),this.cameraController=null,this._propertiesPool.destroy(),this._propertiesPool=new u({camera:g},this)}destroy(){this.cameraController?.destroy(),this.cameraController=null,this._propertiesPool?.destroy(),this._propertiesPool=null}createInitialCamera(){if(this.viewingMode===c.Global){const e=l(this.spatialReference).radius;this.camera=new g({eye:n(4*e,0,0),center:n(e,0,0),up:n(0,0,1)})}else this.camera=new g({eye:n(0,0,100),center:n(0,0,0),up:n(0,1,0)})}get animation(){return this.cameraController instanceof h&&null!=this.cameraController.viewAnimation?this.cameraController.viewAnimation:null}get camera(){return this._camera}get cssCamera(){const e=this._cssCamera.copyFrom(this.camera),{height:t,width:r,pixelRatio:o}=this.camera;return e.pixelRatio=1,e.height=Math.round(t/o),e.width=Math.round(r/o),e}set camera(e){e!==v&&v.copyFrom(e),v.computeUp(this.viewingMode),this.events.emit(\"before-camera-change\",v);const t=this._camera;if(this._cameraProjectionChanged(this._lastSeenCameraProjectionValues,v)&&(this._lastSeenCameraProjectionValues.copyFrom(v),this.events.emit(\"camera-projection-changed\",this._lastSeenCameraProjectionValues)),!t.equals(v)&&(this._camera=this._propertiesPool.get(\"camera\").copyFrom(v),this._cameraChanged=!t.almostEquals(v),this._cameraChanged)){const e=s((()=>{this._cameraChanged=!1,e.remove()}))}}get pixelRatio(){return this.camera.pixelRatio}get alignPixelEnabled(){return this.pixelRatio===this.rasterPixelRatio&&this.mode===y.IDLE}get updating(){return!this.alignPixelEnabled}get contentCamera(){return this._contentCamera??this.camera}set contentCamera(e){this._contentCamera=null!=e?e.clone():null}get fixedContentCamera(){return null!=this._contentCamera}get isGlobal(){return this.viewingMode===c.Global}get isLocal(){return this.viewingMode===c.Local}get navigating(){return!(!this.cameraController||!this.cameraController.isInteractive)}get stationary(){return!this._cameraChanged&&!this.navigating}get cameraController(){return this._get(\"cameraController\")}set cameraController(e){this.stopActiveCameraController()?(this.cameraController?.destroy(),e&&(this.removeHandles(w),this.addHandles(o((()=>e.state===d.Finished||e.state===d.Stopped),(()=>{this._set(\"cameraController\",null),this.updateCamera((t=>e.onControllerEnd(t)))}),{sync:!0,once:!0}),w),e.onControllerStart(this.camera)),this._set(\"cameraController\",e)):e&&(e.state=d.Rejected)}switchCameraController(e){return this.cameraController=e,e.state!==d.Rejected}stopActiveCameraController(){return!(this.cameraController&&!this.cameraController.stopController())}updateCamera(e){this._updateQueue.push(e),this._processUpdateQueue()}_processUpdateQueue(){if(0===this._updateQueue.length||this._processingUpdates)return;this._processingUpdates=!0;const e=this._updateQueue.shift();v.copyFrom(this._get(\"camera\")),e(v),this.camera=v,this._processingUpdates=!1,this._processUpdateQueue()}_cameraProjectionChanged(e,t){return e.fov!==t.fov||(e.fullViewport[0]!==t.fullViewport[0]||e.fullViewport[1]!==t.fullViewport[1]||e.fullViewport[2]!==t.fullViewport[2]||e.fullViewport[3]!==t.fullViewport[3]||(e.padding[C.TOP]!==t.padding[C.TOP]||e.padding[C.RIGHT]!==t.padding[C.RIGHT]||e.padding[C.BOTTOM]!==t.padding[C.BOTTOM]||e.padding[C.LEFT]!==t.padding[C.LEFT]))}};e([a()],_.prototype,\"mode\",void 0),e([a({readOnly:!0,type:p})],_.prototype,\"animation\",null),e([a({type:g})],_.prototype,\"camera\",null),e([a({type:g})],_.prototype,\"cssCamera\",null),e([a()],_.prototype,\"_cssCamera\",void 0),e([a()],_.prototype,\"_camera\",void 0),e([a({readOnly:!0})],_.prototype,\"pixelRatio\",null),e([a()],_.prototype,\"rasterPixelRatio\",void 0),e([a()],_.prototype,\"contentPixelRatio\",void 0),e([a({readOnly:!0})],_.prototype,\"alignPixelEnabled\",null),e([a({readOnly:!0})],_.prototype,\"updating\",null),e([a({})],_.prototype,\"_contentCamera\",void 0),e([a({type:g})],_.prototype,\"contentCamera\",null),e([a({readOnly:!0})],_.prototype,\"fixedContentCamera\",null),e([a({readOnly:!0})],_.prototype,\"constraints\",void 0),e([a({readOnly:!0})],_.prototype,\"events\",void 0),e([a({readOnly:!0})],_.prototype,\"isGlobal\",null),e([a({readOnly:!0})],_.prototype,\"isLocal\",null),e([a({readOnly:!0})],_.prototype,\"viewingMode\",void 0),e([a({readOnly:!0})],_.prototype,\"spatialReference\",void 0),e([a()],_.prototype,\"navigating\",null),e([a()],_.prototype,\"stationary\",null),e([a()],_.prototype,\"_cameraChanged\",void 0),e([a()],_.prototype,\"cameraController\",null),_=e([i(\"esri.views.3d.state.ViewState\")],_);const f=_,v=new g,w=\"ViewStateHandles\";export{f as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/PooledArray.js\";import{castRenderScreenPointArray3 as t,createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{a as n,n as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{create as o,copy as l,NEGATIVE_INFINITY as c,width as a,height as u,expandPointInPlace as h}from\"../../../../geometry/support/aaBoundingRect.js\";import{create as d}from\"../../../../geometry/support/ray.js\";import{sv3d as p}from\"../../../../geometry/support/vectorStacks.js\";import{ViewingMode as m}from\"../../../ViewingMode.js\";import{fromRenderAtEye as y,fromScreen as g}from\"../../support/geometryUtils/ray.js\";import{DEFAULT_TOLERANCE as f,newIntersector as _}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as R,IntersectorType as v}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{isValidIntersectorResult as I,sliceFilterPredicate as w}from\"../../webgl-engine/lib/intersectorUtils.js\";class b{constructor(t,r,n){this.viewingMode=t,this._forEachLayer=r,this._view=n,this._externalIntersectionHandlers=new e,this._tolerance=f,this._tmpRay=d(),this._tmpRegion=o(),this._validateHUDIntersector=_(this.viewingMode),this._validateHUDIntersector.options.hud=!1}intersectScreen(e,t,r){return this.intersectRay(this._getPickRay(e,this._tmpRay),U(this.viewingMode),t,r)}intersectScreenFreePointFallback(e,t,r){return this.intersectRayFreePointFallback(this._getPickRay(e,this._tmpRay),t,r)}intersectRayFreePointFallback(e,t,r){return this.intersectRay(e,U(this.viewingMode),t,r)||this._intersectRayFreePointLocal(e,t)}intersectRay(e,t,r,n){return t.options.selectionMode=!1,t.options.store=R.MIN,this.computeIntersection(e,t,n),!!t.results.min&&t.results.min.getIntersectionPoint(r)}getCenterRayWithSubpixelOffset(e,t,r=.5,n=.5){return e.getRenderCenter(T,r,n),T[0]+=.0466,T[1]-=.0123,y(e,T,t)}intersectIntersectorScreen(e,t,r){this.computeIntersection(this._getPickRay(e,this._tmpRay),t,r)}intersectToolIntersectorScreen(e,t,r){const n=this._getPickRay(e,this._tmpRay);this.intersectToolIntersectorRay(n,t,r)}intersectToolIntersectorRay(e,t,r){t.options.selectionMode=!0,this.computeIntersection(e,t,r);const n=t.results.min;!!this._view.basemapTerrain&&this._view.basemapTerrain.opaque||I(n)&&n.intersector!==v.TERRAIN||(t.options.selectionMode=!1,this.computeIntersection(e,t,r))}setTolerance(e=f){this._tolerance=e}addIntersectionHandler(e){this._externalIntersectionHandlers.push(e),this._externalIntersectionHandlers.sort(((e,t)=>e.type===v.TERRAIN?1:t.type===v.TERRAIN?-1:0))}removeIntersectionHandler(e){null!=this._externalIntersectionHandlers.removeUnordered(e)&&this._externalIntersectionHandlers.sort(((e,t)=>e.type===v.TERRAIN?1:t.type===v.TERRAIN?-1:0))}_getPickRay(e,t){const r=this._view.state.camera;return g(r,e,t)}_intersectRayFreePointLocal(e,t){return this.viewingMode!==m.Local||null==e||n(t,e.origin,i(p.get(),e.direction)),!1}intersectElevationFromScreen(e,t,r=0,n=null){return this._intersectElevation(this._getPickRay(e,this._tmpRay),t,r,n)}_intersectElevation(e,r,i=0,s=null){if(null==e)return null;const o=null!=r?r.mode:\"absolute-height\",l=r?.offset??0,c=\"on-the-ground\"!==o?l+i:0,a=c/this._view.renderCoordsHelper.unitInMeters;if(\"absolute-height\"===o){if(this._view.renderCoordsHelper.intersectInfiniteManifold(e,c,L)){const e=this._view.computeMapPointFromVec3d(L);return e.z??=0,e.z-=l,e}return null}const u=this._view.state.camera,h=t(p.get());u.projectToRenderScreen(e.origin,h);const d=new H(null,this._forEachLayer),m=this._view.slicePlane,y=null!=m?w(m):null,g=_(this.viewingMode);g.options.store=R.MIN,g.options.verticalOffset=a;const f=e.origin,I=n(p.get(),f,e.direction);g.reset(f,I,u),g.point=h;const b=s?\"type\"in s&&\"graphics\"===s.type?e=>e.layerUid!==s.uid:e=>e.graphicUid!==s.uid:null;switch(o){case\"relative-to-scene\":{const e=e=>(!b||b(e))&&!!e.lastValidElevationBB;g.intersect(d.layers,h,this._tolerance,null,e),this._externalIntersectionHandlers.forAll((e=>{if(e.type===v.I3S||e.type===v.TERRAIN){const t=e.slicePlaneEnabled?y:null;e.intersect(g,t,g.rayBegin,g.rayEnd,h)}}));break}case\"on-the-ground\":case\"relative-to-ground\":this._externalIntersectionHandlers.forAll((e=>{if(e.isGround){const t=e.slicePlaneEnabled?y:null;e.intersect(g,t,g.rayBegin,g.rayEnd,h)}}))}if(g.results.min.getIntersectionPoint(L)){const e=this._view.computeMapPointFromVec3d(L);return e.z=i,e}return null}computeIntersection(e,r,i){if(null==e)return;const s=this._view.state.camera,o=t(p.get());s.projectToRenderScreen(e.origin,o);const l=new H(i,this._forEachLayer);r.options.selectOpaqueTerrainOnly=!i||!(\"include\"in i||\"exclude\"in i);const c=e.origin,a=n(p.get(),e.origin,e.direction);r.reset(c,a,s),r.intersect(l.layers,o,this._tolerance);const u=this._view.slicePlane,h=null!=u?w(u):null;r.intersect(l.sliceableLayers,o,this._tolerance,h);const d=i&&(i.requiresGroundFeedback||i.enableDraped);this._externalIntersectionHandlers.forAll((e=>{const t=e.layerUid,n=Array.isArray(t),i=n?t:[t];n&&(r.options.filteredLayerUids=[]);let s=!1;for(const o of i){!l.filterLayerUid(o)?n&&r.options.filteredLayerUids.push(o):s=!0}if(r.options.isFiltered=!s,e.isGround&&d||!r.options.isFiltered){const t=e.slicePlaneEnabled?h:null;e.intersect(r,t,c,a,o)}}));const m=p.get(),y=this._view.basemapTerrain;if(i&&i.enableDraped&&null!=y.spatialReference&&r.results.ground.getIntersectionPoint(m)){const e=y.overlayManager.renderer,t=this._view.renderCoordsHelper.spatialReference,n=p.get();this._view.renderCoordsHelper.fromRenderCoords(m,n,y.spatialReference),n[2]=this._view.elevationProvider?.getElevation(m[0],m[1],m[2],t,\"ground\")??0,e.intersect(r,n,r.results.ground,(e=>l.filterRenderGeometry(e)))}r.sortResults(),this._processHUDResults(r)}_processHUDResults(e){const t=e.results.hud;l(this._tmpRegion,c);const r=this._view.state.camera,n=[],i=this._tmpRegion,s=e=>{const t=new j(e);r.projectToRenderScreen(e.target.center,t.screenPoint),t.screenPoint[0]=Math.floor(t.screenPoint[0]),t.screenPoint[1]=Math.floor(t.screenPoint[1]),n.push(t),h(i,t.screenPoint)};e.sortResults(t.all),null!=t.min.dist&&s(t.min);for(const l of t.all)t.min.target.object!==l.target.object&&t.max.target.object!==l.target.object&&s(l);if(null!=t.max.dist&&t.max.target.object!==t.min.target.object&&s(t.max),!n.length)return;i[0]===i[2]&&(i[2]+=1),i[1]===i[3]&&(i[3]+=1);const o=r.fullWidth,d=r.fullHeight,p=Math.max(0,i[0]-P),m=Math.max(0,i[1]-P),y=Math.min(a(i)+2*P,o-p),g=Math.min(u(i)+2*P,d-m),f=new Uint8Array(y*g*4);this._view._stage.renderer.readHUDVisibility(p,m,y,g,f);let _=!0;const v=null==e.results.max.dist;let I=0;for(const l of n)for(const t of M){if(f[4*(Math.min(l.screenPoint[0]+t[0],o)-i[0]+(Math.min(l.screenPoint[1]+t[1],d)-i[1])*y)]){_&&(e.results.min.copy(l.result),_=!1),v&&e.results.max.copy(l.result),e.options.store===R.ALL&&e.results.all.splice(I++,0,l.result);break}}}}const P=1,M=(()=>{const e=[],t=P;for(let r=-t;r<=t;r++)for(let n=-t;n<=t;n++)e.push([n+t,r+t]);return e})();class j{constructor(e){this.result=e,this.screenPoint=r()}}let x;function U(e){return x&&x.viewingMode===e||(x=_(e)),x}class H{constructor(e,t){this.layers=new Array,this.sliceableLayers=new Array,this.include=e?.include,this.exclude=e?.exclude,t((e=>{e.pickable&&this.filterLayerUid(e.apiLayerUid)&&(e.sliceable?this.sliceableLayers:this.layers).push(e)}))}filterLayerUid(e){const{include:t,exclude:r}=this;return null==e?null==t&&null==r:(null==t||t.has(e))&&(null==r||!r.has(e))}filterRenderGeometry(e){return this.filterLayerUid(e.layerUid)}}function E(e){return\"object\"==typeof e&&\"intersect\"in e}const L=s(),T=r();export{b as SceneIntersectionHelper,E as isIntersectionHandler};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import r from\"../../../core/Evented.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{createResolver as i,isAbortError as o}from\"../../../core/promiseUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{equals as l}from\"../../../geometry/support/spatialReferenceUtils.js\";import{ElevationQuery as h}from\"../layers/graphics/ElevationQuery.js\";let c=class extends(r.EventedMixin(t)){get spatialReference(){return this.view?.basemapTerrain?.spatialReference}constructor(e){super(e),this._im=new Array,this._ground=new Array,this._scene=new Array,this._handles=new Map,this.lastElevationQuery=null,this.elevationCacheEnabled=!1}destroy(){this._elevationQueryCached=s(this._elevationQueryCached)}get _elevationQuery(){return null==this._elevationQueryCached&&(this._elevationQueryCached=new h(this.view.resourceController.scheduler,this.view.spatialReference,(()=>this.view.map&&this.view.map.ground),{maximumAutoTileRequests:4})),this._elevationQueryCached}enableElevationCache(e){e||(this.lastElevationQuery=null),this.elevationCacheEnabled=e}getElevation(e,t,r,s,i){if(this.elevationCacheEnabled&&null!=this.lastElevationQuery){const o=this.lastElevationQuery;if(e===o.x&&t===o.y&&r===o.z&&l(s,o.spatialReference)&&i===o.queryContext)return o.result}let o=null;return o=u(o,this._im,e,t,r,s,i),null==o&&(o=u(o,this._ground,e,t,r,s,i)),\"scene\"===i&&(o=u(o,this._scene,e,t,r,s,i)),this.elevationCacheEnabled&&(this.lastElevationQuery={x:e,y:t,z:r,spatialReference:s,queryContext:i,result:o}),o}getSphereElevationBounds(e,t){let r=1/0,s=-1/0;for(const i of[this._im,this._ground,this._scene])i.forEach((i=>{if(i.getSphereElevationBounds){const o=i.getSphereElevationBounds(e,t);null!=o&&(r=Math.min(r,o.min),s=Math.max(s,o.max))}}));return{min:r,max:s}}queryElevation(e,t,r,s,n,a=null,l=0){const h=i();return this._elevationQuery.queryElevation(e,t,a,l).then((i=>{\"scene\"===n&&(i=u(i,this._scene,e,t,r,s,n)),h.resolve(i)})).catch((i=>{o(i)?h.reject(i):h.resolve(this.getElevation(e,t,r,s,n))})),h.promise}register(e,t){this._handles.set(t,t.on(\"elevation-change\",(e=>this.emit(\"elevation-change\",e)))),this._providersFromContext(e).push(t)}unregister(e){this._handles.has(e)&&(this._handles.get(e)?.remove(),this._handles.delete(e));for(const t of[this._im,this._ground,this._scene]){const r=t.indexOf(e);r>-1&&t.splice(r,1)}}_providersFromContext(e){switch(e){case\"ground\":return this._ground;case\"im\":return this._im;case\"scene\":return this._scene}}};function u(e,t,r,s,i,o,n){for(const a of t){const t=a.getElevation(r,s,i,o,n);null!=t&&(e=null!=e?Math.max(t,e):t)}return e}e([n({constructOnly:!0})],c.prototype,\"view\",void 0),e([n()],c.prototype,\"spatialReference\",null),c=e([a(\"esri.views.3d.support.CombinedElevationProvider\")],c);export{c as CombinedElevationProvider};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport has from\"../../../core/has.js\";import{Milliseconds as e}from\"../../../core/time.js\";class a{static isValidProfile(e){return e in a.profiles}static getDefaultProfile(){return has(\"esri-iPhone\")?\"low\":\"medium\"}static apply(e,i){const o=a.profiles[e];i.graphics3D.maxTotalNumberOfFeatures=o.graphics3D.maxTotalNumberOfFeatures,i.graphics3D.maxTotalNumberOfPrimitives=o.graphics3D.maxTotalNumberOfPrimitives,i.graphics3D.polygonLodFactor=o.graphics3D.polygonLodFactor,i.graphics3D.polylineLodFactor=o.graphics3D.polylineLodFactor,i.graphics3D.snapshotAvailable=o.graphics3D.snapshotAvailable,i.graphics3D.skipHighSymbolLods=o.graphics3D.skipHighSymbolLods;const t=i.sceneService.object,r=o.sceneService.object;t.lodFactor=r.lodFactor,t.lodCrossfadeinDuration=r.lodCrossfadeinDuration,t.lodCrossfadeoutDuration=r.lodCrossfadeoutDuration,t.lodCrossfadeUncoveredDuration=r.lodCrossfadeUncoveredDuration,i.sceneService.point.lodFactor=o.sceneService.point.lodFactor,i.sceneService.integratedMesh.lodFactor=o.sceneService.integratedMesh.lodFactor,i.sceneService.pointCloud.lodFactor=o.sceneService.pointCloud.lodFactor,i.sceneService.uncompressedTextureDownsamplingEnabled=o.sceneService.uncompressedTextureDownsamplingEnabled,i.tiledSurface.lodBias=o.tiledSurface.lodBias,i.tiledSurface.angledSplitBias=o.tiledSurface.angledSplitBias,i.tiledSurface.reduceTileLevelDifferences=o.tiledSurface.reduceTileLevelDifferences,i.tiledSurface.textureFadeDuration=o.tiledSurface.textureFadeDuration,i.heatmap.pixelRatio=o.heatmap.pixelRatio,i.heatmap.maxTotalNumberOfFeatures=o.heatmap.maxTotalNumberOfFeatures,i.fadeDuration=o.fadeDuration,i.antialiasingEnabled=o.antialiasingEnabled,i.physicallyBasedRenderingEnabled=o.physicalBasedRenderingEnabled,i.highQualityTransparency=o.highQualityTransparency,i.highResolutionAtmosphere=o.highResolutionAtmosphere,i.reflections=o.reflections,i.ambientOcclusion=o.ambientOcclusion,i.memoryLimit=o.memoryLimit,i.additionalCacheMemory=o.additionalCacheMemory,i.frameRate=o.frameRate,i.maximumPixelRatio=o.maximumPixelRatio}}function i(){const a=!!has(\"esri-mobile\"),i=!!has(\"ios\"),o=e(400);return{low:{graphics3D:{maxTotalNumberOfFeatures:25e3,maxTotalNumberOfPrimitives:85e4,polygonLodFactor:.5,polylineLodFactor:1,snapshotAvailable:!1,skipHighSymbolLods:!0},heatmap:{pixelRatio:.125,maxTotalNumberOfFeatures:25e3},sceneService:{object:{lodFactor:.2,lodCrossfadeinDuration:e(0),lodCrossfadeoutDuration:e(0),lodCrossfadeUncoveredDuration:e(0)},point:{lodFactor:1},integratedMesh:{lodFactor:.6},pointCloud:{lodFactor:.5},uncompressedTextureDownsamplingEnabled:!0},tiledSurface:{lodBias:-1,angledSplitBias:.5,reduceTileLevelDifferences:!1,textureFadeDuration:e(0)},fadeDuration:e(0),antialiasingEnabled:!1,physicalBasedRenderingEnabled:!1,highQualityTransparency:!1,highResolutionAtmosphere:!1,reflections:!1,ambientOcclusion:!1,memoryLimit:200,additionalCacheMemory:0,frameRate:0,maximumPixelRatio:1},medium:{graphics3D:{maxTotalNumberOfFeatures:5e4,maxTotalNumberOfPrimitives:17e5,polygonLodFactor:a?.8:1,polylineLodFactor:a?1.2:1.5,snapshotAvailable:!i,skipHighSymbolLods:!1},heatmap:{pixelRatio:.25,maxTotalNumberOfFeatures:5e4},sceneService:{object:{lodFactor:1,lodCrossfadeinDuration:e(0),lodCrossfadeoutDuration:e(0),lodCrossfadeUncoveredDuration:o},point:{lodFactor:1},integratedMesh:{lodFactor:1},pointCloud:{lodFactor:1},uncompressedTextureDownsamplingEnabled:a},tiledSurface:{lodBias:0,angledSplitBias:1,reduceTileLevelDifferences:!has(\"disable-feature:reduce-map-tile-levels\"),textureFadeDuration:o},fadeDuration:o,antialiasingEnabled:!0,physicalBasedRenderingEnabled:!0,highQualityTransparency:!0,highResolutionAtmosphere:!1,reflections:!1,ambientOcclusion:!1,memoryLimit:a?600:750,additionalCacheMemory:a?-100:150,frameRate:0,maximumPixelRatio:1},high:{graphics3D:{maxTotalNumberOfFeatures:5e4,maxTotalNumberOfPrimitives:17e5,polygonLodFactor:a?1.2:2,polylineLodFactor:a?1.2:2,snapshotAvailable:!i,skipHighSymbolLods:!1},heatmap:{pixelRatio:.5,maxTotalNumberOfFeatures:5e4},sceneService:{object:{lodFactor:1,lodCrossfadeinDuration:e(0),lodCrossfadeoutDuration:e(0),lodCrossfadeUncoveredDuration:o},point:{lodFactor:1},integratedMesh:{lodFactor:1},pointCloud:{lodFactor:1},uncompressedTextureDownsamplingEnabled:!1},tiledSurface:{lodBias:0,angledSplitBias:1,reduceTileLevelDifferences:!has(\"disable-feature:reduce-map-tile-levels\"),textureFadeDuration:o},fadeDuration:o,antialiasingEnabled:!0,physicalBasedRenderingEnabled:!0,highQualityTransparency:!0,highResolutionAtmosphere:!0,reflections:!0,ambientOcclusion:!0,memoryLimit:a?900:1500,additionalCacheMemory:a?-150:0,frameRate:0,maximumPixelRatio:a?1:1/0}}}a.test={reset(){const e=i();for(const i of Object.keys(e))a.profiles[i]=e[i]}},function(e){e.profiles=i()}(a||(a={}));const o=a;export{o as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import r from\"../../../core/Accessor.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as c}from\"../../../chunks/vec4f32.js\";import{f as p}from\"../../../chunks/vec4f64.js\";const e=new t([0,255,255]),a=new t([0,0,0]),l=1,h=.25,d=.4,y=.2;let n=class extends r{constructor(){super(...arguments),this.color=e.clone(),this.haloColor=null,this.haloOpacity=l,this.fillOpacity=h,this.shadowOpacity=d,this.shadowColor=a.clone(),this.shadowDifference=y}static toEngineOptions(o){const r=t.toUnitRGBA(o.color??e),s=null!=o.haloColor?t.toUnitRGBA(o.haloColor):r,i=t.toUnitRGBA(o.shadowColor??a),n=o.haloOpacity??l,f=o.fillOpacity??h,O=o.shadowOpacity??d,u=o.shadowDifference??y;return{color:c(r[0],r[1],r[2],r[3]),haloColor:c(s[0],s[1],s[2],s[3]),haloOpacity:n,haloOpacityOccluded:.25*n,fillOpacity:f,fillOpacityOccluded:.25*f,shadowOpacity:O,shadowColor:p(i[0],i[1],i[2],i[3]),occludedShadowOpacity:O*(1-u)}}};o([s({type:t})],n.prototype,\"color\",void 0),o([s({type:t})],n.prototype,\"haloColor\",void 0),o([s()],n.prototype,\"haloOpacity\",void 0),o([s()],n.prototype,\"fillOpacity\",void 0),o([s()],n.prototype,\"shadowOpacity\",void 0),o([s({type:t})],n.prototype,\"shadowColor\",void 0),o([s()],n.prototype,\"shadowDifference\",void 0),n=o([i(\"esri.views.3d.support.HighlightOptions\")],n);const f=n;export{f as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{getMetersPerUnitForSR as r}from\"../../../core/unitUtils.js\";import{getReferenceEllipsoid as t}from\"../../../geometry/ellipsoidUtils.js\";import{getGeometryServiceURL as o}from\"../../../portal/support/geometryServiceUtils.js\";import{project as i}from\"../../../rest/geometryService/project.js\";import s from\"../../../rest/support/ProjectParameters.js\";import m from\"../../../geometry/Point.js\";import p from\"../../../geometry/SpatialReference.js\";class a{constructor(i,s){this.spatialReference=s,this.unitInMeters=r(this.spatialReference,t(this.spatialReference).metersPerDegree),this._geometryServiceURLPromise=o(i&&i.get(\"portalItem\")).catch((()=>{throw new e(\"mapcoordshelper:missing-geometry-service\",\"Must specify geometryService in esri/config\")}))}async toGeographic(e){const r=await this._geometryServiceURLPromise;let t,o=!0;Array.isArray(e[0])&&\"number\"!=typeof e[0]?t=e:(t=[e],o=!1);const a=t.map((e=>e instanceof m?e:new m(e,this.spatialReference))),c=new s({geometries:a,outSpatialReference:p.WGS84}),n=(await i(r,c)).map((e=>\"point\"===e.type?[e.x,e.y]:void 0)).filter((e=>!!e));return o?n:n[0]}}export{a as MapCoordsHelper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{Milliseconds as o}from\"../../../core/time.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let r=class extends e{constructor(){super(...arguments),this.minTotalNumberOfFeatures=2e3,this.maxTotalNumberOfFeatures=5e4,this.maxTotalNumberOfPrimitives=17e5,this.snapshotAvailable=!0,this.polygonLodFactor=1,this.polylineLodFactor=1,this.skipHighSymbolLods=!1}};t([i()],r.prototype,\"minTotalNumberOfFeatures\",void 0),t([i()],r.prototype,\"maxTotalNumberOfFeatures\",void 0),t([i()],r.prototype,\"maxTotalNumberOfPrimitives\",void 0),t([i()],r.prototype,\"snapshotAvailable\",void 0),t([i()],r.prototype,\"polygonLodFactor\",void 0),t([i()],r.prototype,\"polylineLodFactor\",void 0),t([i()],r.prototype,\"skipHighSymbolLods\",void 0),r=t([s(\"esri.views.3d.support.QualitySettings.Graphics3DSettings\")],r);let p=class extends e{constructor(){super(...arguments),this.lodFactor=1}};t([i()],p.prototype,\"lodFactor\",void 0),p=t([s(\"esri.views.3d.support.QualitySettings.LoDFactorSettings\")],p);let a=class extends p{constructor(){super(...arguments),this.lodCrossfadeinDuration=o(0),this.lodCrossfadeoutDuration=o(0),this.lodCrossfadeUncoveredDuration=o(0)}};a=t([s(\"esri.views.3d.support.QualitySettings.LoDFactor3DObjectSettings\")],a);let n=class extends e{constructor(){super(...arguments),this.object=new a,this.point=new p,this.integratedMesh=new p,this.pointCloud=new p,this.uncompressedTextureDownsamplingEnabled=!1}};t([i({type:a})],n.prototype,\"object\",void 0),t([i({type:p})],n.prototype,\"point\",void 0),t([i({type:p})],n.prototype,\"integratedMesh\",void 0),t([i({type:p})],n.prototype,\"pointCloud\",void 0),t([i()],n.prototype,\"uncompressedTextureDownsamplingEnabled\",void 0),n=t([s(\"esri.views.3d.support.QualitySettings.SceneServiceSettings\")],n);let d=class extends e{constructor(){super(...arguments),this.lodBias=0,this.angledSplitBias=1,this.reduceTileLevelDifferences=!0,this.textureFadeDuration=o(400)}};t([i()],d.prototype,\"lodBias\",void 0),t([i()],d.prototype,\"angledSplitBias\",void 0),t([i()],d.prototype,\"reduceTileLevelDifferences\",void 0),t([i()],d.prototype,\"textureFadeDuration\",void 0),d=t([s(\"esri.views.3d.support.QualitySettings.TiledSurfaceSettings\")],d);let l=class extends e{constructor(){super(...arguments),this.pixelRatio=1,this.maxTotalNumberOfFeatures=5e4}};t([i()],l.prototype,\"pixelRatio\",void 0),t([i()],l.prototype,\"maxTotalNumberOfFeatures\",void 0),l=t([s(\"esri.views.3d.support.QualitySettings.HeatmapSettings\")],l);let c=class extends e{constructor(){super(...arguments),this.graphics3D=new r,this.sceneService=new n,this.tiledSurface=new d,this.heatmap=new l,this.fadeDuration=o(400),this.antialiasingEnabled=!0,this.physicallyBasedRenderingEnabled=!1,this.highQualityTransparency=!0,this.highResolutionAtmosphere=!1,this.reflections=!1,this.ambientOcclusion=!1,this.memoryLimit=750,this.additionalCacheMemory=0,this.frameRate=void 0,this.maximumPixelRatio=1/0}};t([i({type:r})],c.prototype,\"graphics3D\",void 0),t([i({type:n})],c.prototype,\"sceneService\",void 0),t([i({type:d})],c.prototype,\"tiledSurface\",void 0),t([i({type:l})],c.prototype,\"heatmap\",void 0),t([i()],c.prototype,\"fadeDuration\",void 0),t([i()],c.prototype,\"antialiasingEnabled\",void 0),t([i()],c.prototype,\"physicallyBasedRenderingEnabled\",void 0),t([i()],c.prototype,\"highQualityTransparency\",void 0),t([i()],c.prototype,\"highResolutionAtmosphere\",void 0),t([i()],c.prototype,\"reflections\",void 0),t([i()],c.prototype,\"ambientOcclusion\",void 0),t([i()],c.prototype,\"memoryLimit\",void 0),t([i()],c.prototype,\"additionalCacheMemory\",void 0),t([i()],c.prototype,\"frameRate\",void 0),t([i()],c.prototype,\"maximumPixelRatio\",void 0),c=t([s(\"esri.views.3d.support.QualitySettings.QualitySettings\")],c);const u=c;export{u as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(e){return\"usedMemory\"in e&&\"unloadedMemory\"in e&&\"ignoresMemoryFactor\"in e}export{e as isMemoryManagedView};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import i from\"../../../core/Logger.js\";import{MemCacheStorage as s,MemCache as a}from\"../../../core/MemCache.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isMemoryManagedView as h}from\"./MemoryManagedView.js\";function y(t){return new _({view:t})}const u=1,l=1,m=.75,n=.6,d=1.3;let _=class extends e{constructor(t){super(t),this._quality=1,this._usedMemory=0,this._updating=!1,this.minQuality=.1,this._stableQuality=0,this._downscaleMemoryUsed=0,this._canFastRecover=!1,this._memoryPredicted=0,this._cacheStorage=new s,this._warnMemoryUsage=null,this._numQualityChanges=0,this._maxMemory=750,this._additionalCacheMemory=0}destroy(){this._cacheStorage.destroy()}set maxMemory(t){null==t||t<=0||(this._stableQuality=0,this._canFastRecover=!1,this._maxMemory<t&&this._updateQuality(u),this._maxMemory=t)}get maxMemory(){return this._maxMemory}set additionalCacheMemory(t){null!=t&&(this._additionalCacheMemory=t)}get additionalCacheMemory(){return this._additionalCacheMemory}get memoryFactor(){return this._quality}get updating(){return this._updating}get usedMemory(){return this._usedMemory}newCache(t,e){return new a(t,this._cacheStorage,e)}resetStableQuality(){this._stableQuality=0}disableMemCache(){this.additionalCacheMemory=-4096}update(){if(this._updateMemory(),this._memoryPredicted<=0&&!this._updating)return;let t=this._layersUpdating();if(this._memoryPredicted<n&&this._canFastRecover)this._downscaleMemoryUsed=0,this._stableQuality=0,this._canFastRecover=!1,this._updateQuality(u);else if(t)(this._memoryPredicted>1.1*l||this._usedMemory>l)&&(this._stableQuality>0?(this._downscaleMemoryUsed=0,this._updateQuality(this._stableQuality)):this._quality>this.minQuality&&this._downscaleMemoryUsed<this._usedMemory&&(this._updateQuality(this._quality/d),this._downscaleMemoryUsed=this._usedMemory,this._canFastRecover=!1));else if(this._downscaleMemoryUsed=0,this._usedMemory>l)this._stableQuality=0,this._canFastRecover=!1,t=this._updateQuality(this._quality/d),this._downscaleMemoryUsed=this._memoryPredicted;else if(this._stableQuality!==this._quality)if(this._usedMemory<m&&this._quality<u){this._stableQuality=this._quality;const e=.05;t=this._updateQuality(this._quality+e)}else this._quality<1&&(this._canFastRecover=!0);this._updating=t}_updateQuality(t){return(t=Math.min(Math.max(t,this.minQuality),u))!==this._quality&&(this._quality=t,++this._numQualityChanges,!0)}_layersUpdating(){return this.view.allLayerViews.some((t=>!!t.updating))}_updateMemory(){if(!this.view)return;let t=0;this.view.basemapTerrain&&(t+=this.view.basemapTerrain.usedMemory);const e=this.view?._stage&&this.view._stage.renderView&&this.view._stage.renderer?.edgeView;null!=e&&(t+=e.usedMemory);let s=0;this.view.allLayerViews&&this.view.allLayerViews.forEach((e=>{if(h(e)){const i=e.ignoresMemoryFactor?this._quality:1;t+=e.usedMemory*i,s+=e.unloadedMemory*i}}));const a=null==this._warnMemoryUsage||Math.round(10*t)!==Math.round(10*this._warnMemoryUsage),r=1048576*this.maxMemory;if(t>r&&a){this._warnMemoryUsage=t;const e=t=>(t/1048576).toLocaleString(void 0,{maximumFractionDigits:1})+\" MB\",a=Math.round(100*this._quality);i.getLogger(this).warn(`Memory Limit exceeded! Limit: ${e(r)} Current: ${e(t)} Projected: ${e(t+s)} Quality: ${a}%`)}this._usedMemory=t/r,this._memoryPredicted=(t+s)/r;const o=r-t;this._cacheStorage.maxSize=Math.max(0,o+1048576*this.additionalCacheMemory)}get test(){const t=this;return{cacheStorage:this._cacheStorage,resetQualityChanges:()=>{const e=t._numQualityChanges;return t._numQualityChanges=0,e}}}};t([r({constructOnly:!0})],_.prototype,\"view\",void 0),t([r()],_.prototype,\"maxMemory\",null),t([r()],_.prototype,\"additionalCacheMemory\",null),t([r()],_.prototype,\"memoryFactor\",null),t([r()],_.prototype,\"updating\",null),t([r()],_.prototype,\"usedMemory\",null),t([r()],_.prototype,\"_quality\",void 0),t([r()],_.prototype,\"_usedMemory\",void 0),t([r()],_.prototype,\"_updating\",void 0),t([r()],_.prototype,\"_stableQuality\",void 0),t([r()],_.prototype,\"_maxMemory\",void 0),t([r()],_.prototype,\"_additionalCacheMemory\",void 0),_=t([o(\"esri.views.3d.support.MemoryController\")],_);export{y as newMemoryController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import{removeMaybe as s,destroyMaybe as o}from\"../../../core/maybe.js\";import{watch as a,sync as i}from\"../../../core/reactiveUtils.js\";import{addFrameTask as m}from\"../../../core/scheduling.js\";import{signal as l}from\"../../../core/signal.js\";import{secondsFromMilliseconds as d}from\"../../../core/time.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{maxDownloadSlots as p,downloadSlotsPerClient as h}from\"./index.js\";import{newMemoryController as c}from\"./MemoryController.js\";import{StreamDataLoader as _}from\"./StreamDataLoader.js\";import{ImmediateTask as y,newScheduler as g,TaskPriority as v}from\"../../support/Scheduler.js\";let f=class extends t{constructor(){super(...arguments),this.updating=!1}};function T(e){return new j({view:e})}e([n({readOnly:!0})],f.prototype,\"updating\",void 0),f=e([u(\"esri.views.3d.support.ResourceControllerMain\")],f);let j=class extends f{constructor(){super(...arguments),this._immediateTask=y,this._normalTask=y,this._updatingObjects=l([]),this._frameTask=null}get immediate(){return this._immediateTask}get normal(){return this._normalTask}initialize(){this._scheduler=g(),this._memoryController=c(this.view),this._streamDataLoader=new _,this._streamDataLoader.setup(p,h,this._scheduler),this.addHandles([a((()=>this.view.state?.mode),(e=>{null!=e&&(this._scheduler.state=e)}),i),a((()=>this.view.stationary),(()=>this._stationaryChangedHandler()))]),this._frameTask=m({update:e=>this._frame(e)}),this._immediateTask=this._scheduler.registerTask(v.RESOURCE_CONTROLLER_IMMEDIATE),this._normalTask=this._scheduler.registerTask(v.RESOURCE_CONTROLLER)}destroy(){this._immediateTask.remove(),this._normalTask.remove(),this._frameTask=s(this._frameTask),this._streamDataLoader=o(this._streamDataLoader),this._memoryController=o(this._memoryController),this._scheduler=o(this._scheduler),this.view=null}get updating(){return!!(this._memoryController?.updating||this._streamDataLoader?.updating||this._immediateTask?.updating)||this._updatingObjects?.value.some((e=>e.updating))}get scheduler(){return this._scheduler}get memoryController(){return this._memoryController}createStreamDataRequester(e){const t=this._streamDataLoader;return{request:(r,s,o)=>t.request(r,s,e,o),get busy(){return!t.hasDownloadSlots(e)}}}addUpdatingObject(e){const t=this._updatingObjects;return t.value=[...t.value,e],r((()=>{t.value=t.value.filter((t=>t!==e))}))}_frame(e){this.view.suspended||this.view.stateManager&&(this.view.stateManager.step(d(e.deltaTime)),!this._scheduler)||(this._scheduler.updateBudget(e)?(this._memoryController.update(),this._scheduler.frame()):this._memoryController.updating&&this._memoryController.update())}_stationaryChangedHandler(){this.memoryController.resetStableQuality()}get test(){return{getQueueStats:e=>this._streamDataLoader.test.loadQueue.getStatsForType(e)}}};e([n()],j.prototype,\"view\",void 0),e([n()],j.prototype,\"_scheduler\",void 0),e([n()],j.prototype,\"_memoryController\",void 0),e([n()],j.prototype,\"_streamDataLoader\",void 0),e([n()],j.prototype,\"_immediateTask\",void 0),e([n()],j.prototype,\"_normalTask\",void 0),e([n()],j.prototype,\"_updatingObjects\",void 0),e([n({readOnly:!0})],j.prototype,\"updating\",null),j=e([u(\"esri.views.3d.support.ResourceControllerImpl\")],j);export{T as newResourceController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{isMemoryManagedView as r}from\"../../support/MemoryManagedView.js\";function o(o){return r(o)}export{o as isMemoryManagedLayerView};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction n(n){return\"performanceInfo\"in n}export{n as isPerformanceInfoLayerView};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{isPerformanceInfoLayerView as e}from\"../layers/support/PerformanceInfoLayerView.js\";import{isSurfaceLayerView as r}from\"../terrain/terrainUtils.js\";class t{constructor(t,s){if(this.layer=null,this.memory=0,this.displayedNumberOfFeatures=0,this.maximumNumberOfFeatures=null,this.totalNumberOfFeatures=null,this.layer=t.layer,this.memory=r(t)?s.basemapTerrain.getUsedMemoryForLayerView(t):t.usedMemory,e(t)){const e=t.performanceInfo;this.displayedNumberOfFeatures=e.displayedNumberOfFeatures,this.maximumNumberOfFeatures=e.maximumNumberOfFeatures,this.totalNumberOfFeatures=e.totalNumberOfFeatures}}}export{t as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ByteSizeUnit as e}from\"../../../core/ByteSizeUnit.js\";import{isMemoryManagedLayerView as r}from\"../layers/support/MemoryManagedLayerView.js\";import o from\"./LayerPerformanceInfo.js\";import{isSurfaceLayerView as t}from\"../terrain/terrainUtils.js\";class s{constructor(s){if(this.totalMemory=0,this.usedMemory=0,this.quality=1,this.load=0,this.terrainMemory=0,this.edgesMemory=0,this.layerPerformanceInfos=new Array,null!=s.resourceController){const r=s.resourceController.memoryController;this.totalMemory=(r.maxMemory??0)*e.MEGABYTES,this.usedMemory=Math.round(r.usedMemory*this.totalMemory),this.quality=r.memoryFactor,this.load=s.resourceController.scheduler.load}this.terrainMemory=s.basemapTerrain?.usedMemory??0;const a=s._stage&&s._stage.renderView&&s._stage.renderer.edgeView;this.edgesMemory=null!=a?a.usedMemory:0,s.allLayerViews.items.forEach((e=>{(r(e)||t(e))&&this.layerPerformanceInfos.push(new o(e,s))})),this.layerPerformanceInfos.sort(((e,r)=>r.memory-e.memory))}}export{s as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{removeMaybe as o}from\"../../../../core/maybe.js\";import{throwIfAborted as t,onAbort as e}from\"../../../../core/promiseUtils.js\";import{DefaultLoadingContext as r}from\"../../glTF/DefaultLoadingContext.js\";import{loadGLTF as s}from\"../../glTF/loader.js\";import{load as a}from\"./wosrLoader.js\";class l{constructor(o){this._gltfLoading=new Map,this._wosrLoading=new Map,this._gltfMemCache=o(\"gltf-resources\",(()=>{})),this._wosrMemCache=o(\"wosr-resources\",(()=>{}))}destroy(){this._gltfLoading.forEach((o=>o.abortController.abort())),this._wosrLoading.forEach((o=>o.abortController.abort())),this._gltfMemCache.destroy(),this._wosrMemCache.destroy()}loadGLTF(o,t,e){const a=e?`gltfPBR:${o}`:`gltf:${o}`,l=this._gltfMemCache.get(a);return null!=l?Promise.resolve(l):this._loadOnce(this._gltfLoading,this._gltfMemCache,a,(t=>s(new r(t.streamDataRequester),o,t,e)),t)}loadWOSR(o,t){const e=`wosr:${o}:${t.disableTextures}`,r=this._wosrMemCache.get(e);return null!=r?Promise.resolve(r):this._loadOnce(this._wosrLoading,this._wosrMemCache,e,(t=>a(o,t)),t)}async _loadOnce(r,s,a,l,i){t(i);const n=e(i,(()=>this._abortLoad(r,a)));let c=r.get(a);if(c)c.refCount++;else{const o=new AbortController;c={refCount:1,abortController:o,promise:l({...i,signal:o.signal})},r.set(a,c)}try{const o=await c.promise;return s.put(a,o,o.size),r.delete(a),t(i),o}finally{o(n)}}_abortLoad(o,t){const e=o.get(t);if(null!=e){if(--e.refCount>0)return}o.delete(t),null!=e&&e.abortController.abort()}}export{l as ObjectResourceCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as t,whenOrAbort as e}from\"../../../core/promiseUtils.js\";import{isSVG as r}from\"../../../core/urlUtils.js\";import{TextureCollection as s,TextureRequest as i}from\"./TextureCollection.js\";import{Texture as l}from\"../webgl-engine/lib/Texture.js\";import{TextureWrapMode as o}from\"../../webgl/enums.js\";class n extends s{constructor(t,e,r){super(e,r),this._streamDataRequester=t}async fromUrl(r,s,l){t(l);const o=null!=l?l.signal:null,n=this.makeUid(r,s);let h=this._textureRequests.get(n);if(!h){const t=new AbortController,e=this._streamDataRequester.request(r,\"image\",{uid:n,signal:t.signal});h=new i,h.abortController=t;const l=h;this._textureRequests.set(n,h),h.textureAsync=e.then((async t=>{const e=this._createTexture(r,t,s);return l.texture=e,l.abortController=null,this._stage.add(e),await this._stage.load(e),{uid:n,texture:e,release:()=>this._release(n)}}),(t=>{throw l.abortController=null,t}))}h.referenceCount++;try{return await e(h.textureAsync,o)}catch(a){throw this._release(n),a}}_createTexture(t,e,s){const i={width:e.width,height:e.height,wrap:{s:o.CLAMP_TO_EDGE,t:o.CLAMP_TO_EDGE},preMultiplyAlpha:!0};if(r(t)){if(s||0===e.width&&0===e.height){const t=e.width?e.height/e.width:1;s=s||64,t>1?(e.width=Math.round(s/t),e.height=s):(e.width=s,e.height=Math.round(s*t))}this._stage.renderView?.renderingContext.driverTest.svgPremultipliesAlpha.result&&(i.preMultiplyAlpha=!1)}return new l(e,i)}}export{n as StreamTextureCollection};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../core/arrayUtils.js\";import t from\"../../../core/Handles.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{watch as i,sync as n}from\"../../../core/reactiveUtils.js\";import{getReferenceEllipsoid as c}from\"../../../geometry/ellipsoidUtils.js\";import{ObjectResourceCache as a}from\"../layers/graphics/ObjectResourceCache.js\";import{ClientType as o}from\"./index.js\";import{StreamTextureCollection as p}from\"./StreamTextureCollection.js\";import{getSettings as l,getLabelSettings as h}from\"../webgl-engine/lib/screenSizePerspectiveUtils.js\";class S{constructor(e){this.streamDataRequester=null,this._graphicsOwners=[],this._screenSizePerspectiveHandles=null,this.cimSymbolRasterizer=null,this._viewState=e.viewState,this._view=e.view,this._pointsOfInterest=e.pointsOfInterest,this.streamDataRequester=e.resourceController.createStreamDataRequester(o.SYMBOLOGY),this.objectResourceCache=new a(((t,s)=>e.resourceController.memoryController.newCache(t,s))),this.textures=new p(this.streamDataRequester,e.view._stage,e.resourceController.scheduler);const t=c(this._view.spatialReference).radius;this.screenSizePerspectiveSettings=l(e.viewingMode,t),this.screenSizePerspectiveSettingsLabels=h(e.viewingMode,t)}destroy(){this.textures.destroy(),this.streamDataRequester=null}addGraphicsOwner(t){if(!t)return s();this._graphicsOwners.push(t);const r=i((()=>t.layer?.screenSizePerspectiveEnabled),(()=>this._updateScreenSizePerspectiveEnabled()));return this._updateScreenSizePerspectiveEnabled(),s((()=>{r.remove(),e(this._graphicsOwners,t),this._updateScreenSizePerspectiveEnabled()}))}_updateScreenSizePerspectiveEnabled(){const e=this._graphicsOwners.some((e=>!0===e.layer?.screenSizePerspectiveEnabled));if(e&&!this._screenSizePerspectiveHandles){this._screenSizePerspectiveHandles=new t;const e=()=>this._updateScreenSizePerspectiveSettings();this._screenSizePerspectiveHandles.add([i((()=>this._pointsOfInterest.centerOnSurfaceInfrequent.distance),e,n),this._viewState.events.on(\"camera-projection-changed\",e)]),this._updateScreenSizePerspectiveSettings()}else e||(this._screenSizePerspectiveHandles=r(this._screenSizePerspectiveHandles))}_updateScreenSizePerspectiveSettings(){const e=this._pointsOfInterest;d.distance=e.centerOnSurfaceInfrequent.distance,d.fovY=this._viewState.camera.fovY,this.screenSizePerspectiveSettings.update(d),this.screenSizePerspectiveSettingsLabels.update(d),this._view._stage.renderView.requestRender()}get test(){return{screenSizePerspectiveHandles:this._screenSizePerspectiveHandles}}}const d={distance:0,fovY:0};export{S as SharedSymbolResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import o from\"../../../Graphic.js\";import\"../../../symbols.js\";import i from\"../../../symbols/PointSymbol3D.js\";import r from\"../../../symbols/IconSymbol3DLayer.js\";import s from\"../../../symbols/TextSymbol3DLayer.js\";import e from\"../../../geometry/Point.js\";class t{constructor(o,e,t=\"\"){this.graphics=o,this._symbol=new i({symbolLayers:[new r({material:{color:e},outline:{color:[255,255,255],size:1},resource:{primitive:\"circle\"}}),new s({text:t,halo:{color:\"white\",size:1/.75},material:{color:e},size:12})]})}show(i,r){if(null==r)return;this.hide();const s=new e({x:i[0],y:i[1],z:i[2],spatialReference:r});this._graphic=new o({geometry:s,symbol:this._symbol}),this.graphics.add(this._graphic)}hide(){null!=this._graphic&&(this.graphics.remove(this._graphic),this._graphic=null)}}export{t as PointGraphics};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";let c=class extends o{constructor(r){super(r),this.handles=new s}destroy(){this.handles.destroy()}};r([t({constructOnly:!0})],c.prototype,\"renderCoordsHelper\",void 0),r([t({constructOnly:!0})],c.prototype,\"surface\",void 0),r([t({constructOnly:!0})],c.prototype,\"state\",void 0),c=r([e(\"esri.views.3d.support.PointOfInterest\")],c);export{c as PointOfInterest};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{destroyMaybe as e}from\"../../../../core/maybe.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{on as o}from\"../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{i as n,k as a,c as d}from\"../../../../chunks/vec3.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import c from\"../../../../geometry/Point.js\";import{ViewingMode as p}from\"../../../ViewingMode.js\";import{distanceToScale as h}from\"../cameraUtils.js\";import{PropertiesPool as u}from\"../PropertiesPool.js\";import{PointOfInterest as m}from\"./PointOfInterest.js\";import{Task as y}from\"../../../support/Scheduler.js\";const _=Array;let g=class extends m{constructor(t){super(t),this._dirty=!1,this._propertiesPool=new u({location:c,renderLocation:_},this),this._estimatedSurfaceAltitude=0,this._pendingElevationQueryController=null,this.renderLocation=l(),this._tmpPoint=new c}initialize(){if(this.scheduler&&this.handles.add(this.scheduler.registerTask(this.task,this)),this.runTask(),this.map){const t=()=>this._setDirty();this.handles.add(o((()=>this.map?.ground?.layers),\"change\",t,{onListenerAdd:t,onListenerRemove:t}))}this._updateRenderLocation()}destroy(){this._cancelPendingRequest(),this._propertiesPool=e(this._propertiesPool)}get _camera(){return this.state.contentCamera}get location(){const t=this._propertiesPool.get(\"location\");return this.renderCoordsHelper.fromRenderCoords(this.renderLocation,t,this.state.spatialReference),t}get scale(){const t=this._camera,e=n(t.eye,this.renderLocation),r={renderCoordsHelper:this.renderCoordsHelper,state:{camera:t}};return h(r,e,0)}get updating(){return this._dirty||null!=this._pendingElevationQueryController}updateRenderLocation(){this._setDirty(),this._updateRenderLocation()}_setDirty(){this._dirty||(this._dirty=!0,this.notifyChange(\"updating\"))}_cancelPendingRequest(){const t=this._pendingElevationQueryController;t&&(this._pendingElevationQueryController=null,t.abort(),this.notifyChange(\"updating\"))}get running(){return!this._pendingElevationQueryController&&this._dirty}runTask(){if(this._cancelPendingRequest(),this._dirty=!1,this.notifyChange(\"updating\"),!this.map||!this.map.ground)return this._updateSurfaceAltitude(0),y.YIELD;const t=this.state.spatialReference;this.renderCoordsHelper.fromRenderCoords(this._camera.eye,this._tmpPoint,t);const e=(this._tmpPoint.z??0)>C&&this.renderCoordsHelper.viewingMode===p.Global&&(t.isWGS84||t.isWebMercator);let o=new AbortController;return this.map.ground.queryElevation(this._tmpPoint,{signal:o.signal,cache:this.cache,minDemResolution:e?v:0}).then((t=>this._updateSurfaceAltitude(t.geometry.z??0))).catch((t=>{r(t)||this._updateSurfaceAltitude(0)})).catch((()=>{})).then((()=>{this._pendingElevationQueryController===o&&(this._pendingElevationQueryController=null,this.notifyChange(\"updating\")),o=null})),this._pendingElevationQueryController=o,y.YIELD}_updateSurfaceAltitude(t){this._estimatedSurfaceAltitude!==t&&(this._estimatedSurfaceAltitude=t,this._updateRenderLocation())}_updateRenderLocation(){this.renderCoordsHelper.setAltitude(f,this._estimatedSurfaceAltitude,this._camera.eye),a(this._get(\"renderLocation\"),f)||(this._set(\"renderLocation\",d(this._propertiesPool.get(\"renderLocation\"),f)),this.notifyChange(\"renderLocation\"))}};t([i({constructOnly:!0})],g.prototype,\"scheduler\",void 0),t([i({constructOnly:!0})],g.prototype,\"cache\",void 0),t([i({constructOnly:!0})],g.prototype,\"task\",void 0),t([i({readOnly:!0})],g.prototype,\"location\",null),t([i({constructOnly:!0})],g.prototype,\"map\",void 0),t([i({readOnly:!0})],g.prototype,\"renderLocation\",void 0),t([i({readOnly:!0})],g.prototype,\"scale\",null),t([i({readOnly:!0})],g.prototype,\"updating\",null),g=t([s(\"esri.views.3d.support.CameraOnSurface\")],g);const f=l(),C=1e5,v=1e6;export{g as CameraOnSurface};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{clamp as e}from\"../../../../core/mathUtils.js\";import{removeMaybe as r,destroyMaybe as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as a,i as c,g as n,a as u,k as l,p}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../../geometry/ellipsoidUtils.js\";import f from\"../../../../geometry/Point.js\";import{projectBoundingRect as m}from\"../../../../geometry/projection.js\";import{create as _}from\"../../../../geometry/support/aaBoundingRect.js\";import S from\"../debugFlags.js\";import{PropertiesPool as y}from\"../PropertiesPool.js\";import{PointOfInterest as g}from\"./PointOfInterest.js\";import{Task as A}from\"../../../support/Scheduler.js\";const j=Array;let L=class extends g{constructor(t){super(t),this._propertiesPool=new y({location:f,renderLocation:j},this),this._currentSurfaceAltitude=0,this._latestSurfaceAltitude=0,this.distance=0,this.renderLocation=d(),this.updating=!1}initialize(){this._frameWorker=this.scheduler.registerTask(this.task,this),this.runTask()}destroy(){this._frameWorker=r(this._frameWorker),this._propertiesPool=s(this._propertiesPool)}get _camera(){return this.state.contentCamera}get location(){const t=this._propertiesPool.get(\"location\");return this.renderCoordsHelper.fromRenderCoords(this.renderLocation,t,this.state.spatialReference),t}updateRenderLocation(){this.updating=!0,this._updateRenderLocation()}get estimatedSurfaceAltitude(){return this._latestSurfaceAltitude}get running(){return this.updating}runTask(){return this._latestSurfaceAltitude=this.estimateSurfaceAltitudeAtCenter(),this._updateRenderLocation(),this.updating=!1,A.YIELD}_updateRenderLocation(){const t=v;let e=this._calculateSurfaceIntersection(this._currentSurfaceAltitude,t);const r=this._currentSurfaceAltitude!==this._latestSurfaceAltitude;!e&&r&&(e=this._calculateSurfaceIntersection(this._latestSurfaceAltitude,t),e&&(this._currentSurfaceAltitude=this._latestSurfaceAltitude));const s=C;e&&this._latestSurfaceAltitudeChangesDistanceSignificantly(t,s)&&(a(t,s),this._currentSurfaceAltitude=this._latestSurfaceAltitude),e?this.distance=c(this._camera.eye,t):(n(t,this._camera.viewForward,this._get(\"distance\")),u(t,t,this._camera.eye)),l(this._get(\"renderLocation\"),t)||this._set(\"renderLocation\",a(this._propertiesPool.get(\"renderLocation\"),t))}_calculateSurfaceIntersection(t,r){const s=this._camera;if(!this.renderCoordsHelper.intersectManifold(s.ray,t,r))return!1;if(this.state.isGlobal){const e=h(this.renderCoordsHelper.spatialReference).radius,i=e+t,o=p(s.eye),a=o<i*i,l=c(s.eye,r);if(a&&l>e/4){const t=i-Math.sqrt(o);return n(r,s.viewForward,t),u(r,r,s.eye),!0}}else{const t=this.surface?.ready?this.surface.extent:null;null!=t&&m(t,this.surface?.spatialReference,I,this.renderCoordsHelper.spatialReference)&&(r[0]=e(r[0],I[0],I[2]),r[1]=e(r[1],I[1],I[3]))}return!0}_latestSurfaceAltitudeChangesDistanceSignificantly(t,e){if(this._latestSurfaceAltitude===this._currentSurfaceAltitude||null==t)return!1;if(this._calculateSurfaceIntersection(this._latestSurfaceAltitude,e)){if(S.TESTS_DISABLE_OPTIMIZATIONS)return!0;const r=this._camera.eye,s=c(r,t),i=c(r,e);if(Math.abs(i-s)/s>k)return!0}return!1}};t([i({constructOnly:!0})],L.prototype,\"scheduler\",void 0),t([i({constructOnly:!0})],L.prototype,\"task\",void 0),t([i()],L.prototype,\"distance\",void 0),t([i({constructOnly:!0})],L.prototype,\"estimateSurfaceAltitudeAtCenter\",void 0),t([i({readOnly:!0})],L.prototype,\"location\",null),t([i({readOnly:!0})],L.prototype,\"renderLocation\",void 0),t([i()],L.prototype,\"updating\",void 0),L=t([o(\"esri.views.3d.support.CenterOnSurface\")],L);const k=.05,v=d(),C=d(),I=_();export{L as CenterOnSurface};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import t from\"../../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";class n{constructor(s){this._handles=new t,this.events=new e,this._contentLayerViews=s.contentLayerViews,this._handles.add(this._contentLayerViews.on(\"change\",(e=>this._layerViewsChanged(e)))),this._layerViewsChanged({added:this._contentLayerViews.toArray(),removed:[],moved:[],target:this._contentLayerViews})}destroy(){this._handles=s(this._handles),this._contentLayerViews.destroy()}_layerViewsChanged(e){e.added.forEach((e=>{\"esri.views.3d.layers.SceneLayerView3D\"===e.declaredClass&&this._handles.add(e.on(\"visible-geometry-changed\",(()=>this._contentChanged())),e.uid)})),e.removed.forEach((e=>this._handles.remove(e.uid)))}_contentChanged(){this.events.emit(\"request-update\",a)}}const a={};export{n as ContentGeometryUpdates};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as o}from\"../../../../core/reactiveUtils.js\";import{createRenderScreenPointArray3 as s}from\"../../../../core/screenUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{e as a,F as c,c as p,h as d,b as h,n as l}from\"../../../../chunks/vec3.js\";import{c as u}from\"../../../../chunks/vec3f64.js\";import m from\"../../../../geometry/Point.js\";import{wrap as f}from\"../../../../geometry/support/ray.js\";import{PropertiesPool as y}from\"../PropertiesPool.js\";import{PointOfInterest as g}from\"./PointOfInterest.js\";import{PaddingSide as _}from\"../../webgl-engine/lib/Camera.js\";import{TaskPriority as O,Task as j}from\"../../../support/Scheduler.js\";const L=Array;let P=class extends g{constructor(e){super(e),this._propertiesPool=new y({location:m,renderLocation:L},this),this._dirty=!0,this.renderLocation=this._propertiesPool.get(\"renderLocation\")}initialize(){this.handles.add([o((()=>this.centerOnSurface.renderLocation),(()=>this.updateRenderLocation())),o((()=>this.state.contentCamera),(()=>this.updateRenderLocation()))]),this.scheduler&&this.handles.add(this.scheduler.registerTask(O.POINT_OF_INTEREST_FREQUENT,this))}destroy(){this._propertiesPool=r(this._propertiesPool)}get updating(){return this._dirty||this.centerOnSurface.updating}get location(){const e=this._propertiesPool.get(\"location\");return this.renderCoordsHelper.fromRenderCoords(this.renderLocation,e,this.state.spatialReference),e}get running(){return this._dirty}runTask(){const e=this._get(\"renderLocation\"),r=this.centerOnSurface.renderLocation,o=this.renderCoordsHelper,s=this.state.contentCamera;this._dirty=!1,o.worldUpAtPosition(r,S);const i=Math.max(0,(Math.acos(a(S,s.viewForward))-.5*Math.PI)*(s.aboveGround?1:-1));if(Number.isNaN(i)){if(!e||!c(e,r)){const e=this._propertiesPool.get(\"renderLocation\");p(e,r),this._set(\"renderLocation\",e)}return j.YIELD}const n=1-t(i/(.5*Math.PI),0,1),h=n*n*n;this._calculateScreenHorizontalEdgeOnSurface(C);const l=this._propertiesPool.get(\"renderLocation\");return d(l,r,C,h),e&&c(e,l)||this._set(\"renderLocation\",l),j.YIELD}_calculateScreenHorizontalEdgeOnSurface(e){const t=this.state.contentCamera,r=t.getRenderCenter(s());if(r[1]=t.aboveGround?t.padding[_.BOTTOM]:t.fullHeight-t.padding[_.TOP],this.estimateSurfaceIntersectionAtRenderPoint(r,e))return e;const o=this.renderCoordsHelper.getAltitude(this.centerOnSurface.renderLocation);if(t.unprojectFromRenderScreen(r,v)){h(v,v,t.eye);const r=l(v,v);if(this.renderCoordsHelper.intersectManifold(f(t.eye,r),o,e))return e}return this.renderCoordsHelper.setAltitude(e,o,t.eye)}updateRenderLocation(){this._dirty=!0}};e([i()],P.prototype,\"_dirty\",void 0),e([i({constructOnly:!0})],P.prototype,\"scheduler\",void 0),e([i({constructOnly:!0})],P.prototype,\"centerOnSurface\",void 0),e([i({constructOnly:!0})],P.prototype,\"estimateSurfaceIntersectionAtRenderPoint\",void 0),e([i({readOnly:!0})],P.prototype,\"updating\",null),e([i({readOnly:!0})],P.prototype,\"location\",null),e([i({readOnly:!0})],P.prototype,\"renderLocation\",void 0),P=e([n(\"esri.views.3d.support.pointsOfInterest.Focus\")],P);const S=u(),v=u(),C=u();export{P as Focus};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Handles.js\";import{isAbortError as o}from\"../../../../core/promiseUtils.js\";import{watch as s,on as i}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import c from\"../../../../geometry/Point.js\";import{center as u}from\"../../../../geometry/support/aaBoundingRect.js\";let p=class extends t{get surface(){return this.view.map?.ground}get surfaceView(){return this.view.basemapTerrain}get renderLocation(){if(!this.location)return null;const e=l();return this.view.renderCoordsHelper.toRenderCoords(this.location,e),e}constructor(e){super(e),this.location=null,this._updateController=null,this._handles=new r}initialize(){this.view.state.isLocal&&(this._handles.add([s((()=>[this.surfaceView?.spatialReference,this.surfaceView?.extent]),(()=>this._update())),i((()=>this.surface?.layers),\"change\",(()=>this._update()))]),this._update())}destroy(){this._handles.destroy()}_update(){if(this._updateController&&(this._updateController.abort(),this._updateController=null),!this.surfaceView||null==this.surfaceView.extent||null==this.surfaceView.spatialReference)return void this._set(\"location\",null);const e=u(this.surfaceView.extent),t=new c({x:e[0],y:e[1],z:0,spatialReference:this.surfaceView.spatialReference});this.surface&&this.surface.layers.length>0?(this._set(\"location\",null),this._updateController=new AbortController,this.surface.queryElevation(t,{noDataValue:0,signal:this._updateController.signal,cache:this.cache}).then((e=>{this._updateController=null,this._set(\"location\",e.geometry)})).catch((e=>{o(e)||e&&\"elevation-query:invalid-layer\"===e.name||console.error(\"StableSurfaceCenter failed to update: \",e)}))):this._set(\"location\",t)}};e([a({constructOnly:!0})],p.prototype,\"view\",void 0),e([a({constructOnly:!0})],p.prototype,\"cache\",void 0),e([a()],p.prototype,\"surface\",null),e([a()],p.prototype,\"surfaceView\",null),e([a({readOnly:!0})],p.prototype,\"location\",void 0),e([a({readOnly:!0})],p.prototype,\"renderLocation\",null),p=e([n(\"esri.views.3d.terrain.StableSurfaceCenter\")],p);export{p as StableSurfaceCenter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{empty as i,expand as c,intersects as a}from\"../../../../geometry/support/aaBoundingRect.js\";import{TaskPriority as p,Task as d}from\"../../../support/Scheduler.js\";let u=class extends t{constructor(e){super(e),this._tileGeometryUpdateExtent=i(),this._tileGeometryUpdateSpatialReference=null,this.events=new r,this.updating=!1}initialize(){this.addHandles([this.surface.on(\"elevation-change\",(e=>this._tileGeometryChanged(e))),this.scheduler.registerTask(p.SURFACE_GEOMETRY_UPDATES,this)])}get running(){return this.updating}runTask(){return this.updating?(this._tileGeometryUpdateSpatialReference&&this._centerIntersectsExtent(this._tileGeometryUpdateExtent,this._tileGeometryUpdateSpatialReference)&&this.events.emit(\"request-update\",h),i(this._tileGeometryUpdateExtent),this._set(\"updating\",!1),d.YIELD):d.YIELD}_tileGeometryChanged(e){this._tileGeometryUpdateSpatialReference=e.spatialReference,c(this._tileGeometryUpdateExtent,e.extent,this._tileGeometryUpdateExtent),this._set(\"updating\",!0)}_furthestCenterOnSurface(){let e=this.centerOnSurfaces[0];for(let t=1;t<this.centerOnSurfaces.length;t++){const r=this.centerOnSurfaces[t];r.distance>e.distance&&(e=r)}return e}_centerIntersectsExtent(e,t){const r=this.state.contentCamera.eye,s=y,o=this._furthestCenterOnSurface();return this.renderCoordsHelper.fromRenderCoords(r,l,t),this.renderCoordsHelper.fromRenderCoords(o.renderLocation,m,t),l[0]<m[0]?(s[0]=l[0],s[2]=m[0]):(s[0]=m[0],s[2]=l[0]),l[1]<m[1]?(s[1]=l[1],s[3]=m[1]):(s[1]=m[1],s[3]=l[1]),a(s,e)}};e([s({constructOnly:!0})],u.prototype,\"state\",void 0),e([s({constructOnly:!0})],u.prototype,\"centerOnSurfaces\",void 0),e([s({constructOnly:!0})],u.prototype,\"renderCoordsHelper\",void 0),e([s({constructOnly:!0})],u.prototype,\"scheduler\",void 0),e([s({constructOnly:!0})],u.prototype,\"surface\",void 0),e([s({readOnly:!0})],u.prototype,\"updating\",void 0),u=e([o(\"esri.views.3d.support.SurfaceGeometryUpdates\")],u);const h={},l=n(),m=n(),y=i();export{u as SurfaceGeometryUpdates};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Handles.js\";import{watch as s,sync as n,when as i,on as o,initial as a}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as h,k as d,c as p}from\"../../../../chunks/vec3.js\";import{c as f}from\"../../../../chunks/vec3f64.js\";import{create as l}from\"../../../../geometry/support/ray.js\";import _ from\"../debugFlags.js\";import{PointGraphics as m}from\"../debugUtils.js\";import{PropertiesPool as C}from\"../PropertiesPool.js\";import{fromRenderAtEye as y}from\"../geometryUtils/ray.js\";import{CameraOnSurface as O}from\"./CameraOnSurface.js\";import{CenterOnSurface as A}from\"./CenterOnSurface.js\";import{ContentGeometryUpdates as g}from\"./ContentGeometryUpdates.js\";import{Focus as w}from\"./Focus.js\";import{StableSurfaceCenter as I}from\"./StableSurfaceCenter.js\";import{SurfaceGeometryUpdates as S}from\"./SurfaceGeometryUpdates.js\";import{newIntersector as v}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as b}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{TERRAIN_ID as R}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{TaskPriority as T}from\"../../../support/Scheduler.js\";let P=class extends t{constructor(e){super(e),this._handles=new r,this._tmpRay=l(),this._centerRayDirty=!0,this._surfaceAltitudeAtCenter=0,this._surfaceAltitudeAtCenterDirty=!0,this._contentAltitudeAtCenter=0,this._contentAltitudeAtCenterDirty=!0,this._propertiesPool=new C({renderPointOfView:j},this),this.renderPointOfView=f(),this._pois=new Array,this._debugCenters=new Map}initialize(){const{state:e,basemapTerrain:t,renderCoordsHelper:r,map:c}=this.view;this._surfaceIntersector=v(e.viewingMode),e.isGlobal?this._surfaceIntersector.options.backfacesTerrain=!1:this._surfaceIntersector.options.backfacesTerrain=!0,this._surfaceIntersector.options.invisibleTerrain=!1,this._surfaceIntersector.options.store=b.MIN,this._contentIntersector=v(e.viewingMode);const u=()=>this._estimateSurfaceAltitudeAtCenter(),h=this.view.resourceController.scheduler,d=this.view.basemapTerrain?.elevationQueryCache,p={state:e,scheduler:h,surface:t,renderCoordsHelper:r};this._set(\"centerOnSurfaceInfrequent\",new A({...p,task:T.POINT_OF_INTEREST_INFREQUENT,estimateSurfaceAltitudeAtCenter:u})),this._set(\"centerOnSurfaceFrequent\",new A({...p,task:T.POINT_OF_INTEREST_FREQUENT,estimateSurfaceAltitudeAtCenter:u})),this._set(\"centerOnContent\",new A({...p,task:T.POINT_OF_INTEREST_FREQUENT,estimateSurfaceAltitudeAtCenter:()=>this._estimateContentAltitudeAtCenter()})),this._set(\"cameraOnSurface\",new O({...p,cache:d,task:T.POINT_OF_INTEREST_INFREQUENT,map:c})),this._set(\"surfaceGeometryUpdates\",new S({...p,centerOnSurfaces:[this.centerOnSurfaceFrequent,this.centerOnContent,this.centerOnSurfaceInfrequent]})),this._set(\"contentGeometryUpdates\",new g({contentLayerViews:this.view.allLayerViews,renderCoordsHelper:r})),this._set(\"surfaceOrigin\",new I({cache:d,view:this.view})),this._set(\"focus\",new w({state:e,scheduler:h,surface:t,renderCoordsHelper:r,centerOnSurface:this.centerOnSurfaceFrequent,estimateSurfaceIntersectionAtRenderPoint:(e,t)=>this._estimateSurfaceIntersectionAtRenderPoint(e,this.view.state.contentCamera,t)})),this._pois.push(this.centerOnContent,this.centerOnSurfaceFrequent,this.centerOnSurfaceInfrequent,this.cameraOnSurface,this.focus);const f=this.view.graphics;this._debugCenters.set(this.centerOnContent,new m(f,\"red\",\"CenterOnContent\")),this._debugCenters.set(this.centerOnSurfaceFrequent,new m(f,\"red\",\"CenterOnSurface\")),this._debugCenters.set(this.centerOnSurfaceInfrequent,new m(f,\"red\",\"CenterOnSurface\")),this._debugCenters.set(this.cameraOnSurface,new m(f,\"blue\",\"CameraOnSurface\")),this._debugCenters.set(this.focus,new m(f,\"green\",\"Focus\")),this._handles.add([s((()=>e.contentCamera),(e=>this._cameraChanged(e)),n),s((()=>t.extent),(()=>this._updateCenterPointsOfInterest())),i((()=>!t.updating),(()=>this._updateCenterPointsOfInterest()),n),o((()=>this.surfaceGeometryUpdates.events),\"request-update\",(()=>this._updateCenterPointsOfInterest())),o((()=>this.contentGeometryUpdates.events),\"request-update\",(()=>this._updateCenterOnContent())),i((()=>_.SHOW_POI),(e=>this._setDebug(e)),a)]),this._cameraChanged(this.view.state.contentCamera);for(const s of this._pois)s.runTask()}destroy(){this._setDebug(!1),this._handles.destroy(),this._propertiesPool.destroy();for(const e of this._pois)e.destroy();this.surfaceOrigin.destroy()}get updating(){return!(!this.surfaceGeometryUpdates?.updating&&!this._pois.some((e=>e.updating)))}get _centerRay(){return this._centerRayDirty&&(this._centerRayCached=this.view.sceneIntersectionHelper.getCenterRayWithSubpixelOffset(this.view.state.contentCamera,this._tmpRay),this._centerRayDirty=!1),this._centerRayCached}_estimateContentAltitudeAtCenter(){if(!this._contentAltitudeAtCenterDirty)return this._contentAltitudeAtCenter;this._contentAltitudeAtCenterDirty=!1;const e=this._centerRay;return null==e||(this.view.sceneIntersectionHelper.intersectRay(e,this._contentIntersector,U,F)?this._contentAltitudeAtCenter=this.view.renderCoordsHelper.getAltitude(U):this._contentAltitudeAtCenter=this._estimateSurfaceAltitudeAtCenter()),this._contentAltitudeAtCenter}_estimateSurfaceAltitudeAtCenter(){if(!this.view.basemapTerrain)return 0;if(!this._surfaceAltitudeAtCenterDirty)return this._surfaceAltitudeAtCenter;this._surfaceAltitudeAtCenterDirty=!1;const e=this._centerRay;if(null==e)return this._surfaceAltitudeAtCenter;const t=e.origin,r=h(U,e.origin,e.direction);return this._surfaceIntersector.resetWithRay(e,this.view.state.contentCamera),this.view.basemapTerrain.intersect(this._surfaceIntersector,null,t,r),this._surfaceIntersector.results.min.getIntersectionPoint(U)&&(this._surfaceAltitudeAtCenter=this.view.renderCoordsHelper.getAltitude(U)),this._surfaceAltitudeAtCenter}_estimateSurfaceIntersectionAtRenderPoint(e,t,r){const s=y(t,e,E);if(null==s)return null;const n=s.origin,i=h(U,s.origin,s.direction);return this._surfaceIntersector.resetWithRay(s,t),this.view.basemapTerrain.intersect(this._surfaceIntersector,null,n,i),this._surfaceIntersector.results.min.getIntersectionPoint(r)?r:null}_cameraChanged(e){this._updateCenterPointsOfInterest();const t=e.eye;d(this.renderPointOfView,t)||this._set(\"renderPointOfView\",p(this._propertiesPool.get(\"renderPointOfView\"),t))}_updateCenterPointsOfInterest(){this._centerRayDirty=!0,this._surfaceAltitudeAtCenterDirty=!0,this._contentAltitudeAtCenterDirty=!0;for(const e of this._pois)e.updateRenderLocation()}_updateCenterOnContent(){this._contentAltitudeAtCenterDirty=!0,this.centerOnContent.updateRenderLocation()}_setDebug(e){if(!e)return this._debugCenters.forEach((e=>e.hide())),void this._handles.remove(\"debug\");for(const t of this._pois)this._handles.add(s((()=>t.renderLocation),(e=>this._debugCenters.get(t)?.show(e,t.renderCoordsHelper.spatialReference)),a),\"debug\")}get test(){return{update:()=>{this.surfaceGeometryUpdates.runTask();for(const e of this._pois)e.runTask()},surfaceGeometryUpdates:this.surfaceGeometryUpdates}}};e([c({readOnly:!0})],P.prototype,\"centerOnContent\",void 0),e([c({readOnly:!0})],P.prototype,\"centerOnSurfaceFrequent\",void 0),e([c({readOnly:!0})],P.prototype,\"centerOnSurfaceInfrequent\",void 0),e([c({readOnly:!0})],P.prototype,\"cameraOnSurface\",void 0),e([c({readOnly:!0})],P.prototype,\"focus\",void 0),e([c({readOnly:!0})],P.prototype,\"renderPointOfView\",void 0),e([c({readOnly:!0})],P.prototype,\"surfaceOrigin\",void 0),e([c({readOnly:!0})],P.prototype,\"contentGeometryUpdates\",void 0),e([c({readOnly:!0})],P.prototype,\"surfaceGeometryUpdates\",void 0),e([c({constructOnly:!0})],P.prototype,\"view\",void 0),e([c({readOnly:!0})],P.prototype,\"updating\",null),P=e([u(\"esri.views.3d.support.PointsOfInterest\")],P);const j=Array,U=f(),E=l(),F={exclude:new Set([R])};export{P as PointsOfInterest};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._store=t}destroy(){this._store.destroy()}get(t){return this._store.get(t)}put(t,s){this._store.put(t,s,s.values.byteLength+256)}}export{t as ElevationQueryTileCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass s{constructor(s=0,a=0){this.min=s,this.max=a,this.level=0,this.hasNoDataValues=!1}copyFrom(s){this.min=s.min,this.max=s.max,this.level=s.level,this.hasNoDataValues=s.hasNoDataValues}}export{s as ElevationBounds};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../core/mathUtils.js\";import{ElevationSamplerData as a}from\"../../../layers/support/ElevationSamplerData.js\";import{bilerp as o}from\"../support/mathUtils.js\";import{ELEVATION_NODATA_VALUE as s}from\"./TerrainConst.js\";class r{constructor(t,o,s){this.type=\"elevation\",this.level=t[0],this.i=t[1],this.j=t[2],this.extent=o,this.samplerData=new a(s,o)}computeMinMaxValue(t,a,r,i){i.min=1/0,i.max=-1/0,i.hasNoDataValues=!1;const e=t-this.level;if(e<=0)return i;const l=2**e;if(!(Math.floor(a/l)===this.i&&Math.floor(r/l)===this.j))return i;let n=1/0,h=-1/0;const f=this.samplerData.data.width,m=this.samplerData.data.values,u=.5*s;let c=(f-1)/l,p=(r-this.j*l)*c,M=(a-this.i*l)*c;if(c<1){const t=Math.floor(p),a=Math.floor(M),s=t+a*f,r=m[s],e=m[s+1],l=m[s+f],n=m[s+f+1];if(r+e+l+n<u){const s=p-t,h=M-a,f=o(r,e,l,n,s,h),m=o(r,e,l,n,s+c,h),u=o(r,e,l,n,s,h+c),x=o(r,e,l,n,s+c,h+c);return i.min=Math.min(f,m,u,x),i.max=Math.max(f,m,u,x),i}p=t,M=a,c=1}else p=Math.floor(p),M=Math.floor(M),c=Math.ceil(c);for(let o=p;o<=p+c;o++)for(let t=M;t<=M+c;t++){const a=m[o+t*f];a<u?(n=Math.min(n,a),h=Math.max(h,a)):i.hasNoDataValues=!0}return i.min=n,i.max=h,i}}const i=.5*s;function e(a,o,s){if(null==s)return null;for(const r of s){if(!r)continue;const s=r.safeWidth;let e=t(r.dy*(r.y1-o),0,s),l=t(r.dx*(a-r.x0),0,s);const n=Math.floor(e),h=Math.floor(l),f=r.data.width,m=n*f+h,u=r.data.values,c=u[m],p=u[m+1],M=m+f,x=u[M],d=u[M+1];if(c+x+p+d<i){e-=n,l-=h;const t=c+(p-c)*l;return t+(x+(d-x)*l-t)*e}}return null}export{r as ElevationData,e as sampleElevation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectWithoutEngine as s}from\"../../../geometry/projection.js\";import{fromExtent as i,empty as l,expand as o,allFinite as a,equals as c}from\"../../../geometry/support/aaBoundingRect.js\";import{isTiledLayer as p}from\"../../../layers/support/layerUtils.js\";import{ViewingMode as u}from\"../../ViewingMode.js\";import{WEBMERCATOR_WORLD_EXTENT as y,GEOGRAPHIC_WORLD_EXTENT as d}from\"./TerrainConst.js\";import{getTiledLayerInfo as f,isProjectableRasterLayer as E}from\"./terrainUtils.js\";let m=class extends t{constructor(e){super(e)}initialize(){this.addHandles([this.layerViews.on(\"change\",(()=>this.notifyChange(\"stencilEnabledExtents\")))])}destroy(){}get layerViewsExtent(){return this._computeLayerViewsExtent()}get tiledLayersExtent(){return this._computeTiledLayersExtent()}get stencilEnabledExtents(){return this._computeStencilEnabledExtents()}_computeStencilEnabledExtents(){const e=[];return this.layerViews.forEach((t=>{const r=t.layer;if(\"IntegratedMeshLayer\"===r.operationalLayerType&&null!=this.viewSpatialReference){const t=g(r.fullExtent,this.viewSpatialReference);null!=t&&e.push(i(t))}})),e}};function x(e,t){return e===u.Global?new h(t):new w(t)}e([r({readOnly:!0})],m.prototype,\"layerViewsExtent\",null),e([r({readOnly:!0})],m.prototype,\"tiledLayersExtent\",null),e([r({readOnly:!0})],m.prototype,\"stencilEnabledExtents\",null),e([r()],m.prototype,\"viewSpatialReference\",void 0),e([r()],m.prototype,\"tilingScheme\",void 0),e([r()],m.prototype,\"defaultTiledLayersExtent\",void 0),e([r({constructOnly:!0})],m.prototype,\"layers\",void 0),e([r({constructOnly:!0})],m.prototype,\"layerViews\",void 0),m=e([n(\"esri.views.3d.terrain.ExtentHelper\")],m);let h=class extends m{_computeLayerViewsExtent(){return this._globalExtent}_computeTiledLayersExtent(){return this._globalExtent}get _globalExtent(){return this.viewSpatialReference.isWebMercator?y:d}};h=e([n(\"esri.views.3d.terrain.ExtentHelperGlobal\")],h);let w=class extends m{_computeLayerViewsExtent(){const e=l(),t=this.viewSpatialReference;this.layerViews.forEach((r=>{const n=r.layer;if(r.isResolved()&&(\"graphics\"!==n.type||!n.internal)){const n=g(\"fullExtentInLocalViewSpatialReference\"in r&&r.fullExtentInLocalViewSpatialReference||r.layer.fullExtent,t);o(e,n,e)}}));const r=a(e)?e:null,n=this._get(\"layerViewsExtent\");return c(r,n)?n:r}_computeTiledLayersExtent(){const e=this.tilingScheme;if(!e)return null;const t=this.viewSpatialReference,r=l();this.layers.forEach((n=>{if(n.loaded&&p(n)){const s=f(n,t,u.Local);if(null==s)return;const{tileInfo:i,fullExtent:l}=s;null!=i&&null!=l&&(E(n)||e.compatibleWith(i)&&l.spatialReference.equals(e.spatialReference))&&o(r,l,r)}})),o(r,this.defaultTiledLayersExtent,r);const n=a(r)?r:null,s=this._get(\"tiledLayersExtent\");return c(n,s)?s:n}};function g(e,t){return null==e||e.spatialReference.equals(t)?e:s(e,e.spatialReference,t)}w=e([n(\"esri.views.3d.terrain.ExtentHelperLocal\")],w);export{m as ExtentHelper,x as create};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar A;!function(A){A[A.ELEVATION=0]=\"ELEVATION\",A[A.MAP=1]=\"MAP\"}(A||(A={}));const E=[A.ELEVATION,A.MAP];export{A as LayerClass,E as LayerClasses};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(){const e=globalThis.require?.modules;if(e){const o=Object.keys(e);for(const s of o)-1!==s.search(\".glsl\")&&delete e[s]}}export{e as removeLoadedShaderModules};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{Cyclical as r,cyclicalPI as s}from\"../../../core/Cyclical.js\";import i from\"../../../core/Handles.js\";import has from\"../../../core/has.js\";import{clamp as a,deg2rad as n}from\"../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../core/maybe.js\";import{watch as l,sync as h}from\"../../../core/reactiveUtils.js\";import{Milliseconds as c}from\"../../../core/time.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as p}from\"../../../chunks/vec2.js\";import{a as _,b as m,z as y,c as g,i as v}from\"../../../chunks/vec3.js\";import{c as f}from\"../../../chunks/vec3f64.js\";import{t as R,b as O,a as T}from\"../../../chunks/vec4.js\";import{c as w,f as x}from\"../../../chunks/vec4f64.js\";import{getReferenceEllipsoid as D}from\"../../../geometry/ellipsoidUtils.js\";import{projectVectorToVector as S}from\"../../../geometry/projection.js\";import{create as E,width as P,copy as M,center as U,height as C,intersection as b,contains as I,intersects as j,offset as N}from\"../../../geometry/support/aaBoundingRect.js\";import{create as A,wrap as G}from\"../../../geometry/support/ray.js\";import{b as k,e as L,t as H}from\"../../../chunks/sphere.js\";import{angleAroundAxis as q}from\"../../../geometry/support/vector.js\";import{y2lat as B}from\"../../../geometry/support/webMercatorUtils.js\";import{viewAngle as F}from\"../state/utils/viewUtils.js\";import V from\"../support/debugFlags.js\";import{PointGraphics as z}from\"../support/debugUtils.js\";import{OverlayIndex as W}from\"./interfaces.js\";import{OverlayStretch as Y}from\"./Overlay.js\";import{OverlayRenderer as X}from\"./OverlayRenderer.js\";import{RenderRequestType as K,ValidationState as Z}from\"../webgl-engine/lib/basicInterfaces.js\";import{newIntersector as J}from\"../webgl-engine/lib/Intersector.js\";import{fromValues as Q}from\"../webgl-engine/lib/LocalOriginFactory.js\";import{UpdateParameters as $}from\"../webgl-engine/lib/Material.js\";import{SortedRenderGeometryRenderer as ee}from\"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";import{applyTextureResizeModulo as te}from\"../webgl-engine/lib/textureUtils.js\";import{removeLoadedShaderModules as re}from\"../webgl-engine/parts/requireUtils.js\";import{TaskPriority as se,noBudget as ie,Task as ae}from\"../../support/Scheduler.js\";const ne=[[-.1,-2,3.9,2],[-.1,-3.9,3.9,.1],[-2,-3.9,2,.1],[-3.9,-3.9,.1,.1],[-3.9,-2,.1,2],[-3.9,-.1,.1,3.9],[-2,-.1,2,3.9],[-.1,-.1,3.9,3.9]];let oe,le=class extends t{get running(){return this._placementDirty&&(this._drapeSources.size>0||this.view.graphics.length>0||V.OVERLAY_DRAW_DEBUG_TEXTURE)&&!!this._spatialReference&&!this.suspended&&this.surface.ready}get _isSpherical(){return this.view.state.isGlobal}get _worldToPCSRatio(){return null!=this._spatialReference&&this._spatialReference.isGeographic&&!this.view.state.isLocal?D(this._spatialReference).metersPerDegree:1}get suspended(){return this.surface.suspended}get updating(){return this.running||this.renderer.updating||this._contentUpdated}get hasHighlights(){return this.renderer.hasHighlights}get rendersOccluded(){return this.renderer.rendersOccluded}constructor(e){super(e),this._handles=new i,this._spatialReference=null,this._renderSR=null,this._overlaySREqualsRenderSR=!0,this._drapeSources=new Set,this._drapeTargets=new Set,this._placementDirty=!1,this._contentUpdated=!1,this._drawTexturesDirty=!1,this._drawTexturesAnimateDirty=!1,this._hasUnusedRenderTargets=!1,this._longitudeCyclical=null,this._latestOriginId=0,this._maxResolution=has(\"esri-mobile\")?2048:4096,this._animationTimeLast=0,this._removeRenderOverlayCallback=()=>{}}initialize(){const e=this.view;this.renderer=new X({view:e,worldToPCSRatio:this._worldToPCSRatio,spatialReference:this._spatialReference});const t=()=>this.setDrawTexturesDirty();this._groundIntersector=J(this.view.state.viewingMode),this._groundIntersector.options.backfacesTerrain=!0,this._groundIntersector.options.invisibleTerrain=!0,this._groundIntersector.options.hud=!1,this._handles.add([this.renderer.events.on(\"has-highlights\",(()=>{t(),this.notifyChange(\"hasHighlights\")})),this.renderer.events.on(\"has-water\",(t=>e._stage?.renderer.setParameters({hasOverlayWater:t}))),this.renderer.events.on(\"renders-occluded\",(()=>{t(),this.notifyChange(\"rendersOccluded\")})),this.renderer.events.on(\"content-changed\",t),l((()=>e.state.camera.pixelRatio),t),l((()=>e.state.alignPixelEnabled),t),this.renderer.events.on(\"textures-disposed\",(()=>this.updateOverlayResult())),l((()=>[e.pointsOfInterest?.renderPointOfView,e.pointsOfInterest?.centerOnSurfaceFrequent?.location]),(()=>this.setPlacementDirty())),l((()=>[e.state?.pixelRatio,e.state?.contentPixelRatio]),(()=>this.setPlacementDirty()),h),this.surface.on(\"elevation-change\",(()=>this.setPlacementDirty())),e.on(\"resize\",(()=>this.setPlacementDirty())),e.resourceController.scheduler.registerTask(se.OVERLAY,this),e._stage.renderView.events.on(\"force-camera-for-screenshot\",(e=>{this._updateOverlays(ie,e.camera,K.BACKGROUND),this.renderer.hasOverlays&&this._drawOverlayTextures(this.renderer.overlays,K.BACKGROUND,e)}))]);let r=e=>this._renderOverlayCallback(e);this._removeRenderOverlayCallback=()=>{r=()=>{}},e._stage?.renderer.setParameters({renderOverlay:e=>r(e)})}_renderOverlayCallback(e){this._contentUpdated=!1;const t=this.renderer;t.processSyncDrapeSources(),t.hasOverlays&&(this._dispatchAnimationUpdate(e),this._drawOverlayTextures(t.overlays,K.UPDATE,this.view.state)),this._hasUnusedRenderTargets&&this._collectUnusedRenderTargetMemory()}destroy(){this._handles=o(this._handles),this._removeRenderOverlayCallback(),this.view?._stage?.renderer.setParameters({renderOverlay:()=>{}}),null!=oe&&(oe.hide(),oe=null)}get hasOverlays(){return this.renderer.hasOverlays}setSpatialReference(e){this._spatialReference=e,this.renderer.spatialReference=e,this._longitudeCyclical=null;const t=this.view.renderSpatialReference;null!=e&&null!=t?(this._renderSR=t,this._overlaySREqualsRenderSR=e.equals(this._renderSR),this._isSpherical&&(this._longitudeCyclical=e.isWebMercator?new r(-20037508.342787,20037508.342787):new r(-180,180),this.renderer.longitudeCyclical=this._longitudeCyclical),this.renderer&&(this.renderer.worldToPCSRatio=this._worldToPCSRatio)):this.renderer.disposeOverlays()}get gpuMemoryUsage(){return this.renderer.gpuMemoryUsage}registerDrapeSource(e,t,r){this._drapeSources.add(e),this.renderer.ensureOverlays(this._drapeTargets,this._drapeSources);const s=this.renderer.createDrapeSourceRenderer(e,t,r);return this._updateDrapeSourceExtent(e),this._setContentDirty(),this.notifyChange(\"running\"),s}registerGeometryDrapeSource(e){return this.registerDrapeSource(e,ee)}_updateDrapeSourceExtent(e){2===this.renderer.overlays.length&&null!=e.setDrapingExtent&&null!=this._spatialReference&&e.setDrapingExtent(this.renderer.overlays,this._spatialReference)}unregisterDrapeSource(e){this._drapeSources.has(e)&&(this._drapeSources.delete(e),this.renderer.removeDrapeSourceRenderer(e),this.renderer.ensureDrapeSources(this._drapeSources),this._setContentDirty(),this.notifyChange(\"running\"))}registerDrapeTarget(e){this._drapeTargets.add(e),this.renderer.ensureOverlays(this._drapeTargets,this._drapeSources)}updateOverlayResult(){this.view._stage?.renderer.setParameters({overlays:this.renderer.overlays})}unregisterDrapeTarget(e){this._drapeTargets.delete(e),this.renderer.ensureDrapeTargets(this._drapeTargets)}_setContentDirty(){this.setPlacementDirty(),this.setDrawTexturesDirty()}setPlacementDirty(){this._placementDirty=!0}runTask(e){return this._updateOverlays(e,this.view.state.contentCamera,K.UPDATE)}_updateOverlays(e,t,r){if(!this._spatialReference)return ae.YIELD;const s=this._computeOverlayResolution(t);this._computeOverlayExtents(t,s,ue);const i=P(ue.inner)/P(ue.outer);this.renderer.ensureOverlays(this._drapeTargets,this._drapeSources);const a=this._updateOverlay(W.INNER,ue.inner,s,1*ue.pixelRatioAdjustment,ue.mapUnitsPerPixel),n=this._updateOverlay(W.OUTER,ue.outer,s,i*ue.pixelRatioAdjustment,ue.mapUnitsPerPixel);a!==ye.EXTENT&&n!==ye.EXTENT||(this._drapeSources.forEach((e=>this._updateDrapeSourceExtent(e))),this.surface.updateTileOverlayParams(r)),a===ye.NONE&&n===ye.NONE||this.setDrawTexturesDirty(),this._placementDirty=!1,e.madeProgress()}_computeOverlayResolution(e){const t=this.view.state.contentPixelRatio,r=e.fullWidth/e.pixelRatio*t,s=e.fullHeight/e.pixelRatio*t,i=Math.ceil(1.5*Math.max(r,s));return Math.min(te(i),this._maxResolution)}_updateOverlay(e,t,r,s,i){if(0===this.renderer.overlays.length)return ye.NONE;const a=this.renderer.overlays[e],n=a.mapUnitsPerPixel;if(a.mapUnitsPerPixel=i,a.pixelRatio=s,he(t,a.extent)&&r===a.resolution)return n===i?ye.NONE:ye.RERENDER_ONLY;M(a.extent,t),a.resolution=r;const o=U(a.extent);return a.renderLocalOrigin=Q(o[0],o[1],0,\"OV_\"+this._latestOriginId++),ye.EXTENT}setTileParameters(e){const t=e.renderData.overlay;if(this.renderer.overlays.length>0){const r=this.renderer.overlays[W.INNER],s=this.renderer.overlays[W.OUTER],i=e.extent;this._rectInsideRect(r.extent,i)||this._rectanglesOverlap(i,r.extent)||this._rectanglesOverlap(i,s.extent)?(this._setTileOverlayData(i,W.INNER,t),this._setTileOverlayData(i,W.OUTER,t)):(this._clearTileOverlayData(W.INNER,t),this._clearTileOverlayData(W.OUTER,t))}else this._clearTileOverlayData(W.INNER,t),this._clearTileOverlayData(W.OUTER,t)}overlayPixelSizeInMapUnits(e){if(0===this.renderer.overlays.length)return 0;const t=this.renderer.overlays[W.INNER],r=this.renderer.overlays[W.OUTER],s=this._pointIsInExtent(e,t.extent)?t:r;return(s.extent[2]-s.extent[0])/s.resolution}_setTileOverlayData(e,t,r){if(0===this.renderer.overlays.length)return;const s=this.renderer.overlays[t].extent,i=P(s),a=C(s);let n=e[0];if(this._longitudeCyclical){n=this._longitudeCyclical.minimalMonotonic(s[0],n);const t=this._longitudeCyclical.minimalMonotonic(s[0],e[2]);n>t&&(n=t-(e[2]-e[0]))}r.setScale(t,P(e)/i,C(e)/a),r.setOffset(t,(n-s[0])/i,(e[1]-s[1])/a)}_clearTileOverlayData(e,t){t.setScale(e,-1,-1),t.setOffset(e,-1,-1)}async reloadShaders(){re(),await this.renderer.reloadShaders(),this.setDrawTexturesDirty(),this.runTask(ie)}_dispatchAnimationUpdate(e){const t=c(e-this._animationTimeLast);if(t>=this.surface.view._stage.renderer.animationTimestep||null!=this.view.state.forcedAnimationTime||this._drawTexturesDirty||this._drawTexturesAnimateDirty){const r=c(t/this.surface.view._stage.renderer.animationTimeDilation),s=new $(this.view.state.camera,r,this.view.state.forcedAnimationTime);this.renderer.updateAnimation(s)&&(this._drawTexturesAnimateDirty=!0),this._animationTimeLast=e}}setDrawTexturesDirty(){this.renderer.hasOverlays?(this._contentUpdated=!0,this._drawTexturesDirty=!0,this.view._stage.renderView.requestRender()):this.setPlacementDirty()}_intersectGroundFromView(e,t,r,s){const i=this.view.sceneIntersectionHelper.getCenterRayWithSubpixelOffset(e,me,t,r);if(null==i)return!1;const a=i.origin,n=_(de,i.origin,i.direction);return this._groundIntersector.reset(a,n,e),this._groundIntersector.intersect([]),this.view.basemapTerrain.intersect(this._groundIntersector,null,a,n),this._groundIntersector.results.min.getIntersectionPoint(s)}_findHorizonBasedPointOfInterest(e,t){let r=.5;const i=.55,n=this.view.renderCoordsHelper.getAltitude(e.eye),o=this.view.pointsOfInterest.centerOnSurfaceFrequent,l=1e-5,h=a(o.estimatedSurfaceAltitude,e.aboveGround?-1/0:n+l,e.aboveGround?n-l:1/0),c=e.aboveGround;if(\"global\"===this.view.viewingMode){const t=de;k(L(H,D(this.view.spatialReference).radius+h),G(e.eye,e.viewForward),t),m(t,t,e.eye);const a=s.normalize(q(e.viewForward,t,e.viewRight))/e.fovY+.5,n=a<=0||a>=1?.5:i;r=c?n*a:a+n*(1-a)}else{const t=.5*Math.PI-Math.acos(-e.viewForward[2]),s=Math.tan(t),n=x(0,s,1,0),o=R(n,n,e.projectionMatrix)[1],l=a(.5+.5*o,0,1);r=1===l||0===l?.5:c?l*i:1-(1-l)*i}return!!this._intersectGroundFromView(e,.5,r,t)&&y(t,e.eye)<o.distance*o.distance}_computeOverlayExtents(e,t,r){const s=this.view.pointsOfInterest.centerOnSurfaceFrequent.renderLocation,i=f();this._findHorizonBasedPointOfInterest(e,i)||g(i,s),V.OVERLAY_SHOW_CENTER?(null==oe&&(oe=new z(this.view.graphics,\"red\")),oe.show(i,this._renderSR)):null!=oe&&oe.hide();const a=Math.max(.1,v(e.eye,i)),o=F(this.view.renderCoordsHelper,s,e.eye);this._overlaySREqualsRenderSR||S(i,this._renderSR,i,this._spatialReference);const l=this.surface.extent,h=!this._isSpherical&&null!=this._spatialReference&&this._spatialReference.isGeographic,c=h&&null!=this._spatialReference?1/D(this._spatialReference).metersPerDegree:1,d=this.view.state.contentPixelRatio,u=e.perScreenPixelRatio/d*a*c;r.mapUnitsPerPixel=u/this._worldToPCSRatio;let _=t*u/2*Y,m=!1,y=h?90:1/0;this._isSpherical&&null!=l&&null!=this._spatialReference&&(this._spatialReference.isWebMercator?(_/=Math.cos(B(i[1])),y=l[3]):(m=!0,_/=D(this._spatialReference).metersPerDegree,y=90),_>=y&&(_=y,i[1]=0,this._spatialReference.isWebMercator&&(i[0]=0)));let R=1;m&&(R=1/Math.max(.2,Math.cos(Math.abs(n(i[1])))),_*R>180&&(R=180/_),r.mapUnitsPerPixel*=R);const w=Math.log(2)/12;_=Math.exp(Math.round(Math.log(_)/w)*w);const x=_*R,E=32,U=.5*t/(E*x),C=.5*t/(E*_);i[0]=Math.round(i[0]*U)/U,i[1]=Math.round(i[1]*C)/C;const j=r.inner;j[0]=i[0]-x,j[1]=i[1]-_,j[2]=i[0]+x,j[3]=i[1]+_,this._isSpherical&&this._shiftExtentToFitBounds(j,1/0,y);const N=r.outer;if(6*x>P(l))M(N,l);else{if(Math.PI/2-Math.abs(o-Math.PI/2)<=.25*Math.PI)N[0]=j[0]-x,N[1]=j[1]-_,N[2]=j[2]+x,N[3]=j[3]+_;else{S(e.eye,this._renderSR,de,this._spatialReference),p(ce,i,de);let t=-Math.atan2(ce[1],ce[0])+.125*Math.PI;t<0&&(t+=2*Math.PI);const r=Math.floor(t/(.25*Math.PI));O(ce,ne[r],2*_),ce[0]*=R,ce[2]*=R,T(N,j,ce)}}if(this._isSpherical)N[0]=this._longitudeCyclical.clamp(N[0]),N[2]=this._longitudeCyclical.clamp(N[2]),N[1]=Math.max(N[1],-y),N[3]=Math.min(N[3],y);else{const e=b(j,l,pe),t=b(N,l,_e);I(e,t)&&(N[2]=N[0],N[3]=N[1])}const A=Math.abs(j[2]-j[0])/t;r.mapUnitsPerPixel=Math.max(r.mapUnitsPerPixel,A),r.pixelRatioAdjustment=r.mapUnitsPerPixel/A}_drawOverlayTextures(e,t,r){if(0===e.length||!this._drawTexturesDirty&&!this._drawTexturesAnimateDirty)return;const s=this._drawTexturesDirty;this._drawTexturesDirty=!1,this._drawTexturesAnimateDirty=!1;const i=this._drawOverlay(e[W.INNER],r),a=this._drawOverlay(e[W.OUTER],r);i!==Z.CHANGED&&a!==Z.CHANGED||this.surface.updateTileOverlayParams(K.UPDATE),this._collectUnusedRenderTargetMemory(),this.updateOverlayResult(),s?(this.surface.requestRender(t),t===K.UPDATE&&this.surface.requestUpdate()):this.surface.requestRender(K.BACKGROUND)}_drawOverlay(e,t){return this._longitudeCyclical?e.setupGeometryViewsCyclical(this._longitudeCyclical):e.setupGeometryViewsDirect(),e.draw(this.renderer,t)}_collectUnusedRenderTargetMemory(){this._hasUnusedRenderTargets=!1,this.renderer.hasOverlays&&(this._hasUnusedRenderTargets=this.renderer.collectUnusedRenderTargetMemory())}_rectanglesOverlap(e,t){return null!=e&&(this._longitudeCyclical?(this._longitudeCyclical.contains(t[0],t[2],e[0])||this._longitudeCyclical.contains(t[0],t[2],e[2])||this._longitudeCyclical.contains(e[0],e[2],t[0]))&&!(e[1]>t[3]||e[3]<t[1]):j(e,t))}_rectInsideRect(e,t){return null!=t&&(this._longitudeCyclical?this._longitudeCyclical.contains(e[0],e[2],t[0])&&this._longitudeCyclical.contains(e[0],e[2],t[2])&&t[1]>e[1]&&t[3]<e[3]:I(e,t))}_pointIsInExtent(e,t){if(this._longitudeCyclical)return this._longitudeCyclical.contains(t[0],t[2],e.x)&&e.y>=t[1]&&e.y<=t[3];const r=e.x,s=e.y;return r>t[0]&&r<t[2]&&s>t[1]&&s<t[3]}_shiftExtentToFitBounds(e,t,r){let s=0,i=0;e[0]<-t?s=e[0]+t:e[2]>t&&(s=t-e[2]),e[1]<-r?i=e[1]+r:e[3]>r&&(i=r-e[3]),N(e,s,i)}get test(){return{renderer:this.renderer,update:()=>this.runTask(ie)}}};function he(e,t){const r=1e-5,s=V.TESTS_DISABLE_OPTIMIZATIONS?0:r*Math.max(e[2]-e[0],e[3]-e[1],t[2]-t[0],t[3]-t[1]);return Math.abs(t[0]-e[0])<=s&&Math.abs(t[1]-e[1])<=s&&Math.abs(t[2]-e[2])<=s&&Math.abs(t[3]-e[3])<=s}e([d()],le.prototype,\"_spatialReference\",void 0),e([d({readOnly:!0})],le.prototype,\"running\",null),e([d()],le.prototype,\"_placementDirty\",void 0),e([d()],le.prototype,\"_contentUpdated\",void 0),e([d()],le.prototype,\"_isSpherical\",null),e([d()],le.prototype,\"_worldToPCSRatio\",null),e([d({autoDestroy:!0})],le.prototype,\"renderer\",void 0),e([d({constructOnly:!0})],le.prototype,\"view\",void 0),e([d({constructOnly:!0})],le.prototype,\"surface\",void 0),e([d()],le.prototype,\"suspended\",null),e([d()],le.prototype,\"updating\",null),e([d({type:Boolean})],le.prototype,\"hasHighlights\",null),e([d({type:Boolean})],le.prototype,\"rendersOccluded\",null),le=e([u(\"esri.views.3d.terrain.OverlayManager\")],le);const ce=w(),de=f(),ue={inner:E(),outer:E(),mapUnitsPerPixel:0,pixelRatioAdjustment:1},pe=E(),_e=E(),me=A();var ye;!function(e){e[e.NONE=0]=\"NONE\",e[e.EXTENT=1]=\"EXTENT\",e[e.RERENDER_ONLY=2]=\"RERENDER_ONLY\"}(ye||(ye={}));export{le as OverlayManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/PooledArray.js\";class t{constructor(e,t){this._factoryCallback=e,this._lengthCallback=t,this._pool=new Map}acquire(e){if(!t.test.disabled){const t=this._pool.get(e);if(t&&0!==t.length)return t.pop()}try{return this._factoryCallback(e)}catch(o){const t=window.performance&&window.performance.memory;let i=\"\";throw t&&(i=`\\n  totalJSHeapSize: ${t.totalJSHeapSize}, usedJSHeapSize: ${t.usedJSHeapSize}, jsHeapSizeLimit: ${t.jsHeapSizeLimit}`),console.log(\"Array allocation of size \"+e+\" failed: \"+o+i),o}}release(o){if(t.test.disabled)return;const i=this._lengthCallback(o);let s=this._pool.get(i);s||(s=new e({shrink:!0}),this._pool.set(i,s)),s.push(o)}clear(){this._pool.clear()}get test(){return{size:this._pool.size}}}t.test={disabled:!1};export{t as BufferPool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{a as t}from\"../../../chunks/vec3.js\";import{empty as e}from\"../../../geometry/support/aaBoundingBox.js\";import{BufferPool as s}from\"../../../geometry/support/buffer/BufferPool.js\";import{newLayout as i}from\"../support/buffer/InterleavedLayout.js\";import{internalAssert as r}from\"./terrainUtils.js\";import{decompressNormal as n,compressNormal as o}from\"../webgl-engine/lib/Normals.js\";import{VertexAttribute as u}from\"../webgl-engine/lib/VertexAttribute.js\";class l{constructor(){this.indices=null,this.vertexAttributes=null,this.boundingBox=e(),this.indexCount=0,this.numVerticesPerSide=0,this.uvRange=[0,0,1,1],this.outerEdges=[null,null,null,null],this.innerEdges=[null,null,null,null]}}class a{constructor(t,e,s,i,r){this.attributes=t,this.localOrigin=e,this.index0=s,this.stride=i,this.count=r}getVertexIndex(t){return this.getAttributeIndex(t)}getAttributeIndex(t){return r(0<=t&&t<this.count),this.index0+this.stride*t}_getVertexRaw(t,e){this.attributes.position.getVec(t,e)}getVertexPos(e,s){this._getVertexRaw(this.getAttributeIndex(s),e),t(e,e,this.localOrigin)}getNormal(t,e){const{typedBuffer:s,typedBufferStride:i}=this.attributes.normalCompressed;n(t,s,this.getAttributeIndex(e),i)}_setNormal(t,e,s,i){const{typedBuffer:r,typedBufferStride:n}=this.attributes.normalCompressed;o(r,t,e,s,i,n)}_setUV(t,e,s){b(this.attributes.uv0,t,e,s)}setNormalFromValues(t,e,s,i){this._setNormal(this.getAttributeIndex(t),e,s,i)}setVertexFromValuesRawPositionUV(t,e,s,i,r,n){const o=this.getAttributeIndex(t);this.attributes.position.setValues(o,e,s,i),this._setUV(o,r,n)}setVertexFromValuesRawPositionUVNormal(t,e,s,i,r,n,o,u,l){const a=this.getAttributeIndex(t);this.attributes.position.setValues(a,e,s,i),this._setUV(a,r,n),this._setNormal(a,o,u,l)}}const h=i().vec3f(u.POSITION).vec2i16(u.UV0).vec2i16(u.NORMALCOMPRESSED,{glNormalized:!0}),c=new s((t=>h.createBuffer(t)),(t=>t.count));function m(){c.clear()}function d(t){return c.acquire(t)}function f(t){c.release(t.vertexAttributes),t.vertexAttributes=null,t.indices=null}const g=16384;function b(t,e,s,i){t.setValues(e,s*g,i*g)}function x(t,e,s,i){t<i[0]?i[0]=t:t>i[3]&&(i[3]=t),e<i[1]?i[1]=e:e>i[4]&&(i[4]=e),s<i[2]?i[2]=s:s>i[5]&&(i[5]=s)}export{a as EdgeDescriptor,l as PatchGeometry,d as acquireTerrainAttributes,m as clearCaches,b as encodeUVInBuffer,x as minMaxBoundingBox,f as releaseGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{MAX_PATCH_TESSELATION as s}from\"./TerrainConst.js\";class t{constructor(){this.sinLonLUT=new Array(s+1),this.cosLonLUT=new Array(s+1),this.sinLatLUT=new Array(s+1),this.cosLatLUT=new Array(s+1)}update(s,t,n){const o=t[0],i=t[2];for(let r=0;r<=s;r++){const t=r/s,L=o*(1-t)+i*t;this.sinLonLUT[r]=Math.sin(L),this.cosLonLUT[r]=Math.cos(L);const a=n(t);this.sinLatLUT[r]=Math.sin(a),this.cosLatLUT[r]=Math.cos(a)}}}export{t as PatchGeometryLUT};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass e{constructor(){this.cornerTiles=[null,null,null,null],this.cornerTileSamplerVersions=[-1,-1,-1,-1]}}class l{constructor(){this.cornerNeighborData=[new e,new e,new e,new e],this.edgeResolutions=[-1,-1,-1,-1],this.edgePeerNeighbors=[null,null,null,null],this.edgePeerNeighborSamplerVersions=[-1,-1,-1,-1],this.cornerPeerNeighbors=[null,null,null,null]}}class r{constructor(){this.numVerticesPerSide=0,this.samplerData=null,this.clippingArea=null,this.wireframe=!1,this.samplerDataVersion=0,this.neighborData=new l}}export{e as CornerNeighborData,r as GeometryState,l as NeighborhoodData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as t}from\"../../../core/maybe.js\";import{TextureUpdate as e}from\"./interfaces.js\";class i{constructor(t){this._getFadeDuration=t,this._fadeStart=0,this._delayedTime=0}clear(){this._current=t(this._current),this._next=t(this._next),this._waiting=t(this._waiting),this._delayed=t(this._delayed)}get current(){if(null==this._current)return null;if(!this._isFadingEnabled){const t=this._delayed||this._waiting||this._next||this._current;t!==this._current&&(this._current=null,this.clear(),this._current=t)}let r=i.test.fadeMoment;if(null!=this._delayed&&(r=r||performance.now(),r>=this._delayedTime&&(this._push(this._delayed,n.Immediate),this._delayed=null)),null!=this._next){r=r||performance.now();const i=this._fadeDuration,n=null!=this._current&&this._next.texture===this._current.texture,s=this._next.type!==e.FADING,a=r-this._fadeStart>=i;(n||s||a)&&(t(this._current),this._current=this._next,this._next=this._waiting,this._waiting=null,this._fadeStart=this._alignFadeStart(r))}return this._current}get next(){return this._next}get fadeFactor(){if(null==this._next)return 1;const t=i.test.fadeMoment||performance.now(),e=Math.max(0,t-this._fadeStart),n=this._fadeDuration;return e>n?0:1-e/n}get isFading(){return null!=this._next||null!=this._delayed}push(e,i=n.Immediate){this._delayed=t(this._delayed),this._push(e,i)}_push(e,r){if(this._isFadingEnabled||this.clear(),null==this._current)return void(this._current=e);const s=i.test.fadeMoment||performance.now();return r!==n.Immediate?(this._delayed=e,void(this._delayedTime=s+r)):null==this._next?(this._next=e,void(this._fadeStart=this._alignFadeStart(s))):void(null!=e&&(t(this._waiting),this._waiting=e))}get _fadeDuration(){return null==this._waiting?this._getFadeDuration():.5*this._getFadeDuration()}_alignFadeStart(t){const e=this._getFadeDuration();return t+e-t%e}get _isFadingEnabled(){return this._getFadeDuration()>0}}var n;i.test={fadeMoment:0},function(t){t[t.Immediate=0]=\"Immediate\",t[t.Delayed=5e3]=\"Delayed\"}(n||(n={}));export{n as ActivationTime,i as TextureFader};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{TextureUpdate as e}from\"./interfaces.js\";import{PROGRESSIVE_LOADING_MODULO as t}from\"./TerrainConst.js\";import{getLayerWithExtentRange as s}from\"./terrainUtils.js\";import{fallsWithinLayer as i}from\"./tileUtils.js\";class l{get updating(){return!!this._tileRequested}init(e,t,s,i){this.tile=e,this._layerIdx=t,this._layerClass=s,this._suspended=i,this._tileLayerInfo=e.getLayerInfo(t,s),this._tileRequested=null;const l=this._findAncestorWithData();this._setUpsampleTile(l)}startLoading(){return this._requestNext()}dispose(){this._tileRequested&&(this._tileRequested.unrequestLayerData(this._layerIdx,this._layerClass,this),this._tileRequested=null),this.tile=null,this._tileLayerInfo=null}setSuspension(e){e!==this._suspended&&(this._suspended=e,e?this._tileRequested&&(this._tileRequested.unrequestLayerData(this._layerIdx,this._layerClass,this),this._tileRequested=null):this._tileLayerInfo.data||this.update())}update(){const e=this._findAncestorWithData();return this._setUpsampleTile(e),this._requestNext()}dataArrived(t,s){this._setUpsampleTile(t,s),this._tileRequested=null,t===this.tile?this.tile.updateRenderData(this._layerClass,e.FADING,s):this._requestNext()}dataMissing(){this._tileRequested=null,this._tileLayerInfo.data=null,this._requestNext()}_agentDone(){this.tile.agentDone(this._layerIdx,this._layerClass),this.dispose()}_requestNext(){if(this._suspended)return!0;const e=this._findNextDownload();if(this._tileRequested){if(e===this._tileRequested)return!0;this._tileRequested.unrequestLayerData(this._layerIdx,this._layerClass,this),this._tileRequested=null}return null!=e?e.requestLayerData(this._layerIdx,this._layerClass,this)&&(this._tileRequested=e):this._agentDone(),!!this._tileRequested}_findNextDownload(){const e=this._layerIdx,l=this._layerClass,a=this.tile.surface.layerViewByIndex(e,l),n=s(a),{minLevel:r,maxLevel:h}=a.dataLevelRange,d=this._desiredMinLevelDelta,o=this._progressiveLevelModulo+d,u=this._scaleRangeEnabled?i:()=>!0;let _=this.tile;const p=_.level;let f;const y=this._tileLayerInfo.upsampleInfo,v=null!=y?y.tile.level:-1,I=null!=y&&v-p>=d,c=n?.tilemapCache,q=\"vector-tile-3d\"===a.type?a.schemaHelper:null;for(;_&&u(_,n,!1)&&_.level>=r;){const s=_.level,i=p-s,a=_.layerInfo[l][e];if(a.data&&i>=d){(!I||s>v)&&this._setUpsampleTile(_),a.dataInvalidated&&(f=_);break}const n=q?.getLevelRowColumn(_.lij)??_.lij;if(\"unavailable\"!==c?.getAvailability(n[0],n[1],_.lij[2])&&s<=h&&!a.data&&!a.dataMissing&&((!f||_.level===r||s%t==0||p-f.level<d)&&(f=_),i>=o))break;_=_.parent}if(null!=f&&p-f.level<d)if(y)f=null;else{const t=this._findAncestorWithData();if(null!=t){this._setUpsampleTile(t);f=t.layerInfo[l][e].dataInvalidated?t:null}}return f}_findAncestorWithData(){const e=this.tile.elevationLevel,t=this._desiredMinLevelDelta;let s;for(let i=this.tile;i;i=i.parent)if(i.hasLayerData(this._layerIdx,this._layerClass)){if(e-i.level>=t)return i;s=i}return s}_setUpsampleTile(t,s){this._tileLayerInfo.setUpsampleInfo(this.tile,t),this.tile.updateRenderData(this._layerClass,e.FADING,s)}get test(){return{findNextDownload:()=>this._findNextDownload(),tileLayerInfo:this._tileLayerInfo}}}class a extends l{get _desiredMinLevelDelta(){throw n}get _progressiveLevelModulo(){throw n}dispose(){}}const n=new Error(\"Abstract method called on TileAgent\"),r=new a;export{r as TILE_AGENT_DONE,l as TileAgent};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{getElevationDesiredResolutionLevel as e}from\"./TerrainConst.js\";import{TileAgent as t}from\"./TileAgent.js\";class l extends t{constructor(){super(...arguments),this._scaleRangeEnabled=!1}get _desiredMinLevelDelta(){return e(this.tile.level)-(this.tile.elevationLevel-this.tile.level)}get _progressiveLevelModulo(){return 0}}export{l as ElevationTileAgent};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{PROGRESSIVE_LOADING_MODULO as e}from\"./TerrainConst.js\";import{TileAgent as r}from\"./TileAgent.js\";class t extends r{constructor(){super(),this._scaleRangeEnabled=!0}get _desiredMinLevelDelta(){return 0}get _progressiveLevelModulo(){return e}}export{t as MapTileAgent};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t,abortMaybe as s}from\"../../../core/maybe.js\";import e from\"../../../core/ObjectPool.js\";import i from\"../../../core/PooledArray.js\";import{releaseTileData as a}from\"./terrainUtils.js\";import{computeUpsampleInfo as n}from\"./tileUtils.js\";class l{constructor(){this.waitingAgents=new i,this._upsampleInfo=null,this.loadingAgent=null,this.requestPromise=null,this.requestAbort=null,this.pendingUpdates=0}static acquire(t){const s=o.acquire();return s._init(t),s}release(){this.dispose(),p.delete(this),o.release(this)}dispose(){this.loadingAgent=t(this.loadingAgent),this.abortRequest(),this._unsetUpsampleInfo(),this.pendingUpdates=0,this._data=a(this._data)}static prune(){o.prune(0)}_init(t){this.waitingAgents.clear(),this._data=a(this._data),this.dataMissing=!1,this.dataInvalidated=!1,this._unsetUpsampleInfo(),this.abortRequest(),this.loadingAgent=null,this.pendingUpdates=0,this._pool=t,this.elevationBounds=null}invalidateSourceData(){this.dataInvalidated=!0,this.dataMissing=!1,this._unsetUpsampleInfo()}abortRequest(){this.requestAbort=s(this.requestAbort),this.requestPromise=null}get upsampleInfo(){return this._upsampleInfo}_unsetUpsampleInfo(){null!=this._upsampleInfo&&(this._upsampleInfo.tile.unrefMapData(),this._pool.release(this._upsampleInfo),this._upsampleInfo=null)}setUpsampleInfo(t,s){if(t!==s&&null!=s){if(null==this._upsampleInfo)this._upsampleInfo=this._pool.acquire();else{if(this._upsampleInfo.tile===s)return;this._upsampleInfo.tile.unrefMapData()}s.refMapData(),n(t,s,this._upsampleInfo)}else this._unsetUpsampleInfo()}get data(){return this._data}set data(t){a(this._data),this._data=t}}const o=new e(l,null,(()=>{})),p=new Map;function r(){p.size>0&&(console.log(`${p.size} live TilePerLayerInfo allocations:`),p.forEach((t=>console.log(t,\"\\n\"))))}export{l as TilePerLayerInfo,r as printAllocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._texture=t,this.type=\"tile-texture\",this._refCount=1}retain(){++this._refCount}release(){--this._refCount,0===this._refCount&&this._texture.dispose()}get texture(){return this._texture}generateMipmap(){this._texture.generateMipmap()}get descriptor(){return this._texture.descriptor}get gpuMemoryUsage(){return this._texture.gpuMemoryUsage}}export{t as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.NONE=0]=\"NONE\",E[E.SPLIT=1]=\"SPLIT\",E[E.ELEVATION=2]=\"ELEVATION\",E[E.MERGE=4]=\"MERGE\",E[E.RENDERDATA=8]=\"RENDERDATA\",E[E.GEOMETRY=16]=\"GEOMETRY\",E[E.TEXTURE_NOFADING=32]=\"TEXTURE_NOFADING\",E[E.TEXTURE_FADING=64]=\"TEXTURE_FADING\"}(E||(E={}));export{E as TileUpdate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../core/mathUtils.js\";import{abortMaybe as t}from\"../../../core/maybe.js\";import i from\"../../../core/ObjectPool.js\";import{j as s,s as n}from\"../../../chunks/vec2.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{b as a,p as o,e as l,g as h,a as u,l as d,c}from\"../../../chunks/vec3.js\";import{c as g,u as p}from\"../../../chunks/vec3f64.js\";import{g as f}from\"../../../chunks/common.js\";import{getReferenceEllipsoid as m}from\"../../../geometry/ellipsoidUtils.js\";import{create as _,equals as y}from\"../../../geometry/support/aaBoundingRect.js\";import{c as A}from\"../../../chunks/sphere.js\";import{isGroupLayer as T}from\"../../../layers/support/layerUtils.js\";import{VectorTile as E}from\"../../2d/engine/vectorTiles/VectorTile.js\";import{ImageWithType as v}from\"../support/StreamDataLoader.js\";import{ElevationBounds as I}from\"./ElevationBounds.js\";import{ElevationTileAgent as M}from\"./ElevationTileAgent.js\";import{TextureUpdate as D}from\"./interfaces.js\";import{TileFrustumVisibility as L,NeighborIndex as x}from\"./ITile.js\";import{LayerClasses as S,LayerClass as O}from\"./LayerClass.js\";import{MapTileAgent as N}from\"./MapTileAgent.js\";import{RasterTile as j}from\"./RasterTile.js\";import{MAX_PATCH_TESSELATION as b,getElevationDesiredResolutionLevel as U}from\"./TerrainConst.js\";import{weakAssert as C,getLayerWithExtentRange as P,isBlendableLayerView as B,oppositeCorner as R,neighborCornerIndices as V,neighborEdgeIndices as w,oppositeEdge as G,internalAssert as W,ENABLE_TERRAIN_INTERNAL_CHECKS as q,isNorth as F,isSouth as H,isWest as k,isEast as X,ENABLE_WATERPROOFNESS_TESTS as Y,almostEquals as z,isWestCorner as $,isNorthCorner as J}from\"./terrainUtils.js\";import{TILE_AGENT_DONE as Q}from\"./TileAgent.js\";import{TilePerLayerInfo as K}from\"./TilePerLayerInfo.js\";import Z from\"./TileTexture.js\";import{TileUpdate as ee}from\"./TileUpdate.js\";import{fallsWithinLayer as te}from\"./tileUtils.js\";const ie=.1;class se{constructor(){this.lij=[0,0,0],this._children=[null,null,null,null],this._pendingUpdates=0,this.renderData=null,this._dirty=!0,this._previouslyRendered=!1,this.extent=_(),this._elevationBounds=r(),this.layerInfo=[[],[]],this.extentInRadians=_(),this.centerAtSeaLevel=g(),this._center=[g(),A(),g()],this.up=p(),this._isWithinClippingArea=!0,this._intersectsClippingArea=!0,this._maxTesselation=0,this._usedMemory=null,this._mapTileMemoryInternal=0,this._mapDataRefCount=0,this.screenDepth=0,this.renderOrder=0,this._edgeLen=0,this._edgeLen2=0,this._curvatureHeight=0,this.extentMidX=0,this.extentMidY=0,this.distanceToPOI=-1,this._lastPOI=g()}static prune(){ae.prune(0),oe.prune(0),K.prune()}get _isCached(){return!this.shouldLoad&&this._mapDataRefCount<=0}get maxTesselation(){return this._maxTesselation}get isWithinClippingArea(){return this._isWithinClippingArea}get intersectsClippingArea(){return this._intersectsClippingArea}get clippingArea(){return this._clippingArea}get parent(){return this._parent}get children(){return this._children}get surface(){return this._surface}get elevationBounds(){return this._elevationBounds}get level(){return this.lij[0]}get key(){return`${this.lij[0]}/${this.lij[1]}/${this.lij[2]}`}get edgeLen(){return this._edgeLen}get radius(){return this._center[he.MIDDLE][3]}get visible(){return this._dirty&&this.computeVisibility(),this._visible}get frustumVisibility(){return this._dirty&&this.computeVisibility(),this._frustumVisibility}computeVisibility(){this._dirty=!1;const e=this.parent,t=e?.frustumVisibility??L.INTERSECTS;this._frustumVisibility=t===L.INSIDE?L.INSIDE:t===L.OUTSIDE?L.OUTSIDE:this._calculateFrustumVisibilityStatus(this.surface.frustum);const i=this._frustumVisibility!==L.OUTSIDE&&this._intersectsClippingArea;i!==this._visible&&(this._visible=i,this._surface.emit(\"tiles-visibility-changed\"),this._surface.renderer.setDirty(),this.updateAgentSuspension())}get loadable(){return this.visible||this._surface.view.state.fixedContentCamera}get rendered(){const e=!!this.renderData;return e!==this._previouslyRendered&&(this._surface.emit(\"tiles-visibility-changed\"),this._previouslyRendered=e,this._surface.renderer.setDirty()),e}get shouldLoad(){return this.isLeaf}init(e,t,i){this.lij[0]=e[0],this.lij[1]=e[1],this.lij[2]=e[2],this.ellipsoid=m(i.tilingScheme.spatialReference),i.tilingScheme.getExtent(e[0],e[1],e[2],this.extent),i.tilingScheme.convertExtentToRadians(this.extent,this.extentInRadians),this.extentMidX=.5*(this.extent[0]+this.extent[2]),this.extentMidY=.5*(this.extent[1]+this.extent[3]),this._isWithinClippingArea=!0,this._intersectsClippingArea=!0,this._clippingArea=null,this._mapDataRefCount=0,i.upsampleMapCache.pop(this.key),this._edgeLen=0,this._edgeLen2=0,this._center[he.MIDDLE][3]=0,this.elevationLevel=e?e[0]:0,t&&t.elevationBounds?s(this._elevationBounds,t.elevationBounds):n(this._elevationBounds,0,0),this._pendingUpdates=0,this.renderData=null,this.screenDepth=0,this._visible=!1,this._previouslyRendered=!1,this._parent=t,this.unsetChildren(),this._surface=i,this.updateVisibility();for(const s of S){const e=i.numLayers(s),t=this.layerInfo[s];for(const i of t)i.release();t.length=e;for(let i=0;i<e;i++)t[i]=K.acquire(this._surface.upsampleInfoPool),s===O.ELEVATION&&this.findElevationBoundsForLayer(i,-1)}this.computeElevationBounds(),this._maxTesselation=Math.min(i.tilingScheme.pixelSize,b)}release(){C(!this.renderData,\"tile.renderData was not unloaded\"),this._surface.upsampleMapCache.pop(this.key);for(const e of S){for(const t of this.layerInfo[e])t.release();this.layerInfo[e].length=0}this._parent=null;for(let e=0;e<4;++e)this._children[e]=null;this._surface=null,this.setMemoryDirty()}refMapData(){++this._mapDataRefCount,this._isCached||this._surface.upsampleMapCache.pop(this.key)}unrefMapData(){if(--this._mapDataRefCount,this._isCached){this.setMemoryDirty();const e=this._cachedMemory;e>0&&this._surface.upsampleMapCache.put(this.key,this,e)}}setMemoryDirty(){this._usedMemory=null}get usedMemory(){return this._ensureUsedMemory()+(this._isCached?0:this._mapTileMemoryInternal)}get _cachedMemory(){return this._isCached?this._mapTileMemory:0}get _mapTileMemory(){return this._ensureUsedMemory(),this.layerInfo[O.MAP].reduce(((e,t)=>e+(t instanceof E?t.memoryUsed/t.referenced:0)),this._mapTileMemoryInternal)}get _cpuImageMemorySize(){const e=4,t=this._surface.tilingScheme.pixelSize;return t*t*e}_ensureUsedMemory(){if(null!=this._usedMemory)return this._usedMemory;this._usedMemory=0,this._mapTileMemoryInternal=0;let e=0;for(const{data:i}of this.layerInfo[O.MAP])i instanceof E?e+=this._getTerrainDataMemory(i):this._mapTileMemoryInternal+=this._getTerrainDataMemory(i);const t=this._cpuImageMemorySize;for(const i of this.layerInfo[O.ELEVATION])this._usedMemory+=i.data?t:0;return this.renderData&&(this._usedMemory+=this.renderData.estimatedGeometryMemoryUsage,this._mapTileMemoryInternal+=this.renderData.texture?.gpuMemoryUsage??0),this._isCached&&this._surface.upsampleMapCache.updateSize(this.key,this,this._mapTileMemoryInternal+e),this._usedMemory}getUsedMemoryForLayer(e,t){const i=this.layerInfo[e][t];return i?.data?e===O.MAP?this._isCached?0:this._getTerrainDataMemory(i.data):e===O.ELEVATION?this._cpuImageMemorySize:0:0}_getTerrainDataMemory(e){return e instanceof Z?e.texture.gpuMemoryUsage:e instanceof HTMLImageElement||e instanceof v?this._cpuImageMemorySize:e instanceof j?e.memoryUsage:e instanceof E?e.memoryUsed/e.referenced:0}updateScreenDepth(e){const t=this._center[he.MIDDLE],i=e,s=t[0],n=t[1],r=t[2],a=i[2]*s+i[6]*n+i[10]*r+i[14];this.screenDepth=a<0?0:a/(i[3]*s+i[7]*n+i[11]*r+i[15])}shouldSplit(e,t,i){if(!this.visible)return ee.NONE;if(null!=e.frustum&&(!this._intersectsClippingArea||this._calculateFrustumVisibilityStatus(e.frustum)===L.OUTSIDE))return ee.NONE;const s=this.level;a(me,this._center[he.MIDDLE],t);let n=o(me),r=me,c=he.MIDDLE;a(_e,this._center[he.TOP],t);const g=o(_e);g<n&&(n=g,r=_e,c=he.TOP),a(ye,this._center[he.BOTTOM],t);const p=o(ye);if(p<n&&(n=p,r=ye,c=he.BOTTOM),this._edgeLen2>n&&s<e.maxLod)return ee.SPLIT;const f=null!=i?i-s:1/0,m=Math.sqrt(n),_=e.fovX*m*2,y=this._edgeLen/_,A=()=>{if(s<e.maxLod)return this.elevationLevel=s,ee.NONE;const t=s+Math.ceil(-Math.log2(e.relativeWidthLimit/y));return t!==this.elevationLevel?(this.elevationLevel=t,ee.ELEVATION):ee.NONE};if(f<=.5)return A();const T=l(this.up,me),E=this._elevationBounds[1]-this._elevationBounds[0],v=E/this.edgeLen;if(e.aboveGround&&T>0&&v<.001){if(T/m-Math.sin(this._curvatureHeight/(this.edgeLen*Math.SQRT1_2)*Math.PI)-v>0)return ee.NONE}const I=null!=i?3-Math.min(f,2):1;if(y*I<e.relativeWidthLimit||s>=e.maxLod)return A();if(s<7)return ee.SPLIT;h(Ae,this.up,T),a(Ae,Ae,r);const M=o(Ae);if(M<=this.radius*this.radius)return ee.SPLIT;h(Ae,Ae,this.radius/Math.sqrt(M)),u(Ae,Ae,this._center[c]),a(Ae,t,Ae);const D=Math.min(1,(Math.abs(l(Ae,this.up))+.5*E+this._curvatureHeight)/d(Ae)),x=ie/e.angledSplitBias,S=e.fovY*m*2;return D*(this._edgeLen/S*I)<x*e.relativeHeightLimit?ee.NONE:ee.SPLIT}setChildren(e,t,i,s){C(!!(e&&t&&i&&s),\"Null child passed\"),this._children[0]=e,this._children[1]=t,this._children[2]=i,this._children[3]=s}unsetChildren(){this._children[0]=null,this._children[1]=null,this._children[2]=null,this._children[3]=null}get isLoaded(){return this.renderData?.hasGeometry??!1}load(){this.refMapData();for(const e of S)this._createOrUpdateAgents(0,e);this.surface.renderer.loadTile(this)}unload(e){e.unloadTile(this);for(const t of S){const e=this.layerInfo[t];for(const t of e)t.loadingAgent&&t.loadingAgent!==Q&&(re(t.loadingAgent),t.loadingAgent=null),t.pendingUpdates=0}this.resetPendingUpdate(ee.GEOMETRY),this.resetPendingUpdate(ee.TEXTURE_NOFADING),this.resetPendingUpdate(ee.TEXTURE_FADING),this.unrefMapData()}unloadMapData(){const e=this.layerInfo[O.MAP];for(const t of e)t.loadingAgent&&t.loadingAgent!==Q&&(re(t.loadingAgent),t.loadingAgent=null),t.pendingUpdates=0;this.renderData&&this.renderData.releaseTexture(),this.setMemoryDirty()}updateClippingStatus(e){if(y(e,this._clippingArea))return!1;const t=this._intersectsClippingArea,i=this._isWithinClippingArea;null!=e?(this._intersectsClippingArea=this.intersectsExtent(e),this._isWithinClippingArea=this._isWithinExtent(e)):(this._intersectsClippingArea=!0,this._isWithinClippingArea=!0),this._clippingArea=e,this.updateVisibility();const s=i&&this._isWithinClippingArea,n=!(i||t||this._isWithinClippingArea||this._intersectsClippingArea);return!this.renderData||s||n||this.setPendingUpdate(ee.GEOMETRY),!0}updateVisibility(){this._dirty=!0,this._surface.setTileTreeDirty()}getLayerInfo(e,t){return this.layerInfo[t][e]}hasLayerData(e,t){const i=this.layerInfo[t][e];return!(!i||!i.data||i.dataInvalidated)}get updating(){if(this.hasPendingUpdates)return!0;for(const e of S){const t=this.layerInfo[e];for(const e of t)if(e.loadingAgent&&e.loadingAgent!==Q&&e.loadingAgent.updating)return!0}return!1}_isSuspended(e){return!!this.hasPendingUpdate(ee.SPLIT)||e!==O.ELEVATION&&!this.loadable}get hasPendingUpdates(){return 0!==this._pendingUpdates}hasPendingUpdate(e){return(this._pendingUpdates&e)===e}setPendingUpdate(e){this._pendingUpdates|=e,e===ee.SPLIT||e===ee.MERGE?this._surface.setTileTreeDirty():this._surface.requestUpdate()}resetPendingUpdate(e){return!!this.hasPendingUpdate(e)&&(this._pendingUpdates&=~e,!0)}requestLayerData(e,i,s){const n=this.layerInfo[i][e];if(n.waitingAgents.has(s))return console.warn(\"agent already requested this piece of map data (tile %s, agent tile %s, layer: %d/%d)\",this.lij.toString(),s.tile.lij.toString(),i,e),!0;if(n.waitingAgents.push(s),n.data&&!n.dataInvalidated){console.warn(\"agent requested existing data (tile %s, agent tile %s, layer: %d/%d)\",this.lij.toString(),s.tile.lij.toString(),i,e);const t=n.data&&\"type\"in n.data&&\"vector-tile\"===n.data.type;return s.dataArrived(this,t),!0}if(n.requestPromise)return!0;t(n.requestAbort),n.requestAbort=new AbortController;const r=this._surface.requestTileData(this,e,i,n.requestAbort);if(!r)return n.requestAbort=null,!1;const a=()=>{n.requestPromise===r&&(n.requestPromise=null,n.requestAbort=null)};return n.requestPromise=r,r.then(a,a),!0}get isLeaf(){return null==this._children[0]}hasLij(e){return this.lij[0]===e[0]&&this.lij[1]===e[1]&&this.lij[2]===e[2]}findByLij(e){if(this.hasLij(e))return this;const t=this._children;if(!t[0])return null;return t[0].findByLij(e)||t[1].findByLij(e)||t[2].findByLij(e)||t[3].findByLij(e)}distanceToSquared(e){return o(a(Ae,this._center[he.MIDDLE],e))}containsPoint(e){const t=this.extent;return e[0]>=t[0]&&e[1]>=t[1]&&e[0]<=t[2]&&e[1]<=t[3]}containsPointXY(e,t){const i=this.extent;return e>=i[0]&&t>=i[1]&&e<=i[2]&&t<=i[3]}unrequestLayerData(e,t,i){const s=this.layerInfo[t][e],n=s.waitingAgents,r=null!=n.removeUnordered(i);C(r,\"agent has not requested this piece of map data\"),n.length<1&&(s.abortRequest(),this.setMemoryDirty())}dataArrived(e,t,i){const s=null!=i&&\"type\"in i&&\"vector-tile\"===i.type,n=this.layerInfo[t][e];n.data=i,n.dataInvalidated=!1,n.waitingAgents.forAll((e=>e.dataArrived(this,s))),n.waitingAgents.clear(),this.setMemoryDirty()}dataMissing(e,t,i){i.notInTilemap||console.error(`Tile ${this.lij.toString()} layer ${t}/${e} error ${i}`);const s=this.layerInfo[t][e];s.dataMissing=!0,s.waitingAgents.forAll((e=>e.dataMissing())),s.waitingAgents.clear(),this.setMemoryDirty()}updateRenderData(e,t,i){switch(i&&this.forEachLoadedNeighbor((i=>i.updateRenderData(e,t))),e){case O.MAP:return this._updateTexture(t);case O.ELEVATION:return this._updateGeometry()}}_updateTexture(e){this.renderData&&(this.resetPendingUpdate(e===D.FADING?ee.TEXTURE_NOFADING:ee.TEXTURE_FADING),this.setPendingUpdate(e===D.FADING?ee.TEXTURE_FADING:ee.TEXTURE_NOFADING))}_updateGeometry(){this.setPendingUpdate(ee.GEOMETRY);for(const e of this.layerInfo[O.ELEVATION])e.pendingUpdates|=ee.GEOMETRY}invalidateLayerData(e,t){this.layerInfo[t][e].invalidateSourceData(),this.restartAgents(t)}computeElevationBounds(){const e=this._elevationBounds,t=e[0],i=e[1];n(e,1/0,-1/0);const s=this.layerInfo[O.ELEVATION];let r=!0;for(const n of s)null!=n.elevationBounds&&(e[0]=Math.min(e[0],n.elevationBounds.min),e[1]=Math.max(e[1],n.elevationBounds.max),n.elevationBounds.hasNoDataValues||(r=!1));r&&(e[0]=Math.min(e[0],0),e[1]=Math.max(e[1],0)),t===e[0]&&i===e[1]||(this.updateRadiusAndCenter(),this._surface.setTileTreeDirty())}_updateCenter(){const e=this._elevationBounds,t=.5*(e[0]+e[1]),i=this._center;h(Ae,this.up,t),u(i[he.MIDDLE],this.centerAtSeaLevel,Ae),h(Ae,this.up,e[0]),u(i[he.TOP],this.centerAtSeaLevel,Ae),h(Ae,this.up,e[1]),u(i[he.BOTTOM],this.centerAtSeaLevel,Ae)}findElevationBoundsForLayer(e,t){const i=this.layerInfo[O.ELEVATION][e],s=U(this.level),n=Math.max(this.elevationLevel-s,0),r=i.elevationBounds;if(null!=r&&r.level>=t&&r.level<=n)return;const a=this._surface.layerViewByIndex(e,O.ELEVATION),o=P(a);if(!te(this,o,!1))return;const l=le;let h=!1;const u=i.data;if(u&&u.level<=n){const e=i.data;l.min=e.samplerData.data.minValue,l.max=e.samplerData.data.maxValue,l.hasNoDataValues=e.samplerData.data.hasNoDataValues,l.level=this.level,h=!0}else{let t,i,r=0;for(let a=this._parent;a&&(!i||r<s)&&(r=this.elevationLevel-a.level,t=i||t,i=a.layerInfo[O.ELEVATION][e].data,!(!i&&t&&a.level<=n));a=a.parent);i=i||t,i&&(i.computeMinMaxValue(this.lij[0],this.lij[1],this.lij[2],l),l.min!==1/0&&(l.level=i.level,h=!0))}h&&(null==i.elevationBounds&&(i.elevationBounds=new I),i.elevationBounds.copyFrom(l))}modifyLayers(e,t,i){const s=this.layerInfo[i];for(const a of s)a.loadingAgent&&a.loadingAgent!==Q&&(re(a.loadingAgent),a.loadingAgent=null),a.waitingAgents.clear();for(let a=0;a<s.length;++a)void 0===e[a]&&s[a].release();const n=new Array(...s),r=t.length;s.length=r;for(let a=0;a<r;a++){const e=t[a];s[a]=e>-1?n[e]:K.acquire(this._surface.upsampleInfoPool)}this.setMemoryDirty()}restartAgents(e){this.renderData&&(this._createOrUpdateAgents(0,e),this.updateRenderData(e,D.FADING))}updateAgents(e){if(this.renderData){const t=this.layerInfo[e];for(const e of t)e.loadingAgent===Q&&(e.loadingAgent=null);this._createOrUpdateAgents(0,e)}}updateAgentSuspension(){for(const e of S){const t=this._isSuspended(e);for(const i of this.layerInfo[e])i.loadingAgent&&i.loadingAgent!==Q&&(i.loadingAgent.setSuspension(t),i.loadingAgent===Q&&this.updateRenderData(e,D.FADING))}}removeLayerAgent(e,t){const i=this.layerInfo[t][e];i.loadingAgent&&i.loadingAgent!==Q&&i.loadingAgent.dispose(),i.loadingAgent=null}agentDone(e,t){const i=this.layerInfo[t][e];i.loadingAgent=Q,i.data||null!=i.upsampleInfo||this._createOrUpdateAgents(e+1,t)}_hasBlendableAncestor(e){return\"normal\"!==e.blendMode||T(e.parent)&&this._hasBlendableAncestor(e.parent)}_hasBlendModes(e,t,i){for(let s=e;s<t;++s){const e=this._surface.layerViewByIndex(s,i);if(B(e)&&\"normal\"!==e?.layer?.blendMode||T(e?.layer?.parent)&&this._hasBlendableAncestor(e?.layer?.parent))return!0}return!1}_createOrUpdateAgents(e,t){const i=this.layerInfo[t];if(0===i.length)return;const s=this._isSuspended(t);for(let n=e;n<i.length;++n){const r=i[n];let a=!1;const o=this._surface.layerViewByIndex(n,t),l=P(o);if(r.loadingAgent?te(this,l,!1)?(r.loadingAgent!==Q&&r.loadingAgent.setSuspension(s),r.loadingAgent!==Q&&(a=r.loadingAgent.update())):r.dispose():te(this,l,!1)&&(r.loadingAgent=ne(this,n,t,s),a=r.loadingAgent.startLoading(),a?r.loadingAgent===Q&&this.setPendingUpdate(ee.GEOMETRY):(re(r.loadingAgent),r.loadingAgent=Q)),r.loadingAgent===Q&&this.updateRenderData(t,D.FADING),!this._hasBlendModes(e,i.length,t)&&a&&o.isOpaque)return}}_isWithinExtent(e){const t=this.extent;return t[0]>=e[0]&&e[2]>=t[2]&&t[1]>=e[1]&&e[3]>=t[3]}intersectsExtent(e){const t=this.extent;return t[2]>=e[0]&&e[2]>=t[0]&&t[3]>=e[1]&&e[3]>=t[1]}getElevationVerticesPerSide(t){const i=this.elevationLevel-this.level,s=Math.max(this.level-t,U(this.level)-i),n=e(1+(this.maxTesselation>>s),2,this.maxTesselation+1),r=this.getDefaultVerticesPerSide();return Math.max(n,r)}get test(){return{cachedMemory:this._cachedMemory}}_findLIJ(e,t){if(!e)return null;const i=this.surface.rootTiles;if(null!=i)for(const s of i)if(ue(s,e)){let i=s,n=e[0]-i.level-1;for(;n>=0&&!i.isLeaf&&!t(i);){const t=e[1]>>n&1,s=e[2]>>n&1;i=i.children[2*t+s],n--}return t(i)?i:null}return null}findNeighborTile(e,t){const i=this.lij,s=this.getNeighborLIJ(i,e);return s?de(i,s)?t(this)?this:null:this._findLIJ(s,t):null}findCorner(e,t){const i=e===x.NORTH_EAST?1:e===x.NORTH_WEST?0:e===x.SOUTH_WEST?2:3;let s=this;for(;s.children[0]&&(!t||!t(s));)s=s.children[i];return s}findNeighborCornerTileExact(e,t){return this.findNeighborTile(e,(e=>t(e)||e.level===this.level))?.findCorner(R(e),t)||null}forAllSubtreeOnSide(e,t){const i=e===x.NORTH?[0,1]:e===x.NORTH_EAST?[1]:e===x.EAST?[1,3]:e===x.SOUTH_EAST?[3]:e===x.SOUTH?[2,3]:e===x.SOUTH_WEST?[2]:e===x.WEST?[0,2]:[0],s=e=>{const n=e.children;!t(e)&&n[0]&&i.forEach((e=>s(n[e])))};s(this)}forallNeighbors(e){V.forEach((t=>this.findNeighborCornerTileExact(t,e))),w.forEach((t=>this.findNeighborTile(t,(t=>t.level===this.level||e(t)))?.forAllSubtreeOnSide(G(t),e)))}getNeighborEdgeStartVertexIndex(e,t){if(!t)return 0;const i=this.level-t.level;if(W(!q||i>=0),0===i)return 0;const s=2**i,n=1==(1&e),r=n?0:1,a=t.lij[r+1]*s,o=this.lij[r+1],l=o-a,h=n?s-1-l:l;return q&&(W(a<=o&&o<a+s),W(0<=h&&h<s)),h}forEachLoadedNeighbor(e){const t=this.level,i=e=>e.level===t||e.isLoaded;w.forEach((t=>{const s=this.findNeighborTile(t,i);null!=s&&s!==this&&s.forAllSubtreeOnSide(G(t),(i=>!!i.isLoaded&&(e(i,t),!0)))})),V.forEach((t=>{const s=this.findNeighborTile(t,i)?.findCorner(R(t),(e=>e.isLoaded));W(!s||ge(this,s,t)),s?.isLoaded&&e(s,t)}))}getNeighborLIJ(e,t){const i=F(t)?-1:H(t)?1:0,s=k(t)?-1:X(t)?1:0,n=[e[0],e[1]+i,e[2]+s];return n[1]<0?null:this.surface.isGlobal?this.wrapLIJ(n):n[2]<0?null:n}wrapLIJ(e){return!e||e[1]<0||e[1]>=2**e[0]?null:this.surface.wrapEastWest(e)}get westNeighborWestExtent(){return this.extent[0]*(this.isWestEnd?-1:1)}get eastNeighborEastExtent(){return this.extent[2]*(this.isEastEnd?-1:1)}get isEastEnd(){return this.lij[2]===this.surface.lijEastEnd(this.level)-1}get isWestEnd(){return 0===this.lij[2]}get isNorthEnd(){return 0===this.lij[1]}get isSouthEnd(){const e=this.surface.extent,t=e?.[1]??null;return null!=t&&this.extent[1]+f()>=t}checkGeometryWaterproofness(){Y&&(W(this.isLoaded),this.renderData?.checkGeometryWaterproofness())}shouldHaveNeighbor(e){const t=this.extent,i=this.surface.rootTilesExtent,s=.25*(t[2]-t[0]);if(F(e)&&t[3]+s>=i[3])return!1;if(H(e)&&t[1]-s<=i[1])return!1;const n=this.surface.isGlobal;return!(!n&&k(e)&&t[0]-s<=i[0])&&!(!n&&X(e)&&t[2]+s>=i[2])}updateDistanceToPOI(e){const t=this._lastPOI;if(this.distanceToPOI>=0&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2])return;c(this._lastPOI,e);const i=this._center[he.MIDDLE],s=e[0]-i[0],n=e[1]-i[1],r=e[2]-i[2];this.distanceToPOI=s*s+n*n+r*r}}function ne(e,t,i,s){const n=i===O.ELEVATION?oe.acquire():ae.acquire();return n.init(e,t,i,s),n}function re(e){e.dispose(),e instanceof M?oe.release(e):e instanceof N&&ae.release(e)}const ae=new i(N),oe=new i(M),le=new I;var he;function ue(e,t){const i=e.level,s=t[0];if(i>s)return!1;const n=s-i,r=Math.floor(t[1]/2**n),a=Math.floor(t[2]/2**n);return r===e.lij[1]&&a===e.lij[2]}function de(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function ce(e,t,i){if(null==e||null==t)return!1;if(0===e.level&&0===t.level){if(e.isEastEnd&&t.isWestEnd&&i===x.EAST)return!0;if(e.isWestEnd&&t.isEastEnd&&i===x.WEST)return!0}const s=Math.max(1e-6*(e.extent[2]-e.extent[0]),1);switch(i){case x.NORTH:return z(e.extent[3],t.extent[1],s);case x.SOUTH:return z(e.extent[1],t.extent[3],s);case x.EAST:return z(e.extent[2],t.extent[0],s)||z(e.extent[2],-t.extent[0],s);case x.WEST:return z(e.extent[0],t.extent[2],s)||z(e.extent[0],-t.extent[2],s)}}function ge(e,t,i){return null!=e&&null!=t&&t!==e&&(e.level>=t.level?pe(e,t,i):pe(t,e,R(i)))}function pe(e,t,i){W(e.level>=t.level);const s=$(i),n=J(i),r=e.extent,a=t.extent,o=[s?r[0]:r[2],n?r[3]:r[1]],l=[s?a[2]:a[0],n?a[1]:a[3]],h=1e-5*(r[2]-r[0]),u=z(o[0],l[0],h)||e.surface.isGlobal&&z(o[0],-l[0],h),d=z(o[1],l[1],h);if(u&&d)return!0;if(e.level===t.level)return W(!1),!1;if(!u&&!d)return W(!1),!1;const c=u?fe(a[1],a[3],r[1],r[3],h):fe(a[0],a[2],r[0],r[2],h);return W(c),c}function fe(e,t,i,s,n){return e-n<=i&&i<=s&&s<=t+n}!function(e){e[e.TOP=0]=\"TOP\",e[e.MIDDLE=1]=\"MIDDLE\",e[e.BOTTOM=2]=\"BOTTOM\"}(he||(he={}));const me=g(),_e=g(),ye=g(),Ae=g();export{he as CenterPosition,se as Tile,ge as isCornerNeighbor,ce as isEdgeNeighbor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as s}from\"../../../chunks/vec4f64.js\";class t{constructor(){this._scales=s(-1,-1,-1,-1),this._offsets=s(-1,-1,-1,-1)}clear(){this._scales[0]=this._scales[1]=this._scales[2]=this._scales[3]=-1,this._offsets[0]=this._offsets[1]=this._offsets[2]=this._offsets[3]=-1}setScale(s,t,e){this._scales[2*s]=t,this._scales[2*s+1]=e}setOffset(s,t,e){this._offsets[2*s]=t,this._offsets[2*s+1]=e}get scales(){return this._scales}get offsets(){return this._offsets}}export{t as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ViewingMode as e}from\"../../../ViewingMode.js\";import{a as i}from\"../../../../chunks/Terrain.glsl.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{StencilBits as n}from\"../lib/basicInterfaces.js\";import{Program as l}from\"../lib/Program.js\";import{renderWhenBitIsNotSet as s}from\"../lib/StencilUtils.js\";import{VertexAttribute as o}from\"../lib/VertexAttribute.js\";import{BlendFactor as a,CompareFunction as c}from\"../../../webgl/enums.js\";import{makePipelineState as d,simpleBlendingParams as u,backFaceCullingParams as p,defaultDepthWriteParams as m,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";class g extends t{constructor(){super(...arguments),this.useStencil=!1}initializeConfiguration(i,r){r.spherical=i.viewingMode===e.Global}initializeProgram(e){return new l(e.rctx,g.shader.get().build(this.configuration),S)}initializePipeline(){return this._stencilPipelineState=this._createPipeline(!0),this._createPipeline(!1)}_createPipeline(e){const i=this.configuration,r=i.backfaceCullingEnabled&&!i.renderOccluded;return d({blending:i.renderOccluded?u(a.ONE,a.ONE_MINUS_SRC_ALPHA):null,culling:r?p:null,depthTest:i.renderOccluded?null:{func:c.LESS},depthWrite:i.renderOccluded?null:m,colorWrite:h,stencilTest:e?s(n.IntegratedMeshMaskExcluded):null})}getPipelineState(e,i){return this.useStencil?this._stencilPipelineState:super.getPipelineState(e,i)}}g.shader=new r(i,(()=>import(\"../core/shaderLibrary/terrain/Terrain.glsl.js\")));const S=new Map([[o.POSITION,0],[o.UV0,1],[o.NORMALCOMPRESSED,2]]);export{g as TerrainTechnique,S as terrainVertexAttributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{equals as e}from\"../../../core/arrayUtils.js\";import{isPowerOfTwo as t}from\"../../../core/mathUtils.js\";import{i as r,j as i,u as s,b as a,n as o,e as n,w as l,F as h}from\"../../../chunks/vec3.js\";import{c as d,a as g}from\"../../../chunks/vec3f64.js\";import{empty as u}from\"../../../geometry/support/aaBoundingBox.js\";import{containsXY as c}from\"../../../geometry/support/aaBoundingRect.js\";import{earth as m}from\"../../../geometry/support/Ellipsoid.js\";import{glLayout as p}from\"../support/buffer/glUtil.js\";import{GeometryState as y}from\"./GeometryState.js\";import{NeighborIndex as f}from\"./ITile.js\";import{LayerClass as _}from\"./LayerClass.js\";import{PatchGeometry as x,releaseGeometry as D}from\"./PatchGeometry.js\";import{ENABLE_TERRAIN_INTERNAL_CHECKS as v,internalAssert as C,neighborEdgeIndices as S,oppositeEdge as $,neighborCornerIndices as E,v32s as b,lij2s as T}from\"./terrainUtils.js\";import{TextureFader as A,ActivationTime as V}from\"./TextureFader.js\";import{isEdgeNeighbor as j}from\"./Tile.js\";import R from\"./TileOverlayData.js\";import{fallsWithinLayer as w}from\"./tileUtils.js\";import{VertexArrayObject as L}from\"../webgl-engine/lib/VertexArrayObject.js\";import{terrainVertexAttributeLocations as P}from\"../webgl-engine/shaders/TerrainTechnique.js\";import{BufferObject as N}from\"../../webgl/BufferObject.js\";class G{constructor(){this.geometry=new x,this.intersectionData=null,this.geometryState=null,this._textureRef=new A((()=>this.tile.surface.textureFadeDuration)),this.overlay=new R,this._geometryStateChangedSinceLastUpdate=!0,this._hasGeometry=!1,this._numVerticesPerSideChanged=!1,this._samplerDataChanged=!1,this._clippingAreaChanged=!1,this._wireframeChanged=!1,this._dirtyEdgeResolutions=15,this._dirtyEdges=15,this._dirtyCorners=15}get tile(){return this._tile}init(e){this.clear(),this._tile=e;const t=this.geometry;t.indices=null,t.vertexAttributes=null,u(t.boundingBox),t.indexCount=0,t.numVerticesPerSide=0,this.intersectionData=null,this.geometryState=new y,this.localOrigin=null,this.overlay.clear()}clear(){this.releaseGeometry(),this.releaseTexture(),this._textureRef.clear(),this._tile=null,this.intersectionData=null,this.geometryState=null}updateGeometryIfNeeded(e){if((!this._vao||this._geometryStateChangedSinceLastUpdate||this._wireframeChanged||this._clippingAreaChanged||this._samplerDataChanged||this._numVerticesPerSideChanged||this._dirtyCorners||this._dirtyEdgeResolutions||this._dirtyEdges)&&(this._updateGeometry(e),this._geometryStateChangedSinceLastUpdate=!1),v&&this.tile.intersectsClippingArea)for(let t=0;t<4;++t)C(this.geometry.outerEdges[t].count===this.geometryState.neighborData.edgeResolutions[t]+1)}_calculateEdgeResolution(e,t){const r=this.tile,i=this.geometryState.numVerticesPerSide-1;if(!r.surface.isGlobal){const t=r.surface.extent;if(null!=t&&(0===e&&r.extent[3]>t[3]||1===e&&r.extent[2]>t[2]||2===e&&r.extent[1]<t[1]||3===e&&r.extent[0]<t[0]))return i}const s=r.level,a=S[e];if(!t)return C(null==r.surface?.rootTiles||r.surface.updatingRootTiles||!r.shouldHaveNeighbor(a)),i;if(t.isLoaded){const r=t,a=r.renderData.geometryState,o=s-r.level;if(C(o>=0),0===o){const e=a.numVerticesPerSide-1;return Math.max(e,i)}const n=2**o,l=a.neighborData.edgeResolutions[(e+2)%4]/n;return Math.max(1,l)}C(!t.isLeaf);let o=i;return t.forAllSubtreeOnSide($(a),(e=>e===r||(e.isLoaded?(o=Math.max(o,2**(e.level-s)),!0):(C(!e.isLeaf),!1)))),o}updateNeighborData(){const e=this.tile;if(!e.intersectsClippingArea)return;const r=e.renderData.geometryState.neighborData,i=t=>(t.isLoaded||t.level===e.level)&&t?.intersectsClippingArea,s=r.edgePeerNeighbors,a=r.edgePeerNeighborSamplerVersions;for(let n=0;n<4;++n){const o=e.findNeighborTile(S[n],i),l=H(e,o),h=l?.renderData?.geometryState.samplerDataVersion??-1,d=s[n],g=l!==H(e,d),u=a[n]!==h;s[n]=o,(g||u)&&(a[n]=h,this._markEdgeDirty(n));const c=r.edgeResolutions[n],m=this._calculateEdgeResolution(n,o);C(t(m)),C(m>=1),r.edgeResolutions[n]=m,c!==m&&this._markEdgeResolutionDirty(n)}const o=r.cornerPeerNeighbors;for(let t=0;t<4;++t){const a=e.findNeighborTile(E[t],i);o[t]=a;const n=H(e,s[t]),l=H(e,s[(t+1)%4]),h=H(e,a);X[t]=h,X[(t+1)%4]=l,X[(t+2)%4]=e,X[(t+3)%4]=n,C(X.some((t=>t?.isLoaded||t===e)));const d=X.reduce(((e,t)=>Math.min(e,t?.level??1/0)),1/0);X.forEach(((e,t)=>{e&&e?.level>d&&(X[t]=null)})),C(X.some((t=>t?.isLoaded||t===e)));const g=r.cornerNeighborData[t].cornerTiles,u=r.cornerNeighborData[t].cornerTileSamplerVersions;for(let e=0;e<4;++e){const r=X[e],i=r?.renderData.geometryState.samplerDataVersion??-1,s=g[e]!==r,a=!s&&u[e]!==i;(s||a)&&(g[e]=r,u[e]=i,this._markCornerDirty(t))}C(g.some((t=>t?.isLoaded||t===e)))}v&&C(this.geometryState.neighborData.edgeResolutions.every((e=>e>0)));for(let t=0;t<4;++t)X[t]=null}_updateGeometry(e){if(!this.tile.intersectsClippingArea)return;v&&C(!this.tile.intersectsClippingArea||this.geometryState.neighborData.edgeResolutions.every((e=>e>0))),this.intersectionData=null;const t=this.tile,r=this._vao,i=this.geometry.vertexAttributes,s=!r||!i||this._wireframeChanged||this._numVerticesPerSideChanged||this._samplerDataChanged||this._clippingAreaChanged||this._dirtyEdgeResolutions,a=!s&&(0!==this._dirtyEdges||0!==this._dirtyEdgeResolutions),o=!a&&0!==this._dirtyCorners;s?(this.releaseGeometry(),this._createGeometry(e)):a||o?t.updateEdgeElevations():o?t.updateCornerElevations():console.warn(\"Update for no reason?\"),this._numVerticesPerSideChanged=!1,this._samplerDataChanged=!1,this._dirtyEdgeResolutions=0,this._dirtyEdges=0,this._dirtyCorners=0,this._clippingAreaChanged=!1,this._wireframeChanged=!1}get hasGeometry(){return this._hasGeometry}releaseGeometry(){return this._hasGeometry=!1,this.intersectionData=null,!!this._vao&&(this._vao.dispose(),this._vao=null,D(this.geometry),!0)}ensureTexture(e,t){return null!=this._texture&&this._texture.descriptor.width!==e&&this.releaseTexture(),null==this._texture&&(this._texture=t(),this.tile.setMemoryDirty()),this._texture}releaseTexture(){null!=this._texture&&(this._texture.release(),this._texture=null,this.tile.setMemoryDirty())}_markCornerDirty(e){const t=1<<e;this._dirtyCorners|=t}_markEdgeDirty(e){const t=1<<e;this._dirtyEdges|=t,this._markCornerDirty((e+0)%4),this._markCornerDirty((e+3)%4)}_markEdgeResolutionDirty(e){const t=1<<e;this._dirtyEdgeResolutions|=t,this._markEdgeDirty(e)}_markAllEdgesAndCornersDirty(){this._dirtyCorners=15,this._dirtyEdges=15,this._dirtyEdgeResolutions=15}updateGeometryState(){const t=this._getElevationInfo(),r=this.tile,i=t.samplerData?r.getElevationVerticesPerSide(t.maxTileLevel):r.getDefaultVerticesPerSide(),s=Math.max(i,5);let a=r.clippingArea;r.intersectsClippingArea&&!r.isWithinClippingArea||(a=null);const o=this.geometryState;let n=!1;o.numVerticesPerSide!==s&&(this._numVerticesPerSideChanged=!0,o.numVerticesPerSide=s,o.samplerDataVersion++,n=!0),t.changed&&(this._samplerDataChanged=!0,o.samplerData=t.samplerData,o.samplerDataVersion++,n=!0),e(o.clippingArea,a)||(this._clippingAreaChanged=!0,o.clippingArea=a,n=!0);const l=r.surface.wireframe;return o.wireframe!==l&&(this._wireframeChanged=!0,o.wireframe=l,n=!0),this._geometryStateChangedSinceLastUpdate||=n,n&&this._markAllEdgesAndCornersDirty(),this._hasGeometry=!0,this._geometryStateChangedSinceLastUpdate}_createGeometry(e){this.tile.createGeometry();const t=this.geometry.vertexAttributes,r=this.geometry.indices,i=e.gl;this._vao=new L(e,P,{geometry:p(t.layout)},{geometry:N.createVertex(e,i.STATIC_DRAW,t.buffer)},N.createIndex(e,i.STATIC_DRAW,r)),this._hasGeometry=!0}get vao(){return this._vao}setTextureReference(e,t=V.Immediate){null!=e&&e.texture!==this._texture&&this.releaseTexture(),this._textureRef.push(e,t)}get textureReference(){return this._textureRef.current}get nextTextureReference(){return this._textureRef.next}get textureFadeFactor(){return this._textureRef.fadeFactor}get textureIsFading(){return this._textureRef.isFading}_getElevationInfo(){const e=this.geometryState.samplerData,t=this.tile.layerInfo[_.ELEVATION],r=t.length,i=new Array(r);let s=0,a=0,o=!1;for(let h=0;h<r;h++){const r=t[h];if(null!=r.upsampleInfo){const t=r.upsampleInfo.tile,n=t.layerInfo[_.ELEVATION][h].data,l=n&&n.samplerData;e&&e[s]===l||(o=!0),i[s++]=l,a=Math.max(a,t.lij[0])}else if(r.data){const t=this.tile.surface.layerViewByIndex(h,_.ELEVATION);if(w(this.tile,t.layer,!1)){const t=r.data;e&&e[s]===t.samplerData||(o=!0),i[s++]=t.samplerData,a=this.tile.level}}}null!=e&&e.length!==s&&(o=!0);const n=s>0,l=n?i:null;return n&&(i.length=s),{changed:o,samplerData:l,maxTileLevel:a}}get estimatedGeometryMemoryUsage(){const e=this.intersectionData?.estimatedMemoryUsage??0;return(this.geometry.indices?.byteLength??0)+(this.geometry.vertexAttributes?.byteLength??0)+e}get texture(){return this._texture}get test(){return{hasTexture:null!=this._texture}}checkGeometryWaterproofness(){if(!v)return;const e=this.tile;if(!e.isLoaded||!e.intersectsClippingArea||0===e.level)return void C(e?.isLoaded);const u=e.surface.extent;if(null!=u&&!e.intersectsExtent(u))return;const p=S.map(((t,r)=>null!=u&&(r<2?-1:1)*(e.extent[3-r]-u[3-r])<0)),y=e.level;C(0===this._dirtyCorners),C(0===this._dirtyEdges),C(0===this._dirtyEdgeResolutions),C(!this._numVerticesPerSideChanged),C(!this._samplerDataChanged),C(!this._clippingAreaChanged),C(!this._wireframeChanged);const _=E.map((t=>e.findNeighborCornerTileExact(t,(t=>!t.intersectsClippingArea||t.isLoaded||t.level===e.level))??null)).map((e=>e?.intersectsClippingArea?e:null)),x=this.geometryState.neighborData;for(let t=0;t<4;++t){const r=x.cornerPeerNeighbors[t],i=_[t];C(i===r,`Tile[${e.lij}].corner[${t}] out of date: cur=[${r?.lij}] exp=[${i?.lij}]`)}S.forEach(((u,_)=>{if(p[_])return;const x=e.findNeighborTile(u,(e=>(e.level===y||e?.isLoaded)&&e?.intersectsClippingArea));if(!x){const t=!e.surface.updatingRootTiles&&null!=e.surface.rootTiles&&e.surface.rootTiles.length>0&&e.shouldHaveNeighbor(u);return void C(!t)}C(x.isLoaded||x.level===e.level),C(x===this.geometryState.neighborData.edgePeerNeighbors[_]);const D=y-x.level;if(!x.isLoaded)return C(!x.isLeaf),void C(0===D);const v=x.renderData;C(j(e,x,u)),C(D>=0);const S=2**D;if(D<0)return void C(!1);const $=e.renderData,E=$.geometry,A=E.outerEdges[_],V=E.numVerticesPerSide-1,R=v.geometry;if(!R)return void C(!1);const w=this.geometryState.neighborData.edgePeerNeighbors[_];if(w?.isLoaded){const e=w.renderData;C(w==w),C($.geometryState.neighborData.edgePeerNeighborSamplerVersions[_]===e.geometryState.samplerDataVersion),C(this.geometryState.neighborData.edgePeerNeighborSamplerVersions[_]===e.geometryState.samplerDataVersion)}const L=(_+2)%4,P=R.outerEdges[L],N=A.count-1,G=P.count-1;C(N*S===G,`Tile[${e.lij}]:e${_},res=${N} edgeRes mismatch with Neighbor[${x.lij}]:e${L},res=${G} (expected:${N*S})`);const X=e.extent,H=u===f.NORTH||u===f.SOUTH,W=P.count-1,q=W/2**D,z=A.count-1;if(q<1)return void C(1===z);C(q===z),C(t(q));const J=R.numVerticesPerSide-1;C(D>0||q===Math.max(J,V));const K=e.getNeighborEdgeStartVertexIndex(_,x);C(0<=K&&K<S);const Q=K*q;C(0<=Q&&Q<=W-q);let Y=0,Z=Q;A.getVertexPos(I,0),A.getVertexPos(M,A.count-1);const ee=r(I,M),te=Math.max(B,1e-4*ee);for(let t=0;t<=q;++t){A.getVertexPos(I,Y),P.getVertexPos(M,Z);const r=t/q,p=H?X[0]+r*(X[2]-X[0]):u===f.WEST?X[0]:X[2],y=H?u===f.SOUTH?X[1]:X[3]:X[1]+r*(X[3]-X[1]),D=e.surface.extent;if(null==D||c(D,p,y)){const t=i(I,M),r=s(I)-m.radius,u=s(M)-m.radius,c=t<te;if(!c){console.warn(`Tile edge vertex position mismatch: between [${e.lij}].edge${_}[${Y}/${A.count}] and [${x.lij}].edge${L}[${Z}/${P.count}]`),null!=D&&console.warn(\"  surface extent= \",D,\" x,y=\",p,\",\",y);const i=d();a(i,$.localOrigin,v.localOrigin),s(i)>0&&console.warn(`   localOrigins: ${$.localOrigin} vs ${v.localOrigin} d=${s(i)} [${i}]`);(()=>{const t=g(I),r=g(M);e.updateEdgeElevations(),x.updateEdgeElevations(),A.getVertexPos(I,Y),P.getVertexPos(M,Z);const i=d();l(i,I,t),s(i)>0&&console.warn(`  XXX Tile[${e.lij}] edge out of date: ${t} vs ${I} d=${s(i)} [${i}]`),l(i,M,r),s(i)>0&&console.warn(`  XXX Neighbor[${x.lij}] edge out of date: ${r} vs ${M} d=${s(i)} [${i}]`)})(),C(c,`Mismatch in tile [${e.lij}].edge[${_}][${Y}/${A.count}] vs neighbor [${x.lij}].edge[${L}][${Z}/${P.count}] ${b(I)} vs ${b(M)}  dist=${t} h(t|n|d)=${r}|${u}|${u-r}`)}A.getNormal(O,Y),P.getNormal(U,Z),o(k,O),o(F,U);const f=n(k,F),S=1-f<.01||!1||e===x;if(!S){const t=d();l(t,O,U);const r=()=>`Mismatch in tile edge normal ${T(e.lij)} (${Y}/${A.count-1}) edge ${_} vs neighbor ${T(x.lij)}  (${Z}/${P.count-1}) nedge ${L} :${b(O)} vs ${b(U)}  dot = ${f} : ${b(t)}`;console.warn(\"Mismatch in tile edge normal: \",r());{e.updateEdgeElevations(),x.updateEdgeElevations();const t=d(),r=d();A.getNormal(t,Y),P.getNormal(r,Z),h(O,t)||console.warn(\"Missing update in tile normal: \",b(O),\" => \",b(t)),h(U,r)||console.warn(\"Missing update in neighbor normal: \",b(U),\" => \",b(r))}C(S,r())}}Y+=1,Z+=1}}))}}const I=d(),M=d(),O=d(),U=d(),k=d(),F=d(),B=1,X=[null,null,null,null];function H(e,t){return t?.isLoaded||t===e?t:null}export{V as ActivationTime,G as PatchRenderData,H as neighborTileIfLoadedOrSelf};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{isPowerOfTwo as t,clamp as e}from\"../../../core/mathUtils.js\";import{s as n}from\"../../../chunks/vec4.js\";import{empty as o}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as s}from\"../../../geometry/support/aaBoundingRect.js\";import{sampleElevation as r}from\"./ElevationData.js\";import{PatchType as i}from\"./interfaces.js\";import{NeighborIndex as a}from\"./ITile.js\";import{acquireTerrainAttributes as l,minMaxBoundingBox as c,encodeUVInBuffer as u,EdgeDescriptor as f}from\"./PatchGeometry.js\";import{PatchGeometryLUT as d}from\"./PatchGeometryLUT.js\";import{neighborTileIfLoadedOrSelf as m}from\"./PatchRenderData.js\";import{ENABLE_TERRAIN_INTERNAL_CHECKS as g,internalAssert as p,neighborEdgeIndices as h,almostEquals as M}from\"./terrainUtils.js\";import{isCornerNeighbor as x}from\"./Tile.js\";import{compareTilesByLij as y}from\"./tileUtils.js\";import{compressNormal as S}from\"../webgl-engine/lib/Normals.js\";const b=65536;function v(t,e){const n=t.tile,{extent:s,extentInRadians:r,surface:a}=n,f=t.localOrigin,d=t.geometryState,m=a.isWebMercator,h=d.numVerticesPerSide,M=h-1,x=(h-2)**2,y=m&&(e===i.HAS_SOUTH_POLE||e===i.HAS_BOTH_POLES),b=m&&(e===i.HAS_NORTH_POLE||e===i.HAS_BOTH_POLES),v=6,L=((y?1:0)+(b?1:0))*v*(M+1),R=d.neighborData,T=R.edgeResolutions.reduce(((t,e)=>t+e+1),0),D=l(x+L+T),A=t.geometry;A.numVerticesPerSide=d.numVerticesPerSide,A.vertexAttributes=D;const V=A.boundingBox;o(V);const U=E(t);X.update(M,r,U),B(t),k(t,x),O(t);const C=[];if((()=>{let t=x+T;const e=f[0],o=f[1],r=f[2],i=n.ellipsoid.radius,a=s[1],l=s[3],d=(n,s)=>{const f=s*h;c(-e,-o,n*i-r,V),C.push({connectedRowOffset:f,connectedOuterEdgeOffset:1===n?0:2,rowOffset:t,latitudeResolution:v});const d=P(-1===n?a:l,i),m=n*Math.PI/2-d,g=.99*(1===n?1:-1),p=i+0,x=D.position,y=D.uv0,{typedBuffer:b,typedBufferStride:B}=D.normalCompressed;for(let i=1;i<=v;++i){const n=d+m*(i/v),s=Math.cos(n),a=Math.sin(n);for(let i=0;i<=M;i++){const n=i/M,l=X.sinLonLUT[i],f=X.cosLonLUT[i]*s,d=l*s,m=a,h=f*p-e,v=d*p-o,L=m*p-r;c(h,v,L,V),x.setValues(t,h,v,L),u(y,t,n,g),S(b,t,f,d,m,B),++t}}};y&&d(-1,0),b&&d(1,M)})(),F(A,d.numVerticesPerSide,C,[0,h-1],[0,h-1],d.wireframe),t.intersectionData=null,g)for(let o=0;o<4;++o)p(A.outerEdges[o].count===R.edgeResolutions[o]+1)}function B(t){const e=t.tile;if(!e.intersectsClippingArea)return;const n=t.geometryState,o=n.numVerticesPerSide,s=o-2,i=o-1,a=t.geometry,l=a.vertexAttributes,f=l.position,d=l.uv0,{typedBuffer:m,typedBufferStride:g}=l.normalCompressed,p=e.extent,h=p[0],M=p[2],x=p[1],y=p[3],b=e.ellipsoid.radius,v=n.samplerData,B=t.localOrigin,L=B[0],R=B[1],O=B[2],T=f.typedBuffer,D=f.typedBufferStride,P=1/i,A=a.boundingBox;let V=0;if(1<=s){const t=P,e=x*(1-t)+y*t,n=X.sinLatLUT[1],o=X.cosLatLUT[1];for(let i=1;i<=s;i++){const s=i*P,a=h*(1-s)+M*s,l=X.sinLonLUT[i],f=X.cosLonLUT[i],m=b+r(a,e,v),g=m*f*o-L,p=m*l*o-R,x=m*n-O;c(g,p,x,A);const y=(i-1)*D;T[y]=g,T[y+1]=p,T[y+2]=x,u(d,i-1,s,t)}}for(let E=1;E<=s;E++){const t=E*P,e=x*(1-t)+y*t,n=X.sinLatLUT[E],o=X.cosLatLUT[E],a=E+1,l=a*P,f=x*(1-l)+y*l,p=X.sinLatLUT[a],B=X.cosLatLUT[a],U=X.sinLonLUT[0],C=X.cosLonLUT[0],I=b+r(h,e,v);let j=C*o*I-L,w=U*o*I-R,N=n*I-O;const H=V*D;let _=T[H],q=T[H+1],W=T[H+2];for(let y=1;y<=s;y++){const t=y*P,a=h*(1-t)+M*t,U=X.sinLonLUT[y],C=X.cosLonLUT[y];let I=0,H=0,F=0;if(y<s){const t=(V+1)*D;I=T[t],H=T[t+1],F=T[t+2]}else{const t=X.sinLonLUT[i],s=X.cosLonLUT[i],a=b+r(M,e,v);I=s*o*a-L,H=t*o*a-R,F=n*a-O}const k=j,z=w,G=N;j=_,w=q,N=W,_=I,q=H,W=F;const J=I-k,K=H-z,Q=F-G;let Y=0,Z=0,$=0;if(E>1){const t=(V-s)*D;Y=T[t],Z=T[t+1],$=T[t+2]}else{const t=X.sinLatLUT[0],e=X.cosLatLUT[0],n=b+r(a,x,v);Y=C*e*n-L,Z=U*e*n-R,$=t*n-O}const tt=b+r(a,f,v),et=C*B*tt-L,nt=U*B*tt-R,ot=p*tt-O;if(E<s){const e=V+s,n=e*D;T[n]=et,T[n+1]=nt,T[n+2]=ot,c(et,nt,ot,A),u(d,e,t,l)}const st=Y-et,rt=Z-nt,it=$-ot;let at=C*o,lt=U*o,ct=n;ct*ct<.999&&(at=Q*rt-K*it,lt=J*it-Q*st,ct=K*st-J*rt);const ut=1/Math.sqrt(at*at+lt*lt+ct*ct);S(m,V,at*ut,lt*ut,ct*ut,g),++V}}}function L(t){t.tile.intersectsClippingArea&&(O(t),K(t))}function R(t){t.tile.intersectsClippingArea&&(D(t),T(t,!0),K(t))}function O(t){t.tile.intersectsClippingArea&&(D(t),T(t))}function T(e,n=!1){const o=e.geometryState,s=e.geometry,i=o.neighborData,a=e.tile,l=a.level,f=a.extent,d=a.ellipsoid.radius,x=a.extentInRadians,S=x[0],b=x[2],v=x[1],B=x[3],L=o.samplerData,R=f[0],O=f[2],T=f[1],D=f[3],P=E(e),A=s.boundingBox,V=e.localOrigin,U=V[0],C=V[1],I=V[2],j=s.vertexAttributes,w=j.position,N=w.typedBuffer,H=w.typedBufferStride,_=j.uv0;for(let E=0;E<4;++E){const o=1===E||3===E,x=i.edgeResolutions[E];p(t(x));const V=x+1,j=m(a,i.edgePeerNeighbors[E]);if($(a,j,E)){z(e,E,j);continue}const w=null!=j;p(!w||j.level===a.level),p(!w||y(a,j)<=0);const q=j?.renderData,W=q?.geometryState;if(g){const t=a.surface;if(!j&&t&&!t.updatingRootTiles){const e=h[E],n=a.findNeighborTile(e,(t=>t.isLoaded||t.isLeaf||t.level===a.level));n?n.intersectsClippingArea&&(p(!n.isLoaded),p(!n.isLeaf),p(n.level===l)):p(null==t?.rootTiles||!a.shouldHaveNeighbor(e))}}const F=1===E?f[2]:f[0],k=j?.extent,G=k&&o?1===E?k[0]:k[2]:F,J=0===E?f[3]:f[1],K=1===E?1:0,Q=0===E?1:0,X=1===E?b:S,Y=0===E?B:v,Z=Math.sin(X),tt=Math.cos(X),et=Math.sin(Y),nt=Math.cos(Y),ot=W?.samplerData,st=w?(t,e,n)=>.5*(r(t,e,L)+r(n,e,ot)):(t,e,n)=>r(t,e,L),rt=s.outerEdges[E],it=n&&V>3?V-3:1,at=null!=L&&L.some((t=>null!=t)),lt=null!=ot&&ot.some((t=>null!=t)),ct=at||lt,ut=1/x,ft=rt.index0;p(!k||M(k[2]-k[0],f[2]-f[0]));(()=>{const t=1===E?-1:3===E?1:0,e=0===E?-1:2===E?1:0,n=(f[2]-f[0])*ut,s=t*n,i=e*n,a=o?t*((b-S)*ut):0,l=o?0:e*ut,m=Q,g=o?X+a:X,p=o?Math.sin(g):Z,h=o?Math.cos(g):tt,M=o?X-a:X,x=o?Math.sin(M):Z,y=o?Math.cos(M):tt,v=o?Y:P(m+l),B=o?et:Math.sin(v),j=o?nt:Math.cos(v),q=o?Y:P(m-l),W=o?et:Math.sin(q),k=o?nt:Math.cos(q);let z=0,$=0,at=0;{const t=0*ut,e=o?F:R*(1-t)+O*t,n=o?G:e,s=o?T*(1-t)+D*t:J,r=o?X:S*(1-t)+b*t,i=o?Z:Math.sin(r),a=o?tt:Math.cos(r),l=o?P(t):Y,c=o?Math.sin(l):et,u=o?Math.cos(l):nt,f=d+st(e,s,n);z=a*u*f,$=i*u*f,at=c*f}let lt=0,dt=0,mt=0;{const t=1*ut,e=o?F:R*(1-t)+O*t,n=o?G:e,s=o?T*(1-t)+D*t:J,r=o?X:S*(1-t)+b*t,i=o?Z:Math.sin(r),a=o?tt:Math.cos(r),l=o?P(t):Y,c=o?Math.sin(l):et,u=o?Math.cos(l):nt,f=d+st(e,s,n);lt=a*u*f,dt=i*u*f,mt=c*f}for(let f=1;f<V-1;f+=it){let t=0,e=0,n=0;{const s=(f+1)*ut,r=o?F:R*(1-s)+O*s,i=o?G:r,a=o?T*(1-s)+D*s:J,l=o?X:S*(1-s)+b*s,c=o?Z:Math.sin(l),u=o?tt:Math.cos(l),m=o?P(s):Y,g=o?Math.sin(m):et,p=o?Math.cos(m):nt,h=d+st(r,a,i);t=u*p*h,e=c*p*h,n=g*h}const a=t,l=e,m=n,g=lt,M=dt,v=mt;lt=a,dt=l,mt=m;{const t=ft+f,e=t*H,n=g-U,s=M-C,r=v-I;N[e]=n,N[e+1]=s,N[e+2]=r,c(n,s,r,A);const i=f*ut;u(_,t,o?K:i,o?i:Q)}const V=z,q=$,it=at;z=g,$=M,at=v;const gt=g,pt=M,ht=v,Mt=1/Math.sqrt(gt*gt+pt*pt+ht*ht),xt=ht*Mt;let yt=0,St=0,bt=0;if(ct&&xt*xt<.999){let t=0,e=0,n=0;{const o=0===E?-1:1;t=o*(a-V),e=o*(l-q),n=o*(m-it)}{const a=f*ut,l=o?F:R*(1-a)+O*a,c=o?G:l,u=o?T*(1-a)+D*a:J,m=o?X:S*(1-a)+b*a,g=o?Z:Math.sin(m),M=o?tt:Math.cos(m),v=o?P(a):Y,A=o?Math.sin(v):et,V=o?Math.cos(v):nt;let U=gt,C=pt,I=ht;if(w){const t=d+r(c-s,u-i,ot),e=o?V:k;U=(o?y:M)*e*t,C=(o?x:g)*e*t,I=(o?A:W)*t}{const a=d+r(l+s,u+i,L),c=o?V:j,f=(o?h:M)*c*a,m=(o?p:g)*c*a,x=(o?A:B)*a;w||(U=2*gt-f,C=2*pt-m,I=2*ht-x);const y=3===E?-1:1,S=y*(U-f),b=y*(C-m),v=y*(I-x);yt=n*b-e*v,St=t*v-n*S,bt=e*S-t*b;const R=1/Math.sqrt(yt*yt+St*St+bt*bt);yt*=R,St*=R,bt*=R}}}else yt=gt*Mt,St=pt*Mt,bt=ht*Mt;rt.setNormalFromValues(f,yt,St,bt)}})()}}function D(t){G(t)}function P(t,e){return Math.PI/2-2*Math.atan(Math.exp(-t/e))}function A(t,e,n,o){return P(t*(1-o)+e*o,n)}function V(t,e,n){return t*(1-n)+e*n}function E(t){const e=t.tile;if(e.surface.isWebMercator){const t=e.extent,n=e.ellipsoid.radius;return e=>A(t[1],t[3],n,e)}const n=e.extentInRadians;return t=>V(n[1],n[3],t)}function U(t,e){const s=t.tile.extent,r=t.geometryState,i=s[0],a=s[1],c=s[2]-i,u=s[3]-a,f=r.clippingArea,d=null!=f?Math.max(0,(f[0]-i)/c):0,m=null!=f?Math.max(0,(f[1]-a)/u):0,g=null!=f?Math.min(1,(f[2]-i)/c):1,p=null!=f?Math.min(1,(f[3]-a)/u):1,h=r.numVerticesPerSide,M=(h-2)**2,x=r.neighborData.edgeResolutions.reduce(((t,e)=>t+e+1),0),y=l(M+x),S=t.geometry,b=S.boundingBox;o(b),S.numVerticesPerSide=r.numVerticesPerSide,S.vertexAttributes=y,n(S.uvRange,d,m,g,p),C(t),k(t,M),w(t),F(S,r.numVerticesPerSide,[],[0,h-1],[0,h-1],r.wireframe),t.intersectionData=null}function C(t){const n=t.tile;if(!n.intersectsClippingArea)return;const o=n.surface,s=t.geometryState,i=s.samplerData,a=t.localOrigin,l=o.isWebMercatorOnPlateeCarree,f=s.clippingArea,d=null!=f?f:Y,m=n.extent,g=m[0],p=m[1],h=m[2],M=m[3],x=Math.max(g,d[0]),y=Math.min(h,d[2]),b=Math.max(p,d[1]),v=Math.min(M,d[3]),B=n.ellipsoid.radius,L=n.horizontalScale,R=s.numVerticesPerSide,O=R-1,T=R-2,D=t.geometry,P=D.vertexAttributes,A=P.position,V=P.uv0,{typedBuffer:E,typedBufferStride:U}=P.normalCompressed,C=D.uvRange,I=C[0],j=C[1],w=C[2],N=C[3],H=D.boundingBox,_=a[0],q=a[1],W=a[2],F=A.typedBuffer,k=A.typedBufferStride;let z=0;const G=e(p,b,v),J=l?(Math.PI/2-2*Math.atan(Math.exp(-G/B)))*B:G*L,K=1/O,Q=e(p*(1-K)+M*K,b,v);let X=J,Z=l?(Math.PI/2-2*Math.atan(Math.exp(-Q/B)))*B:Q*L;for(let Y=1;Y<=T;Y++){const t=Y/O,n=e(p*(1-t)+M*t,b,v),o=e(t,j,N),s=Z,a=(Y-1)/O,f=e(p*(1-a)+M*a,b,v),d=X,m=(Y+1)/O,R=e(p*(1-m)+M*m,b,v),D=l?(Math.PI/2-2*Math.atan(Math.exp(-R/B)))*B:R*L,P=e(m,j,N);X=Z,Z=D;const A=e(g,x,y);let C=A*L,G=r(A,n,i);const J=1/O,K=e(J,I,w),Q=e(g*(1-K)+h*K,x,y);let $=K,tt=Q,et=Q*L,nt=r(Q,n,i);if(1===Y){const t=et-_,n=X-q,s=nt-W,r=0*k;F[r]=t,F[r+1]=n,F[r+2]=s,c(t,n,s,H);const i=e(J,I,w);u(V,z,i,o)}for(let l=1;l<=T;l++){const t=et,a=nt,m=(l+1)/O,p=e(m,I,w),M=e(g*(1-m)+h*m,x,y),b=tt;tt=M;{const t=z+1,e=t*k;if(1===Y||l===T){const a=M*L,f=r(M,n,i);if(1===Y&&l<T){const n=a-_,r=s-q,i=f-W;F[e]=n,F[e+1]=r,F[e+2]=i,c(n,r,i,H),u(V,t,p,o)}et=a,nt=f}else et=F[e]+_,nt=F[e+2]+W}const v=et,B=nt,A=C,j=G;C=t,G=a;const N=(z-T)*k,J=1===Y?r(b,f,i):F[N+2]+W,K=r(b,R,i);if(Y<T){const e=z+T,n=e*k,o=t-_,s=D-q,r=K-W;F[n]=o,F[n+1]=s,F[n+2]=r,c(o,s,r,H);const i=$;$=p,u(V,e,i,P)}{const t=v-A,e=d-D,n=e*(B-j),o=t*(J-K),s=-e*t,r=n*n+o*o+s*s;if(0===r)S(E,z,0,0,1,U);else{const t=1/Math.sqrt(r);S(E,z,n*t,o*t,s*t,U)}}++z}}}function I(t,e){t.tile.intersectsClippingArea&&(H(t),N(t,!0),K(t))}function j(t,e){t.tile.intersectsClippingArea&&(w(t),K(t))}function w(t,e){t.tile.intersectsClippingArea&&(H(t),N(t,!1))}function N(n,o){const s=n.geometryState,i=s.neighborData,a=n.tile,l=a.surface,u=a.extent,f=s.clippingArea,d=null!=f?f:Y,M=u[0],x=u[2],S=u[1],b=u[3],v=[b>d[3],x>d[2],S<d[1],M<d[0]],B=n.geometry,L=a.horizontalScale,R=W(l.isWebMercatorOnPlateeCarree,a.ellipsoid.radius,L),O=B.boundingBox,T=B.uvRange[0],D=B.uvRange[1],P=B.uvRange[2],A=B.uvRange[3],V=Math.max(M,d[0]),E=Math.min(x,d[2]),U=Math.max(S,d[1]),C=Math.min(b,d[3]),I=n.localOrigin,j=I[0],w=I[1],N=I[2],H=s.samplerData;for(let _=0;_<4;++_){const s=1===_||3===_,u=i.edgeResolutions[_];p(t(u));const f=u+1,d=v[_],I=m(a,i.edgePeerNeighbors[_]);if(!d&&$(a,I,_)){z(n,_,I);continue}const q=null!=I&&!d,W=I?.renderData,F=W?.geometryState;if(g&&(p(!q||I.level===a.level),p(!q||y(a,I)<=0),a&&!I&&!l.updatingRootTiles)){const t=h[_],e=a.findNeighborTile(t,(t=>t.isLoaded||t.isLeaf||t.level===a.level));l.updatingRootTiles||(e?e.intersectsClippingArea&&(p(!e.isLoaded),p(!e.isLeaf),p(e.level===a.level)):p(null==l?.rootTiles||!a.shouldHaveNeighbor(t)))}const k=e(1===_?x:M,V,E),G=e(0===_?b:S,U,C),J=F?.samplerData,K=B.outerEdges[_],Q=o&&f>3?f-3:1,X=e(1===_?1:0,T,P),Y=e(0===_?1:0,D,A),Z=q?(t,e)=>.5*(r(t,e,J)+r(t,e,H)):(t,e)=>r(t,e,H),tt=(x-M)/u,et=s?1===_?tt:-tt:0,nt=s?0:0===_?tt:-tt,ot=-et,st=-nt;let rt=0,it=0,at=0;{const t=0/u,n=s?k:e(M*(1-t)+x*t,V,E),o=s?e(S*(1-t)+b*t,U,C):G,r=Z(n,o);rt=n*L,it=R(o),at=r}let lt=0,ct=0,ut=0;{const t=1/u,n=s?k:e(M*(1-t)+x*t,V,E),o=s?e(S*(1-t)+b*t,U,C):G,r=Z(n,o);lt=n*L,ct=R(o),ut=r}for(let t=1;t<f-1;t+=Q){const n=t/u,o=lt,i=ct,a=ut;{const r=s?X:e(n,T,P),l=s?e(n,D,A):Y,u=o-j,f=i-w,d=a-N;c(o,f,d,O),K.setVertexFromValuesRawPositionUV(t,u,f,d,r,l)}{const n=(t+1)/u,o=s?k:e(M*(1-n)+x*n,V,E),r=s?e(S*(1-n)+b*n,U,C):G,i=Z(o,r);lt=o*L,ct=R(r),ut=i}const l=lt,f=ut,d=rt,m=it,g=at;rt=o,it=i,at=a;let p=0,h=0,y=0;if(s){const t=ct-i,s=f-a,l=m-i,c=g-a,u=e(S*(1-n)+b*n,U,C),d=k+ot,M=d*L-o,x=r(d,u,H)-a,v=3===_?-1:1;if(p=v*(-l+t)*x,h=v*M*(-c+s),y=-v*M*(-l+t),q){const e=k+et,n=e*L-o;p=(-l+t)*(x-(r(e,u,J)-a)),h=(M-n)*(-c+s),y=-(M-n)*(-l+t)}}else{const t=l-o,s=f-a,c=d-o,u=g-a,m=e(M*(1-n)+x*n,V,E),S=G+st,b=r(m,S,H)-a,v=R(S)-i,B=2===_?-1:1;if(p=B*v*(-u+s),h=B*(-c+t)*b,y=-B*v*(-c+t),q){const e=m,n=G+nt,o=R(n)-i;p=(-v+o)*(-u+s),h=(-c+t)*(-b+(r(e,n,J)-a)),y=-(-v+o)*(-c+t)}}const v=1/Math.sqrt(p*p+h*h+y*y);K.setNormalFromValues(t,p*v,h*v,y*v)}}}function H(t,e){G(t)}function _(t,e){return(Math.PI/2-2*Math.atan(Math.exp(-t/e)))*e}function q(t,e){return t*e}function W(t,e,n){return t?t=>_(t,e):t=>q(t,n)}function F(t,e,n,o,s,r){const i=e-1,a=t.vertexAttributes.count,l=2*(Math.min(e-2,o[1])-Math.max(1,o[0]))*(Math.min(e-2,s[1])-Math.max(1,s[0])),c=h.map(((t,n)=>0===n&&s[1]<e-2||1===n&&o[1]<e-2||2===n&&s[0]>1||3===n&&o[0]>1)),u=t.outerEdges.reduce(((t,e,n)=>t+(c[n]?0:i-2+e.count-1)),0),f=n.reduce(((t,e)=>t+i*(2*(e.latitudeResolution-1)+1)),0),d=r?2:1,m=3*(l+u+f)*d,M=a>=b?new Uint32Array(m):new Uint16Array(m);let x=0;const y=e-2,S=i-2;p(S>=0);const v=(t,e,n,o,s,r)=>{const i=t*s,a=r[i],l=r[i+1],c=r[i+2],u=e*s,f=r[u],d=r[u+1],m=r[u+2],g=n*s,p=r[g],h=r[g+1],M=r[g+2],x=o*s,y=r[x],S=r[x+1],b=r[x+2];return(f-y)*(f-y)+(d-S)*(d-S)+(m-b)*(m-b)>(a-p)*(a-p)+(l-h)*(l-h)+(c-M)*(c-M)};if(r){const r=(t,e,n)=>{M[x++]=t,M[x++]=e,M[x++]=e,M[x++]=n,M[x++]=n,M[x++]=t,g&&(p(t<a),p(e<a),p(n<a),p(x<=m))};(()=>{for(let n=Math.max(s[0],1)-1;n<Math.min(s[1],e-2)-1;++n){const s=n*y;for(let i=Math.max(o[0],1)-1;i<Math.min(o[1],e-2)-1;++i){const e=n*y+i,o=e+1,a=o+y,l=a-1,c=s+i,u=c+1,f=u+y,d=f-1,m=t.vertexAttributes.position.typedBuffer,g=t.vertexAttributes.position.typedBufferStride;v(c,u,f,d,g,m)?(r(e,o,a),r(a,l,e)):(r(e,o,l),r(l,a,o))}}})(),p(x===3*l*d);(()=>{for(let e=0;e<4;++e){const n=x;if(c[e])continue;const o=t.outerEdges[e],s=t.innerEdges[e];let a=0,l=0;const u=o.count,f=s.count;p(f===i-1);let m=0;const h=1===e||2===e?(t,e,n)=>r(t,e,n):(t,e,n)=>r(t,n,e);for(;a<u-1||l<f-1;){const t=s.getVertexIndex(l),e=o.getVertexIndex(a),n=a<u-1,r=l<f-1;if(n&&(!r||(n?0+i*(a+.5)/(u-1):0)<=(r?1+S*(l+.5)/(f-1):0))){++a,g&&p(a<u);h(t,e,o.getVertexIndex(a)),m++}else{++l,g&&p(l<f);h(t,e,s.getVertexIndex(l)),m++}}g&&(p(a===u-1),p(l===f-1),p(m===u+f-2),p(m===i-2+o.count-1),p(x===n+3*m*d))}})(),p(x===3*(l+u)*d);const f=n=>{const o=t.outerEdges[n.connectedOuterEdgeOffset];let s=o.getVertexIndex(0),a=o.stride;for(let t=0;t<n.latitudeResolution;++t){const o=0===t?n.rowOffset:s+e;for(let e=0;e<i;e++)r(s,s+1,o+e),t<n.latitudeResolution-1&&r(s+1,o+e+1,o+e),s+=a;s=o,a=1}};(()=>n.forEach(f))()}else{(()=>{const n=Math.max(s[0],1)-1,r=Math.min(s[1],e-2)-1,i=Math.max(o[0],1)-1,a=Math.min(o[1],e-2)-1;for(let e=n;e<r;++e){const n=e*y;for(let e=i;e<a;++e){const o=n+e,s=o+1,r=s+y,i=r-1,a=t.vertexAttributes.position.typedBuffer,l=t.vertexAttributes.position.typedBufferStride;v(o,s,r,i,l,a)?(M[x]=o,M[x+1]=s,M[x+2]=r,M[x+3]=r,M[x+4]=i,M[x+5]=o):(M[x]=o,M[x+1]=s,M[x+2]=i,M[x+3]=i,M[x+4]=s,M[x+5]=r),x+=6}}})(),p(x===3*l*d);(()=>{for(let e=0;e<4;++e){if(c[e])continue;const n=t.outerEdges[e],o=t.innerEdges[e];let s=0,r=0;const a=n.count,l=o.count;p(l===i-1);const u=1===e||2===e,f=u?1:2,d=u?2:1,m=n.index0,g=n.stride,h=o.index0,y=o.stride;for(;s<a-1||r<l-1;){const t=h+r*y,e=m+s*g,n=s<a-1,o=r<l-1,c=n&&(!o||(n?0+i*(s+.5)/(a-1):0)<=(o?1+S*(r+.5)/(l-1):0));c?++s:++r;const u=c?e+g:t+y;M[x]=t,M[x+f]=e,M[x+d]=u,x+=3}}})(),p(x===3*(l+u)*d);const r=n=>{const o=t.outerEdges[n.connectedOuterEdgeOffset];let s=o.getVertexIndex(0),r=o.stride;for(let t=0;t<n.latitudeResolution;++t){const o=0===t?n.rowOffset:s+e;for(let e=0;e<i;e++){const i=o+e;M[x]=s,M[x+1]=s+1,M[x+2]=i,t<n.latitudeResolution-1?(M[x+3]=s+1,M[x+4]=i+1,M[x+5]=i,x+=6):x+=3,s+=r}s=o,r=1}};(()=>n.forEach(r))()}p(x===m),t.indices=M,t.indexCount=m}function k(t,e){const n=t.localOrigin,o=t.geometry,s=t.geometryState.neighborData.edgeResolutions,r=o.numVerticesPerSide-2,i=o.vertexAttributes;let a=e;for(let l=0;l<4;++l){{const t=0===l||2===l,e=(0===l?r-1:0)*r+(1===l?r-1:0),s=(t?0:1)*r+(t?1:0);o.innerEdges[l]=new f(i,n,e,s,r)}{const t=a,e=s[l]+1;o.outerEdges[l]=new f(i,n,t,1,e),a+=e}}}function z(n,o,s){const r=(o+2)%4,i=n.geometryState,a=n.tile,l=i.neighborData,f=a.level-s.level,d=1===o||3===o,m=l.edgeResolutions[o];p(t(m));const g=m+1,h=n.geometry,M=h.boundingBox,x=h.outerEdges[o],y=h.uvRange[0],S=h.uvRange[1],b=h.uvRange[2],v=h.uvRange[3],B=e(1===o?1:0,y,b),L=e(0===o?1:0,S,v),R=s.renderData,O=R.geometryState,T=R.geometry.outerEdges[r],D=a.getNeighborEdgeStartVertexIndex(o,s)*m,P=m*2**f;p(O.neighborData.edgeResolutions[r]===P),p(T.count-1===P);const A=R.localOrigin[0]-n.localOrigin[0],V=R.localOrigin[1]-n.localOrigin[1],E=R.localOrigin[2]-n.localOrigin[2],U=x.attributes,C=x.index0,I=x.stride,j=U.position.typedBuffer,w=U.position.typedBufferStride,N=U.normalCompressed.typedBuffer,H=U.normalCompressed.typedBufferStride,_=U.uv0,q=T.attributes,W=T.index0,F=T.stride,k=q.position.typedBuffer,z=q.position.typedBufferStride,G=q.normalCompressed.typedBuffer,J=q.normalCompressed.typedBufferStride;for(let t=1;t<g-1;++t){const n=C+I*t,o=W+F*(D+t),s=n*w,r=o*z,i=k[r]+A,a=k[r+1]+V,l=k[r+2]+E;j[s]=i,j[s+1]=a,j[s+2]=l,c(i,a,l,M);const f=n*H,g=o*J;N[f]=G[g],N[f+1]=G[g+1];const p=t/m,h=d?B:e(p,y,b),x=d?e(p,S,v):L;u(_,n,h,x)}}function G(t){const n=t.geometryState,o=n.neighborData,s=t.localOrigin,i=o.cornerNeighborData,a=t.geometry,l=a.outerEdges,f=a.boundingBox,d=t.tile,m=\"local\"===t.tile.surface.view?.viewingMode,g=d.ellipsoid.radius,h=d.extentInRadians,M=d.horizontalScale;let x=0,S=0,b=0;const v=(t,e,n)=>{const o=h[0===e?1:3],s=h[0===t?0:2],r=Math.cos(o),i=Math.sin(o),a=Math.sin(s),l=Math.cos(s),c=g+n;x=l*r*c,S=a*r*c,b=i*c},B=m?(()=>{const n=t.geometryState.clippingArea,o=d.extent,s=null!=n&&(o[3]>n[3]||o[2]>n[2]||o[1]<n[1]||o[0]<n[0]),r=W(d.surface.isWebMercatorOnPlateeCarree,d.ellipsoid.radius,M);return(t,o,i)=>{const a=0===t?j[0]:j[2],l=0===o?j[1]:j[3],c=s?e(a,n[0],n[2]):a,u=s?e(l,n[1],n[3]):l,f=i;x=c*M,S=r(u),b=f}})():v;let L=0,R=0,O=0,T=0,D=0,P=0,A=0,V=0,U=0;const C=m&&t.tile.surface.isWebMercatorOnPlateeCarree,I=(t,e,n,o,s)=>{let r=0,i=0,a=0;if(m){const t=e*M,s=C?(Math.PI/2-2*Math.atan(Math.exp(-n/g)))*g:n*M;r=t-x,i=s-S,a=o-b}else{const s=E(t),l=t.tile,c=l.extent,u=l.extentInRadians,f=(e-c[0])/(c[2]-c[0]),d=(n-c[1])/(c[3]-c[1]),m=u[0]*(1-f)+u[2]*f,p=s(d),h=Math.cos(p),M=Math.sin(p),y=Math.sin(m),v=Math.cos(m),B=g+o;r=v*h*B-x,i=y*h*B-S,a=M*B-b}switch(s){case 0:A+=r,V+=i,U+=a;break;case 1:T-=r,D-=i,P-=a;break;case 2:A-=r,V-=i,U-=a;break;case 3:T+=r,D+=i,P+=a}},j=d.extent,w=n.clippingArea,N=null!=w?w:Y,H=j[0],_=j[2],q=j[1],F=j[3],k=[F>N[3],_>N[2],q<N[1],H<N[0]],z=Math.max(H,N[0]),G=Math.min(_,N[2]),K=Math.max(q,N[1]),X=Math.min(F,N[3]),$=a.uvRange[0],tt=a.uvRange[1],et=a.uvRange[2],nt=a.uvRange[3],ot=t=>{const e=i[t].cornerTiles;L=0,R=0,O=1,T=0,D=0,P=0,A=0,V=0,U=0;let n=1/0;for(let r=0;r<4;++r)n=Math.min(n,e[r]?.level??1/0);for(let r=0;r<4;++r){const t=e[r];Z[r]=t?.level===n?t:null}let o=1,s=0;for(let r=0;r<4;++r){const t=Z[r];t&&(o=Math.max(o,t?.renderData.geometryState.numVerticesPerSide),s=t.extent[2]-t.extent[0])}const a=s,l=o;p(l>1);const c=a/l;for(let i=0;i<4;++i){const t=Z[(i+3)%4],e=Z[i%4];if(!t&&!e)continue;const n=0===i?1:1===i?2:2===i?3:0,o=0===i?2:1===i?3:2===i?0:1;if(t&&e){const s=Q[i][0]*c,a=Q[i][1]*c,l=t.extent,u=l[0===n||1===n?2:0]+s,f=l[0===n||3===n?3:1]+a,d=e.extent,m=d[0===o||1===o?2:0]+s,g=d[0===o||3===o?3:1]+a,p=t.renderData,h=e.renderData,M=r(u,f,p.geometryState.samplerData),x=r(m,g,h.geometryState.samplerData);I(p,u,f,.5*(M+x),i)}else{const s=t??e,a=t?n:o,l=s.extent,u=Q[i],f=l[0===a||1===a?2:0]+u[0]*c,d=l[0===a||3===a?3:1]+u[1]*c,m=s.renderData,g=r(f,d,m.geometryState.samplerData);I(m,f,d,g,i)}}if(!m){const t=Math.sqrt(x*x+S*S+b*b);L=x/t,R=S/t,O=b/t}if(m||O*O<.999){const t=Math.sqrt(T*T+D*D+P*P);T/=t,D/=t,P/=t;const e=Math.sqrt(A*A+V*V+U*U);A/=e,V/=e,U/=e,L=P*V-D*U,R=T*U-P*A,O=D*A-T*V;const n=1/Math.sqrt(L*L+R*R+O*O);L*=n,R*=n,O*=n}};for(let E=0;E<4;++E){const o=E,a=(E+1)%4,m=0===E||1===E?1:0,g=0===E||3===E?1:0,h=e(m,$,et),M=e(g,tt,nt),v=l[o],T=0===E||3===E?v.count-1:0,D=l[a],P=0===E||1===E?D.count-1:0,A=i[E].cornerTiles;let V=-1;for(let t=0;t<4;++t){const e=A[t];e&&(-1===V||y(A[V],e)>0)&&(V=t)}const U=V,C=A[U];if(C!==d){const e=d.level-C.level,n=2**e,o=[C.lij[0]+e,C.lij[1]*n,C.lij[2]*n],s=[o[1]+n===d.lij[1],0===E&&(1===U||0===U&&C!==A[3])||1===E&&(0===U||1===U&&C!==A[2]),o[1]===d.lij[1]+1,2===E&&(3===U||2===U&&C!==A[1])||3===E&&(2===U||3===U&&C!==A[0])],r=s.reduce(((t,e)=>t+(e?1:0)),0);p(1===r||2===r);let i=-1,a=-1;const l=C.renderData;if(1===r){const e=s.findIndex((t=>t));p(0<=e&&e<=3),i=(e+2)%4;const n=t.geometryState.neighborData.edgeResolutions[e];a=d.getNeighborEdgeStartVertexIndex(e,C)*n+n*(0===e&&0===E||1===e&&0===E||2===e&&1===E||3===e&&3===E?1:0)}else{p(s[1]||s[3]),i=s[1]?3:1;const t=l.geometryState.neighborData.edgeResolutions[i];a=0===E||3===E?0:t}const m=l.geometry.outerEdges[i];{const e=v.index0+T*v.stride,n=D.index0+P*D.stride,o=m.index0+a*m.stride;{const s=m.attributes.position,r=s.typedBuffer,i=o*s.typedBufferStride,a=t.localOrigin,l=m.localOrigin,u=r[i]+l[0]-a[0],d=r[i+1]+l[1]-a[1],g=r[i+2]+l[2]-a[2];c(u,d,g,f);{const t=v.attributes.position,n=t.typedBuffer,o=e*t.typedBufferStride;n[o]=u,n[o+1]=d,n[o+2]=g}{const t=D.attributes.position,e=t.typedBuffer,o=n*t.typedBufferStride;e[o]=u,e[o+1]=d,e[o+2]=g}}u(v.attributes.uv0,e,h,M),u(D.attributes.uv0,n,h,M);{const t=m.attributes.normalCompressed.typedBuffer,s=o*m.attributes.normalCompressed.typedBufferStride;{const n=v.attributes.normalCompressed,o=n.typedBuffer,r=e*n.typedBufferStride;o[r]=t[s],o[r+1]=t[s+1]}{const e=D.attributes.normalCompressed,o=e.typedBuffer,r=n*e.typedBufferStride;o[r]=t[s],o[r+1]=t[s+1]}}}}else{const t=k[o],i=k[a];let l;if(t||i){const t=e(H*(1-m)+_*m,z,G),o=e(q*(1-g)+F*g,K,X),s=n.samplerData;l=r(t,o,s)}else l=J(A);B(m,g,l),ot(E);const u=x-s[0],d=S-s[1],p=b-s[2];c(u,d,p,f),v.setVertexFromValuesRawPositionUVNormal(T,u,d,p,h,M,L,R,O),D.setVertexFromValuesRawPositionUVNormal(P,u,d,p,h,M,L,R,O)}}for(let e=0;e<4;++e)Z[e]=null}function J(t){const e=t.reduce(((t,e)=>Math.min(t,e?.level??1/0)),1/0);g&&(p(!t[0]||!t[2]||x(t[0],t[2],a.SOUTH_WEST)),p(!t[1]||!t[3]||x(t[1],t[3],a.NORTH_WEST)));let n=0,o=0;for(let i=0;i<4;++i){const s=t[i];if(s&&s.level===e){const t=0===i||1===i,e=0===i||3===i,a=s.extent,l=a[t?0:2],c=a[e?1:3],u=s.renderData?.geometryState?.samplerData;o+=r(l,c,u),n++}}const s=n?o/n:0;return p(null!=s),s}function K(t){const e=t.vao,n=t.geometry.vertexAttributes.position.typedBuffer;e.vertexBuffers.geometry.setSubData(n,0,0,n.length)}const Q=[[0,1],[1,0],[0,-1],[-1,0]],X=new d,Y=s(-1/0,-1/0,1/0,1/0),Z=[null,null,null,null];function $(t,e,n){if(!e)return!1;const o=y(t,e);return o>0||0===o&&n>=2}export{U as createPlanarGlobePatch,v as createSphericalGlobePatch,R as updateCornerSpherical,I as updateCornersPlanar,j as updateEdgesAndCornersPlanar,L as updateEdgesAndCornersSpherical};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as e,c as t}from\"../../../chunks/vec3f64.js\";import{projectVectorToVector as r}from\"../../../geometry/projection.js\";import i from\"../../../geometry/SpatialReference.js\";import{wrap as a}from\"../../../geometry/support/aaBoundingBox.js\";import{create as s}from\"../../../geometry/support/aaBoundingRect.js\";import{isPlateCarree as o}from\"../../../geometry/support/spatialReferenceUtils.js\";import{TileFrustumVisibility as n}from\"./ITile.js\";import{createPlanarGlobePatch as l,updateCornersPlanar as c,updateEdgesAndCornersPlanar as h}from\"./PatchGeometryFactory.js\";import{Tile as u,CenterPosition as d}from\"./Tile.js\";import{intersectAabbInvDirBefore as m}from\"../webgl-engine/materials/internal/MaterialUtil.js\";class p extends u{get horizontalScale(){return this._horizontalScaleFactor}constructor(e,t,r){super(),this._horizontalScaleFactor=1,this._extentInRenderSR=s(),void 0!==e&&this.init(e,t,r)}init(t,a,s){super.init(t,a,s);const n=s.view.renderSpatialReference,l=s.spatialReference,c=null!=n&&o(n)&&null!=l&&l.isGeographic?this.ellipsoid.radius*Math.PI/180:1;this._horizontalScaleFactor=c;const h=this.surface.isWebMercatorOnPlateeCarree,u=this._extentInRenderSR,d=this.extent;if(h){const t=e(d[0],d[1],0);r(t,i.WebMercator,t,i.PlateCarree);const a=e(d[2],d[3],0);r(a,i.WebMercator,a,i.PlateCarree),u[0]=t[0],u[1]=t[1],u[2]=a[0],u[3]=a[1]}else for(let e=0;e<4;++e)u[e]=d[e]*c;this.centerAtSeaLevel[0]=.5*(u[0]+u[2]),this.centerAtSeaLevel[1]=.5*(u[1]+u[3]),this.centerAtSeaLevel[2]=0,this._edgeLen=Math.max(u[2]-u[0],u[3]-u[1]),this._edgeLen2=this._edgeLen*this._edgeLen,this.updateRadiusAndCenter()}updateRadiusAndCenter(){this._updateCenter();const e=this._extentInRenderSR,t=.5*(e[2]-e[0]),r=.5*(e[3]-e[1]),i=Math.sqrt(t*t+r*r),a=.5*(this.elevationBounds[0]-this.elevationBounds[1]),s=Math.max(i,a);this._center[d.MIDDLE][3]=s}_calculateFrustumVisibilityStatus(e){const t=this._aabb(),r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5];let c=!0;for(let h=0;h<6;h++){const t=e[h],u=t[0],d=t[1],m=t[2],p=t[3];if(u*(u>0?r:s)+d*(d>0?i:o)+m*(m>0?a:l)+p>=0)return n.OUTSIDE;c=c&&u*(u<0?r:s)+d*(d<0?i:o)+m*(m<0?a:l)+p<=0}return c?n.INSIDE:n.INTERSECTS}_aabb(){const e=this._extentInRenderSR;return a(e[0],e[1],this.elevationBounds[0],e[2],e[3],this.elevationBounds[1])}intersectsRay(e,t,r,i){return f[0]=1/t[0],f[1]=1/t[1],f[2]=1/t[2],m(this._aabb(),e,f,r,i)}createGeometry(){l(this.renderData,this._horizontalScaleFactor),this.setMemoryDirty()}getDefaultVerticesPerSide(){return this.level<9?3:2}updateCornerElevations(){c(this.renderData,this._horizontalScaleFactor)}updateEdgeElevations(){h(this.renderData,this._horizontalScaleFactor)}}const f=t();export{p as PlanarPatch};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import s from\"../../../core/ObjectPool.js\";import r from\"../../../core/PooledArray.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as u}from\"../../../chunks/vec4.js\";import{c as n}from\"../../../chunks/vec4f64.js\";class c{constructor(){this.extent=n(),this.minLevel=0,this.maxLevel=0,this.callback=null}}let l=class extends t{constructor(){super(...arguments),this._queries=new r({initialSize:10}),this._queriesInvPtr=0,this._queryQueue=new r({initialSize:30}),this._queryPool=new s(c)}queryVisibleLevelRange(e,t,s,r){const i=this._queryPool.acquire();u(i.extent,e),i.minLevel=t??-Number.MAX_VALUE,i.maxLevel=s??Number.MAX_VALUE,i.callback=r,this._queryQueue.push(i),this.notifyChange(\"updating\")}get updating(){return 0!==this._queryQueue.length}prepare(){for(;this._queries.length<this._queries.data.length&&this._queryQueue.length>0;){const e=this._queryQueue.pop();this._queries.push(e)}this._queriesInvPtr=this._queries.length}process(){for(let e=0;e<this._queries.length;e++){const t=this._queries.data[e];this._queryPool.release(t),t.callback(e>=this._queriesInvPtr),t.callback=null}this._queries.clear(),this.notifyChange(\"updating\")}queriesForTile(e){const t=e.level;let s=0;for(;s<this._queriesInvPtr;){const r=this._queries.data[s],i=r.extent;t>=r.minLevel&&t<=r.maxLevel&&i[0]<=e.extent[2]&&i[2]>=e.extent[0]&&i[1]<=e.extent[3]&&i[3]>=e.extent[1]?(this._queries.swapElements(s,this._queriesInvPtr-1),this._queriesInvPtr--):s++}}};e([i()],l.prototype,\"updating\",null),l=e([o(\"esri.views.3d.terrain.ScaleRangeQueries\")],l);export{l as ScaleRangeQueries};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{lerp as t}from\"../../../core/mathUtils.js\";import{n as e,s,a as i,g as o,u as n,f as r,e as l,j as a,w as h}from\"../../../chunks/vec3.js\";import{c as u}from\"../../../chunks/vec3f64.js\";import{lonLatToSphericalPCPF as c}from\"../../../geometry/projection.js\";import{newDoubleArray as d}from\"../../../geometry/support/DoubleArray.js\";import{intersectsSphere as p,NumPlanes as f,PlaneIndex as m}from\"../../../geometry/support/frustum.js\";import{c as g}from\"../../../chunks/sphere.js\";import{PatchType as $}from\"./interfaces.js\";import{TileFrustumVisibility as _}from\"./ITile.js\";import{createSphericalGlobePatch as v,updateCornerSpherical as x,updateEdgesAndCornersSpherical as M}from\"./PatchGeometryFactory.js\";import{ENABLE_TERRAIN_INTERNAL_CHECKS as j,internalAssert as b,almostEquals as S}from\"./terrainUtils.js\";import{Tile as T,CenterPosition as E}from\"./Tile.js\";import{compareTilesByLij as H}from\"./tileUtils.js\";class D extends T{get convexHull(){return this._convexHull}constructor(t,e,s){super(),this._convexHull=new Array(24),this._boundingSphere=g(),void 0!==t&&this.init(t,e,s)}init(s,i,o){super.init(s,i,o);const n=this.ellipsoid.radius,r=this.extentInRadians[0],l=this.extentInRadians[1],a=this.extentInRadians[2],h=this.extentInRadians[3],u=s[0],d=t(l,h,.5),p=t(r,a,.5),f=0===u?0:Math.min(Math.abs(l),Math.abs(h));this._edgeLen=(a-r)*Math.cos(f)*n,this._edgeLen2=this._edgeLen*this._edgeLen,this._curvatureHeight=n-Math.sqrt(n*n-this._edgeLen2/4),c(this.centerAtSeaLevel,p,d,this.ellipsoid.radius),e(this.up,this.centerAtSeaLevel),this.updateRadiusAndCenter()}updateRadiusAndCenter(){this._updateBoundingVolumes();const t=this._center;if(0===this.lij[0])s(t[E.MIDDLE],0,0,0),s(t[E.TOP],0,0,0),s(t[E.BOTTOM],0,0,0),t[E.MIDDLE][3]=this.ellipsoid.radius+this.elevationBounds[1];else{this._updateCenter();const e=t[E.MIDDLE],s=this.convexHull;let i=0;for(let t=0;t<8;++t)i=Math.max(i,L(e,s,3*t));t[E.MIDDLE][3]=Math.sqrt(i)}}_calculateFrustumVisibilityStatus(t){if(!p(t,this._boundingSphere))return _.OUTSIDE;if(this.lij[0]<10)return _.INTERSECTS;const e=this.convexHull,s=this.surface.view.state.camera.near;let i=!0;for(let o=0;o<f;o++){const n=o===m.NEAR,r=t[o],l=r[0],a=r[1],h=r[2],u=r[3]-(n?s:0);let c=!1;for(let t=0;t<8;++t){const s=3*t;if(l*e[s]+a*e[s+1]+h*e[s+2]+u<0){if(c=!0,!i)break}else i=!1}if(!c)return _.OUTSIDE}return i?_.INSIDE:_.INTERSECTS}computeElevationBounds(){super.computeElevationBounds(),this._updateBoundingVolumes()}createGeometry(){v(this.renderData,this._getPatchType()),this._updateBoundingVolumes(),this.setMemoryDirty()}_updateBoundingVolumes(){this._updateConvexHull(),this._updateBoundingSphere(),j&&this._checkBVs()}_updateBoundingSphere(){const t=this._boundingSphere,e=t,r=this.elevationBounds,l=this.ellipsoid.radius,a=r[1];if(0===this.level)s(e,0,0,0),t[3]=l+a;else{const s=this.extentInRadians,a=.5*(s[0]+s[2]),h=s[1],u=s[3];y(O,a,h,l),y(A,a,u,l),i(e,O,A);const c=.5*(r[0]+r[1]);o(e,e,(l+c)/n(e));const d=this.convexHull;let p=0;const f=(t,e)=>{const s=t[0]-d[3*e],i=t[1]-d[3*e+1],o=t[2]-d[3*e+2];return Math.sqrt(s*s+i*i+o*o)};for(let t=0;t<8;++t){const s=f(e,t);p=Math.max(p,s)}const m=p;t[3]=m+2}}_updateConvexHull(){const t=this.extentInRadians,s=this.ellipsoid.radius;if(0===this.level)return;const a=this.elevationBounds,c=this._getPatchType(),d=this.surface.isWebMercator,p=d&&c===$.HAS_NORTH_POLE,f=d&&c===$.HAS_SOUTH_POLE,m=f||p,g=Math.PI/2,_=t[0],v=t[2],x=f?-g:t[1],M=p?g:t[3],j=.5*(_+v),T=a[0],E=s+(m?Math.min(0,T-1):T),H=(t,e,s)=>y(t,e,s,E),D=u(),I=u(),L=u(),R=u();H(D,_,x),H(I,_,M),H(L,v,M),H(R,v,x);const O=(t,e)=>{for(let s=0;s<3;++s)this._convexHull[3*e+s]=t[s]};O(D,0),O(I,1),O(L,2),O(R,3);const A=a[1],P=s+(m?Math.max(0,A+1):A),V=u(),C=u(),N=u();y(C,j,M,E),y(N,j,x,E),i(V,C,N),e(V,V);const k=u(),U=u(),F=(t,s)=>{h(U,t,s),e(U,U);const n=-l(t,k)/l(U,k);b(n>=0),o(U,U,n),i(t,t,U)};if(2**this.lij[0]>2*this.lij[1]){const t=N,s=u();r(s,B,t),e(s,s),r(k,t,s),e(k,k),b(S(l(k,t)/n(t),0)),F(D,I),F(R,L),O(D,0),O(R,3)}else if(2**this.lij[0]!==2*this.lij[1]){const t=C,s=u();r(s,B,t),e(s,s),r(k,s,t),e(k,k),F(I,D),F(L,R),O(I,1),O(L,2)}const w=(t,e)=>{const s=P/l(e,V);for(let i=0;i<3;++i)this._convexHull[3*t+i]=e[i]*s};w(4,D),w(5,I),w(6,L),w(7,R)}_getPatchType(){const t=this.lij[1],e=0===t,s=t===(1<<this.level)-1;return e?s?$.HAS_BOTH_POLES:$.HAS_NORTH_POLE:s?$.HAS_SOUTH_POLE:$.REGULAR}intersectsRay(t,e,s,i){const o=this._boundingSphere,n=o[3]+s,r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],l=o[0]-t[0],a=o[1]-t[1],h=o[2]-t[2],u=(l*e[0]+a*e[1]+h*e[2])/r,c=e[0]*u-l,d=e[1]*u-a,p=e[2]*u-h;return c*c+d*d+p*p<n*n}getDefaultVerticesPerSide(){return this.level<I.length?I[this.level]+1:2}updateCornerElevations(){x(this.renderData),this._updateBoundingVolumes()}updateEdgeElevations(){M(this.renderData),this._updateBoundingVolumes()}_checkBVs(){if(!j)return;if(this.level<=2)return;const t=this._boundingSphere,s=t[3],o=t,c=u(),p=this.ellipsoid.radius,f=this.elevationBounds;f[1],f[0];const m=p+f[0],g=1,$=0,_=this._center[E.MIDDLE][3],v=this.convexHull,x=(t,e)=>{for(let s=0;s<3;++s)t[s]=v[3*e+s]};{const t=u(),s=u(),i=u(),o=u(),n=u(),a=(a,u,c,d)=>{x(s,a),x(i,u),x(o,c),h(s,s,i),h(o,o,i),r(t,s,o),e(t,t);const p=l(t,i);x(n,d);const f=l(t,n),m=Math.abs(f-p);b(S(m,0),`Non coplanar ${a},${u},${c},${d} diff = ${m}`)};a(0,1,2,3),a(4,5,6,7),a(0,1,4,5),a(1,2,5,6),a(2,3,6,7),a(3,0,7,4)}const M=d(24),T=(t,e,s)=>{const i=4*t;for(let o=0;o<3;++o)M[i+o]=e[o];M[i+3]=s},D=u(),I=u(),L=u(),B=u(),O=(t,s,i,o)=>{x(D,s),x(I,i),x(L,o),h(D,D,I),e(D,D),h(L,L,I),e(L,L),r(B,D,L),e(B,B);const n=l(B,I);T(t,B,n)};O(0,0,1,2),O(1,1,0,4),O(2,1,5,2),O(3,3,2,6),O(4,4,0,3),O(5,4,6,5);const A=1,P=(t,e,s,i)=>{const o=4*t;return M[o]*e+M[o+1]*s+M[o+2]*i-M[o+3]},V=(t,e,s,i)=>P(t,e,s,i)>=-A,C=(t,e)=>V(t,e[0],e[1],e[2]),N=2**this.lij[0]>2*this.lij[1],k=(t,e,i)=>Math.sqrt(R(t,e,i,o[0],o[1],o[2]))<s,U=t=>k(t[0],t[1],t[2]),F=(t,e)=>k(t[e],t[e+1],t[e+2]),w=this.extentInRadians,q=.5*(w[0]+w[2]),G=w[1],z=w[3],W=u(),J=u();y(W,q,z,m),y(J,q,G,m);const K=N?\"Upper\":\"Lower\";let Q=!0;for(let e=0;e<6;++e){for(let t=0;t<8;++t){const s=3*t,i=V(e,v[s],v[s+1],v[s+2]);Q&&=i,b(i,`Tile[${this.lij}] Convex hull point ${t} outside of plane ${e}`)}b(C(e,J),`Tile[${this.lij}] (${K}) bottom mid outside of plane ${e}`),b(C(e,W),`Tile[${this.lij}] (${K}) top mid outside of plane ${e}`)}b(Q,\"Not all convex hull points are inside  convex hull polyhedron\"),b(U(J),`Tile[${this.lij}] (${K}) bottom mid outside of bounding sphere`),b(U(W),`Tile[${this.lij}] (${K}) top mid outside of bounding sphere`);for(let e=0;e<8;++e){const t=F(v,3*e);b(t,`Tile[${this.lij}] Convex hull point ${e} outside of bounding sphere`)}for(let e=0;e<6;++e)for(let t=0;t<8;++t){const s=3*t;V(e,v[s],v[s+1],v[s+2])||console.error(`Tile[${this.lij}] Convex hull point ${t} outside of plane ${e}`)}const X=this.extentInRadians,Y=Math.max(X[2]-X[0],X[3]-X[1]),Z=Math.round(Y*p),tt=this.renderData;if(!tt)return;const{geometry:et,localOrigin:st}=tt,it=et.vertexAttributes?.position;if(!it)return;const ot=it.count,nt=u(),rt=et.numVerticesPerSide-2,lt=rt*rt,at=tt.geometryState.neighborData,ht=at.edgeResolutions.reduce(((t,e)=>t+e+1),0);for(let e=0;e<ot;++e){const t=e<lt,r=!t&&e<lt+ht;let l=!1,h=-1;if(r){let t=lt;for(let s=0;s<4;++s){const i=at.edgeResolutions[s];if(e===t||e===t+i-1){l=!0;break}if(t+=i,e<t){h=s;break}}}const u=r?at.edgePeerNeighbors[h]:null,d=r&&u&&H(this,u)>0;it.getVec(e,c),i(nt,c,st);const m=n(nt)-p;let v=0,x=!1;const M=f[0]-m,j=m-f[1],b=M>g,S=j>g,T=b||S,E=()=>{const s=t?\"internal\":r&&!l?\"edge\":l?\"corner\":\"pole\";return`Tile[${this.lij}].vertex[${e}]:${s}`+(b?\"(below)\":S?\"(above)\":\"\")+(d?\"(Neighbor)\":\"\")},D=a(nt,o);if(D>=s+$){const t=D-s;T||(console.error(`${E()} is out of the bounding sphere by ${t.toFixed(0)} / ${s.toFixed(0)}[tol=${$}] h=${m.toFixed(0)} / [${f[0].toFixed(0)}..${f[1].toFixed(0)}] (${(t/s).toFixed(0)})`),x=!0)}for(let i=0;i<6;++i)if(!V(i,nt[0],nt[1],nt[2])){const t=P(i,nt[0],nt[1],nt[2]),o=e%rt,n=(e-o)/rt;0===i&&M||5===i&&j||(console.error(`${E()} (${o},${n})|${rt}] is out of the bounding trapezoid plane ${i} h=${Math.round(m)} / [${Math.round(f[0])}..${Math.round(f[1])}] dist=${Math.round(t)} radii = ${Math.round(s)}/${Math.round(_)}} : maxL = ${Z}`),++v)}if(x||v>0)break}}}const I=[128,64,64,32,16,8,8,4];function L(t,e,s){return R(t[0],t[1],t[2],e[s],e[s+1],e[s+2])}function R(t,e,s,i,o,n){const r=i-t,l=o-e,a=n-s;return r*r+l*l+a*a}const y=(t,e,s,i)=>{const o=Math.cos(e),n=Math.sin(e),r=Math.cos(s),l=Math.sin(s);t[0]=i*r*o,t[1]=i*r*n,t[2]=i*l},B=[0,0,1],O=u(),A=u();export{D as SphericalPatch};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";let e=class extends t{constructor(){super(...arguments),this.fovX=0,this.fovY=0,this.relativeWidthLimit=0,this.relativeHeightLimit=0,this.maxLod=0,this.angledSplitBias=0,this.aboveGround=!0}};o([r()],e.prototype,\"fovX\",void 0),o([r()],e.prototype,\"fovY\",void 0),o([r()],e.prototype,\"relativeWidthLimit\",void 0),o([r()],e.prototype,\"relativeHeightLimit\",void 0),o([r()],e.prototype,\"maxLod\",void 0),o([r()],e.prototype,\"angledSplitBias\",void 0),o([r()],e.prototype,\"aboveGround\",void 0),o([r()],e.prototype,\"frustum\",void 0),e=o([i(\"esri.views.3d.terrain.SplitLimits\")],e);export{e as SplitLimits};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{LayerBlendMode as o}from\"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";import{parameter as r,ShaderTechniqueConfiguration as n}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";class s extends n{constructor(){super(...arguments),this.blendMode=o.Normal}}e([r({count:o.COUNT})],s.prototype,\"blendMode\",void 0);export{s as BlendModeTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{BlendModeTechniqueConfiguration as o}from\"./BlendModeTechniqueConfiguration.js\";import{BlendLayersOutput as t,BaseOpacityMode as r,PremultipliedAlphaSource as i}from\"../webgl-engine/core/shaderLibrary/terrain/TileBackground.glsl.js\";import{parameter as s}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";class p extends o{constructor(){super(...arguments),this.output=t.Composite,this.baseOpacityMode=r.NotRequired,this.premultipliedSource=i.Off}}e([s({count:t.COUNT})],p.prototype,\"output\",void 0),e([s({count:r.COUNT})],p.prototype,\"baseOpacityMode\",void 0),e([s()],p.prototype,\"premultipliedSource\",void 0);export{p as TileBlendTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{Z as r}from\"../../../chunks/vec3f64.js\";import{TileBlendTechniqueConfiguration as i}from\"./TileBlendTechniqueConfiguration.js\";import{TileCompositePassParameters as o}from\"../webgl-engine/core/shaderLibrary/terrain/TileComposite.glsl.js\";import{B as s,a as t}from\"../../../chunks/BlendLayers.glsl.js\";import{ReloadableShaderModule as n}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as l}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{parameter as a}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as c}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as u}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as g}from\"../../webgl/enums.js\";import{makePipelineState as m,simpleBlendingParams as h,defaultColorWriteParams as d}from\"../../webgl/renderState.js\";class b extends o{constructor(){super(...arguments),this.opacity=1,this.baseOpacity=1,this.texture=null,this.fboTexture=null,this.backgroundColor=r}}class p extends l{initializeProgram(e){return new u(e.rctx,p.shader.get().build(this.configuration),c)}initializePipeline(){return m({blending:h(g.ONE,g.ONE_MINUS_SRC_ALPHA),colorWrite:d})}}p.shader=new n(s,(()=>import(\"../webgl-engine/core/shaderLibrary/util/BlendLayers.glsl.js\")));class f extends i{constructor(){super(...arguments),this.background=t.BelowLayer}}e([a()],f.prototype,\"background\",void 0);export{b as BlendLayersPassParameters,p as BlendLayersTechnique,f as BlendLayersTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as s}from\"../../../chunks/vec3f64.js\";import{f as t}from\"../../../chunks/vec4f64.js\";class e{constructor(e,f,o,r,c,i){this.texture=e,this.type=f,e.retain(),this.offsetAndScale=t(o.offset[0],o.offset[1],o.scale,o.scale),this.opacities=s(r,c,i)}destroy(){this.texture.release()}}export{e as TextureReference};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import e from\"../../../../Viewpoint.js\";import t from\"../../ViewState.js\";import{StyleLayerType as r}from\"./style/StyleDefinition.js\";import i from\"../../../../geometry/Point.js\";const l=.125;class n{constructor(){this._renderParams={context:null,drawPhase:1,state:new t({viewpoint:new e({targetGeometry:new i(0,0),scale:1,rotation:0}),size:[256,256]}),stationary:!0,pixelRatio:1,displayLevel:-1,requiredLevel:-1,globalOpacity:1,renderPass:\"background\",styleLayer:null,styleLayerUID:-1,painter:null,glyphMosaic:null,spriteMosaic:null,profiler:null,renderingOptions:null,requestRender:null,allowDelayedRender:!1,deltaTime:-1,timeline:null,time:0,hasClipping:!1,blendMode:null,dataUploadCounter:0,effects:null,inFadeTransition:!1,requireFBO:!1,highlightGradient:null}}dispose(){this._renderParams=null}render(e,t,r,i,l,n,s,a,o,d,p){this._render(e,t,r,i,l,n,s,a,o,d,p)}renderSymbols(e,t,i,l,n,s,a,o,d,p,u){this._render(e,t,i,l,n,s,a,o,d,p,u,r.SYMBOL)}_render(e,t,r,i,n,s,a,o,d,p,u,c){const m=t[0]-s.getLevelShift(t[0]),y=this._renderParams;y.context=e,y.painter=i,y.glyphMosaic=i.glyphMosaic,y.spriteMosaic=i.spriteMosaic,y.pixelRatio=p*u,y.displayLevel=m,y.requiredLevel=m;const g=s.getScale(t[0]),[h,f]=s.getOffset(t,a*g),w=l*a*g/d,L=r.transforms.dvs;L[0]=w,L[4]=-w,L[6]=-1-h-o[0]*a*2,L[7]=1+f+(1-o[1])*a*2-2,y.state.size[0]=d/u,y.state.size[1]=d/u,y.state.pixelRatio=u,r.stage||r.attachWithContext(e),r.triangleCount=0,i.drawTile(y,r,n,c)}}export{n as VectorTileRendererHelper3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{RasterColorizerType as r,RasterColorizerStretchType as i}from\"../../2d/engine/imagery/enums.js\";import{TileBlendTechniqueConfiguration as o}from\"./TileBlendTechniqueConfiguration.js\";import{R as t}from\"../../../chunks/RasterColorizer.glsl.js\";import{ReloadableShaderModule as n}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{parameter as l}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as p}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as m}from\"../../webgl/enums.js\";import{makePipelineState as c,simpleBlendingParams as h,defaultColorWriteParams as g}from\"../../webgl/renderState.js\";class u extends s{initializeProgram(e){return new p(e.rctx,u.shader.get().build(this.configuration),a)}initializePipeline(){return c({blending:h(m.ONE,m.ONE_MINUS_SRC_ALPHA),colorWrite:g})}}u.shader=new n(t,(()=>import(\"../webgl-engine/core/shaderLibrary/raster/RasterColorizer.glsl.js\")));class d extends o{constructor(){super(...arguments),this.colorizerType=r.Stretch,this.stretchType=i.Noop,this.applyColormap=!0,this.requireBilinearWithNN=!1}}e([l({count:r.COUNT})],d.prototype,\"colorizerType\",void 0),e([l({count:i.COUNT})],d.prototype,\"stretchType\",void 0),e([l()],d.prototype,\"applyColormap\",void 0),e([l()],d.prototype,\"requireBilinearWithNN\",void 0);export{u as RasterColorizerTechnique,d as RasterColorizerTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{RenderbufferFormat as e}from\"../../../webgl/enums.js\";import{FramebufferObject as t}from\"../../../webgl/FramebufferObject.js\";import{RenderbufferDescriptor as r}from\"../../../webgl/RenderbufferDescriptor.js\";import{TextureDescriptor as s}from\"../../../webgl/TextureDescriptor.js\";class o{constructor(e){this._rctx=e,this._fbos=new Map}get(e){return this._getPool(e)}dispose(){this._fbos.forEach((e=>e.dispose())),this._fbos.clear()}_getPool(o){const i=this._fbos.get(o);if(i)return i;const f=new t(this._rctx,new s(o),new r(e.DEPTH_COMPONENT16,o));return this._fbos.set(o,f),f}}export{o as MultiSizeFramebuffer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{disposeMaybe as t,releaseMaybe as r}from\"../../../core/maybe.js\";import{Z as i}from\"../../../chunks/vec2f64.js\";import{RasterColorizerStretchType as s}from\"../../2d/engine/imagery/enums.js\";import{VectorTileRendererHelper3D as o}from\"../../2d/engine/vectorTiles/VectorTileRendererHelper3D.js\";import{BlendLayersTechniqueConfiguration as n,BlendLayersTechnique as a}from\"./BlendLayersTechnique.js\";import{LayerClass as l}from\"./LayerClass.js\";import{RasterColorizerTechniqueConfiguration as h,RasterColorizerTechnique as u}from\"./RasterColorizerTechnique.js\";import{MultiSizeFramebuffer as c}from\"./support/MultiSizeFramebuffer.js\";import{LayerBlendMode as d}from\"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";import{PremultipliedAlphaSource as _,BlendLayersOutput as f,BaseOpacityMode as p}from\"../webgl-engine/core/shaderLibrary/terrain/TileBackground.glsl.js\";import{a as b}from\"../../../chunks/BlendLayers.glsl.js\";import{BindParameters as g}from\"../webgl-engine/lib/BindParameters.js\";import{Pos2Tex as m}from\"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";import{createQuadVAO as T}from\"../webgl-engine/lib/glUtil3D.js\";import{PrimitiveType as y,ClearBufferBit as x,TextureType as C}from\"../../webgl/enums.js\";import{Texture as B}from\"../../webgl/Texture.js\";import{vertexCount as q}from\"../../webgl/Util.js\";const O=e.getLogger(\"esri.views.3d.terrain\");class I{constructor(e,t){this._rctx=e,this._techniqueRepository=t,this._fbos=[],this._vectorTileHelper=new o,this._bindParameters=new g(null,null,null),this._blendLayersTechniqueConfig=new n,this._current=0,this._lastUsedIds=new Array,this._lastCreatedBufferId=0,this._onHoldIds=new Array,this._vaoQuad=T(this._rctx,m)}dispose(){this._fbos.forEach(t),this._fbos=null,this._vtFBO=t(this._vtFBO),this._vaoQuad=t(this._vaoQuad),this._vectorTileHelper=t(this._vectorTileHelper),this._backgroundTechnique=r(this._backgroundTechnique),this._applyOpacityTechnique=r(this._applyOpacityTechnique),this._blendLayersTechnique=r(this._blendLayersTechnique)}_getBlendLayersTechnique(e,t,r,i=_.Off,s=b.BelowLayer){return this._blendLayersTechniqueConfig.output=t,this._blendLayersTechniqueConfig.blendMode=e,this._blendLayersTechniqueConfig.baseOpacityMode=r,this._blendLayersTechniqueConfig.premultipliedSource=i,this._blendLayersTechniqueConfig.background=s,this._blendLayersTechnique=this._techniqueRepository.releaseAndAcquire(a,this._blendLayersTechniqueConfig,this._blendLayersTechnique),this._blendLayersTechnique}drawBackground(e,t){const r=this._getBlendLayersTechnique(d.Normal,t?f.ColorComposite:f.GridComposite,p.NotRequired,_.Off,b.Only),i=this._rctx.bindTechnique(r,e,this._bindParameters);this._render(i)}_render(e){this._rctx.bindVAO(this._vaoQuad),e.assertCompatibleVertexAttributeLocations(this._vaoQuad),this._rctx.drawArrays(y.TRIANGLE_STRIP,0,q(this._vaoQuad,\"geometry\"))}drawGroup(e,t,r,i,s,o=_.On){t===f.Composite&&(e.fboTexture=this._fbos[this.getLastOnHoldId()].get(r).colorTexture),e.texture=this.currentFBO(r).colorTexture,this.closeGroup(r);const n=this._getBlendLayersTechnique(i,t,s,o),a=this._rctx.bindTechnique(n,e,this._bindParameters);this._render(a)}drawRasterData(e,t,r,i,s,o=_.Off){if(null==e.texture)return;e.fboTexture=t===f.GroupBackgroundComposite||i===d.Normal&&s===p.NotRequired&&o===_.Off?null:this.switch(r).colorTexture;const n=this._getBlendLayersTechnique(i,t,s,o),a=this._rctx.bindTechnique(n,e,this._bindParameters);this._render(a)}drawImageryTileData(e,t,r,i,s,o){const n=o.sourceLayerInfo.data;if(!n.source)return;if(o.tile.surface.layerViewByIndex(o.layerIndex,l.MAP).ensureSymbolizerParameters(n),!n.bind(this._rctx))return;e.fboTexture=i===d.Normal&&s===p.NotRequired?null:this.switch(r).colorTexture;const a=this._getRasterColorizerTechnique(n,t,i,s);n.opacity=e.opacity;const h=n.getUniforms();h.scale=o.scale,h.offset=o.offset,h.backgroundColor=e.backgroundColor,h.fboTexture=e.fboTexture,h.baseOpacity=e.baseOpacity;const u=this._rctx.bindTechnique(a,h,null);this._render(u)}_getRasterColorizerTechnique(e,t,r,i){const o=e.symbolizerParameters,n=[\"stretch\",\"lut\",\"hillshade\"].indexOf(o.type);return null==this._rasterColorizerConfig&&(this._rasterColorizerConfig=new h,this._rctx.gl.getExtension(\"WEBGL_color_buffer_float\"),this._rctx.gl.getExtension(\"OES_texture_float\")),this._rasterColorizerConfig.output=t,this._rasterColorizerConfig.blendMode=r,this._rasterColorizerConfig.baseOpacityMode=i,this._rasterColorizerConfig.colorizerType=n,this._rasterColorizerConfig.applyColormap=!!o.colormap,this._rasterColorizerConfig.requireBilinearWithNN=e.isBilinearWithStretchColorRamp,this._rasterColorizerConfig.stretchType=e.hasStretchTypeNone()?s.Noop:s.PerBand,this._rasterColorizerTechnique=this._techniqueRepository.releaseAndAcquire(u,this._rasterColorizerConfig,this._rasterColorizerTechnique),this._rasterColorizerTechnique}drawVectorData(e,t,r,s,o,n,a,h,u){const b=this._rctx,g=n.sourceLayerInfo.data,m=n.tile.surface.layerViewByIndex(n.layerIndex,l.MAP),T=o===p.Required||e.opacity<1||s!==d.Normal||t!==f.Composite,y=T?_.On:_.Off;this._getBlendLayersTechnique(s,t,o,y).bindPipelineState(b);let C=null,B=null;T?(B=this.currentFBO(r),null==this._vtFBO&&(this._vtFBO=new c(this._rctx)),C=this._vtFBO.get(r),b.bindFramebuffer(C),this._clearCurrentFBO()):u&&b.clearSafe(x.DEPTH_BUFFER_BIT);try{this._vectorTileHelper.render(b,n.sourceLod,g,m.painter,m.layer.styleRepository,m.schemaHelper,Math.round(1/n.scale),n.offset,h,a,m.contentZoom),n.vtlNeighborInfos.forAll((e=>this._vectorTileHelper.renderSymbols(b,e.sourceLod,e.sourceLayerInfo.data,m.painter,m.layer.styleRepository,m.schemaHelper,1,e.offset,h,a,m.contentZoom)))}catch(q){O.warnOnce(\"A render call containing vector tiles did not resolve correctly.\",q)}return null==C||(b.bindFramebuffer(B),e.texture=C.colorTexture,e.offset=i,e.scale=1,this.drawRasterData(e,t,r,s,o,y),u)}copyFBOToTexture(e){const t=this._rctx,r=t.bindTexture(e.texture,B.TEXTURE_UNIT_FOR_UPDATES),i=e.descriptor;t.gl.copyTexImage2D(C.TEXTURE_2D,0,i.pixelFormat,0,0,i.width,i.height,0),e.generateMipmap(),t.bindTexture(r,B.TEXTURE_UNIT_FOR_UPDATES)}_clearCurrentFBO(){this._rctx.setClearColor(0,0,0,0),this._rctx.setClearDepth(1),this._rctx.clearSafe(x.COLOR_BUFFER_BIT|x.DEPTH_BUFFER_BIT)}_initFBO(e,t,r){this._rctx.bindFramebuffer(e),r&&(this._rctx.setViewport(0,0,t,t),this._clearCurrentFBO())}ensureBuffer(e){this._lastUsedIds.length=0,this._lastUsedIds.push(1),this._lastCreatedBufferId=1,this._onHoldIds.length=0,this.bind(e)}bind(e,t=0,r=!0){if(this._current=t,t>=this._fbos.length)for(let i=this._fbos.length;i<=t;i++)this._fbos.push(new c(this._rctx));this._initFBO(this._fbos[t].get(e),e,r)}_bindNextFreeBuffer(e){this._lastUsedIds.length>0?this.bind(e,this._lastUsedIds.pop()):(this._lastCreatedBufferId++,this.bind(e,this._lastCreatedBufferId))}openGroup(e){this._onHoldIds.push(this._current),this._bindNextFreeBuffer(e)}switch(e){const t=this.currentFBO(e),r=this._current;return this._bindNextFreeBuffer(e),this._lastUsedIds.push(r),t}getLastOnHoldId(){return this._onHoldIds[this._onHoldIds.length-1]}closeGroup(e){const t=this._current;this._bindNextFreeBuffer(e),this._lastUsedIds.push(t),this._lastUsedIds.push(this._onHoldIds.pop())}unbind(){this._rctx.bindFramebuffer(null)}currentFBO(e){return this._fbos[this._current].get(e)}}export{I as TileCompositor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport o from\"../../../core/PooledArray.js\";class s{constructor(){this.sourceLod=[0,0,0],this.offset=[0,0],this.scale=1,this.layerIndex=0,this.vtlNeighborInfos=new o({allocator:o=>o||new t})}}class t{constructor(){this.sourceLayerInfo=null,this.sourceLod=[0,0,0],this.offset=[-1,0]}}export{s as TileRenderInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e,releaseMaybe as t}from\"../../../core/maybe.js\";import{s as r,j as s}from\"../../../chunks/vec2.js\";import{Z as o}from\"../../../chunks/vec2f64.js\";import{isBaseLayer as a,isGroupLayer as i}from\"../../../layers/support/layerUtils.js\";import{ImageWithType as n}from\"../support/StreamDataLoader.js\";import{BlendLayersPassParameters as u}from\"./BlendLayersTechnique.js\";import{TextureUpdate as c}from\"./interfaces.js\";import{NeighborIndex as l}from\"./ITile.js\";import{LayerClass as p}from\"./LayerClass.js\";import{isBlendableLayerView as h,isVectorTileLayerView as d,isVectorTileRenderInfo as m,isImageryTileRenderInfo as _,isRasterTileRenderInfo as f,isTextureTileRenderInfo as T,isVectorTilePerLayerInfo as y}from\"./terrainUtils.js\";import{ActivationTime as g}from\"./TextureFader.js\";import{TextureReference as b}from\"./TextureReference.js\";import{TileCompositor as x}from\"./TileCompositor.js\";import{TileRenderInfo as k}from\"./TileRenderInfo.js\";import w from\"./TileTexture.js\";import{TileUpdate as I}from\"./TileUpdate.js\";import{blendModeFromString as A}from\"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";import{BaseOpacityMode as P,BlendLayersOutput as E}from\"../webgl-engine/core/shaderLibrary/terrain/TileBackground.glsl.js\";import{createColorTexture as R,createEmptyTexture as M}from\"../webgl-engine/lib/glUtil3D.js\";import{TextureSamplingMode as D,TextureWrapMode as j}from\"../../webgl/enums.js\";import{Texture as L}from\"../../webgl/Texture.js\";import{TextureDescriptor as O}from\"../../webgl/TextureDescriptor.js\";class N{constructor(e,t,r,s){this.start=e,this.end=t,this.blendMode=r,this.opacity=s}}class C{constructor(e,t,r){this._rctx=e,this.tileSize=t,this._techniqueRepository=r,this._passParameters=new u,this._backgroundTexture=null,this._backgroundColor=null,this._backgroundDirty=!1,this._blackTex=null,this._maxAnisotropy=this._rctx.parameters.maxMaxAnisotropy,this._composition=new x(this._rctx,this._techniqueRepository),this._blackTex=new w(R(this._rctx,[0,0,0,1])),this._ensureBackgroundTexture(this.tileSize)}dispose(){this._composition=e(this._composition),this._backgroundTexture=t(this._backgroundTexture),this._blackTex=t(this._blackTex)}get backgroundIsGrid(){return null==this._backgroundColor}get backgroundColor(){return this._backgroundColor}updateTileTexture(e,t){if(!e.renderData)return;const r=e.surface,s=r.baseOpacity;let o=0,n=0,u=this.tileSize,c=!1;const l=r.view.state.contentPixelRatio;let m=!1;z.clear(),H.length=0;const _=e.layerInfo[p.MAP];let f=_.length,T=0,y=null;for(;T<_.length;T++){const t=r.layerViewByIndex(T,p.MAP),g=t.layer.opacity;F[T]=g;const b=t.fullOpacity;if(q[T]=b,a(t.layer)&&f>=_.length&&(f=T),h(t)){v[T]=t.layer.blendMode;let e=\"normal\"!==t.layer.blendMode;if(i(t.layer.parent)){const r=U(t.layer.parent);null!=r&&\"\"!==r&&(e=B(t.layer.parent)||e)}e&&(m=e,c=!1)}if(0===g&&!m){_[T].pendingUpdates&=~(I.TEXTURE_NOFADING&I.TEXTURE_FADING);continue}++n;const x=S(e,T);if(x){if(_[T].pendingUpdates&=~(I.TEXTURE_NOFADING&I.TEXTURE_FADING),i(t.layer.parent)){const e=U(t.layer.parent);null!=e&&\"\"!==e&&G(t.layer.parent,T)}d(t)?u=Math.max(u,this.tileSize*l):1===s&&1===b&&(t.isOpaque||this._dataToTexture(x)&&x.sourceLayerInfo.data.descriptor.isOpaque)&&(c=!0),++o,null===y&&(y=T)}}const g=u/this.tileSize;this._ensureBackgroundTexture(this.tileSize),0!==o&&null!==y?1===o&&!m&&this._useLayerTexture(e,y,f,q[y])||this._composeMapLayers(e,t,T-1,f,F,v,u,g,!c||m,z,m):this._useBackgroundTexture(e,n)}_ensureBackgroundTexture(e){null==this._backgroundTexture&&(this._backgroundTexture=this._buildTexture(e),this._backgroundDirty=!0),this._backgroundDirty&&(this._composition.bind(e),this._passParameters.offset=o,this._passParameters.scale=1,this._passParameters.opacity=1,null!=this.backgroundColor&&(this._passParameters.backgroundColor=this.backgroundColor),this._composition.drawBackground(this._passParameters,null!=this.backgroundColor),this._composition.copyFBOToTexture(this._backgroundTexture),this._composition.unbind(),this._backgroundDirty=!1)}_useBackgroundTexture(e,t){let r=g.Immediate;(e.surface.view.layerViewManager.updating||t>0)&&(r=g.Delayed);const s=e.renderData;this._backgroundTexture&&null==s.textureReference&&(r=g.Immediate),s.setTextureReference(null!=this._backgroundTexture?new b(this._backgroundTexture,c.FADING,V,e.surface.baseOpacity,0,1):null,r)}_useLayerTexture(e,t,r,s){const o=t<r,a=o?1:e.surface.baseOpacity,i=o?e.surface.baseOpacity:1,n=S(e,t);return!!this._dataToTexture(n)&&(e.renderData.setTextureReference(new b(n.sourceLayerInfo.data,c.FADING,n,a,i,s)),!0)}_composeMapLayers(e,t,r,s,a,i,n,u,c,l,p){this._composition.ensureBuffer(n);const h=e.surface.baseOpacity;let d=!1,f=D.LINEAR_MIPMAP_LINEAR,T=!1,y=0;for(let b=r;b>=0;b--){const t=S(e,b);if(!t)continue;if(0===a[b]&&!p)continue;const r=b<s&&h<1&&!d;this._passParameters.baseOpacity=r?h:1;const g=this._passParameters.baseOpacity<1?P.Required:P.NotRequired;r&&(d=!0);let x=!1;l.forEach((e=>{e.start===b&&(H.push(e),this._composition.openGroup(n),x=!0)}));const k=0===y,w=x?E.GroupBackgroundComposite:c&&k?this.backgroundIsGrid?E.GridComposite:E.ColorComposite:E.Composite,I=A[i[b]];for(m(t)?(this._passParameters.opacity=a[b],T=this._composition.drawVectorData(this._passParameters,w,n,I,g,t,u,this.tileSize,T)):_(t)?(this._passParameters.opacity=a[b],this._composition.drawImageryTileData(this._passParameters,w,n,I,g,t),this._hasNearestInterpolation(t)&&(f=D.NEAREST)):this._dataToTexture(t)&&(this._passParameters.texture=t.sourceLayerInfo.data.texture,this._passParameters.offset=t.offset,this._passParameters.scale=t.scale,this._passParameters.opacity=a[b],this._composition.drawRasterData(this._passParameters,w,n,I,g));H.length>0&&H[H.length-1].end===b;){const e=H.pop();this._passParameters.opacity=e.opacity,this._passParameters.offset=o,this._passParameters.scale=1;const t=c&&k?this.backgroundIsGrid?E.GridComposite:E.ColorComposite:E.Composite;this._composition.drawGroup(this._passParameters,t,n,A[e.blendMode],g)}y++}const g=e.renderData,x=g.ensureTexture(n,(()=>this._buildTexture(n,f)));this._composition.copyFBOToTexture(x),this._composition.unbind(),g.setTextureReference(new b(x,t,V,d?1:h,0,1))}_hasNearestInterpolation(e){const t=e.sourceLayerInfo.data;return!!t.source&&\"nearest\"===t.interpolation}_dataToTexture(e){if(f(e)){const t=e.sourceLayerInfo;t.data=this._buildTexture(t.data),e.tile.setMemoryDirty()}return T(e)}setBackground(e){this._backgroundColor!==e&&(this._backgroundColor=e,this._backgroundDirty=!0)}_buildTexture(e,t=D.LINEAR_MIPMAP_LINEAR){if(null==e)return null;const r=new O;r.wrapMode=j.CLAMP_TO_EDGE,r.samplingMode=t,r.maxAnisotropy=this._maxAnisotropy,r.preMultiplyAlpha=!0,r.flipped=!0,r.hasMipmap=!0;const s=this._rctx;let o;if(\"number\"==typeof e)r.width=r.height=e,o=new w(new L(s,r));else if(e instanceof n)r.isOpaque=e.isOpaque,o=new w(new L(s,r,e.image)),e.release();else try{r.width=e.width,r.height=e.height,o=new w(new L(s,r,e))}catch(i){o=new w(M(s)),console.warn(\"TileRenderer: failed to execute 'texImage2D', cross-origin image may not be loaded.\")}const a=s.bindTexture(o.texture,L.TEXTURE_UNIT_FOR_UPDATES);return o.generateMipmap(),s.bindTexture(a,L.TEXTURE_UNIT_FOR_UPDATES),o}get test(){return{backgroundTexture:this._backgroundTexture}}}function S(e,t){X.layerIndex=t,X.vtlNeighborInfos.clear();const o=e.layerInfo[p.MAP][t];if(o.data)return r(X.offset,0,0),X.tile=e,X.scale=1,X.sourceLod=e.lij,X.sourceLayerInfo=o,m(X)&&e.forEachLoadedNeighbor(((r,s)=>{if(r.level!==e.level)return;const a=r.layerInfo[p.MAP][t];if(!y(a)||o.data===a.data)return;const i=X.vtlNeighborInfos.pushNew();i.offset=W[s],i.sourceLod=r.lij,i.sourceLayerInfo=a})),X;const a=o.upsampleInfo;if(a){const e=a.tile.layerInfo[p.MAP][t];return X.tile=a.tile,s(X.offset,a.offset),X.scale=a.scale,X.sourceLod=a.tile.lij,X.sourceLayerInfo=e,X}return null}function U(e){return e.get(\"uid\")}function B(e){let t=\"normal\"!==e.blendMode;return i(e.parent)&&(t=B(e.parent)||t),t}function G(e,t){i(e.parent)&&G(e.parent,t);const r=U(e);if(null!=r&&\"\"!==r){const s=z.get(r);s?s.start=t:z.set(r,new N(t,t,e.blendMode,e.opacity))}}const F=new Array,q=new Array,v=new Array,z=new Map,H=new Array,X=new k,V={offset:[0,0],scale:1},W=new Array;W[l.NORTH]=[0,-1],W[l.NORTH_EAST]=[-1,-1],W[l.EAST]=[-1,0],W[l.SOUTH_EAST]=[-1,1],W[l.SOUTH]=[0,1],W[l.SOUTH_WEST]=[1,1],W[l.WEST]=[1,0],W[l.NORTH_WEST]=[1,-1];export{N as GroupInfo,C as TileRenderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../../core/mathUtils.js\";import{c as e,f as i}from\"../../../../../chunks/vec3f64.js\";import{fromValues as n}from\"../../../../../geometry/support/aaBoundingBox.js\";import{computeNormal as r}from\"../../materials/internal/MaterialUtil.js\";const s=200,o=40,a=.8,c=10,h=1e-6;function f(t,e,i){const n=e,r=i;let s=0,o=1/0;for(let a=0;a<3;++a){{const e=t[a];if(n[a]<e){if(r[a]<=h)return!1;const t=(e-n[a])/r[a];s=Math.max(s,t)}else if(r[a]<=-h){const t=(e-n[a])/r[a];o=Math.min(o,t)}if(s>o)return!1}{const e=t[a+3];if(n[a]>e){if(r[a]>=-h)return!1;const t=(e-n[a])/r[a];s=Math.max(s,t)}else if(r[a]>=h){const t=(e-n[a])/r[a];o=Math.min(o,t)}if(s>o)return!1}}return!0}class l{constructor(t,e,i,n,r){this.aabb=t,this.axis=e,this.d=i,this.midStartIndex=n,this.rightStartIndex=r}}class d{constructor(i,n,r,s){this.globalTriangleVertexIndices=i,this.firstTriangleIndex=n,this.positionAttribute=s,this._rayDirection=e(),this.bspNodeTree=new Array;const h=r-n,f=h<=I?new Uint16Array(h):new Uint32Array(h);this.indices=f;for(let t=0;t<h;++t)f[t]=t;{const e=b(i,n,r,s.data,s.stride),d=t(Math.log2(h/o),2,c),u=(t,i,n)=>{const r=y(f,e,t,i),s=i-t;if(s<=o){const e=new l(r,void 0,0,t,i);return this.bspNodeTree.push(e),e}const{axis:c,midValue:h}=N(r),m=x(f,e,t,i,c,h),g=(t,e)=>{if(n>d)return;const i=e-t;return i<o||i>=a*s?void 0:u(t,e,n+1)},b=new l(r,c,h,m.next,m.mid);return this.bspNodeTree.push(b),b.leftNode=g(t,m.next),b.rightNode=g(m.mid,i),b};u(0,h,0),this.triangleVertexIndices=p(f,i,n,r)}}intersectRayTriangleRange(t,e){{if(t>=e)return;const i=this.triangleVertexIndices,n=this.positionAttribute.data,s=this.positionAttribute.stride,o=this._rayOrigin,a=o[0],c=o[1],h=o[2],f=this._rayDirection,l=f[0],d=f[1],m=f[2];for(let g=t,x=3*t;g<e;++g){let t=i[x++]*s;const e=n[t++],o=n[t++],f=n[t];t=i[x++]*s;const y=n[t++],N=n[t++],b=n[t];t=i[x++]*s;const p=y-e,I=N-o,T=b-f,M=n[t++]-e,R=n[t++]-o,S=n[t]-f,A=d*S-R*m,_=m*M-S*l,w=l*R-M*d,V=p*A+I*_+T*w;if(Math.abs(V)<=Number.EPSILON)continue;const U=a-e,B=c-o,v=h-f,P=U*A+B*_+v*w;if(V>0){if(P<0||P>V)continue}else if(P>0||P<V)continue;const j=B*T-I*v,D=v*p-T*U,F=U*I-p*B,O=l*j+d*D+m*F;if(V>0){if(O<0||P+O>V)continue}else if(O>0||P+O<V)continue;const k=(M*j+R*D+S*F)/V;if(k>=0){const t=this.indices[g]+this.firstTriangleIndex,e=r(p,I,T,M,R,S,u);this._callback(k,e,t,!1)}}}d.numFacesTested+=e-t}intersectRay(t,e){d.numFacesTested=0;const n=i(t.r0[0],t.r0[1],t.r0[2]),r=i(t.r1[0],t.r1[1],t.r1[2]),s=r[0]-n[0],o=r[1]-n[1],a=r[2]-n[2];if(s*s+o*o+a*a<h)return;this._rayOrigin=n;const c=this._rayDirection;c[0]=s,c[1]=o,c[2]=a;const f=this.triangleVertexIndices.length/3;this._callback=e;const l=this.bspNodeTree[0];this.intersectRayBSP(l,0,f)}intersectRayBSP(t,e,i){const n=this._rayOrigin,r=this._rayDirection;if(!f(t.aabb,n,r))return;const s=t.axis,o=t.d;if(n[s]<o||r[s]<0){const i=e,n=t.midStartIndex;if(i<n){const e=t.leftNode;void 0!==e?this.intersectRayBSP(e,i,n):this.intersectRayTriangleRange(i,n)}}if(this.intersectRayTriangleRange(t.midStartIndex,t.rightStartIndex),n[s]>o||r[s]>0){const e=t.rightStartIndex,n=i;if(e<n){const i=t.rightNode;void 0!==i?this.intersectRayBSP(i,e,n):this.intersectRayTriangleRange(e,n)}}}get estimatedMemoryUsage(){return this.triangleVertexIndices.byteLength+this.indices.byteLength}}d.numFacesTested=0;const u=e(),m=[1/0,1/0,1/0],g=[-1/0,-1/0,-1/0];function x(t,e,i,n,r,s){let o=i,a=n;for(;o<a;){const i=t[o];e[6*i+r+3]<=s?++o:(--a,t[o]=t[a],t[a]=i)}let c=o;for(a=n;c<a;){const i=t[a-1];e[6*i+r]>=s?--a:(t[a-1]=t[c],t[c]=i,++c)}return{next:o,mid:c}}function y(t,e,i,r){if(r<=i)return n(NaN,NaN,NaN,NaN,NaN,NaN);{const n=6*t[i];for(let t=0;t<3;++t)m[t]=e[n+0+t],g[t]=e[n+3+t]}for(let n=i+1;n<r;++n){const i=6*t[n];for(let t=0;t<3;++t)m[t]=Math.min(m[t],e[i+0+t]),g[t]=Math.max(g[t],e[i+3+t])}return n(m[0],m[1],m[2],g[0],g[1],g[2])}function N(t){const e=t[3]-t[0],i=t[4]-t[1],n=t[5]-t[2],r=e>i?e>n?0:i>n?1:2:i>n?1:n>e?2:0;return{axis:r,midValue:(t[r]+t[r+3])/2}}function b(t,e,i,n,r){const s=i-e,o=new Float32Array(6*s);for(let a=0;a<s;++a){const i=3*(a+e),s=t[i]*r,c=t[i+1]*r,h=t[i+2]*r;for(let t=0;t<3;++t){const e=n[s+t],i=n[c+t],r=n[h+t];o[6*a+t]=Math.min(e,i,r),o[6*a+3+t]=Math.max(e,i,r)}}return o}function p(t,e,i,n){const r=n-i;let s=0;for(let a=i;a<n;++a)for(let t=0;t<3;++t)s=Math.max(e[3*a+t],s);const o=s<=I?new Uint16Array(3*r):new Uint32Array(3*r);for(let a=0;a<r;++a){const n=3*(t[a]+i);for(let t=0;t<3;++t){const i=e[n+t];o[3*a+t]=i}}return o}const I=65535;export{d as ComponentIntersectionData,s as componentMinimalSizeForIntersectionData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{NormalType as t}from\"../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{TextureCoordinateAttributeType as r}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{PBRMode as i}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{OverlayMode as s}from\"../core/shaderLibrary/terrain/Overlay.glsl.js\";import{TileBlendInput as a}from\"../core/shaderLibrary/terrain/TileBlendInput.js\";import{parameter as p}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as l}from\"../materials/DefaultTechniqueConfiguration.js\";class d extends l{constructor(){super(...arguments),this.output=o.Color,this.overlayMode=s.Disabled,this.tileBlendInput=a.LayerOnly,this.spherical=!1,this.doublePrecisionRequiresObfuscation=!1,this.receiveShadows=!1,this.hasSlicePlane=!1,this.backfaceCullingEnabled=!1,this.textureFadingEnabled=!1,this.renderOccluded=!1,this.hasScreenSpaceReflections=!1,this.hasCloudsReflections=!1,this.invisible=!1,this.tileBorders=!1,this.visualizeNormals=!1,this.screenSizePerspective=!1,this.receiveAmbientOcclusion=!1,this.pbrMode=i.Terrain}}e([p({count:o.COUNT})],d.prototype,\"output\",void 0),e([p({count:s.COUNT})],d.prototype,\"overlayMode\",void 0),e([p({count:a.COUNT})],d.prototype,\"tileBlendInput\",void 0),e([p()],d.prototype,\"spherical\",void 0),e([p()],d.prototype,\"doublePrecisionRequiresObfuscation\",void 0),e([p()],d.prototype,\"receiveShadows\",void 0),e([p()],d.prototype,\"hasSlicePlane\",void 0),e([p()],d.prototype,\"backfaceCullingEnabled\",void 0),e([p()],d.prototype,\"textureFadingEnabled\",void 0),e([p()],d.prototype,\"renderOccluded\",void 0),e([p()],d.prototype,\"hasScreenSpaceReflections\",void 0),e([p()],d.prototype,\"hasCloudsReflections\",void 0),e([p()],d.prototype,\"invisible\",void 0),e([p()],d.prototype,\"tileBorders\",void 0),e([p()],d.prototype,\"visualizeNormals\",void 0),e([p()],d.prototype,\"screenSizePerspective\",void 0),e([p()],d.prototype,\"receiveAmbientOcclusion\",void 0),e([p({count:i.COUNT})],d.prototype,\"pbrMode\",void 0),e([p({constValue:t.Compressed})],d.prototype,\"normalType\",void 0),e([p({constValue:r.Compressed})],d.prototype,\"textureCoordinateType\",void 0),e([p({constValue:!1})],d.prototype,\"highStepCount\",void 0),e([p({constValue:!1})],d.prototype,\"useCustomDTRExponentForWater\",void 0),e([p({constValue:!1})],d.prototype,\"useFillLights\",void 0);export{d as TerrainTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import r from\"../../../core/Accessor.js\";import{disposeMaybe as i}from\"../../../core/maybe.js\";import s from\"../../../core/ObjectPool.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{I as a}from\"../../../chunks/mat4f64.js\";import{b as l,s as h,e as c}from\"../../../chunks/vec3.js\";import{Z as u,f as d,c as p}from\"../../../chunks/vec3f64.js\";import{Z as f}from\"../../../chunks/vec4f64.js\";import{create as _,set as m}from\"../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as g}from\"../../../geometry/support/buffer/BufferView.js\";import{ViewingMode as b}from\"../../ViewingMode.js\";import{TextureUpdate as y}from\"./interfaces.js\";import{LayerClass as T}from\"./LayerClass.js\";import{OverlaySource as R}from\"./Overlay.js\";import{overlayRenderOccludedFlag as O}from\"./OverlayRenderer.js\";import{clearCaches as x}from\"./PatchGeometry.js\";import{PatchRenderData as C}from\"./PatchRenderData.js\";import{RenderOrder as v}from\"./RenderOrder.js\";import{ENABLE_TERRAIN_INTERNAL_CHECKS as D}from\"./terrainUtils.js\";import{TileRenderer as P}from\"./TileRenderer.js\";import{TileUpdate as S}from\"./TileUpdate.js\";import{IteratorPreorder as E,sortTiles as q,compareTiles as A}from\"./tileUtils.js\";import{componentMinimalSizeForIntersectionData as w,ComponentIntersectionData as N}from\"../webgl-engine/collections/Component/ComponentIntersectionData.js\";import{ShaderOutput as j}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{OverlayMode as G}from\"../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js\";import{T as I}from\"../../../chunks/Terrain.glsl.js\";import{TileBlendInput as L}from\"../webgl-engine/core/shaderLibrary/terrain/TileBlendInput.js\";import{Attribute as F}from\"../webgl-engine/lib/Attribute.js\";import{RenderRequestType as U}from\"../webgl-engine/lib/basicInterfaces.js\";import{createEmptyTexture as k}from\"../webgl-engine/lib/glUtil3D.js\";import{newIntersectorResult as B}from\"../webgl-engine/lib/Intersector.js\";import{IntersectorType as M,StoreResults as z}from\"../webgl-engine/lib/IntersectorInterfaces.js\";import{RenderOccludedFlag as H}from\"../webgl-engine/lib/Material.js\";import{RenderSlot as V}from\"../webgl-engine/lib/RenderSlot.js\";import{getSettings as W}from\"../webgl-engine/lib/screenSizePerspectiveUtils.js\";import{VertexAttribute as Y}from\"../webgl-engine/lib/VertexAttribute.js\";import{TERRAIN_ID as Q,getVerticalOffsetTerrain as X}from\"../webgl-engine/lib/verticalOffsetUtils.js\";import{DrawParameters as Z}from\"../webgl-engine/materials/DrawParameters.js\";import{intersectAabbInvDirBefore as K,intersectTriangles as J}from\"../webgl-engine/materials/internal/MaterialUtil.js\";import{TerrainTechnique as $}from\"../webgl-engine/shaders/TerrainTechnique.js\";import{TerrainTechniqueConfiguration as ee}from\"../webgl-engine/shaders/TerrainTechniqueConfiguration.js\";import{PrimitiveType as te}from\"../../webgl/enums.js\";const re=7,ie=10,se=_();var ne;!function(e){e[e.Opaque=0]=\"Opaque\",e[e.Semitransparent=1]=\"Semitransparent\",e[e.TransparentWithDraped=2]=\"TransparentWithDraped\",e[e.Empty=3]=\"Empty\"}(ne||(ne={}));let oe=class extends r{get _isGlobal(){return this._stage.viewingMode===b.Global}constructor(e){super(e),this.type=M.TERRAIN,this.isGround=!0,this._tileSize=256,this._techniqueConfiguration=new ee,this._passParameters=new I,this._rctx=null,this._renderDataPool=new s(C),this._patchGroups=new Map,this._patchGroupsDirty=!0,this._patchSortingDirty=!0,this._tileIterator=new E,this._highestVisibleLODTile=null,this._visible=!0,this._transparencyState=ne.Opaque,this._castShadows=!0,this._emptyTex=null,this._tileRenderer=null,this._stencilEnabledLayerExtents=new Array,this._numTilesRendered=0,this._numTilesCulled=0,this._numOriginsRendered=0,this.needsHighlight=!1,this.renderOccludedFlags=H.Occlude}initialize(){const e=[V.OPAQUE_TERRAIN,V.TRANSPARENT_TERRAIN,V.OCCLUDED_TERRAIN];this._stage.addRenderPlugin(e,this)}destroy(){this._stage.removeRenderPlugin(this),x()}get canRender(){return this._visible&&!!this._rootTiles&&!this.renderingDisabled}set renderingDisabled(e){this._set(\"renderingDisabled\",!!e),this.setDirty()}set transparency(e){this._transparencyState!==e&&(this._techniqueConfiguration.invisible=e===ne.TransparentWithDraped||e===ne.Empty,this._transparencyState=e,this.setNeedsRender())}get transparency(){return this._transparencyState}get needsLinearDepth(){return this._overlayRenderer.hasWater}get renderPatchBorders(){return!!this._techniqueConfiguration.tileBorders}set renderPatchBorders(e){this._techniqueConfiguration.tileBorders!==e&&(this._techniqueConfiguration.tileBorders=e,this.setNeedsRender(),this.notifyChange(\"renderPatchBorders\"))}get visualizeNormals(){return!!this._techniqueConfiguration.visualizeNormals}set visualizeNormals(e){this._techniqueConfiguration.visualizeNormals!==e&&(this._techniqueConfiguration.visualizeNormals=e,this.setNeedsRender(),this.notifyChange(\"visualizeNormals\"))}get cullBackFaces(){return this._techniqueConfiguration.backfaceCullingEnabled}set cullBackFaces(e){this._techniqueConfiguration.backfaceCullingEnabled!==e&&(this._techniqueConfiguration.backfaceCullingEnabled=e,this.notifyChange(\"cullBackFaces\"),this.setNeedsRender())}set renderOrder(e){this._set(\"renderOrder\",e),this._setSortingDirty()}get layerUid(){return Q}get slicePlaneEnabled(){return this._techniqueConfiguration.hasSlicePlane}set slicePlaneEnabled(e){this._techniqueConfiguration.hasSlicePlane!==e&&(this._techniqueConfiguration.hasSlicePlane=e,this.setNeedsRender())}set textureFadingEnabled(e){this._techniqueConfiguration.textureFadingEnabled!==e&&(this._techniqueConfiguration.textureFadingEnabled=e,this.setNeedsRender())}set pbrMode(e){this._techniqueConfiguration.pbrMode!==e&&(this._techniqueConfiguration.pbrMode=e,this.setNeedsRender())}setDebugScreenSizePerspective(e){this._techniqueConfiguration.screenSizePerspective!==e&&(this._techniqueConfiguration.screenSizePerspective=e,this.setNeedsRender())}setRootTiles(e){this._rootTiles=e,this.setDirty()}setNeedsHighlight(e){this.needsHighlight=e,this.setNeedsRender()}setRenderOccludedOverlay(e){this.renderOccludedFlags=e?O:H.Occlude,this.setNeedsRender()}setStencilEnabledLayerExtents(e){this._stencilEnabledLayerExtents=e,this._setSortingDirty()}setTileSize(e){this._tileSize=e,null!=this._tileRenderer&&(this._tileRenderer.tileSize=e),this.setDirty()}_prepareTileForLoading(e){e.renderData||(e.renderData=this._renderDataPool.acquire(),e.renderData.init(e),e.renderData.localOrigin=this._getLocalOriginOfTile(e))}loadTile(e){this._prepareTileForLoading(e),this.updateTileGeometryState(e),this.updateTileTexture(e,S.TEXTURE_FADING)}updateTileTexture(e,t){null!=this._tileRenderer&&(this._tileRenderer.updateTileTexture(e,t===S.TEXTURE_FADING?y.FADING:y.UNFADED),this.setNeedsRender(),e.resetPendingUpdate(t))}updateTileGeometryState(e){for(const r of e.layerInfo[T.ELEVATION])r.pendingUpdates&=~S.GEOMETRY;e.resetPendingUpdate(S.GEOMETRY);const t=e.renderData.updateGeometryState();return t&&this.setDirty(),t}updateGeometryIfNeeded(e){e.isLoaded&&e.renderData.updateGeometryIfNeeded(this._rctx)}unloadTile(e){const t=e.renderData;t&&(t.releaseGeometry(),this._renderDataPool.release(t),t.clear(),e.renderData=null,e.setMemoryDirty(),this.setDirty())}_getLocalOriginOfTile(e){const t=ie-re,r=Math.max(0,Math.floor((e.level-t)/re)*re);if(this._isGlobal&&0===r)return u;for(;e.parent&&e.level>r;)e=e.parent;return e.centerAtSeaLevel}setVisibility(e){this._visible=e,this.setDirty()}getStats(){return{numTilesRendered:this._numTilesRendered,numTilesCulled:this._numTilesCulled,numOriginsRendered:this._numOriginsRendered}}set wireframe(e){this._get(\"wireframe\")!==e&&(this._set(\"wireframe\",e),this.setNeedsRender())}setDirty(e=U.UPDATE){this._patchGroupsDirty=!0,this._context.requestRender(e)}_setSortingDirty(e=U.UPDATE){this._patchSortingDirty=!0,this._context.requestRender(e)}setNeedsRender(e=U.UPDATE){this._context.requestRender(e)}initializeRenderContext(e){this._context=e,this._rctx=e.renderContext.rctx,this._techniqueRepository=e.techniqueRepository,this._tileRenderer=new P(this._rctx,this._tileSize,this._techniqueRepository),this.updateTileBackground(),this._emptyTex=k(this._rctx)}uninitializeRenderContext(){this._emptyTex=i(this._emptyTex),this._tileRenderer=i(this._tileRenderer)}intersect(e,t,r,i){if(!this._rootTiles||e.options.selectOpaqueTerrainOnly&&e.options.selectionMode&&this.transparency!==ne.Opaque)return;const s=ae,n=le;l(s,i,r),h(n,1/s[0],1/s[1],1/s[2]);const o=e.results.min,u=e.results.max,d=e.results.ground,p=e.options.store===z.MIN,f=!!e.results.ground.target,_=X(e.verticalOffset),b=e.tolerance;let y,T=p&&null!=o.dist?o.dist:1/0;const R=h=>{const f=h.renderData;if(!f?.vao)return;const R=f.geometry;m(se,R.boundingBox);const O=f.localOrigin;null!=_&&(_.localOrigin=O,_.applyToAabb(se));const x=se;if(he[0]=r[0]-O[0],he[1]=r[1]-O[1],he[2]=r[2]-O[2],!K(x,he,n,b,T))return;const C=(e,t,r)=>{e.set(this.type,h,t,r,a),T=p&&null!=o.dist?o.dist:1/0},v=(n,a)=>{if(null!=a&&n>=0&&(e.options.backfacesTerrain||c(a,s)<0)&&(e.options.invisibleTerrain||!e.options.selectionMode||null==t||t(r,i,n))){if((null==d.dist||n<d.dist)&&C(d,n,a),e.options.isFiltered)return;e.options.store===z.ALL&&(null==y?(y=B(e.ray),C(y,n,a),e.results.all.push(y)):n<y.dist&&C(y,n,a)),(null==o.dist||n<o.dist)&&C(o,n,a),e.options.store!==z.MIN&&(null==u.dist||n>u.dist)&&C(u,n,a)}},D=ce;l(D,i,O);const P=R.indices,S=R.vertexAttributes,E=S.getField(Y.POSITION,g),q=new F(E.typedBuffer,3,!1,S.stride/4),A=R.indexCount/3;if(!_&&A>w){const e=h.renderData;null==e.intersectionData&&(e.intersectionData=new N(P,0,A,q)),e.intersectionData.intersectRay({r0:he,r1:D},v)}else J(he,D,0,A,P,q,null,_,v)},O=this._rootTiles;if(null!=O){(()=>{const t=this._tileIterator;t.reset(O);const i=e.options.invisibleTerrain;for(let e=t.next();e;e=t.next())!(e.visible||i&&e.intersectsClippingArea)||null==_&&!e.intersectsRay(r,s,b,T)||f&&this._useStencilForTile(e)?t.skipSubtree():R(e)})()}}processScaleRangeQueries(e,t){if(!t.done)for(this._updatePatchGroups();e.updating&&!t.done;){e.prepare();for(const t of this._patchGroups.values())for(const r of t)null!=r.renderData?.textureReference&&e.queriesForTile(r);e.process(),t.madeProgress()}}prepareTechnique(e){if(e.bindParameters.slot===V.OCCLUDED_TERRAIN){if(0==(e.renderOccludedMask&O))return null}else{const t=this.transparency===ne.Opaque?V.OPAQUE_TERRAIN:V.TRANSPARENT_TERRAIN;if(e.bindParameters.slot!==t)return null}switch(e.output){case j.Color:return this.transparency===ne.Empty?null:(this._techniqueConfiguration.hasScreenSpaceReflections=e.bindParameters.ssr.enabled,this._techniqueConfiguration.hasCloudsReflections=null!=e.bindParameters.cloudsFade.data,this._techniqueConfiguration.receiveShadows=e.bindParameters.shadowMap.ready,this._techniqueConfiguration.receiveAmbientOcclusion=e.bindParameters.ssaoHelper.active,this._techniqueConfiguration.overlayMode=this._overlayRenderer.isEmpty?G.Disabled:this._overlayRenderer.hasWater?G.EnabledWithWater:G.Enabled,this._updateTechnique(j.Color,e.bindParameters.slot===V.OCCLUDED_TERRAIN));case j.Shadow:case j.ShadowExcludeHighlight:return this._castShadows&&1===e.bindParameters.lighting.globalFactor?(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(j.Shadow,!1)):null;case j.Depth:return this.transparency===ne.Empty?null:(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(j.Depth,!1));case j.Normal:return this.transparency===ne.Empty?null:(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(j.Normal,!1));case j.ObjectAndLayerIdColor:return this.transparency===ne.Empty?null:this._updateTechnique(j.ObjectAndLayerIdColor,!1);case j.Highlight:return this.transparency!==ne.Empty&&this.needsHighlight?(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(j.Highlight,!1)):null}return null}render(e,t){const r=1===e.bindParameters.lighting.globalFactor;switch(this._updatePatchGroups(),t.useStencil=!1,e.output){case j.Color:{const r=e.bindParameters.slot===V.OCCLUDED_TERRAIN?R.Occluded:R.ColorAndWater;this.transparency===ne.Opaque?this._renderMaterialPass(e,t,r):e.offscreenRenderingHelper.renderToTargets((()=>this._renderMaterialPass(e,t,r)),e.offscreenRenderingHelper.tmpColor,e.offscreenRenderingHelper.mainDepth,[0,0,0,0]);break}case j.Depth:case j.Normal:this._renderAuxiliaryPass(e,t,R.ColorAndWater);break;case j.Highlight:this.needsHighlight&&this._renderAuxiliaryPass(e,t,R.Highlight);break;case j.Shadow:case j.ShadowExcludeHighlight:this._castShadows&&r&&this._renderAuxiliaryPass(e,t,R.None);break;case j.ObjectAndLayerIdColor:this._renderAuxiliaryPass(e,t,R.ObjectAndLayerIdColor)}}_renderMaterialPass(e,t,r){const{rctx:i}=e;this._passParameters.overlaySource=r,i.bindTechnique(t,this._passParameters,e.bindParameters),this._numTilesRendered=0,this._numTilesCulled=0,this._numOriginsRendered=0,this._renderPatchGroups(e,t,r)}_renderAuxiliaryPass(e,t,r){const i=e.rctx;this._passParameters.overlaySource=r,i.bindTechnique(t,this._passParameters,e.bindParameters),this._renderPatchGroupsAuxiliary(e,t,r)}updateTileBackground(e=null){if(null==this._tileRenderer)return;const r=this._tileRenderer;let i=null;if(null!=e){const r=t.toUnitRGBA(e);i=d(r[0]||0,r[1]||0,r[2]||0)}r.setBackground(i),this._allTiles.forAll((e=>r.updateTileTexture(e,y.FADING))),this._techniqueConfiguration.tileBlendInput=r.backgroundIsGrid?L.GridComposite:null!=r.backgroundColor?L.ColorComposite:L.LayerOnly,this.setNeedsRender()}_updatePatchGroups(){if(this._patchGroupsDirty&&(this._highestVisibleLODTile=null,this._rebuildPatchGroups(),this._patchGroupsDirty=!1,this._patchSortingDirty=!0),this._patchSortingDirty&&this.renderOrder!==v.NONE){const e=Array.from(this._patchGroups.values()),t=this._stencilEnabledLayerExtents;for(const r of e)q(this.renderOrder,r,t);e.sort(((e,t)=>A(e[0],t[0],this.renderOrder))),this._patchGroups=new Map(e.map((e=>[e[0].renderData.localOrigin,e]))),this._patchSortingDirty=!1}}_rebuildPatchGroups(){const e=this._rootTiles;if(null!=e){e[0]?.surface.checkAllTilesWaterproofness(),this._patchGroups.clear();for(const t of e)this._rebuildPatchGroupsForRootTile(t)}}_rebuildPatchGroupsForRootTile(e){const t=this._tileIterator;for(t.resetOne(e);!t.done;){const e=t.next(),r=e.renderData;if(!r){this._numTilesCulled++;continue}if(!e.visible){this._numTilesCulled++,t.skipSubtree();continue}const i=r.localOrigin;let s=this._patchGroups.get(i);s||(s=new Array,this._patchGroups.set(i,s)),s.push(e),(!this._highestVisibleLODTile||e.elevationLevel>this._highestVisibleLODTile.elevationLevel)&&(this._highestVisibleLODTile=e),t.skipSubtree()}}_useStencilForTile(e){for(const t of this._stencilEnabledLayerExtents)if(e.intersectsExtent(t))return!0;return!1}_renderPatchGroupsAuxiliary(e,t,r){const i=this._stencilEnabledLayerExtents.length>0;this._patchGroups.forEach((s=>{const n=s[0].renderData.localOrigin;t.program.bindDraw(new Z(n),e.bindParameters,this._passParameters);for(let o=0;o<s.length;o++)this._renderPatch(e,t,s[o],te.TRIANGLES,i,r)})),e.rctx.bindVAO(null)}_renderPatchGroups(e,t,r){const i=e.bindParameters.camera,s=t.program;if(this._techniqueConfiguration.screenSizePerspective&&this.pointsOfInterest){const e=W(this._stage.viewingMode,this._ellipsoidRadius),t=this.pointsOfInterest.centerOnSurfaceFrequent.distance;e.update({distance:t,fovY:i.fovY})}const n=this._stencilEnabledLayerExtents.length>0,o=r===R.Occluded;o&&(s.bindTexture(\"tex\",this._emptyTex),s.setUniform3fv(\"textureOpacities\",u),s.setUniform4fv(\"texOffsetAndScale\",f));const a=null!=this._tileRenderer&&null!=this._tileRenderer.backgroundColor?this._tileRenderer.backgroundColor:u;this._techniqueConfiguration.tileBlendInput===L.ColorComposite&&s.setUniform3fv(\"backgroundColor\",a);const l=this.wireframe?te.LINES:te.TRIANGLES;this._techniqueConfiguration.textureFadingEnabled&&s.bindTexture(\"texNext\",this._emptyTex);const h=this._patchGroups;for(const c of h.values()){const i=c[0].renderData.localOrigin;t.program.bindDraw(new Z(i),e.bindParameters,this._passParameters),this._numOriginsRendered++;for(const a of c){const i=a.renderData,h=i.textureReference;if(null!=h){if(!o){s.setUniform4fv(\"texOffsetAndScale\",h.offsetAndScale),s.bindTexture(\"tex\",h.texture.texture);const e=i.textureFadeFactor,t=e<1?i.nextTextureReference:null;this._techniqueConfiguration.textureFadingEnabled&&null!=t&&e<1?(s.setUniform1f(\"fadeFactor\",e),s.setUniform4fv(\"nextTexOffsetAndScale\",t.offsetAndScale),s.setUniform3fv(\"nextTexOpacities\",t.opacities),s.bindTexture(\"texNext\",t.texture.texture)):s.setUniform1f(\"fadeFactor\",1),i.textureIsFading&&this.setNeedsRender(),s.setUniform3fv(\"textureOpacities\",h.opacities)}this._renderPatch(e,t,a,l,n,r),a.renderOrder=this._numTilesRendered,this._numTilesRendered++}}}e.rctx.bindVAO(null)}_renderPatch(e,t,r,i,s,n){const o=r.renderData,a=o.vao,l=a.indexBuffer;if(null==l)return void(D&&console.error(\"Rendered tile with no indices: \",r.lij,\" : \",o));const h=t.program;n===R.None||this._overlayRenderer.isEmpty||this._bindOverlayPatchData(h,o.overlay),s&&(t.useStencil=this._useStencilForTile(r),t.bindPipelineState(e.rctx,e.bindParameters.slot));const c=o.geometry.indexCount;e.rctx.bindVAO(a),h.assertCompatibleVertexAttributeLocations(a),e.rctx.drawElements(i,c,l.indexType,0)}_bindOverlayPatchData(e,t){e.setUniform4fv(\"overlayTexOffset\",t.offsets),e.setUniform4fv(\"overlayTexScale\",t.scales)}_updateTechnique(e,t){return this._techniqueConfiguration.output=e,this._techniqueConfiguration.renderOccluded=t,this._shaderTechnique=this._techniqueRepository.releaseAndAcquire($,this._techniqueConfiguration,this._shaderTechnique),this._shaderTechnique}get test(){return{tileRenderer:this._tileRenderer}}};e([n({constructOnly:!0})],oe.prototype,\"_overlayRenderer\",void 0),e([n({constructOnly:!0})],oe.prototype,\"_stage\",void 0),e([n({readOnly:!0})],oe.prototype,\"_isGlobal\",null),e([n({constructOnly:!0})],oe.prototype,\"_allTiles\",void 0),e([n({constructOnly:!0})],oe.prototype,\"_ellipsoidRadius\",void 0),e([n({value:!1})],oe.prototype,\"renderingDisabled\",null),e([n()],oe.prototype,\"renderPatchBorders\",null),e([n()],oe.prototype,\"visualizeNormals\",null),e([n()],oe.prototype,\"cullBackFaces\",null),e([n({value:v.FRONT_TO_BACK})],oe.prototype,\"renderOrder\",null),e([n()],oe.prototype,\"wireframe\",null),oe=e([o(\"esri.views.3d.terrain.TerrainRenderer\")],oe);const ae=p(),le=p(),he=p(),ce=p();export{oe as TerrainRenderer,ne as TransparencyMode};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass e{constructor(){this.numNodes=0,this.numLeaves=0,this.numVisible=0,this.numRendered=0,this.numSplit=0,this.numMerged=0,this.numRenderedPerLevel=new Array,this.numLoadedPerLevel=new Array}}export{e as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{watch as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{canProjectToWGS84ComparableLonLat as n}from\"../../../geometry/projection.js\";import{equals as a}from\"../../../geometry/support/aaBoundingRect.js\";import{isMars as c,isMoon as h}from\"../../../geometry/support/spatialReferenceUtils.js\";import{isTiledLayer as p}from\"../../../layers/support/layerUtils.js\";import{ViewingMode as d}from\"../../ViewingMode.js\";import{isProjectableRasterLayer as m,getTiledLayerInfo as y}from\"./terrainUtils.js\";import{TilingScheme as u}from\"./TilingScheme.js\";let S=class extends t{constructor(e){super(e),this._handles=new i}initialize(){this._handles.add(this.layers.on(\"change\",(()=>this._update()))),this._handles.add(r((()=>this.extentHelper.layerViewsExtent),(()=>this._setAdHocTilingScheme()))),this._update(),this.tilingSchemeLocked||this._setAdHocTilingScheme()}destroy(){this._handles=s(this._handles),this._waitTask=null,this.layers.destroy()}_update(){if(this._waitTask=null,this.tilingSchemeLocked)return;let e;if(this.layers.some((t=>!(!p(t)||t.isRejected())&&(!(t.isFulfilled()&&!g(t,this.viewSpatialReference,this.viewingMode))&&(e=t,!(\"vector-tile\"===t?.type||m(t)))))),e)if(e.isResolved()){const t=y(e,this.viewSpatialReference,this.viewingMode);if(null!=t){const e=new u(t.tileInfo);this._lockTilingScheme(e)}}else this._updateWhen(e)}_updateWhen(e){const t=e.when().catch((()=>{})).then((()=>{t!==this._waitTask||this.destroyed||this._update()}));this._waitTask=t}_lockTilingScheme(e){if(this.viewingMode===d.Global){const t=e.levels.length-1;e.spatialReference.isWebMercator?e=u.makeWebMercatorAuxiliarySphere(t):n(e.spatialReference)&&(e=u.makeGCSWithTileSize(e.spatialReference,e.pixelSize,t))}this.tilingSchemeLocked=!0,this.tilingScheme=e,this.extentHelper.tilingScheme=this.tilingScheme,this._updateTiledLayerExtent(),this._handles.removeAll(),this._handles.add(r((()=>this.extentHelper.tiledLayersExtent),(()=>this._updateTiledLayerExtent())))}_updateTiledLayerExtent(){this._set(\"extent\",this.extentHelper.tiledLayersExtent)}_setAdHocTilingScheme(){if(this.viewingMode===d.Global){const e=this.extentHelper.viewSpatialReference,t=n(e)||c(e)||h(e);e.isWebMercator?this.tilingScheme=u.WebMercatorAuxiliarySphere:t&&(this.tilingScheme=u.makeGCSWithTileSize(e,256)),this._set(\"extent\",this.extentHelper.layerViewsExtent)}else{const e=this.extentHelper.layerViewsExtent;null==e||a(e,this.extent)||(this.tilingScheme=u.fromExtent(e,this.extentHelper.viewSpatialReference),this._set(\"extent\",e))}}get test(){return{lockTilingScheme:e=>this._lockTilingScheme(e),done:!this._waitTask}}};function g(e,t,i){return null!=y(e,t,i)}e([o()],S.prototype,\"tilingScheme\",void 0),e([o({readOnly:!0})],S.prototype,\"extent\",void 0),e([o({value:!1})],S.prototype,\"tilingSchemeLocked\",void 0),e([o({constructOnly:!0})],S.prototype,\"viewSpatialReference\",void 0),e([o({constructOnly:!0})],S.prototype,\"layers\",void 0),e([o({constructOnly:!0})],S.prototype,\"extentHelper\",void 0),e([o({constructOnly:!0})],S.prototype,\"viewingMode\",void 0),S=e([l(\"esri.views.3d.terrain.TilingSchemeLogic\")],S);export{S as TilingSchemeLogic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{a as s}from\"../../../chunks/vec2f64.js\";class t{constructor(){this.offset=s(),this.scale=0,this.tile=null}init(s,t,i,e){this.tile=s,this.offset[0]=t,this.offset[1]=i,this.scale=e}dispose(){this.tile=null,this.offset[0]=0,this.offset[1]=0,this.scale=0}}export{t as UpsampleInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import i from\"../../../core/Accessor.js\";import{difference as r}from\"../../../core/arrayUtils.js\";import s from\"../../../core/CollectionFlattener.js\";import a from\"../../../core/Evented.js\";import n from\"../../../core/Handles.js\";import l from\"../../../core/Logger.js\";import{clamp as o}from\"../../../core/mathUtils.js\";import{releaseMaybe as h,destroyMaybe as d}from\"../../../core/maybe.js\";import p from\"../../../core/ObjectPool.js\";import u from\"../../../core/PooledArray.js\";import{throwIfAborted as c,isAbortError as _,isAborted as g,createAbortError as m}from\"../../../core/promiseUtils.js\";import{watch as T,syncAndInitial as y,sync as f,initial as v}from\"../../../core/reactiveUtils.js\";import{property as w}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import{subclass as E}from\"../../../core/accessorSupport/decorators/subclass.js\";import{m as S}from\"../../../chunks/mat4.js\";import{c as L}from\"../../../chunks/mat4f64.js\";import{c as D}from\"../../../chunks/vec3.js\";import{c as P}from\"../../../chunks/vec3f64.js\";import{c as b}from\"../../../chunks/vec4f64.js\";import{WatchUpdatingTracking as U}from\"../../../core/support/WatchUpdatingTracking.js\";import{getReferenceEllipsoid as x}from\"../../../geometry/ellipsoidUtils.js\";import{projectVectorToVector as R,projectPointToVector as C}from\"../../../geometry/projection.js\";import M from\"../../../geometry/SpatialReference.js\";import{create as j,equals as A,intersection as I,empty as O,expand as V,intersectsSphere as k}from\"../../../geometry/support/aaBoundingRect.js\";import{create as B,copy as N}from\"../../../geometry/support/frustum.js\";import{isPlateCarree as F}from\"../../../geometry/support/spatialReferenceUtils.js\";import{isRefreshableLayer as q}from\"../../../layers/mixins/RefreshableLayer.js\";import{ElevationQueryTileCache as G}from\"../../../layers/support/ElevationQueryTileCache.js\";import{ElevationTileData as W}from\"../../../layers/support/ElevationTileData.js\";import{isBaseLayer as H}from\"../../../layers/support/layerUtils.js\";import{acquireDecoder as Q}from\"../../../layers/support/LercDecoder.js\";import{printAllocations as z}from\"../../2d/engine/vectorTiles/VectorTile.js\";import{directionToHeadingTilt as X}from\"../support/cameraUtils.js\";import Y from\"../support/debugFlags.js\";import{toBoundingRect as $}from\"../support/extentUtils.js\";import{ClientType as K}from\"../support/index.js\";import{updatingProgress as J}from\"../support/updatingProperties.js\";import{ElevationBounds as Z}from\"./ElevationBounds.js\";import{ElevationData as ee,sampleElevation as te}from\"./ElevationData.js\";import{create as ie}from\"./ExtentHelper.js\";import{LODSnapping as re,TextureUpdate as se}from\"./interfaces.js\";import{LayerClass as ae,LayerClasses as ne}from\"./LayerClass.js\";import{OverlayManager as le}from\"./OverlayManager.js\";import{PlanarPatch as oe}from\"./PlanarPatch.js\";import{RenderOrder as he}from\"./RenderOrder.js\";import{ScaleRangeQueries as de}from\"./ScaleRangeQueries.js\";import{SphericalPatch as pe}from\"./SphericalPatch.js\";import{SplitLimits as ue}from\"./SplitLimits.js\";import{MAX_ROOT_TILES as ce,TOO_MANY_ROOT_TILES_AFTER_CHANGE_ERROR as _e,TOO_MANY_ROOT_TILES_FOR_LAYER_ERROR as ge,MAX_MEMORY_LOD_BIAS as me,ELEVATION_NODATA_VALUE as Te}from\"./TerrainConst.js\";import{TerrainRenderer as ye,TransparencyMode as fe}from\"./TerrainRenderer.js\";import ve from\"./TerrainSurfacePerformanceInfo.js\";import{weakAssert as we,internalAssert as Ee,oppositeEdge as Se,isSurfaceLayerView as Le,isGroupLayerView as De,isMapTileLayerView as Pe,isBlendableLayerView as be,isElevationLayerView as Ue,isVectorTileLayerView as xe,useFetchTileForLayer as Re,isImageryTileLayerView as Ce,isTileLayerView as Me,releaseTileData as je,neighborCornerIndices as Ae,oppositeCorner as Ie,neighborEdgeIndices as Oe,ENABLE_TERRAIN_INTERNAL_CHECKS as Ve,ENABLE_WATERPROOFNESS_TESTS as ke,enableTerrainInternalChecks as Be,enableTerrainWaterproofnessChecks as Ne}from\"./terrainUtils.js\";import{Tile as Fe}from\"./Tile.js\";import{printAllocations as qe}from\"./TilePerLayerInfo.js\";import{TileUpdate as Ge}from\"./TileUpdate.js\";import{IteratorPreorder as We,IteratorPostorder as He,compareTilesByLij as Qe,hasLoadableSiblings as ze,sortTilesByPOI as Xe,sortTiles as Ye}from\"./tileUtils.js\";import{TilingSchemeLogic as $e}from\"./TilingSchemeLogic.js\";import{UpsampleInfo as Ke}from\"./UpsampleInfo.js\";import{isCompositeBlendMode as Je,blendModeFromString as Ze}from\"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";import{PBRMode as et}from\"../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{RenderRequestType as tt}from\"../webgl-engine/lib/basicInterfaces.js\";import{RenderState as it}from\"../../support/RenderState.js\";import{ImmediateTask as rt,TaskPriority as st,noBudget as at}from\"../../support/Scheduler.js\";let nt=class extends(a.EventedMixin(i)){constructor(e){super(e),this._scaleRangeQueries=new de,this._iteratorPool=new p(We,(e=>e.remove=()=>this._iteratorPool.release(e))),this._postorderIterator=new He,this._hasPendingUpdates=!1,this._pendingUpdates=0,this._asyncWorkItems=0,this._allTilesDirty=!0,this._allTilesSorted=!0,this._visibleCached=!1,this._usedMemory=null,this._performanceInfo=new ve,this._viewChanged=!1,this._inFrameTask=!1,this._viewChangeUpdateDirty=!1,this._eyePosRenderSR=P(),this._eyePosSurfaceSR=P(),this._splitLimits=new ue,this._frustum=B(),this._viewProjectionMatrix=L(),this._layerViews=[new Array,new Array],this._layerIndexByUid=[new Map,new Map],this._basemapLayerViewHandles=new Map,this._handles=new n,this._watchUpdatingTracking=new U,this._frameTask=rt,this._allTiles=new u,this._upsampleInfoPool=new p(Ke),this._rootTilesExtent=j(),this.updatingProgress=.5,this._maxNumUpdating=1,this.maxTextureScale=1.2,this._spatialReference=M.WebMercator,this.visibleElevationBounds=new Z(1/0,-1/0),this.rootTileElevationBounds=new Z(1/0,-1/0),this._updatingRootTiles=!1,this._pendingTilesForElevationUpdateEvent=new Set,this._pendingTilesToUpdate=new Set,this.totalGeometryUpdates=0,this.totalTileUpdates=0,this.oneBatchPerFrameTask=!0,this._layerViewsDirty=!1,this.unloadedMemory=0,this.ignoresMemoryFactor=!1,this._isWebMercator=!1,this._isWebMercatorOnPlateeCarree=!1,this.overlayManager=new le({...e,surface:this}),this._isGlobal=!e.view?.state?.isLocal}initialize(){this._lercDecoder=Q(this.view.resourceController),this._tilePool=this.view.state.isLocal?new p(oe):new p(pe);const e=this.view.resourceController.memoryController;this._upsampleMapCache=e.newCache(\"terrain-upsample\",(e=>e.unloadMapData())),this._elevationQueryCache=new G(e.newCache(\"elevation-query\")),this._handles.add([T((()=>this.overlayManager.hasHighlights),(e=>this._renderer.setNeedsHighlight(e))),T((()=>this.overlayManager.rendersOccluded),(e=>this._renderer.setRenderOccludedOverlay(e))),T((()=>this.overlayManager.renderer.isEmpty),(()=>this._evaluateTransparency()))],\"overlayManager\"),this._renderer=new ye({_overlayRenderer:this.overlayManager.renderer,_ellipsoidRadius:x(this.view.spatialReference).radius,_stage:this.view._stage,_allTiles:this._allTiles}),this._handles.add([T((()=>this.baseOpacity),(()=>{this._handleLayerViewChanges(),this._updateTileTextures(this._evaluateTransparency()?se.UNFADED:se.IMMEDIATE)}),y),T((()=>this.hasCompositeBlendMode),(()=>this._updateTileTextures(this._evaluateTransparency()?se.UNFADED:se.IMMEDIATE)),y),T((()=>this.renderingDisabled),(()=>this.view?._stage?.renderer.setParameters({terrainRenderingEnabled:!this.renderingDisabled})),f),T((()=>this.backgroundColor),(e=>{this._handleLayerViewChanges(),this._renderer.updateTileBackground(e)}),y),T((()=>this.snapLevel),(()=>this._viewChanged=!0),f),T((()=>this.view.pointsOfInterest),(e=>{this._renderer.pointsOfInterest=e,this._watchUpdatingTracking.removeAll(),e&&this._watchUpdatingTracking.add((()=>e.focus.renderLocation),(()=>this._allTilesSorted=!1))})),T((()=>Y.TERRAIN_TILE_TREE_SHOW_TILES),(e=>{e&&!this._treeDebugger?import(\"../layers/support/TerrainTileTree3DDebugger.js\").then((({TerrainTileTree3DDebugger:e})=>{!this._treeDebugger&&Y.TERRAIN_TILE_TREE_SHOW_TILES&&(this._treeDebugger=new e({view:this.view}))})):e||(this._treeDebugger=d(this._treeDebugger))}),v)]);const{spatialReference:t}=this.view;this._extentHelper=ie(this.viewingMode,{layers:this.view.map.allLayers,layerViews:this.view.allLayerViews,viewSpatialReference:t});const i=new s({getCollections:()=>this.view?.defaultsFromMap?.mapCollections?.map((({layers:e})=>e)),getChildrenFunction:e=>e&&\"layers\"in e?e.layers:null}),r=new $e({layers:i,extentHelper:this._extentHelper,viewingMode:this.viewingMode,viewSpatialReference:t});this._set(\"tilingSchemeLogic\",r),this._updateTilingScheme(),this._elevationDataRequester=this.view.resourceController.createStreamDataRequester(K.ELEVATION),this._mapDataRequester=this.view.resourceController.createStreamDataRequester(K.BASEMAP);const a=this.view.resourceController.scheduler;this._frameTask=a.registerTask(st.TERRAIN_SURFACE,this),this._handles.add([T((()=>this._extentHelper.stencilEnabledExtents),(e=>this._renderer.setStencilEnabledLayerExtents(e)),v),T((()=>this.tilingSchemeLogic.tilingScheme),(()=>this._updateTilingScheme()),f),T((()=>this.extent),(()=>this._updateRootTiles()),v),this.view.on(\"resize\",(()=>this._viewChangeUpdate())),T((()=>{const e=this.view,t=e.state;return[this._lodBias,this.lodSnapping,e.resourceController?.memoryController?.memoryFactor,t.camera,t.contentCamera,t.fixedContentCamera]}),(()=>this._viewChangeUpdate()),y),T((()=>this.view.qualitySettings?.tiledSurface?.textureFadeDuration),(e=>this._renderer.textureFadingEnabled=e>0),v),T((()=>this.view.qualitySettings?.physicallyBasedRenderingEnabled),(e=>this._renderer.pbrMode=e?et.Terrain:et.Disabled),v),T((()=>this._userClippingExtent),(()=>this._updateClippingExtent()),f)]),this._handles.add(this.view.allLayerViews.on(\"after-changes\",(()=>this._layerViewsDirty=!0))),this._layerViewsDirty=!0,this._handleLayerViewChanges()}destroy(){this._frameTask.remove(),this._handles.destroy(),this._watchUpdatingTracking.destroy(),this._lercDecoder=h(this._lercDecoder),this._removeAllTiles(),this._upsampleMapCache=d(this._upsampleMapCache),this._elevationQueryCache=d(this._elevationQueryCache),this._set(\"tilingSchemeLogic\",d(this.tilingSchemeLogic)),this._basemapLayerViewHandles.forEach(((e,t)=>this._unregisterTiledLayerView(t))),this._elevationDataRequester=null,this._mapDataRequester=null,this._set(\"overlayManager\",d(this.overlayManager)),this._tilePool=d(this._tilePool),Fe.prune(),this._treeDebugger=d(this._treeDebugger),this._renderer=d(this._renderer),this._iteratorPool=d(this._iteratorPool),this._set(\"view\",null),this._extentHelper=d(this._extentHelper),this._upsampleInfoPool=d(this._upsampleInfoPool),z(),qe()}get renderer(){return this._renderer}get frustum(){return this._frustum}get snapLevel(){if(this.lodSnapping===re.ON){const e=this.view,t=this.tilingScheme,i=e.pointsOfInterest?.cameraOnSurface?.scale;if(t&&i){const r=e.state.contentCamera;let s=X(e,r.eye,r.viewForward,r.up).tilt;s>90&&(s=180-s);const a=2*(s/90)**2,n=t.levelAtScale(i)-a,l=Math.min(n,this._splitLimits.maxLod||1/0);return l<=0?null:l}}return null}get lodSnapping(){return this.view.qualitySettings.tiledSurface.reduceTileLevelDifferences?re.ON:re.OFF}get upsampleInfoPool(){return this._upsampleInfoPool}get upsampleMapCache(){return this._upsampleMapCache}get elevationQueryCache(){return this._elevationQueryCache}get mapTileRequester(){return this._mapDataRequester}get _userClippingExtent(){const{spatialReference:e}=this,{clippingArea:t}=this.view;if(null==t||null==e)return null;const i=j(),r=$(t,i,e)?i:null,s=this._get(\"extent\");return A(r,s)?s:r}get rootTilesExtent(){return this._rootTilesExtent}get extent(){const e=I(this.groundExtent,this._userClippingExtent,j()),t=this._get(\"extent\");return A(e,t)?t:e}get groundExtent(){return null!=this._tilingSchemeExtent?this._tilingSchemeExtent:this._rootTilesExtent}get _tilingSchemeExtent(){return this.tilingSchemeLogic?.extent}get updating(){return this._hasPendingUpdates||(this._maxNumUpdating=1),!!((this.running||this._watchUpdatingTracking?.updating||this._asyncWorkItems>0)&&this.ready&&!this.suspended||this.overlayManager?.updating)}get running(){return(this._hasPendingUpdates||this._viewChanged||this._allTilesDirty||!this._allTilesSorted||this._layerViewsDirty||this._scaleRangeQueries.updating||this._frameTask.updating)&&this.ready&&!this.suspended}get updatingProgressValue(){return this._maxNumUpdating=Math.max(this._pendingUpdates,this._maxNumUpdating),1-this._pendingUpdates/this._maxNumUpdating}get baseOpacity(){return this.view?.map?.ground?.opacity??1}set baseOpacity(e){this.view.map.ground.opacity=e}get viewingMode(){return this.view.state.viewingMode}get ready(){return null!=this._rootTiles}set renderOrder(e){this._renderer.renderOrder=e,this._set(\"renderOrder\",e)}get rootTiles(){return this._rootTiles}get spatialReference(){return this.tilingScheme?.spatialReference??null}get backgroundColor(){return this.view.map.ground.surfaceColor}set backgroundColor(e){this.view.map.ground.surfaceColor=e}set slicePlaneEnabled(e){this._renderer.slicePlaneEnabled=e,this._set(\"slicePlaneEnabled\",e),this._evaluateTransparency()}get tilingSchemeLocked(){return this.tilingSchemeLogic?.tilingSchemeLocked??!1}get wireframe(){return this._renderer?.wireframe}set wireframe(e){e!==this._renderer.wireframe&&(this._renderer.wireframe=e,this._updateAllTileGeometries())}set _visible(e){e!==this._visibleCached&&(this._visibleCached=e,this._renderer.setVisibility(e),this.suspended=!e)}get opaque(){return this._renderer.transparency===fe.Opaque}set suspended(e){this._set(\"suspended\",e),this._viewChangeUpdate()}get textureFadeDuration(){return this.view.qualitySettings.tiledSurface.textureFadeDuration??0}intersect(e,t,i,r){this._renderer.intersect(e,t,i,r)}getElevation(e,t,i,r){const s=this._rootTiles;if(null==s||!s.length)return null;if(0===s[0].layerInfo[ae.ELEVATION].length)return null;const a=pt;if(a[0]=e,a[1]=t,a[2]=i,!R(a,r,a,this._spatialReference))return l.getLogger(this).error(\"TerrainSurface.getElevation(): could not project given point to tiling scheme coordinate system\"),null;return Tt(s,a[0],a[1])}getElevations(e,t,i){const r=this._rootTiles,s=r?r[0].layerInfo[ae.ELEVATION].length:0;if(null!=r&&r.length&&0!==s)for(let a=0;a<t;++a){const t=3*a;i(a,Tt(r,e[t],e[t+1]))}else for(let a=0;a<t;++a)i(a,null)}getScale(e){if(!this.tilingScheme)return null;if(!C(e,pt,this.spatialReference))return l.getLogger(this).error(\"TerrainSurface.getScale(): could not project given point to tiling scheme coordinate system\"),null;const t=this._rootTiles;if(null!=t)for(const i of t)if(i?.containsPoint(pt)){let e=i;for(;e.children[0]&&!e.rendered;){const t=e.children[0].extent;let i=0;pt[0]>t[2]&&(i+=1),pt[1]<t[1]&&(i+=2),e=e.children[i]}return this._getLodBiasCorrectedScale(e.level)}return 1/0}getSphereElevationBounds(e,t){if(pt[0]=e[0],pt[1]=e[1],pt[2]=e[2],pt[3]=e[3],!R(pt,t,pt,this.tilingScheme?.spatialReference))return l.getLogger(this).error(\"TerrainSurface.getSphereElevationBounds(): could not project given point to tiling scheme coordinate system\"),null;let i=1/0,r=-1/0;const s=e=>{if(e&&k(e.extent,pt))if(e.isLeaf||e.rendered)i=Math.min(i,e.elevationBounds[0]),r=Math.max(r,e.elevationBounds[1]);else for(const t of e.children)s(t)},a=this._rootTiles;if(null!=a)for(const n of a)s(n);return{min:i,max:r}}getSphereScale(e,t){if(!this.tilingScheme)return null;if(!C(e,pt,this.spatialReference))return l.getLogger(this).error(\"TerrainSurface.getSphereScale(): could not project given point to tiling scheme coordinate system\"),null;pt[3]=t;let i=null;const r=e=>{if(e&&k(e.extent,pt)){const t=e.children;if(t[0]&&!e.rendered)for(const e of t)r(e);else{const t=this._getLodBiasCorrectedScale(e.level);i=null==i?t:Math.min(i,t)}}},s=this._rootTiles;if(null!=s)for(const a of s)r(a);return i}queryVisibleScaleRange(e,t,i,r){const s=t?this.tilingScheme.levelAtScale(t):0,a=i?this.tilingScheme.levelAtScale(i):1/0,n=this._lodBias;this._scaleRangeQueries.queryVisibleLevelRange(e,s+n,a+n,r)}_evaluateTransparency(){const e=this.baseOpacity,t=this.overlayManager.renderer.isEmpty,i=this._renderer.transparency,r=this._allSurfaceLayersTransparent()?t?fe.Empty:fe.TransparentWithDraped:e>=1&&!this.hasCompositeBlendMode&&!this._renderer.slicePlaneEnabled?fe.Opaque:fe.Semitransparent,s=i!==r;return s&&(this._renderer.transparency=r,this.view?._stage?.renderer.setParameters({terrainTransparency:this._renderer.transparency})),s}_updateTilingScheme(){const e=this.tilingSchemeLogic.tilingScheme;if(!(e!==this.tilingScheme))return;we(!!e,\"tiling scheme cannot be reset to undefined\"),this._isGlobal=!this.view?.state?.isLocal,this.tilingScheme&&this._removeAllTiles();const t=e?.spatialReference??M.WebMercator;this._spatialReference=t,this._isWebMercator=!!t?.isWebMercator,this._isWebMercatorOnPlateeCarree=this._isWebMercator&&F(this.view?.renderSpatialReference),this._set(\"tilingScheme\",e),this._updateClippingExtent(),e&&(this._updateTiledLayers(),this._renderer.setTileSize(e.pixelSize),this.overlayManager.setSpatialReference(e.spatialReference),this._updateRootTiles())}_acquireTile(e,t,i,r){const s=this._tilePool.acquire();return ct[0]=e,ct[1]=t,ct[2]=i,s.init(ct,r,this),s}get updatingRootTiles(){return this._updatingRootTiles}_updateRootTiles(){const{extent:e,tilingScheme:t}=this;if(!t)return;const i=ut;let s=t.rootTilesInExtent(e,i,5*ce);if(null!=this._rootTiles){if(s.length>ce)return void l.getLogger(this).warn(_e);const e=this._rootTiles.map((e=>e.lij)),t=r(e,s,ot);if(this._updatingRootTiles=!0,t.removed.length>0||t.added.length>0){const e=this._rootTiles.filter((e=>!(t.removed.findIndex((t=>ot(t,e.lij)))>-1)||(this._purgeTile(e),!1)));t.added.forEach((t=>e.push(this._newRootTile(t)))),this._setRootTiles(e)}}else this._updatingRootTiles=!0,s.length>ce&&(l.getLogger(this).warn(ge),s=t.rootTilesInExtent(e,i,ce)),this._setRootTiles(s.map((e=>this._newRootTile(e))));A(i,this._rootTilesExtent)||(this._rootTilesExtent=j(i)),this._visible=!0,this._viewChangeUpdate(),this.overlayManager.setPlacementDirty(),this.notifyChange(\"ready\"),this._updateAllTileGeometries(),this._updatingRootTiles=!1,this.checkAllTilesWaterproofness()}_updateAllTileGeometries(){const e=this._allTiles.filter((e=>e.isLoaded&&e.intersectsClippingArea));e.forEach((e=>this._renderer.updateTileGeometryState(e))),e.forEach((e=>e.renderData.updateNeighborData())),this._updateTilesGeometries(e),this._pendingTilesToUpdate.clear()}_updateTilesGeometries(e){if(0===e.length)return;e.sort(Qe);const t=this.renderer;e.forEach((e=>t.updateGeometryIfNeeded(e))),e.forEach((e=>this._pendingTilesForElevationUpdateEvent.add(e)))}_shouldSplit(e){return e.shouldSplit(this._splitLimits,this._eyePosRenderSR,this.snapLevel)===Ge.SPLIT}_newRootTile(e){const t=this._acquireTile(0,e[1],e[2],null);return this._shouldSplit(t)&&t.setPendingUpdate(Ge.SPLIT),this._loadTile(t),this._markTileToUpdate(t),this._updateRootTileElevationBounds(),t}_setRootTiles(e){if(this._rootTiles=e,this._allTiles.clear(),null!=e){const t=this._iteratorPool.acquire();for(t.reset(e);!t.done;)this._allTiles.push(t.next());t.remove()}this._renderer.setRootTiles(this._rootTiles),this._updateTilesVisibility(e)}_runViewChangeUpdateIfDirty(){this._viewChangeUpdateDirty&&(this._viewChangeUpdateDirty=!1,this._viewChangeUpdate())}_viewChangeUpdate(){this.view&&!this.suspended&&this.tilingScheme&&this._visibleCached&&(this._inFrameTask?this._viewChangeUpdateDirty=!0:(this._viewChangeUpdateDirty=!1,this._updateViewDependentParameters(),this._updateTilesVisibility(this._rootTiles)))}_updateClippingStatus(e){e.updateClippingStatus(this.extent)&&e.resetPendingUpdate(Ge.GEOMETRY)&&this._updateTileGeometryState(e)}_updateTilesVisibility(e){if(null==e)return;const t=ze(e),i=this.visibleElevationBounds;let r=t?i.min:1/0,s=t?i.max:-1/0;const a=this.extent,n=this._viewProjectionMatrix;this.setTileTreeDirty();const l=this._iteratorPool.acquire();for(l.reset(e);!l.done;){const e=l.next();e.updateClippingStatus(a)&&e.resetPendingUpdate(Ge.GEOMETRY)&&this._updateTileGeometryState(e),e.setPendingUpdate(Ge.RENDERDATA),e.computeVisibility(),e.updateScreenDepth(n),e.renderData&&(r=Math.min(e.elevationBounds[0],r),s=Math.max(e.elevationBounds[1],s))}l.remove(),this._viewChanged=!0,this._allTilesDirty=!0,this._batchUpdatePendingTileGeometries(),isFinite(r)&&isFinite(s)&&(i.min!==r||i.max!==s)&&(this.visibleElevationBounds=new Z(r,s))}_updateRootTileElevationBounds(){let e=1/0,t=-1/0;const i=this._rootTiles;null!=i&&i.forEach((({elevationBounds:i})=>{e=Math.min(e,i[0]),t=Math.max(t,i[1])}));const r=this.rootTileElevationBounds;r.min===e&&r.max===t||(this.rootTileElevationBounds=new Z(e,t))}_updateViewDependentParameters(){const{camera:e,contentCamera:t}=this.view.state,i=Math.tan(.5*t.fovX),r=Math.tan(.5*t.fovY),s=this.tilingScheme.pixelSize,a=2**-this._lodBias*e.pixelRatio;this._splitLimits.aboveGround=e.aboveGround,this._splitLimits.fovX=i,this._splitLimits.fovY=r,this._splitLimits.relativeWidthLimit=s/e.width*this.maxTextureScale*a,this._splitLimits.relativeHeightLimit=s/e.height*this.maxTextureScale*a,this._splitLimits.maxLod=this.tilingScheme.getMaxLod(),this._splitLimits.angledSplitBias=this.view.qualitySettings.tiledSurface.angledSplitBias,this.view.state.fixedContentCamera?(null==this._splitLimits.frustum&&(this._splitLimits.frustum=B()),N(this._splitLimits.frustum,t.frustum)):this._splitLimits.frustum=null,N(this._frustum,e.frustum),S(this._viewProjectionMatrix,t.projectionMatrix,t.viewMatrix),D(this._eyePosRenderSR,t.eye),R(e.eye,this.view.renderSpatialReference,this._eyePosSurfaceSR,this.spatialReference)}_updateRenderData(e){e.rendered&&!e.shouldLoad&&(ht(e)?this._loadChildren(e):dt(e)&&this._loadParent(e))}_updateTileGeometryState(e){e.updateVisibility();this._renderer.updateTileGeometryState(e)&&this._markTileToUpdate(e),this._usedMemory=null}_markAllTileNeighborsForGeometryUpdate(e){const t=this._pendingTilesToUpdate;e.forEachLoadedNeighbor((e=>{t.add(e)}))}_updateTileTexture(e,t){const i=e.resetPendingUpdate(Ge.TEXTURE_FADING)?Ge.TEXTURE_FADING:!!e.resetPendingUpdate(Ge.TEXTURE_NOFADING)&&Ge.TEXTURE_NOFADING;i&&(this._renderer.updateTileTexture(e,i),this._usedMemory=null,t.madeProgress())}_emitElevationUpdateEventForTiles(){const e=gt.extent;O(e),this._pendingTilesForElevationUpdateEvent.forEach((t=>V(e,t.extent,e))),this._pendingTilesForElevationUpdateEvent.clear(),gt.spatialReference=this.spatialReference,this.emit(\"elevation-change\",gt)}runTask(e){this._handleLayerViewChanges(e),this._frameTask.processQueue(e),this.renderer.processScaleRangeQueries(this._scaleRangeQueries,e),this._inFrameTask=!0,this._pendingUpdates=0,this._hasPendingUpdates=!1,this._updateAllTilesStatus(e),this._sortTiles(e);const t=!this.view.state.fixedContentCamera;this._mergeAndSplit(e,t),this._updateElevation(e),this._updateTextures(e),t||this._mergeAndSplit(e,!0),this._inFrameTask=!1,this._runViewChangeUpdateIfDirty(),this._batchUpdatePendingTileGeometries(),this._emitElevationUpdateEventForTiles(),e.done&&e.hasProgressed&&this.requestUpdate(),this.notifyChange(\"updatingProgressValue\")}_updateAllTilesStatus(e){if(!this._viewChanged||!this._rootTiles||e.done)return;this._viewChanged=!1;const t=this._iteratorPool.acquire();t.reset(this._rootTiles);const i=this.snapLevel,r=this._splitLimits,s=this._eyePosRenderSR;for(;!t.done;){const e=t.next(),a=e.shouldSplit(r,s,i);if(a!==Ge.SPLIT){if(e.resetPendingUpdate(Ge.SPLIT)&&e.updateAgentSuspension(),a===Ge.ELEVATION&&e.updateAgents(ae.ELEVATION),t.skipSubtree(),!e.isLeaf){e.setPendingUpdate(Ge.MERGE),e.resetPendingUpdate(Ge.SPLIT);const t=this._iteratorPool.acquire();t.resetOne(e);const i=this._viewProjectionMatrix;for(let e=t.next();!t.done;e=t.next())this._updateClippingStatus(e),e.updateVisibility(),e.updateScreenDepth(i);t.remove()}}else e.resetPendingUpdate(Ge.MERGE),e.isLeaf&&(e.setPendingUpdate(Ge.SPLIT),t.skipSubtree()),e.rendered&&e.setPendingUpdate(Ge.RENDERDATA)}t.remove(),this.requestUpdate(),(this.shortBatches||!this.oneBatchPerFrameTask)&&this._batchUpdatePendingTileGeometries(),e.madeProgress()}_sortTiles(e){e.done||this._allTilesSorted||(Xe(this._allTiles,this.view.pointsOfInterest.focus.renderLocation),this._allTilesSorted=!0,this._treeDebugger&&this._treeDebugger.update(),e.madeProgress())}_markTileToUpdate(e){Ee(e.isLoaded),e.intersectsClippingArea&&(this._pendingTilesToUpdate.add(e),this._markAllTileNeighborsForGeometryUpdate(e))}_batchUpdatePendingTileGeometries(){const e=this._pendingTilesToUpdate;if(0===e.size)return;const t=Array.from(this._pendingTilesToUpdate.keys()).filter((e=>e.isLoaded&&e.intersectsClippingArea)),i=(i,r)=>{!r?.isLoaded||!r.intersectsClippingArea||r.level<i.level||e.has(r)||(e.add(r),t.push(r),r.renderData.updateNeighborData())};t.sort(Qe);const r=t.length;for(let s=0;s<r;++s){const r=t[s];Ee(r.isLoaded),Ee(r.intersectsClippingArea);const a=r.renderData;a.updateNeighborData();const n=a._dirtyEdgeResolutions,l=a.geometryState.neighborData.cornerPeerNeighbors,o=e=>{const t=Ae[e];i(r,l[e]?.findCorner(Ie(t),(e=>e.isLoaded)))};for(let t=0;t<4;++t)if(n&1<<t){const s=a.geometryState.neighborData.edgePeerNeighbors[t];s&&s?.level>=r.level&&s.forAllSubtreeOnSide(Se(Oe[t]),(t=>!(!t.isLoaded||!t.intersectsClippingArea)&&(Ee(e.has(t)||Qe(r,t)<0),i(r,t),!0))),o((t+1)%4),o(t)}}e.clear(),this._updateTilesGeometries(t),Ve&&ke&&this.checkAllTilesWaterproofness()}_mergeAndSplit(e,t){if(this.suspended||e.done||!this._allTilesDirty)return;this._allTilesDirty=!1,this.requestUpdate();let i=!1;const r=this.view.state.fixedContentCamera;let s=!1;for(;!e.done;){s=!0;let a=!1;const n=!this._allTiles.some((s=>{if(!i&&!r&&!s.visible)return e.done;let n=s;if(s.resetPendingUpdate(Ge.MERGE)){if(!t)return s.setPendingUpdate(Ge.MERGE),e.done;for(;n.parent?.resetPendingUpdate(Ge.MERGE);)n=n.parent;this._mergeTile(n),a=!0,e.madeProgress()}else s.resetPendingUpdate(Ge.SPLIT)&&(this._splitTile(s),a=!0,e.madeProgress());return!e.done&&n===s&&s.resetPendingUpdate(Ge.RENDERDATA)&&(this._updateRenderData(s),e.madeProgress()),e.done}));if(a&&(this._allTilesSorted=!1,this._allTilesDirty=!0),n){if(!i){i=!0;continue}if(!a)break}else this._allTilesDirty=!0}s?e.madeProgress():this._allTilesDirty=!0,!this.oneBatchPerFrameTask&&this._batchUpdatePendingTileGeometries(),this._sortTiles(e)}_updateElevation(e){e.done||(this._allTiles.some((t=>(t.resetPendingUpdate(Ge.GEOMETRY)&&(this._updateTileGeometryState(t),this._updateTileTexture(t,e),this.shortBatches&&this._batchUpdatePendingTileGeometries(),e.madeProgress()),e.done))),!this.oneBatchPerFrameTask&&this._batchUpdatePendingTileGeometries())}_updateTextures(e){e.done||this._allTiles.some((t=>(this._updateTileTexture(t,e),e.done)))}_updateClippingExtent(){this.spatialReference&&(this.updateTileOverlayParams(tt.UPDATE),this.overlayManager.setPlacementDirty(),this._updateRootTiles())}get _lodBias(){const e=this.view.resourceController.memoryController.memoryFactor;return this.view.qualitySettings.tiledSurface.lodBias-(1-e)*me}_getLodBiasCorrectedScale(e){const t=this.tilingScheme.levels,i=o(e-this._lodBias,0,t.length-1),r=i-Math.floor(i);return t[Math.floor(i)].scale*(1-r)+t[Math.ceil(i)].scale*r}_removeAllTiles(){null!=this._rootTiles&&(this._rootTiles.forEach((e=>this._purgeTile(e))),this._setRootTiles(null),this.notifyChange(\"ready\")),this._allTiles.clear(),this._visible=!1}_purgeDescendantTiles(e){if(!e.children[0])return!1;let t=!1;for(let i=0;i<4;++i)t=this._purgeTile(e.children[i])||t;return e.unsetChildren(),t}_purgeTile(e){const t=this._purgeDescendantTiles(e)||e.rendered;return this._allTiles.removeUnordered(e),this._unloadTile(e),this._tilePool.release(e),t}_unloadTile(e){this._pendingTilesToUpdate.delete(e),this._pendingTilesForElevationUpdateEvent.delete(e),e.unload(this._renderer)}_splitTile(e){we(e.isLeaf,\"tile that is already split should not be split again!\");const t=e.level+1,i=2*e.lij[1],r=2*e.lij[2];e.setChildren(this._createTile(t,i,r,e),this._createTile(t,i,r+1,e),this._createTile(t,i+1,r,e),this._createTile(t,i+1,r+1,e)),e.setPendingUpdate(Ge.RENDERDATA),e.updateAgentSuspension(),this._allTiles.pushArray(e.children),this._allTilesDirty=!0,++this._performanceInfo.numSplit}_emitTileScaleChange(e,t=e.level){mt.spatialReference=this.spatialReference,mt.extent=e.extent,mt.scale=this._getLodBiasCorrectedScale(t),this.emit(\"scale-change\",mt)}_createTile(e,t,i,r){we(!!r,\"_createTile sanity check\");const s=this._acquireTile(e,t,i,r);return s.updateClippingStatus(this.extent),s.updateScreenDepth(this._viewProjectionMatrix),this._shouldSplit(s)&&s.setPendingUpdate(Ge.SPLIT),s}get shortBatches(){return this.view.state.mode!==it.IDLE}_mergeTile(e){we(!e.hasPendingUpdate(Ge.SPLIT),\"_mergeTile sanity check\"),this._purgeDescendantTiles(e)&&(we(!e.renderData,\"_mergeTile sanity check\"),this._loadTile(e),this._markTileToUpdate(e),this._emitTileScaleChange(e),this.shortBatches&&this._batchUpdatePendingTileGeometries()),this._allTilesDirty=!0,++this._performanceInfo.numMerged}_loadChildren(e){we(e.rendered,\"parent should be rendered\"),this._unloadTile(e);const t=e.children;t.forEach((e=>this._loadTile(e))),t.forEach((e=>this._pendingTilesToUpdate.add(e))),this._markAllTileNeighborsForGeometryUpdate(e),this._emitTileScaleChange(e,e.level+1),this.shortBatches&&this._batchUpdatePendingTileGeometries()}_loadParent(e){const t=e.parent;this._unloadChildren(t),this._loadTile(t),this._markTileToUpdate(t),this._emitTileScaleChange(t,t.level),this.shortBatches&&this._batchUpdatePendingTileGeometries()}_unloadChildren(e){const t=e.children;if(t[0])for(let i=0;i<4;++i){const e=t[i];this._unloadChildren(e),this._unloadTile(e)}}_loadTile(e){e.load(),e.setPendingUpdate(Ge.RENDERDATA),this.requestUpdate(),this._allTilesDirty=!0,this.overlayManager&&this.overlayManager.hasOverlays&&this.overlayManager.setTileParameters(e)}_elevationDataArrived(e,t,i){const r=new ee(e.lij,e.extent,i);e.dataArrived(t,ae.ELEVATION,r);const s=[e],a=e.level,n=this._iteratorPool.acquire();for(n.reset(s);!n.done;){const e=n.next();e.findElevationBoundsForLayer(t,a),e.computeElevationBounds()}0===a&&this._updateRootTileElevationBounds(),n.remove(),this._updateTilesVisibility(s)}_handleLayerViewChanges(e=at){if(!this._layerViewsDirty)return;this._layerViewsDirty=!1;let t=!1;const i=new Set;let r=-1;for(const s of this.view.allLayerViews.items)if(i.add(s.uid),Le(s)||De(s))if(this._basemapLayerViewHandles.has(s.uid)&&!De(s)){const e=this._layerClassFromLayerView(s),i=this._getLayerIdxByUID(e,s.uid);null!=i&&((i<r||null==r)&&(t=!0),r=i)}else this._registerTiledLayerView(s),s.layer.loaded&&(t=!0);this._basemapLayerViewHandles.forEach(((e,r)=>{i.has(r)||(this._unregisterTiledLayerView(r),t=!0)})),t&&this._updateTiledLayers(),this.hasCompositeBlendMode=this._hasCompositeBlendMode(),this._evaluateTransparency(),e.madeProgress()}_allSurfaceLayersTransparent(){let e=0===this.view.map?.ground?.opacity;for(const t of this.view.allLayerViews.items)if(Pe(t)&&!H(t.layer)&&0!==t.fullOpacity)return e=!1,e;return e}_hasCompositeBlendMode(){for(const e of this.view.allLayerViews.items)if((be(e)||De(e))&&Je(Ze[e.layer.blendMode]))return!0;return!1}_layerClassFromLayerView(e){return Ue(e)?ae.ELEVATION:ae.MAP}_registerTiledLayerView(e){const t=[];if((be(e)||De(e))&&t.push(T((()=>e.layer.blendMode),(()=>{this.hasCompositeBlendMode=this._hasCompositeBlendMode(),this._updateTileTextures(se.UNFADED)}))),!De(e)){const i=this._layerClassFromLayerView(e);t.push(T((()=>e.suspended),(()=>this._updateTiledLayers()))),t.push(T((()=>e.fullOpacity),(()=>this._updateTileTextures(se.UNFADED)))),t.push(T((()=>\"effectiveScaleRange\"in e.layer?e.layer.effectiveScaleRange:null),(()=>this._restartAllAgents(i)))),t.push(e.on(\"data-changed\",(()=>{const t=this._getLayerIdxByUID(i,e.uid);null!=t&&this._invalidateLayerData(t,i)})))}this._unregisterTiledLayerView(e.uid),this._basemapLayerViewHandles.set(e.uid,t)}_unregisterTiledLayerView(e){const t=this._basemapLayerViewHandles.get(e);if(t){for(const e of t)e.remove();this._basemapLayerViewHandles.delete(e)}}_updateTiledLayers(){if(!this.tilingScheme||this.view.suspended)return;const e=this.view.allLayerViews,t=[[],[]];let i=null;e.forEach((e=>{if(!e.layer||e.suspended||!Le(e)||!e.fullExtent)return;const r=this._layerClassFromLayerView(e);if(r===ae.MAP){const t=e.displayLevelRange.maxLevel;t!==1/0&&(null===i||t>i)&&(i=t)}t[r].push(e)}));for(const r of ne){const e=this._layerViews[r],i=t[r];i.reverse();const s=i.length;let a=e.length!==s;const n=new Array(s),l=new Array(e.length);this._layerIndexByUid[r].clear();for(let t=0;t<s;t++){const s=i[t].uid;this._layerIndexByUid[r].set(s,t);const o=e.indexOf(i[t]);n[t]=o,t!==o&&(a=!0),o>-1&&(l[o]=t)}if(a){const e=this._postorderIterator;for(e.reset(this._rootTiles);!e.done;)e.next().modifyLayers(l,n,r);this._layerViews[r]=i,this._restartAllAgents(r),this._updateTilesVisibility(this._rootTiles)}}this.tilingScheme.ensureMaxLod(i)&&this._viewChangeUpdate()}_restartAllAgents(e){const t=this._postorderIterator;for(t.reset(this._rootTiles);!t.done;){const i=t.next();i.restartAgents(e),e===ae.ELEVATION&&i.computeElevationBounds()}this._updateRootTileElevationBounds()}layerViewByIndex(e,t){return this._layerViews[t][e]}numLayers(e){return this._layerViews[e].length}_updateTileTextures(e){this._allTiles.forAll((t=>{t.updateAgents(ae.MAP),e===se.IMMEDIATE?this.renderer.updateTileTexture(t,Ge.TEXTURE_NOFADING):t.updateRenderData(ae.MAP,e)})),this._evaluateTransparency()}_invalidateLayerData(e,t){this._allTiles.forAll((i=>i.removeLayerAgent(e,t))),this._allTiles.forAll((i=>i.invalidateLayerData(e,t)))}setTileTreeDirty(){this._allTilesDirty=!0}requestRender(e=tt.UPDATE){this.renderer.setNeedsRender(e)}requestUpdate(){1==++this._pendingUpdates&&(this._hasPendingUpdates=!0)}requestTileData(e,t,i,r){const s=this.layerViewByIndex(t,i),a=s.layer;return!a.tilemapCache||xe(s)?this._requestTileData(e,i,s,r):(++this._asyncWorkItems,a.tilemapCache.fetchAvailability(e.lij[0],e.lij[1],e.lij[2],{...r,timeout:6e3}).then((()=>--this._asyncWorkItems)).catch((t=>{throw--this._asyncWorkItems,c(r),_(t)||this._dataMissing(e,i,s,{notInTilemap:!0}),t})).then((()=>this._frameTask.schedule((()=>this._requestTileData(e,i,s,r)),r.signal))))}_requestTileData(e,t,i,r){return t===ae.ELEVATION?Ue(i)?this._requestElevationTileData(e,i,r):Promise.reject():Pe(i)?this._requestMapTileData(e,i,r):Promise.reject()}_requestElevationTileData(e,t,i){++this._asyncWorkItems;const r=r=>{if(g(i))return;const s=this._layerIndexByUid[ae.ELEVATION].get(t.uid);null!=s?(this._usedMemory=null,this.requestUpdate(),this._elevationDataArrived(e,s,r)):l.getLogger(this).warn(\"TerrainSurface: received data from unknown layer %d %s\",ae.ELEVATION,e.lij.toString())},s=i=>{_(i)||(this._dataMissing(e,ae.ELEVATION,t,i),this.requestUpdate())};if(Re(t.layer))return t.layer.fetchTile(e.lij[0],e.lij[1],e.lij[2],{noDataValue:Te,signal:i.signal}).then((e=>{if(!g(i))return this._frameTask.schedule((()=>r(e)),i.signal,s);l.getLogger(this).warnOnce(\"A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true.\")}),s).finally((()=>{--this._asyncWorkItems}));const a=t.getTileUrl(e.lij[0],e.lij[1],e.lij[2]);return this._elevationDataRequester.request(a,\"binary\",i).then((e=>this._lercDecoder.decode(e,{noDataValue:Te},i.signal))).then((e=>{e?r(new W(e)):s(new Error(\"LERC decoding failed\"))}),s).finally((()=>{--this._asyncWorkItems}))}_requestMapTileData(e,t,i){++this._asyncWorkItems;const r=(r,s)=>{--this._asyncWorkItems,je(s),g(i)||(this._dataMissing(e,ae.MAP,t,r),this.requestUpdate())},s=e=>t=>r(t,e),a=r=>this._frameTask.schedule((()=>{--this._asyncWorkItems,this.requestUpdate(),g(i)?je(r):this._mapTileDataArrived(e,t,r)}),i.signal,s(r)).catch(s(r)),n=(e,t=null)=>this._frameTask.schedule((()=>r(e,t)));if(xe(t)){const r=t.schemaHelper.getLevelRowColumn(e.lij);return t.fetchTile(r[0],r[1],r[2],i).then(a,n)}if(Ce(t))return t.fetchTile(e.lij[0],e.lij[1],e.lij[2],i).then(a,n);if(Me(t)&&Re(t.layer))return t.layer.fetchTile(e.lij[0],e.lij[1],e.lij[2],i).then((e=>{if(g(i))return l.getLogger(this).warnOnce(\"A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true.\"),void n(m());a(e)}),n);let o=t.getTileUrl(e.lij[0],e.lij[1],e.lij[2]);q(t.layer)&&t.layer.refreshTimestamp&&(o+=`${o.includes(\"?\")?\"&\":\"?\"}_ts=${t.layer.refreshTimestamp}`);const h=t.hasMixedImageFormats?\"image+type\":\"image\";return this._mapDataRequester.request(o,h,i).then(a,n)}_mapTileDataArrived(e,t,i){const r=this._getLayerIdxByUID(ae.MAP,t.uid);null!=r?e.dataArrived(r,ae.MAP,i):(je(i),l.getLogger(this).warn(\"TerrainSurface: received data from unknown layer\"))}_getLayerIdxByUID(e,t){return this._layerIndexByUid[e].get(t)}_dataMissing(e,t,i,r){const s=this._getLayerIdxByUID(t,i.uid);null!=s?e.dataMissing(s,t,r):l.getLogger(this).warn(\"TerrainSurface: received data from unknown layer\")}updateTileOverlayParams(e){this._rootTiles&&this.overlayManager&&(this._allTiles.forAll((e=>{e.renderData&&this.overlayManager.setTileParameters(e)})),this._renderer.setNeedsRender(e))}get performanceInfo(){const e=this._performanceInfo;return e.numNodes=this._allTiles.length,e.numLeaves=e.numVisible=e.numRendered=e.numLoadedPerLevel.length=e.numRenderedPerLevel.length=0,this._allTiles.forAll((t=>{t.isLeaf&&e.numLeaves++;const i=t.level;t.renderData&&(e.numLoadedPerLevel[i]=(e.numLoadedPerLevel[i]||0)+1),t.visible&&(e.numVisible++,t.rendered&&(e.numRenderedPerLevel[i]=(e.numRenderedPerLevel[i]||0)+1,e.numRendered++))})),e}get usedMemory(){return this.tilingScheme?(null==this._usedMemory&&(this._usedMemory=this._recalculateUsedMemory()),null!=this._usedMemory?this._usedMemory:0):0}_recalculateUsedMemory(){return this.tilingScheme?this._allTiles.reduce(((e,t)=>e+t.usedMemory),0):null}getUsedMemoryForLayerView(e){let t=this.overlayManager.gpuMemoryUsage;const i=this._layerClassFromLayerView(e),r=this._getLayerIdxByUID(i,e.uid);return null!=r&&this._allTiles.forAll((e=>t+=e.getUsedMemoryForLayer(i,r))),t}getTile(e){if(null==e||null==this._rootTiles)return null;const t=e.split(\"/\").map((e=>+e));if(0===t[0])return this._rootTiles.find((e=>e.lij[1]===t[1]&&e.lij[2]===t[2]));const i=2**t[0],r=Math.floor(t[1]/i),s=Math.floor(t[2]/i);let a;if(this._rootTiles.some((e=>e.lij[1]===r&&e.lij[2]===s&&(a=e,!0))),a){let e=1<<t[0]-1;for(;a.lij[0]<t[0];){let i=t[1]&e?2:0;if((t[2]&e)>0&&i++,!a.children[i])return null;a=a.children[i],e>>=1}return we(a.lij[0]===t[0]&&a.lij[1]===t[1]&&a.lij[2]===t[2],\"not the right tile?\"),a}return null}get renderPatchBorders(){return this._renderer.renderPatchBorders}set renderPatchBorders(e){this._renderer.renderPatchBorders=e}get visualizeNormals(){return this._renderer.visualizeNormals}set visualizeNormals(e){this._renderer.visualizeNormals=e}get renderingDisabled(){return this._renderer.renderingDisabled}set renderingDisabled(e){this._renderer.renderingDisabled=e}get test(){const e=this;return{renderer:e._renderer,lercDecoder:e._lercDecoder,forceReload:()=>{null!=e._rootTiles&&e._rootTiles.length>0&&(e._mergeTile(e._rootTiles[0]),e._viewChangeUpdate())},getTiles:()=>e._allTiles.toArray(),getRenderedTiles(){_t.clear(),e._allTiles.forAll((e=>{e.visible&&e.rendered&&_t.push(e)}));const t=_t.toArray();return Ye(e.renderOrder,t),t},lockTilingScheme(t,i){e._extentHelper.defaultTiledLayersExtent=i,e.tilingSchemeLogic.test.lockTilingScheme(t)}}}checkAllTilesWaterproofness(){if(!ke)return;const e=this._rootTiles;if(null==e)return;const t=e=>e?.renderData?.geometry?.indices?.length>0,i=(e,i)=>{t(e)&&console.error(\"Tile[\",e.lij,\"] has geometry although parent[\",i.lij,\"] has geom\")},r=e=>{if(e.intersectsClippingArea)if(e.renderData&&!e.renderData.geometryState&&console.error(\"Tile[\",e.lij,\"] has renderData but not geometryState\"),e.renderData&&!e.renderData.geometry&&console.error(\"Tile[\",e.lij,\"] has renderData but not geometryInfo\"),!e.renderData?.geometry||(e.renderData.geometry.indices?.length??0)>0||console.error(\"Tile[\",e.lij,\"] has renderData but no indices - geometryInfo: \",e.renderData.geometry),t(e)){e.checkGeometryWaterproofness();for(const t of e.children)i(t,e)}else if(e.isLeaf)console.error(\"Tile[\",e.lij,\"] has no geometry and no children, from root to leaf\");else for(const t of e.children)r(t)},s=e=>{const t=e.parent?.visible??!0,i=e.visible;e.computeVisibility();const r=e.visible;if(i!==r&&t&&console.error(\" Tile[\",e.lij,\"] has out of date visibility: \",i,\" instead of \",r),!e.isLeaf)for(const a of e.children)s(a)};for(const a of e)r(a),s(a)}get isGlobal(){return this._isGlobal}get isWebMercator(){return this._isWebMercator}get isWebMercatorOnPlateeCarree(){return this._isWebMercatorOnPlateeCarree}isEastEndWrap(e){return this.isGlobal&&e[2]===this.lijEastEnd(e[0])-1}isWestEndWrap(e){return this.isGlobal&&0===e[2]}lijEastEnd(e){return 2**(e+(null!=this.spatialReference&&this.spatialReference.isGeographic?1:0))}wrapEastWest(e){const t=this.lijEastEnd(e[0]),i=e[2];if(0<=i&&i<t)return e;if(!this.isGlobal)return null;const r=(i+(i<0?t:0))%t;return[e[0],e[1],r]}enableInternalChecks(e){Be(e)}enableWaterproofnessChecks(e){Ne(e)}};e([w()],nt.prototype,\"_renderer\",void 0),e([w({constructOnly:!0})],nt.prototype,\"_scaleRangeQueries\",void 0),e([w({constructOnly:!0})],nt.prototype,\"view\",void 0),e([w({constructOnly:!0})],nt.prototype,\"overlayManager\",void 0),e([w()],nt.prototype,\"_hasPendingUpdates\",void 0),e([w()],nt.prototype,\"_asyncWorkItems\",void 0),e([w()],nt.prototype,\"_allTilesDirty\",void 0),e([w()],nt.prototype,\"_allTilesSorted\",void 0),e([w()],nt.prototype,\"_viewChanged\",void 0),e([w()],nt.prototype,\"_splitLimits\",void 0),e([w({readOnly:!0})],nt.prototype,\"_watchUpdatingTracking\",void 0),e([w()],nt.prototype,\"_frameTask\",void 0),e([w({readOnly:!0})],nt.prototype,\"snapLevel\",null),e([w({readOnly:!0})],nt.prototype,\"lodSnapping\",null),e([w()],nt.prototype,\"_userClippingExtent\",null),e([w()],nt.prototype,\"_rootTilesExtent\",void 0),e([w({readOnly:!0})],nt.prototype,\"extent\",null),e([w({readOnly:!0})],nt.prototype,\"groundExtent\",null),e([w({readOnly:!0})],nt.prototype,\"_tilingSchemeExtent\",null),e([w({readOnly:!0})],nt.prototype,\"updating\",null),e([w({readOnly:!0})],nt.prototype,\"running\",null),e([w(J)],nt.prototype,\"updatingProgress\",void 0),e([w({readOnly:!0})],nt.prototype,\"updatingProgressValue\",null),e([w()],nt.prototype,\"_maxNumUpdating\",void 0),e([w()],nt.prototype,\"baseOpacity\",null),e([w()],nt.prototype,\"hasCompositeBlendMode\",void 0),e([w({readOnly:!0})],nt.prototype,\"viewingMode\",null),e([w()],nt.prototype,\"maxTextureScale\",void 0),e([w({readOnly:!0})],nt.prototype,\"ready\",null),e([w({value:he.FRONT_TO_BACK})],nt.prototype,\"renderOrder\",null),e([w({readOnly:!0})],nt.prototype,\"rootTiles\",null),e([w()],nt.prototype,\"_rootTiles\",void 0),e([w({readOnly:!0})],nt.prototype,\"spatialReference\",null),e([w({type:t})],nt.prototype,\"backgroundColor\",null),e([w({value:!1})],nt.prototype,\"slicePlaneEnabled\",null),e([w({readOnly:!0})],nt.prototype,\"tilingScheme\",void 0),e([w({readOnly:!0})],nt.prototype,\"tilingSchemeLocked\",null),e([w({readOnly:!0})],nt.prototype,\"tilingSchemeLogic\",void 0),e([w()],nt.prototype,\"wireframe\",null),e([w({value:!1})],nt.prototype,\"suspended\",null),e([w()],nt.prototype,\"textureFadeDuration\",null),e([w()],nt.prototype,\"visibleElevationBounds\",void 0),e([w()],nt.prototype,\"rootTileElevationBounds\",void 0),e([w()],nt.prototype,\"_layerViewsDirty\",void 0),e([w()],nt.prototype,\"renderPatchBorders\",null),e([w()],nt.prototype,\"visualizeNormals\",null),e([w()],nt.prototype,\"renderingDisabled\",null),nt=e([E(\"esri.views.3d.terrain.TerrainSurface\")],nt);const lt=nt;function ot(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function ht(e){const t=e.children;if(!t[0])return!1;for(const i of t)if(i.shouldLoad)return!0;for(const i of t)if(ht(i))return!0;return!1}function dt(e){return e.isLeaf&&(e.parent?.shouldLoad??!1)}const pt=b(),ut=j(),ct=[0,0,0],_t=new u,gt={spatialReference:null,extent:j(),context:\"ground\"},mt={spatialReference:null,extent:null,scale:0};function Tt(e,t,i){for(const r of e){if(!r.containsPointXY(t,i))continue;let e=r;for(;e&&!e.renderData;){const r=(t>e.extentMidX?1:0)+(i<e.extentMidY?2:0);e=e.children[r]}const s=e?.renderData?.geometryState.samplerData??null;return te(t,i,s)}return null}export{lt as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{someMap as r}from\"../../../../core/MapUtils.js\";import{NullUID as o}from\"../../../../core/uid.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{DirtyOperation as i,DirtyState as c}from\"./ModelDirtyTypes.js\";import{assert as a}from\"./Util.js\";class n{constructor(e,t,r){this.operation=e,this.geometry=t,this.states=r}}let m=class extends t{constructor(e){super(e),this._residentGeomRecords=new Map,this._dirtyGeomRecords=new Map,this.dirty=!1}commitLayer(e,t){const r=this._dirtyGeomRecords.get(e);r&&(r.forEach(((r,o)=>{const s=this._ensureGeomRecord(e,o);r.forEach((({geometry:e,operation:r,states:d},n)=>{let m=!1;if(r===i.UPDATE){const r=s.get(n);if(r){if(d&c.TRANSFORMATION){const t=this.model.getObject(o);this.model.updateRenderGeometryTransformation(t,e,r)&&(m=!0)}m||t.updates.push({renderGeometry:r,updateType:d})}else a(!1,\"ModelDirtySet.getAddRemoveListFilteredByLayers: invalid update\")}if(r===i.REMOVE||m){const e=s.get(n);e?(t.removes.push(e),s.delete(n)):r===i.REMOVE&&a(!1,\"ModelDirtySet.getAddRemoveListFilteredByLayers: invalid remove\")}if(r===i.ADD||m){const r=this.model.getObject(o);if(null!=r){const o=this.model.getRenderGeometry(r,e);t.adds.push(o),s.set(n,o)}}})),0===s.size&&this._residentGeomRecords.get(e).delete(o)})),0===this._residentGeomRecords.get(e).size&&this._residentGeomRecords.delete(e),this._dirtyGeomRecords.delete(e),this.dirty=this._hasDirtyGeometryRecords)}getResidentRenderGeometries(e,t){const r=this._residentGeomRecords.get(e);r&&r.forEach((e=>e.forEach((e=>t.push(e)))))}_objectStateChanged(e,t){for(const r of t.geometries)this._updateOrCreateDirtyRecord(t,r,null,i.UPDATE,e)}visibilityChanged(e){this._objectStateChanged(c.VISIBILITY,e)}highlightChanged(e){this._objectStateChanged(c.HIGHLIGHT,e)}occlusionChanged(e){this._objectStateChanged(c.OCCLUDEE,e)}objectGeometryUpdated(e){this._updateOrCreateDirtyRecord(e.object,e.geometry,null,i.UPDATE,c.GEOMETRY)}layerAdded(e){e.objects.forAll((t=>this._layerObjectAdded(e,t)))}layerRemoved(e){e.objects.forAll((t=>this._layerObjectRemoved(e,t)))}layerObjectAdded(e){this._layerObjectAdded(e.layer,e.object)}_layerObjectAdded(e,t){const r=e.id;for(const o of t.geometries)this._objectGeometryAdded(t,o,r)}layerObjectRemoved(e){this._layerObjectRemoved(e.layer,e.object)}layerObjectsAdded(e){for(const t of e.objects)this._layerObjectAdded(e.layer,t)}layerObjectsRemoved(e){for(const t of e.objects)this._layerObjectRemoved(e.layer,t)}_layerObjectRemoved(e,t){const r=e.id;for(const o of t.geometries)this._objectGeometryRemoved(t,o,r)}shaderTransformationChanged(e){const t=this._residentGeomRecords.get(e.id);t&&t.forEach(((e,t)=>{const r=this.model.getObject(t);r&&r.hasVolativeTransformation()&&e.forEach((e=>e.shaderTransformationChanged()))}))}objectTransformation(e){const t=this._getParentLayerId(e),r=e.id;this._ensureGeomRecord(t,r).forEach((r=>{this._updateOrCreateDirtyRecord(e,r.geometry,t,i.UPDATE,c.TRANSFORMATION)}))}objectShaderTransformation(){}objectGeometryAdded(e){this._objectGeometryAdded(e.object,e.geometry)}_objectGeometryAdded(e,t,r=null){this._updateOrCreateDirtyRecord(e,t,r,i.ADD)}objectGeometryRemoved(e){this._objectGeometryRemoved(e.object,e.geometry)}_objectGeometryRemoved(e,t,r=null){this._updateOrCreateDirtyRecord(e,t,r,i.REMOVE)}_updateOrCreateDirtyRecord(e,t,r,o,s=c.NONE){r=r??this._getParentLayerId(e);const d=e.id,m=t.id,h=this._ensureDirtyRecord(r,d),y=h.get(m);if(y){const e=y.operation;e===i.REMOVE&&o===i.ADD&&y.states!==c.NONE?y.operation=i.UPDATE:e===i.REMOVE&&o===i.ADD||e===i.ADD&&o===i.REMOVE?h.delete(m):e!==i.UPDATE||o!==i.REMOVE&&o!==i.UPDATE?(a((e===i.REMOVE||e===i.ADD)&&o===i.UPDATE,\"ModelDirtySet.objectGeometryAdded: inconsistent state\"),y.states|=s):(y.operation=o,y.states|=s)}else h.set(m,new n(o,t,s));this.dirty=this._hasDirtyGeometryRecords}_ensureGeomRecord(e,t){let r=this._residentGeomRecords.get(e);r||(r=new Map,this._residentGeomRecords.set(e,r));let o=r.get(t);return o||(o=new Map,r.set(t,o)),o}get _hasDirtyGeometryRecords(){return r(this._dirtyGeomRecords,(e=>r(e,(e=>e&&e.size>0))))}_ensureDirtyRecord(e,t){let r=this._dirtyGeomRecords.get(e);r||(r=new Map,this._dirtyGeomRecords.set(e,r));let o=r.get(t);return o||(o=new Map,r.set(t,o)),o}_getParentLayerId(e){return e.parentLayer?e.parentLayer.id:o}formatDebugInfo(){const e=[\"ADD\",\"UPD\",void 0,\"REM\"];let t=\"\";return this._dirtyGeomRecords.forEach(((r,o)=>{r.forEach(((r,s)=>{t.length>0&&(t+=\"\\n\"),t+=o+\".\"+s;const d=[];r.forEach((e=>{const t=e.operation;d[t]||(d[t]=[]),d[t].push(e.geometry.id)}));for(let o=0;o<d.length;o++)if(d[o]){t+=\" \"+e[o-1]+\": \";for(let e=0;e<d[o].length;e++)t+=d[o][e]+\", \"}}))})),t}get test(){const e=this;return{get residentLayerCount(){return e._residentGeomRecords.size},get residentObjectCount(){return Array.from(e._residentGeomRecords.values()).reduce(((e,t)=>e+t.size),0)},commit:t=>e._dirtyGeomRecords.forEach(((r,o)=>e.commitLayer(o,t)))}}};e([s({constructOnly:!0})],m.prototype,\"model\",void 0),e([s()],m.prototype,\"dirty\",void 0),m=e([d(\"esri.views.3d.webgl-engine.lib.ModelDirtySet\")],m);const h=m;export{h as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ContentObjectType as n}from\"../lib/ContentObjectType.js\";import{GridLocalOriginFactory as i}from\"../lib/GridLocalOriginFactory.js\";import s from\"../lib/ModelDirtySet.js\";import{RenderGeometry as a}from\"../lib/RenderGeometry.js\";import{assert as c}from\"../lib/Util.js\";import{isWebGLLayer as d}from\"../lib/WebGLLayer.js\";let l=class extends e{constructor(){super(...arguments),this.dirtySet=new s({model:this}),this._content=new Map,this._originFactory=new i(null)}getObject(t){return this._content.get(t)}add(t){const e=t.id;c(!this._content.has(e),\"Model/Stage already contains object to be added\"),this._content.set(e,t),d(t)&&this.dirtySet.layerAdded(t)}remove(t){c(this._content.has(t.id),\"Model/Stage doesn't contain object to be removed\"),this._content.delete(t.id),t.unload(),d(t)&&this.dirtySet.layerRemoved(t)}addMany(t){for(const e of t)null!=e&&(c(!this._content.has(e.id),\"Model/Stage already contains object to be added\"),this._content.set(e.id,e))}removeMany(t){for(const e of t)c(this._content.has(e.id),\"Model/Stage doesn't contain object to be removed\"),this._content.delete(e.id),e.unload()}has(t){return this._content.has(t.id)}forEachOfType(t,e){this._content.forEach((o=>{o.type===t&&e(o)}))}getRenderGeometry(t,e){const{shaderTransformer:o,localOrigin:r}=e,n=new a(e,{shaderTransformer:o,castShadow:t.castShadow});return n.updateTransformation((o=>t.getCombinedStaticTransformation(e,o))),n.localOrigin=null!=r?r:this._originFactory.getOrigin(n.boundingSphere),n}updateRenderGeometryTransformation(t,e,o){if(null==t)return!1;o.updateTransformation((o=>t.getCombinedStaticTransformation(e,o)));const r=this._originFactory.getOrigin(o.boundingSphere);return o.localOrigin!==r}getStats(){const t={},e=Array.from(this._content.values());for(let o=0;o<n.COUNT;++o)t[o]=e.filter((t=>t.type===o)).length;return{contentTypes:t,dirtySet:this.dirtySet.formatDebugInfo()}}get test(){return{content:Array.from(this._content.values())}}};t([o({constructOnly:!0})],l.prototype,\"dirtySet\",void 0),l=t([r(\"esri.views.3d.webgl-engine.parts.Model\")],l);export{l as Model};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._totalCount=t,this._indexRanges=[0,t]}allVisible(){return this.componentCount()===this._totalCount}allInvisible(){return 0===this._indexRanges.length}componentCount(){const t=this._indexRanges;let n=0;for(let e=0;e<t.length;e+=2)n+=t[e+1];return n}reset(t){\"all\"===t||t.length===this._totalCount?this._indexRanges=[0,this._totalCount]:this._indexRanges=n(t)}forEachComponent(t){const n=this._indexRanges;for(let e=0;e<n.length;e+=2){const s=n[e],o=s+n[e+1];for(let n=s;n<o;n++)if(!t(n))return!1}return!0}forEachComponentRange(t){const n=this._indexRanges;for(let e=0;e<n.length;e+=2){const s=n[e];if(!t(s,s+n[e+1]))return!1}return!0}computeOffsetRanges(t){const n=new Array(this._indexRanges.length),e=this._indexRanges;for(let s=0;s<e.length;s+=2){const o=e[s],r=o+e[s+1],i=t[o],l=t[r];n[s]=i,n[s+1]=l-i}return n}}function n(t){const n=new Array;if(0===t.length)return n;let e=t[0],s=1;for(let o=1;o<t.length;o++){const r=t[o];e+s===r?s+=1:(n.push(e),n.push(s),e=r,s=1)}return n.push(e),n.push(s),n}export{t as ComponentRangeRunLengthEncoded};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ComponentRangeRunLengthEncoded as t}from\"./IndexRange/ComponentRangeRunLengthEncoded.js\";class e{constructor(e,h){this.offsets=h,this.pickability=null,this.highlightCounts=null,this.verticalOffsets=null,this.cachedGeometryRanges=null,this.cachedHighlightRanges=null,this.cachedDefaultRanges=null;const i=this.count;this.visibility=new t(i),this.materialDataBuffer=e.getBuffer(i),this.materialDataIndices=new Uint16Array(i);for(let t=0;t<i;t++)this.materialDataIndices[t]=this.materialDataBuffer.acquireIndex()}destroy(){for(let t=0;t<this.count;t++)this.materialDataBuffer.releaseIndex(this.materialDataIndices[t])}get count(){return this.offsets.length-1}get geometryRanges(){return null==this.cachedGeometryRanges&&(this.cachedGeometryRanges=this.visibility.computeOffsetRanges(this.offsets)),this.cachedGeometryRanges}get highlightRanges(){return null==this.highlightCounts?null:(this._updateCachedHighlightRanges(),this.cachedHighlightRanges)}get defaultShadowMapRanges(){return null==this.highlightCounts?this.geometryRanges:(this._updateCachedHighlightRanges(),this.cachedDefaultRanges)}highlightsDirty(){this.cachedHighlightRanges=null,this.cachedDefaultRanges=null}visibilityDirty(){this.cachedGeometryRanges=null,this.highlightsDirty()}_updateCachedHighlightRanges(){if((null==this.cachedHighlightRanges||null==this.cachedDefaultRanges)&&null!=this.highlightCounts){const{highlightRanges:t,defaultRanges:e}=h(this.highlightCounts,this.visibility,this.offsets);this.cachedHighlightRanges=t,this.cachedDefaultRanges=e}}}function h(t,e,h){const i=[],s=[];let a=h.length,n=h.length;return e.forEachComponent((e=>(t[e]>0?(a!==e-1&&(i.length&&i.push(h[a+1]-i[i.length-1]),i.push(h[e])),a=e):(n!==e-1&&(s.length&&s.push(h[n+1]-s[s.length-1]),s.push(h[e])),n=e),!0))),i.length&&i.push(h[a+1]-i[i.length-1]),s.length&&s.push(h[n+1]-s[s.length-1]),{highlightRanges:i,defaultRanges:s}}export{e as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReallocGrowthFactor as t}from\"../../../../core/arrayUtils.js\";function n(n,i,e,s){if(e>=i)return n;null==n&&(n=r());const a=n.isVisibleBit;let l=n.data;const c=u(l),f=e/c|0,h=e-c*f,B=(i-1)/c|0,E=l,b=s===a;if(!(e<E.length*c)&&b){const n=f+1,i=Math.ceil(E.length*t),r=B+1;let e=Math.max(n,i);e=Math.min(e,r),l=new Uint32Array(e),l.set(E)}return f<l.length&&(l[f]=o(l[f],h,b)),n.data=l,n}function i(t,n){if(null==t)return!0;const{isVisibleBit:i,data:r}=t,o=u(r);return n<r.length*o?e(i,r,n,o):!t.isVisibleBit}function r(t=!0){return{isVisibleBit:!t,data:new Uint32Array(0)}}function e(t,n,i,r){const e=i/r|0,u=i-e*r;return s(n[e],u)===t}function u(t){const n=8;return t.BYTES_PER_ELEMENT*n}function o(t,n,i){return t&~(1<<n)|(i?1:0)<<n}function s(t,n){return 0!=(t&1<<n)}export{r as defaultVisibilities,i as getVisibility,n as updateVisibilityWithCount};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{t}from\"../../../../../chunks/vec3.js\";import{c as o}from\"../../../../../chunks/vec3f64.js\";import{create as n}from\"../../../../../geometry/support/aaBoundingBox.js\";import{newFloatArray as s}from\"../../../../../geometry/support/FloatArray.js\";import{compactIndices as i,getContinuousIndexArray as e}from\"../../../../../geometry/support/Indices.js\";import{componentMinimalSizeForIntersectionData as r,ComponentIntersectionData as p}from\"./ComponentIntersectionData.js\";import{Attribute as m}from\"../../lib/Attribute.js\";import{getVisibility as c}from\"../../lib/ComponentUtils.js\";import{computeInvDir as a,intersectAabbInvDir as h,intersectTriangles as l}from\"../../materials/internal/MaterialUtil.js\";class f{constructor(t,o){this._components=o,this._indices=null!=t.indices?i(t.indices):e(t.positions.length/3),this._positions=t.positions,this._componentIntersectionData=new Array(o.count)}getComponentAabb(t,o){this._perComponentAabbs||(this._perComponentAabbs=this._computePerComponentAabbs());for(let n=0;n<6;n++)o[n]=this._perComponentAabbs[6*t+n];return o}getComponentPositions(t,o){o.indices=this._indices,o.data=this._positions,o.stride=3,o.startIndex=this._components.offsets[t],o.endIndex=this._components.offsets[t+1]}intersect(o,n,s,i,e,f,b){const d=new m(this._positions,3,!1,3),A=this._indices,C=this._components.offsets,g=a(o,n,_),j=o[2],y=n[2];this._components.visibility.forEachComponent((m=>{if(!c(this._components.pickability,m))return!0;const a=this.getComponentAabb(m,u);if(null!=f){const t=f[m];null!=e?e.componentOffset=t:(o[2]=j-t,n[2]=y-t)}if(null!=e&&e.applyToAabb(a),!h(a,o,g,s))return!0;const _=C[m]/3,I=C[m+1]/3,x=(o,n,s)=>b(m,o,t(n,n,i),s);return null==e&&I-_>r?(null==this._componentIntersectionData[m]&&(this._componentIntersectionData[m]=new p(this._indices,_,I,d)),this._componentIntersectionData[m].intersectRay({r0:o,r1:n},x)):l(o,n,_,I,A,d,void 0,e,x),!0}))}_computePerComponentAabbs(){const t=this._components.count,o=s(6*t),n=this._indices,i=this._positions,e=this._components.offsets;let r=0;for(let s=0;s<t;s++){const t=e[s],p=e[s+1];let m=1/0,c=1/0,a=1/0,h=-1/0,l=-1/0,f=-1/0;for(let o=t;o<p;o++){const t=3*n[o],s=i[t],e=i[t+1],r=i[t+2];m=Math.min(m,s),c=Math.min(c,e),a=Math.min(a,r),h=Math.max(h,s),l=Math.max(l,e),f=Math.max(f,r)}o[r++]=m,o[r++]=c,o[r++]=a,o[r++]=h,o[r++]=l,o[r++]=f}return o}get positions(){return this._positions}get indices(){return this._indices}}const _=o(),u=n();export{f as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,e){this.material=t,this.geometry=s,this.meta=e}destroy(){this.material.dispose(),this.geometry.dispose()}}export{t as Renderable};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass s{constructor(s,i,t,e){this.vao=s,this.primitiveType=i,this.parameters=t,this.indexed=e}dispose(){this.vao.dispose()}}export{s as RenderGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass r{constructor(){this.near=Number.MAX_VALUE,this.far=-Number.MAX_VALUE}}function n(r,n){return{near:r,far:n}}function a(r){return r?t(r,1/0,-1/0):n(1/0,-1/0)}function t(r,n,a){return r.near=n,r.far=a,r}function e(r,n,a=r){return null!=n&&(a.near=Math.min(r.near,n.near),a.far=Math.max(r.far,n.far)),a}function u(r,n){return r.near<=n&&n<=r.far}const f={near:0,far:0};export{r as DepthRange,f as ZERO,n as create,a as empty,t as set,e as union,u as within};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{nullifyNonNullableForDispose as t}from\"../../../../../core/maybe.js\";import n from\"../../../../../core/PooledArray.js\";import{c as o,d as e}from\"../../../../../chunks/mat3.js\";import{c as r}from\"../../../../../chunks/mat3f64.js\";import{c as a}from\"../../../../../chunks/quat.js\";import{a as s}from\"../../../../../chunks/quatf64.js\";import{e as f,w as c,q as l,s as u,h as i,c as h,t as m,a as p}from\"../../../../../chunks/vec3.js\";import{c as b}from\"../../../../../chunks/vec3f64.js\";import{signedDistance as j}from\"../../../../../geometry/support/plane.js\";import{projectedRadius as d,intersectPlane as g}from\"../../../support/orientedBoundingBox.js\";import{empty as k,within as w,union as z}from\"../../lib/depthRange.js\";function S(t,n){const o=k(),{eye:e,frustum:r,viewForward:a}=t;n.forAll((t=>{const n=null!=t.offsetObb?t.offsetObb:t.obb,s=f(c(G,n.center,e),a),l=d(n,a);if(w(o,s-l)&&w(o,s+l))return;const u=C(n,r);if(-1===u)return;if(0===u)return y.far=s+l,y.near=s-l,void z(o,y);const i=q.pushNew();i.near=s-l,i.far=s+l,i.mask=u,i.object=t}));for(let s=0;s<q.length;s++){const t=q.data[s];if(w(o,t.near)&&w(o,t.far))continue;y.far=t.far,y.near=1/0;const n=N(null!=t.object.offsetObb?t.object.offsetObb:t.object.obb,e,A,(n=>{let o=x;for(let e=0;e<R&&n.length>0;e++){if(0==(t.mask&1<<e))continue;B(r[e],n,o);const a=n;n=o,o=a}for(let t=0;t<n.length;t+=3){u(v,n.data[t],n.data[t+1],n.data[t+2]);const o=f(c(v,v,e),a);y.near=Math.min(y.near,o)}}));0===n&&(y.near=0),z(o,y)}return q.length=0,o}const q=new n({allocator:t=>t||{near:1/0,far:-1/0,mask:0,object:null},deallocator:n=>(n.object=t(n.object),n)}),y=k(),v=b(),O=b(),A=new n({deallocator:null}),x=new n({deallocator:null});function B(t,n,o){o.length=0;const e=n.length-3;F(v,n,e);const r=j(t,v);r<=0&&(o.push(v[0]),o.push(v[1]),o.push(v[2]));let a=0,s=r;for(;a<e;a+=3){F(O,n,a);const e=j(t,O);if(s*e<0){i(v,O,v,e/(e-s)),M(o,v)}e<=0&&M(o,O),s=e,h(v,O)}if(s*r<0){F(O,n,e);i(v,O,v,r/(r-s)),M(o,v)}}function F(t,n,o){return u(t,n.data[o],n.data[o+1],n.data[o+2])}function M(t,n){t.push(n[0]),t.push(n[1]),t.push(n[2])}function N(t,n,r,s){a(E,t.quaternion),c(G,n,t.center),l(G,G,E);const f=8*((G[0]<-t.halfSize[0]?-1:G[0]>t.halfSize[0]?1:0)+3*(G[1]<-t.halfSize[1]?-1:G[1]>t.halfSize[1]?1:0)+9*(G[2]<-t.halfSize[2]?-1:G[2]>t.halfSize[2]?1:0)+13),i=P[f];if(0===i)return i;o(D,t.quaternion),e(D,D,t.halfSize);const h=(n,o)=>{const e=P[f+o+1];return u(n,((1&e)<<1)-1,(2&e)-1,((4&e)>>1)-1),m(n,n,D),p(n,t.center,n)};return r.length=0,M(r,h(H,0)),M(r,h(I,1)),M(r,h(G,2)),M(r,h(J,3)),s(r),1===i?i:(r.length=0,M(r,H),M(r,J),M(r,h(G,4)),M(r,h(K,5)),s(r),2===i||(r.length=0,M(r,H),M(r,K),M(r,h(G,6)),M(r,I),s(r)),i)}const P=(()=>{const t=new Array(216);let n=0;const o=o=>{for(let e=0;e<o.length;e++)t[n+e]=o[e];n+=8};return o([3,0,6,2,3,1,5,4]),o([2,0,2,3,1,5,4,0]),o([3,1,0,2,3,7,5,4]),o([2,0,1,3,2,6,4,0]),o([1,0,1,3,2,0,0,0]),o([2,1,5,7,3,2,0,0]),o([3,2,0,1,3,7,6,4]),o([2,2,0,1,3,7,6,0]),o([3,3,0,1,5,7,6,2]),o([2,0,1,5,4,6,2,0]),o([1,0,1,5,4,0,0,0]),o([2,1,3,7,5,4,0,0]),o([1,0,2,6,4,0,0,0]),o([0,0,0,0,0,0,0,0]),o([1,1,3,7,5,0,0,0]),o([2,2,3,7,6,4,0,0]),o([1,2,3,7,6,0,0,0]),o([2,3,1,5,7,6,2,0]),o([3,4,0,1,5,7,6,2]),o([2,5,7,6,4,0,1,0]),o([3,5,0,1,3,7,6,4]),o([2,4,5,7,6,2,0,0]),o([1,4,5,7,6,0,0,0]),o([2,5,1,3,7,6,4,0]),o([3,6,0,2,3,7,5,4]),o([2,6,2,3,7,5,4,0]),o([3,7,6,2,3,1,5,4]),t})(),R=4;function C(t,n){let o=0;for(let e=0;e<R;e++){const r=g(t,n[e]);if(r>0)return-1;0===r&&(o|=1<<e)}return o}const D=r(),E=s(),G=b(),H=b(),I=b(),J=b(),K=b();export{S as computeDepthRange};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{computeDepthRange as t}from\"./DepthRange.js\";class e{constructor(t){this._objects=t}submit(t,e){this._objects.preSubmit(e),this._objects.visibleObjects.forAll((s=>s.renderable.material.submit(t,e,s)))}queryShadowCasterDepthRange(e){return this._objects.visibleObjects.length?t(e,this._objects.visibleObjects):null}}export{e as RenderSubmitSystem};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as s}from\"../../../../../chunks/vec4f64.js\";import{ColorMixModeEnum as o}from\"../../../layers/support/symbolColorUtils.js\";class t{constructor(){this.externalColor=s(),this.externalColorMixMode=o.Multiply,this.castShadows=!0,this.pickable=!0,this.elevationOffset=0}}export{t as UniformComponentParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ViewingMode as e}from\"../../../../../ViewingMode.js\";import{IntegratedMeshMode as r}from\"./ComponentTechniqueConfiguration.js\";import{C as i}from\"../../../../../../chunks/ComponentShader.glsl.js\";import{ShaderOutput as t}from\"../../../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as o}from\"../../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as n}from\"../../../core/shaderTechnique/ShaderTechnique.js\";import{StencilBits as s}from\"../../../lib/basicInterfaces.js\";import{blendingDefault as l,oitBlending as a,oitDepthTest as c,OITPolygonOffset as u}from\"../../../lib/OrderIndependentTransparency.js\";import{Program as d}from\"../../../lib/Program.js\";import{stencilWriteMaskOn as p,replaceBitWhenDepthTestPasses as m,stencilBaseAllZerosParams as h}from\"../../../lib/StencilUtils.js\";import{TransparencyPassType as f}from\"../../../lib/TransparencyPassType.js\";import{VertexAttribute as b}from\"../../../lib/VertexAttribute.js\";import{makePipelineState as g,cullingParams as O,defaultDepthWriteParams as j,defaultColorWriteParams as P}from\"../../../../../webgl/renderState.js\";class T extends n{initializeConfiguration(r,i){i.spherical=r.viewingMode===e.Global,i.doublePrecisionRequiresObfuscation=r.rctx.driverTest.doublePrecisionRequiresObfuscation.result}initializeProgram(e){return new d(e.rctx,T.shader.get().build(this.configuration),M)}_setPipelineState(e){const i=this.configuration,o=i.integratedMeshMode!==r.None,n=e===f.NONE,d=e===f.FrontFace;return g({blending:i.output!==t.Color&&i.output!==t.Alpha||!i.blendingEnabled?null:n?l:a(e),culling:O(i.cullFace),depthTest:{func:c(e)},depthWrite:n||d?j:null,colorWrite:P,stencilWrite:o||i.hasOccludees?p:null,stencilTest:o?m(s.IntegratedMeshMaskExcluded):i.hasOccludees?h:null,polygonOffset:n||d?i.hasPolygonOffset?{factor:2,units:2}:null:u})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}T.shader=new o(i,(()=>import(\"./shader/ComponentShader.glsl.js\")));const M=new Map([[b.POSITION,0],[b.NORMAL,1],[b.NORMALCOMPRESSED,1],[b.COLOR,2],[b.UV0,3],[b.UVREGION,4],[b.COMPONENTINDEX,5]]);export{T as ComponentTechnique,M as attributeLocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{NoParameters as t}from\"../shaderModules/interfaces.js\";class e extends t{constructor(){super(...arguments),this._dirty=!0}_setDirty(){this._dirty=!0}_setClean(){if(this._dirty=!1,null!=this._parameterBlocks)for(const t of this._parameterBlocks)this[t]._setClean()}get dirty(){return this._dirty||this._checkParameterBlocksDirty()}_checkParameterBlocksDirty(){if(null==this._parameterBlocks)return!1;for(const t of this._parameterBlocks)if(this[t].dirty)return!0;return!1}}class r{constructor(){this._dirty=!0}_setDirty(){this._dirty=!0}_setClean(){this._dirty=!1}get dirty(){return this._dirty}}function s(t={}){return(e,r)=>{const s=e._parameterCount??0;if(e._parameterCount=s+1,t.vectorOps){const i=t.vectorOps;Object.defineProperty(e,r,{get(){return this[s]},set(t){const e=this[s];if(null==e)this[s]=t;else{if(i.equals(e,t))return;i.copy(e,t)}this._setDirty()}})}else Object.defineProperty(e,r,{get(){return this[s]},set(e){this[s]!==e&&(t.dispose&&this[s]&&this[s].dispose(),this[s]=e,this._setDirty())}})}}function i(){return(t,e)=>{const r=t._parameterCount??0;t._parameterCount=r+1,t._parameterBlocks=t._parameterBlocks||[],t._parameterBlocks.push(r),Object.defineProperty(t,e,{get(){return this[r]},set(t){this[r]!==t&&(this[r]=t,this._setDirty())}})}}export{e as MaterialBase,r as MaterialParameterBlock,s as parameter,i as parameterBlock};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as s,w as t,a as h,g as i}from\"../../../../../chunks/vec3.js\";import{c as o}from\"../../../../../chunks/vec3f32.js\";import{c as r}from\"../../../../../chunks/vec3f64.js\";class c{constructor(s){this._low=r(),this._high=r(),s&&this.set(s)}get low(){return this._low}get high(){return this._high}set(h){s(this._low,s(e,h));const i=t(e,h,this._low);s(this._high,i)}get(s){return h(s,this._low,this._high)}getLowScaled(s){return i(s,this._low,1)}}const e=o();export{c as TwoVectorPosition};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import{releaseMaybe as t}from\"../../../../../../core/maybe.js\";import{e as r,t as s}from\"../../../../../../chunks/mat3.js\";import{a as o}from\"../../../../../../chunks/mat3f32.js\";import{b as a}from\"../../../../../../chunks/mat3f64.js\";import{G as i}from\"../../../../../../chunks/vec3.js\";import{g as l,f as n}from\"../../../../../../chunks/vec3f64.js\";import{v as u}from\"../../../../../../chunks/vec4.js\";import{f as h}from\"../../../../../../chunks/vec4f64.js\";import{ColorMixModeEnum as p}from\"../../../../layers/support/symbolColorUtils.js\";import{OverlayIndex as c,RenderTargetType as d}from\"../../../../terrain/interfaces.js\";import{ComponentTechnique as m}from\"./ComponentTechnique.js\";import{ComponentTechniqueConfiguration as g,IntegratedMeshMode as y}from\"./ComponentTechniqueConfiguration.js\";import{ComponentDataType as T}from\"./shader/ComponentData.glsl.js\";import{g as x}from\"../../../../../../chunks/ComponentShader.glsl.js\";import{VertexDiscardMode as f}from\"./shader/VertexDiscardByOpacity.glsl.js\";import{MaterialBase as v,parameter as b,parameterBlock as M,MaterialParameterBlock as O}from\"../../../core/material/MaterialBase.js\";import{RenderPassIdentifier as C}from\"../../../core/renderPasses/AllRenderPasses.js\";import{ShaderOutput as w}from\"../../../core/shaderLibrary/ShaderOutput.js\";import{NormalType as S}from\"../../../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{NormalsDoubleSidedMode as P}from\"../../../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as j}from\"../../../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as N}from\"../../../core/shaderLibrary/util/AlphaCutoff.js\";import{EllipsoidMode as q}from\"../../../core/shaderLibrary/util/EllipsoidMode.js\";import{TwoVectorPosition as A}from\"../../../core/util/TwoVectorPosition.js\";import{AlphaDiscardMode as D,CullFaceOptions as R}from\"../../../lib/basicInterfaces.js\";import{TransparencyPassType as I}from\"../../../lib/TransparencyPassType.js\";import{defaultAdvancedMRRFactors as k}from\"../../../materials/pbrUtils.js\";class F extends v{constructor(e,t){super(),this.toMapSpace=t,this.baseColor=h(1,1,1,1),this.usePBR=!1,this.hasParametersFromSource=!1,this.mrrFactors=l(k),this.emissiveFactor=n(0,0,0),this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.emissionTexture=null,this.occlusionTexture=null,this.normalTexture=null,this.objectOpacity=1,this.commonMaterialParameters=new E,this.componentParameters=new B,this.textureAlphaCutoff=N,this.alphaDiscardMode=D.Opaque,this.isIntegratedMesh=!1,this.polygonOffsetEnabled=!1,this.ellipsoidMode=q.Earth,this.hasOccludees=!1,this._techniqueConfiguration=new g;const i=new A(e.position),u=o(e.rotationScale);r(u,u),this.transformNormalGlobalFromModel=a(s(u,u)),this.transformWorldFromModelTL=i.low,this.transformWorldFromModelTH=i.high,this.transformWorldFromModelRS=e.rotationScale}dispose(){this._technique=t(this._technique),this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.emissionTexture=null,this.occlusionTexture=null,this.normalTexture=null}get texture(){return null!=this.baseColorTexture?this.baseColorTexture.glTexture:null}get textureMetallicRoughness(){return null!=this.metallicRoughnessTexture?this.metallicRoughnessTexture.glTexture:null}get textureEmissive(){return null!=this.emissionTexture?this.emissionTexture.glTexture:null}get textureOcclusion(){return null!=this.occlusionTexture?this.occlusionTexture.glTexture:null}get textureNormal(){return null!=this.normalTexture?this.normalTexture.glTexture:null}prepareTechnique(e,t,r,s){const o=this._techniqueConfiguration;o.hasVertexColors=s.colors,o.hasNormals=s.normals,o.textureCoordinateType=s.textureCoordinates,o.hasMetallicRoughnessTexture=null!=this.metallicRoughnessTexture,o.hasEmissionTexture=null!=this.emissionTexture,o.hasOcclusionTexture=null!=this.occlusionTexture,o.hasNormalTexture=null!=this.normalTexture,o.transparencyPassType=t.identifier===C.Material&&null!=r.transparencyPassType?r.transparencyPassType:I.NONE,o.hasMultipassTerrain=t.identifier===C.Material&&null!=r.multipassTerrain&&r.multipassTerrain.enabled,o.cullAboveGround=t.identifier===C.Material&&null!=r.multipassTerrain&&r.multipassTerrain.cullAboveGround,o.ellipsoidMode=this.ellipsoidMode,o.componentData=this.componentParameters.type,o.cullFace=this.commonMaterialParameters.cullFace,o.doubleSidedMode=this.commonMaterialParameters.doubleSided?P.View:P.None,o.hasBaseColorTexture=null!=this.baseColorTexture;const a=this._computeWhichMaterialPass();o.blendingEnabled=a===_.Transparent||a===_.OpaqueAndTransparent,o.alphaDiscardMode=this.alphaDiscardMode,o.integratedMeshMode=this.isIntegratedMesh?G(r)?x(r)?y.ColorOverlayWithWater:y.ColorOverlay:y.NoOverlay:y.None,o.hasPolygonOffset=this.polygonOffsetEnabled;const i=this.hasParametersFromSource&&null==this.baseColorTexture;if(o.pbrMode=o.integratedMeshMode===y.ColorOverlayWithWater?j.WaterOnIntegratedMesh:this.usePBR?i?j.Schematic:j.Normal:j.Disabled,o.normalType=o.integratedMeshMode===y.None?o.hasNormals?S.Compressed:S.ScreenDerivative:S.Ground,o.hasSlicePlane=null!=r.slicePlane&&this.commonMaterialParameters.hasSlicePlane,t.identifier===C.ShadowMap)o.output=w.Shadow,o.vertexDiscardMode=f.None;else if(t.identifier===C.Highlight)o.output=w.Highlight,o.vertexDiscardMode=f.None;else{switch(this._computeWhichMaterialPass()===_.OpaqueAndTransparent?o.vertexDiscardMode=t.transparent?f.Opaque:f.Transparent:o.vertexDiscardMode=f.None,o.output=t.output,o.receiveAmbientOcclusion=!1,o.receiveShadows=!1,t.output){case w.Color:o.receiveAmbientOcclusion=r.ssaoHelper.active,o.hasOccludees=r.hasOccludees,o.receiveShadows=r.shadowMap.ready,o.hasScreenSpaceReflections=r.ssr.enabled,o.hasCloudsReflections=null!=r.cloudsFade.data;break;case w.Alpha:o.hasOccludees=r.hasOccludees;break;case w.ObjectAndLayerIdColor:o.objectAndLayerIdColor=!0}o.snowCover=this.hasSnowCover(r)}return this._technique=e.releaseAndAcquire(m,o,this._technique),this._setClean(),this._technique}hasSnowCover(e){return null!=e.weather&&e.weatherVisible&&\"snowy\"===e.weather.type&&\"enabled\"===e.weather.snowCover}submit(e,t,r){if(0===this.objectOpacity)return;const s=r.renderable.geometry,o=r.components,a=r.renderable.meta.cameraDepthSquared,i=o.geometryRanges,l=o.highlightRanges,n=o.defaultShadowMapRanges;switch(this._computeWhichMaterialPass()){case _.Opaque:e.materialOpaque.submitDraw(this,s,i,a);break;case _.Transparent:e.materialTransparent.submitDraw(this,s,i,a);break;case _.OpaqueAndTransparent:e.materialOpaque.submitDraw(this,s,i,a),e.materialTransparent.submitDraw(this,s,i,a);break;case _.IntegratedMesh:e.materialIntegratedMesh.submitDraw(this,s,i,a),V(t)&&e.highlightIntegratedMesh.submitDraw(this,s,i,a)}const u=this.componentParameters.castShadows!==W.None;u&&e.shadowMap.submitDraw(this,s,i,a),null!=l&&(e.highlight.submitDraw(this,s,l,a),u&&e.highlightShadowMap.submitDraw(this,s,l,a)),u&&null!=n&&e.defaultShadowMap.submitDraw(this,s,n,a)}_computeWhichMaterialPass(){return this.isIntegratedMesh?_.IntegratedMesh:this.objectOpacity<1?_.Transparent:this.componentParameters.opaqueOverride===W.All?_.Opaque:this.baseColor[3]<1||this.alphaDiscardMode===D.Blend||this.alphaDiscardMode===D.MaskBlend?_.Transparent:this.componentParameters.transparent===W.None?_.Opaque:this.componentParameters.transparent===W.All?_.Transparent:_.OpaqueAndTransparent}}var _,W;e([b({vectorOps:u})],F.prototype,\"baseColor\",void 0),e([b()],F.prototype,\"usePBR\",void 0),e([b()],F.prototype,\"hasParametersFromSource\",void 0),e([b({vectorOps:i})],F.prototype,\"mrrFactors\",void 0),e([b({vectorOps:i})],F.prototype,\"emissiveFactor\",void 0),e([b({dispose:!0})],F.prototype,\"baseColorTexture\",void 0),e([b({dispose:!0})],F.prototype,\"metallicRoughnessTexture\",void 0),e([b({dispose:!0})],F.prototype,\"emissionTexture\",void 0),e([b({dispose:!0})],F.prototype,\"occlusionTexture\",void 0),e([b({dispose:!0})],F.prototype,\"normalTexture\",void 0),e([b()],F.prototype,\"objectOpacity\",void 0),e([M()],F.prototype,\"commonMaterialParameters\",void 0),e([M()],F.prototype,\"componentParameters\",void 0),e([b()],F.prototype,\"textureAlphaCutoff\",void 0),e([b()],F.prototype,\"alphaDiscardMode\",void 0),e([b()],F.prototype,\"isIntegratedMesh\",void 0),e([b()],F.prototype,\"polygonOffsetEnabled\",void 0),e([b()],F.prototype,\"ellipsoidMode\",void 0),e([b()],F.prototype,\"hasOccludees\",void 0),function(e){e[e.Opaque=0]=\"Opaque\",e[e.Transparent=1]=\"Transparent\",e[e.OpaqueAndTransparent=2]=\"OpaqueAndTransparent\",e[e.IntegratedMesh=3]=\"IntegratedMesh\"}(_||(_={}));class E extends O{constructor(){super(...arguments),this.doubleSided=!1,this.cullFace=R.Back,this.hasSlicePlane=!0}}e([b()],E.prototype,\"doubleSided\",void 0),e([b()],E.prototype,\"cullFace\",void 0),e([b()],E.prototype,\"hasSlicePlane\",void 0);class B extends O{constructor(){super(...arguments),this.externalColor=h(1,1,1,1),this.externalColorMixMode=p.Multiply,this.castShadows=W.All}get transparent(){return this.externalColor[3]<1?W.All:W.None}get opaqueOverride(){return this.externalColorMixMode===p.Replace&&1===this.externalColor[3]?W.All:W.None}get visible(){return this.externalColor[3]>0?W.All:W.None}get type(){return T.Uniform}}e([b({vectorOps:u})],B.prototype,\"externalColor\",void 0),e([b()],B.prototype,\"externalColorMixMode\",void 0),e([b()],B.prototype,\"castShadows\",void 0),function(e){e[e.All=0]=\"All\",e[e.Some=1]=\"Some\",e[e.None=2]=\"None\"}(W||(W={}));class L extends O{constructor(){super(...arguments),this.texture=null,this.transparent=W.None,this.opaqueOverride=W.None,this.castShadows=W.None}get type(){return T.Varying}}function V(e){return 0!==e.overlays.length&&null!=e.overlays[c.INNER].getValidTexture(d.Highlight)}function G(e){return 0!==e.overlays.length&&null!=e.overlays[c.INNER].getColorTextureNoRasterImage()}e([b()],L.prototype,\"texture\",void 0),e([b()],L.prototype,\"transparent\",void 0),e([b()],L.prototype,\"opaqueOverride\",void 0),e([b()],L.prototype,\"castShadows\",void 0);export{E as CommonMaterialParameters,F as ComponentMaterial,W as ComponentParameterSummary,B as ComponentParametersUniform,L as ComponentParametersVarying};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this._maxCount=e,this._nextIndex=0,this._recycledIndices=[]}get activeCount(){return this._nextIndex-this._recycledIndices.length}get availableCount(){return this._recycledIndices.length+this._maxCount-this._nextIndex}acquire(){return this._recycledIndices.length>0?this._recycledIndices.pop():this.availableCount?this._nextIndex++:void 0}release(e){this._recycledIndices.push(e)}}export{e as SimpleIndexManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{BufferViewVec4u8 as t}from\"../../../../../geometry/support/buffer/BufferView.js\";import{TextureSamplingMode as e,TextureWrapMode as i}from\"../../../../webgl/enums.js\";import{Texture as s}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as r}from\"../../../../webgl/TextureDescriptor.js\";class h{constructor(h,a=1){this._rctx=h,this._fieldCount=a,this.textureWidth=4096,this._dirty=!0;const d=new r;d.samplingMode=e.NEAREST,d.wrapMode=i.CLAMP_TO_EDGE,d.width=this.textureWidth,d.height=1,this._texture=new s(this._rctx,d),this._data=new t(new ArrayBuffer(4*this.textureWidth))}dispose(){this._texture.dispose(),this._texture=void 0,this._data=void 0}setData(t,e,i,s,r,h){const a=t*this._fieldCount+e;this._dirty=!0,this._data.set(a,0,i),this._data.set(a,1,s),this._data.set(a,2,r),this._data.set(a,3,h)}setDataElement(t,e,i,s){const r=t*this._fieldCount+e;this._dirty=!0,this._data.set(r,i,s)}getDataElement(t,e,i){const s=t*this._fieldCount+e;return this._dirty=!0,this._data.get(s,i)}resizeToFit(e){const i=(e+1)*this._fieldCount;if(i>this._data.count){const e=Math.ceil(i/this.textureWidth)*this.textureWidth,s=new t(new ArrayBuffer(4*e));s.typedBuffer.set(this._data.typedBuffer),this._data=s}}updateTexture(){if(!this._dirty)return;const t=this._texture.descriptor.width,e=this._texture.descriptor.height;this._data.count>t*e&&this._texture.resize(t,this._data.count/t),this._texture.setData(this._data.typedBuffer),this._dirty=!1}get texture(){return this._texture}}export{h as TextureBackedBuffer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{SimpleIndexManager as e}from\"./SimpleIndexManager.js\";import{TextureBackedBuffer as t}from\"./TextureBackedBuffer.js\";const r=65536;class i{constructor(i,a=1){this.textureBuffer=new t(i,a),this._indexManager=new e(r)}dispose(){this.textureBuffer.dispose(),this.textureBuffer=void 0}get availableCount(){return this._indexManager.availableCount}get activeCount(){return this._indexManager.activeCount}acquireIndex(){const e=this._indexManager.acquire();return this.textureBuffer.resizeToFit(e),e}releaseIndex(e){this._indexManager.release(e)}}export{r as MAX_INDEX_COUNT,i as ManagedTextureBackedBuffer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{MAX_INDEX_COUNT as t,ManagedTextureBackedBuffer as e}from\"./ManagedTextureBackedBuffer.js\";class r{constructor(t,e=1){this._rctx=t,this._fieldCount=e,this._buffers=[]}garbageCollect(){this._buffers=this._buffers.filter((t=>0!==t.activeCount||(t.dispose(),!1)))}destroy(){this._buffers.forEach((t=>t.dispose())),this._buffers=[]}getBuffer(r){for(const t of this._buffers)if(t.availableCount>=r)return t;if(r>t)return null;const s=new e(this._rctx,this._fieldCount);return this._buffers.push(s),s}updateTextures(){for(const t of this._buffers)t.textureBuffer.updateTexture()}}export{r as BufferManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";import e from\"../../../../../core/Logger.js\";import{applySome as t}from\"../../../../../core/maybe.js\";import o from\"../../../../../core/PooledArray.js\";import{isArray as n}from\"../../../../../core/typedArrayUtil.js\";import{e as r,t as i}from\"../../../../../chunks/mat3.js\";import{c as s}from\"../../../../../chunks/mat3f32.js\";import{d as a,w as c,t as m}from\"../../../../../chunks/vec3.js\";import{a as l,c as f}from\"../../../../../chunks/vec3f64.js\";import{compactIndices as p}from\"../../../../../geometry/support/Indices.js\";import{b as h}from\"../../../../../chunks/vec32.js\";import{c as u}from\"../../../../../chunks/vec33.js\";import{ViewingMode as b}from\"../../../../ViewingMode.js\";import{ColorMixModeEnum as g,encodeSymbolColor as d}from\"../../../layers/support/symbolColorUtils.js\";import{clone as y,computeOffsetObb as j,radius as C}from\"../../../support/orientedBoundingBox.js\";import{glLayout as v}from\"../../../support/buffer/glUtil.js\";import{newLayout as _}from\"../../../support/buffer/InterleavedLayout.js\";import w from\"./ComponentData.js\";import{State as M,ComponentObject as O}from\"./ComponentObject.js\";import x from\"./IntersectionGeometry.js\";import{Renderable as A}from\"./Renderable.js\";import{RenderGeometry as D}from\"./RenderGeometry.js\";import{RenderSubmitSystem as S}from\"./RenderSubmitSystem.js\";import{createVertexBufferLayout as I}from\"./SourceGeometry.js\";import{UniformComponentParameters as P}from\"./UniformComponentParameters.js\";import{ComponentParametersVarying as E,ComponentParametersUniform as L,ComponentParameterSummary as R,ComponentMaterial as U}from\"./Material/ComponentMaterial.js\";import{attributeLocations as B}from\"./Material/ComponentTechnique.js\";import{encodeElevationOffset as T}from\"./Material/shader/ComponentData.glsl.js\";import{getVisibility as V,updateVisibilityWithCount as k}from\"../../lib/ComponentUtils.js\";import{assert as G}from\"../../lib/Util.js\";import{VertexAttribute as N}from\"../../lib/VertexAttribute.js\";import{getVerticalOffsetI3S as q}from\"../../lib/verticalOffsetUtils.js\";import{EdgeInputBufferLayout as H}from\"../../lib/edgeRendering/bufferLayouts.js\";import{extractComponentsEdgeLocationsLayout as W}from\"../../lib/edgeRendering/edgeProcessing.js\";import{BufferManager as X}from\"../../lib/TextureBackedBuffer/BufferManager.js\";import{BufferObject as Y}from\"../../../../webgl/BufferObject.js\";import{Usage as z,PrimitiveType as F}from\"../../../../webgl/enums.js\";import{VertexArrayObject as J}from\"../../../../webgl/VertexArrayObject.js\";const K=e.getLogger(\"esri.views.3d.webgl-engine.collections.Component.ComponentObjectCollection\");class Q{constructor(e,t){this._renderManager=e,this._viewingMode=t,this._objects=[new o,new o],this._renderSubmit=new S(this),this._renderManager.register(this._renderSubmit),this._hasObjectAndLayerId=has(\"enable-feature:objectAndLayerId-rendering\"),this._componentBufferManager=new X(e.rctx,2+(this._hasObjectAndLayerId?1:0))}destroy(){G(0===this._objects[M.Hidden].length&&0===this._objects[M.Visible].length,\"ObjectCollection should be empty upon disposal\"),this._componentBufferManager.destroy();const e=this._objects.flatMap((e=>e.toArray()));for(const t of e)t?.destroy()}createObject(e){const t=new O;return t.toMapSpace=e.toMapSpace,t.transform=e.transform,t.obb=y(e.obb),t.components=new w(this._componentBufferManager,p(e.geometry.componentOffsets)),t.renderable=this._createRenderable(e,t.components),t.intersectionGeometry=new x(e.geometry.positionData,t.components),this._objects[t.visible].push(t),t}destroyObject(e){const t=e;this._objects[t.visible].removeUnordered(t),t.destroy(),this._notifyDirty()}setObjectVisibility(e,t){const o=e;t!==o.visible&&(this._objects[o.visible].removeUnordered(o),this._objects[t].push(o),o.visible=t,this._notifyDirty())}preSubmit(e){const t=e.camera.eye;this.visibleObjects.forAll((e=>e.renderable.meta.cameraDepthSquared=a(t,e.obb.center)))}getMaterial(e){return e.renderable.material}updateMaterial(e,t){const o=e.renderable.material;t(o),o.dirty&&this._notifyDirty()}setAllComponentVisibilities(e,t){const o=e;o.components.visibility.reset(t),o.components.visibilityDirty(),this._notifyDirty()}forEachVisibleComponent(e,t){return e.components.visibility.forEachComponent(t)}getComponentCount(e){const t=e,o=t.components.visibility.componentCount();return{visible:o,invisible:t.components.count-o}}setComponentData(e,t){const o=e,n=o.renderable.material,r=o.components,i=r.materialDataBuffer,s=r.materialDataIndices,a=new P,c=i.textureBuffer,m=new Uint8Array(4),l=new Uint32Array(m.buffer);let f=0,p=0,h=0,u=r.verticalOffsets,b=1/0,C=-1/0,v=!1,_=!1,w=0;for(let y=0;y<r.count;y++){t(y,a),f+=+(a.externalColor[3]<1),p+=+(a.externalColorMixMode===g.Replace&&1===a.externalColor[3]),h+=+a.castShadows,d(a.externalColor,a.externalColorMixMode,m),m[2]=254&m[2]|+a.castShadows,c.setData(s[y],0,m[0],m[1],m[2],m[3]),v||=y>0&&w!==l[0],w=l[0],_||=0!==a.elevationOffset,_&&null==u&&(u=new Array(y).fill(0)),null!=u&&(u[y]=a.elevationOffset),b=Math.min(b,a.elevationOffset),C=Math.max(C,a.elevationOffset),T(a.elevationOffset,m),c.setData(s[y],1,m[0],m[1],m[2],m[3]);const e=a.objectAndLayerIdColor;null!=e&&c.setData(s[y],2,e[0],e[1],e[2],e[3]),a.pickable!==V(r.pickability,y)&&(r.pickability=k(r.pickability,r.count,y,a.pickable))}r.verticalOffsets=_?u:null,o.offsetObb=_?j(o.obb,b,C,this._viewingMode,null!=o.offsetObb?o.offsetObb:y(o.obb)):null,v||_||this._hasObjectAndLayerId?(n.componentParameters=new E,n.componentParameters.castShadows=$(h,r.count),n.componentParameters.transparent=$(f,r.count),n.componentParameters.opaqueOverride=$(p,r.count),n.componentParameters.texture=c,c.updateTexture()):(n.componentParameters=new L,n.componentParameters.castShadows=a.castShadows?R.All:R.None,n.componentParameters.externalColor=a.externalColor,n.componentParameters.externalColorMixMode=a.externalColorMixMode),this._notifyDirty()}getComponentAabb(e,t,o,n=!1){e.intersectionGeometry.getComponentAabb(t,o);const r=e,i=r.components.verticalOffsets;if(n||null==i)return o;const s=i[t];if(this._viewingMode===b.Local||0===s)return o[2]+=s,o[5]+=s,o;const a=q(s);return a.localOrigin=r.transform.position,a.applyToAabb(o)}getComponentObb(e){return e.obb}getObjectTransform(e){return e.transform}getComponentPositions(e,t,o){return e.intersectionGeometry.getComponentPositions(t,o)}intersect(e,t,o,n,s,a){const l=e;null!=s&&(s.localOrigin=l.transform.position);const f=r(ee,l.transform.rotationScale);c(te,t,l.transform.position),c(oe,o,l.transform.position),m(te,te,f),m(oe,oe,f);const p=i(ee,f);return l.intersectionGeometry.intersect(te,oe,n,p,s,l.components.verticalOffsets,a)}addEdges(e,t,o,n){const r=e,{indices:i,positions:s}=r.intersectionGeometry,a=r.components.offsets;return t.addComponentObject(e,r.transform,{center:r.obb.center,radius:C(r.obb)},s,i,a,o,n)}async extractEdgeInformation(e,t,o){const n=e,r=n.components.visibility;if(r.allInvisible())return{buffer:W.createBuffer(0),origin:[0,0,0]};const{indices:i,positions:s}=n.intersectionGeometry,a=n.components.offsets,c=H.createBuffer(s.length/3);u(c.position.typedBuffer,s,c.position.typedBufferStride,3),h(c.position,c.position,n.transform.rotationScale),this._setComponentIndices(c.componentIndex,i,a);const m=c.count,f=this._computeVisibilityIndices(i,r,a,m);return{origin:l(n.transform.position),buffer:await t.extractComponentsEdgeLocations({indices:f,indicesLength:f.length,skipDeduplicate:!0,data:c,writerSettings:{reducedPrecision:!1,variants:0}},o)}}_setComponentIndices(e,t,o){let n=0;for(let r=0;r<o.length-1;r++){const i=o[r],s=o[r+1];for(let o=i;o<s;o++){const r=t?t[o]:o;e.set(r,n)}n++}}_computeVisibilityIndices(e,t,o,r){if(e&&t.allVisible())return e;let i=0;t.forEachComponentRange(((e,t)=>(i+=o[t]-o[e],!0)));const s=n(e)?new Array(i):2===e?.BYTES_PER_ELEMENT||r<=65536?new Uint16Array(i):new Uint32Array(i);let a=0;return t.forEachComponentRange(((t,n)=>{const r=o[t],i=o[n];for(let o=r;o<i;o++)s[a++]=e?e[o]:o;return!0})),s}addComponentHighlight(e,t){const o=e.components;null==o.highlightCounts&&(o.highlightCounts=new Uint32Array(o.count+1));0===o.highlightCounts[t]++&&(o.highlightsDirty(),this._notifyDirty()),o.highlightCounts[o.count]++}removeComponentHighlight(e,t){const o=e.components;if(null==o.highlightCounts)return void K.warn(\"Removing non-existing highlight.\");const n=o.highlightCounts[t],r=o.highlightCounts[o.count];if(0!==n){if(n>1)return o.highlightCounts[t]=n-1,void(o.highlightCounts[o.count]=r-1);o.highlightCounts[t]=0,o.highlightsDirty(),this._notifyDirty(),1===r?o.highlightCounts=null:o.highlightCounts[o.count]=r-1}else K.warn(\"Removing non-existing highlight.\")}clearHighlights(e){const t=e.components;null!=t.highlightCounts&&(t.highlightCounts=null,t.highlightsDirty(),this._notifyDirty())}getObjectGPUMemoryUsage(e){return e.renderable.meta.gpuMemoryEstimate}get visibleObjects(){return this._objects[M.Visible]}_createRenderable(e,o){const n=this._renderManager.rctx,r=e.geometry,i=r.vertices.layoutParameters,s=Y.createVertex(n,z.STATIC_DRAW,r.vertices.data),a=t(r.indices,(e=>Y.createIndex(n,z.STATIC_DRAW,e))),c=v(I(i)),m=new Uint16Array(r.vertices.count);for(let t=0;t<o.count;t++){const e=o.offsets[t],n=o.offsets[t+1],i=o.materialDataIndices[t];if(null!=r.indices)for(let t=e;t<n;t++){m[r.indices[t]]=i}else for(let t=e;t<n;t++)m[t]=i}const l=Y.createVertex(n,z.STATIC_DRAW,m.buffer),f=new U(e.transform,e.toMapSpace),p=new J(n,B,{data:c,componentIndices:Z},{data:s,componentIndices:l},a),h=new D(p,F.TRIANGLES,i,null!=a),u={cameraDepthSquared:.5,gpuMemoryEstimate:s.byteLength+l.byteLength+(null!=a?a.byteLength:0)};return new A(f,h,u)}_notifyDirty(){this._renderManager.notifyDirty()}}const Z=v(_().u16(N.COMPONENTINDEX));function $(e,t){return e===t?R.All:0===e?R.None:R.Some}const ee=s(),te=f(),oe=f();export{Q as ComponentObjectCollection};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{a as t}from\"../../../../chunks/AtmosphereCompositing.glsl.js\";import{BlendFactor as s,CompareFunction as n}from\"../../../webgl/enums.js\";import{makePipelineState as m,separateBlendingParams as a,defaultColorWriteParams as l,simpleBlendingParams as h}from\"../../../webgl/renderState.js\";class p extends r{initializeProgram(e){return new o(e.rctx,p.shader.get().build(this.configuration),i)}initializePipeline(){return this.configuration.haze?m({blending:a(s.ONE,s.ZERO,s.ONE_MINUS_SRC_COLOR,s.ONE),depthTest:{func:n.ALWAYS},colorWrite:l}):m({blending:h(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),depthTest:{func:n.ALWAYS},colorWrite:l})}}p.shader=new e(t,(()=>import(\"./AtmosphereCompositing.glsl.js\")));export{p as AtmosphereCompositingTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{parameter as e,ShaderTechniqueConfiguration as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";var a;!function(o){o[o.None=0]=\"None\",o[o.Alpha=1]=\"Alpha\",o[o.PremultipliedAlpha=2]=\"PremultipliedAlpha\",o[o.COUNT=3]=\"COUNT\"}(a||(a={}));class r extends t{constructor(){super(...arguments),this.alphaMode=a.None,this.hasOpacityFactor=!1}}o([e({count:a.COUNT})],r.prototype,\"alphaMode\",void 0),o([e()],r.prototype,\"hasOpacityFactor\",void 0);export{a as AlphaMode,r as CompositingTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{a as t}from\"../../../../chunks/Compositing.glsl.js\";import{AlphaMode as n}from\"./CompositingTechniqueConfiguration.js\";import{BlendFactor as s}from\"../../../webgl/enums.js\";import{makePipelineState as a,simpleBlendingParams as l,defaultColorWriteParams as m,separateBlendingParams as c}from\"../../../webgl/renderState.js\";class p extends r{initializeProgram(e){return new o(e.rctx,p.shader.get().build(this.configuration),i)}initializePipeline(){switch(this.configuration.alphaMode){case n.None:return a({colorWrite:m});case n.Alpha:return a({blending:c(s.SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),colorWrite:m});case n.PremultipliedAlpha:case n.COUNT:return a({blending:l(s.ONE,s.ONE_MINUS_SRC_ALPHA),colorWrite:m})}}}p.shader=new e(t,(()=>import(\"./Compositing.glsl.js\")));export{p as CompositingTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{a as t}from\"../../../../chunks/HUDCompositing.glsl.js\";import{makePipelineState as s}from\"../../../webgl/renderState.js\";class a extends r{initializeProgram(e){return new o(e.rctx,a.shader.get().build(),i)}initializePipeline(){return s({colorWrite:{r:!1,g:!0,b:!1,a:!1}})}}a.shader=new e(t,(()=>import(\"./HUDCompositing.glsl.js\")));export{a as HUDCompositingTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{a as t}from\"../../../../chunks/OITCompositing.glsl.js\";import{BlendFactor as s}from\"../../../webgl/enums.js\";import{makePipelineState as m,separateBlendingParams as l,defaultColorWriteParams as n}from\"../../../webgl/renderState.js\";class a extends r{initializeProgram(e){return new o(e.rctx,a.shader.get().build(),i)}initializePipeline(){return m({blending:l(s.SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),colorWrite:n})}}a.shader=new e(t,(()=>import(\"./OITCompositing.glsl.js\")));export{a as OITCompositingTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{a as t}from\"../../../../chunks/OverlayCompositing.glsl.js\";import{BlendFactor as s}from\"../../../webgl/enums.js\";import{makePipelineState as l,simpleBlendingParams as a,defaultColorWriteParams as m}from\"../../../webgl/renderState.js\";class n extends r{initializeProgram(e){return new o(e.rctx,n.shader.get().build(),i)}initializePipeline(){return l({blending:a(s.ONE,s.ONE_MINUS_SRC_ALPHA),colorWrite:m})}}n.shader=new e(t,(()=>import(\"./OverlayCompositing.glsl.js\")));export{n as OverlayCompositingTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../../core/maybe.js\";import{ChapmanAtmosphereTechniqueConfiguration as s}from\"../../environment/ChapmanAtmosphereTechniqueConfiguration.js\";import{createQuadVAO as t}from\"./glUtil3D.js\";import{A as r}from\"../../../../chunks/AtmosphereCompositing.glsl.js\";import{AtmosphereCompositingTechnique as i}from\"../shaders/AtmosphereCompositingTechnique.js\";import{C as o}from\"../../../../chunks/Compositing.glsl.js\";import{CompositingTechnique as a}from\"../shaders/CompositingTechnique.js\";import{CompositingTechniqueConfiguration as h,AlphaMode as n}from\"../shaders/CompositingTechniqueConfiguration.js\";import{H as m}from\"../../../../chunks/HUDCompositing.glsl.js\";import{HUDCompositingTechnique as c}from\"../shaders/HUDCompositingTechnique.js\";import{O as p}from\"../../../../chunks/OITCompositing.glsl.js\";import{OITCompositingTechnique as u}from\"../shaders/OITCompositingTechnique.js\";import{O as _}from\"../../../../chunks/OverlayCompositing.glsl.js\";import{OverlayCompositingTechnique as l}from\"../shaders/OverlayCompositingTechnique.js\";import{PrimitiveType as g}from\"../../../webgl/enums.js\";import{vertexCount as y}from\"../../../webgl/Util.js\";class d{constructor(e,t){this._rctx=e,this._techniqueRepository=t,this._configuration=new h,this._atmosphereConfiguration=new s,this._passParameters=new o,this._atmosphereParameters=new r,this._oitParameters=new p,this._hudParameters=new m,this._overlayParameters=new _}destroy(){this._vao=e(this._vao)}compositeOIT(e,s,t,r){this._oitParameters.colorTexture=s,this._oitParameters.alphaTexture=t,this._oitParameters.frontFaceTexture=r;const i=this._rctx,o=this._techniqueRepository.acquire(u);i.bindTechnique(o,this._oitParameters,e);const a=this._ensureVAO();i.bindVAO(a),i.drawArrays(g.TRIANGLE_STRIP,0,y(a,\"geometry\")),o.release()}compositeHUD(e,s){this._hudParameters.texture=s;const t=this._rctx,r=this._techniqueRepository.acquire(c);t.bindTechnique(r,this._hudParameters,e);const i=this._ensureVAO();t.bindVAO(i),t.drawArrays(g.TRIANGLE_STRIP,0,y(i,\"geometry\")),r.release()}compositeOverlay(e,s,t,r){this._overlayParameters.texture=s,this._overlayParameters.opacity=t,this._overlayParameters.overlayIndex=r;const i=this._rctx,o=this._techniqueRepository.acquire(l);i.bindTechnique(o,this._overlayParameters,e);const a=this._ensureVAO();i.bindVAO(a),i.drawArrays(g.TRIANGLE_STRIP,0,y(a,\"geometry\")),o.release()}compositeAtmosphere(e,s,t,r,o){const a=this._rctx;this._atmosphereParameters.texture=s,this._atmosphereParameters.depthTexture=t,this._atmosphereParameters.scale=r,this._atmosphereConfiguration.haze=o;const h=this._techniqueRepository.acquire(i,this._atmosphereConfiguration);a.bindTechnique(h,this._atmosphereParameters,e);const n=this._ensureVAO();a.bindVAO(n),a.drawArrays(g.TRIANGLE_STRIP,0,y(n,\"geometry\")),h.release()}composite(e,s,t=n.None,r=1){const i=this._rctx;this._configuration.alphaMode=t,this._configuration.hasOpacityFactor=1!==r,this._passParameters.texture=s,this._passParameters.opacity=r;const o=this._techniqueRepository.acquire(a,this._configuration);i.bindTechnique(o,this._passParameters,e);const h=this._ensureVAO();i.bindVAO(h),i.drawArrays(g.TRIANGLE_STRIP,0,y(h,\"geometry\")),o.release()}_ensureVAO(){return null==this._vao&&(this._vao=t(this._rctx)),this._vao}}export{d as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{unpackFloatRGBA as e}from\"../../../../core/floatRGBA.js\";import t from\"../../../../core/PooledArray.js\";import{m as r,c as i}from\"../../../../chunks/mat4.js\";import{c as n}from\"../../../../chunks/mat4f64.js\";import{m as s}from\"../../../../chunks/vec3.js\";import{l as a}from\"../../../../chunks/vec4.js\";import{c as o}from\"../../../../chunks/vec4f64.js\";import{intersectsSphere as h,create as f,copy as c}from\"../../../../geometry/support/frustum.js\";import{c as l}from\"../../../../chunks/sphere.js\";import{maxScale as _}from\"../../support/mathUtils.js\";import{empty as u,union as d,set as m,DepthRange as g}from\"./depthRange.js\";import p from\"./Octree.js\";import{assert as b}from\"./Util.js\";const w=1e4,v=100,R=500,j=500,C=.1;function A(t,r,i){return e(r,t)*(i[1]-i[0])+i[0]}function B(e,t,r){let i=0;if(!t.some((e=>(i+=e.numGeometries,i>=w))))return S.compute(e,t);const n=u();return r.forAll((t=>{t.visible&&d(n,M(e,t))})),n}function M(e,t){if(!t.visible)return;const r=u(),i=t.getSpatialQueryAccelerator();return null!=i?O(r,e,i):T(r,e,t.objects),r}function O(e,t,r){const i=t.eye,n=t.viewForward,s=t.frustum,a=e=>e.visible,o=r.objectCount;if(o<R)m(E,t.near,Math.min(e.near,t.far)),r.forEachInDepthRange(i,n,p.DepthOrder.FRONT_TO_BACK,E,((r,i)=>{D(e,t,r),E.far=e.near,i.setRange(E)}),s,a),m(E,Math.max(e.far,t.near),t.far),r.forEachInDepthRange(i,n,p.DepthOrder.BACK_TO_FRONT,E,((r,i)=>{D(e,t,r),E.near=e.far,i.setRange(E)}),s,a);else{const i=Math.max(Math.min(o,j),Math.ceil(o*C)),h=r.findClosest(n,p.DepthOrder.FRONT_TO_BACK,s,a,i),f=r.findClosest(n,p.DepthOrder.BACK_TO_FRONT,s,a,i);h&&f&&(x(e,t,h.boundingVolumeWorldSpace.bounds),x(e,t,f.boundingVolumeWorldSpace.bounds))}}function T(e,t,r){K.clear(),r.forAll((e=>{e.visible&&0!==e.geometries.length&&K.add(e)})),K.empty||(K.sort(t),m(E,t.near,Math.min(e.near,t.far)),K.forEachInDepthRange(E,p.DepthOrder.FRONT_TO_BACK,((r,i)=>{i<e.near&&D(e,t,r)})),m(E,Math.max(e.far,t.near),t.far),K.forEachInDepthRange(E,p.DepthOrder.BACK_TO_FRONT,((t,r,i)=>{e.far=Math.max(e.far,i)})))}function D(e,t,i){if(!i.visible)return;if(!h(t.frustum,i.boundingVolumeWorldSpace.bounds))return;const n=i.transformation,s=k;i.geometries.forEach((i=>{r(s,n,i.shaderTransformation);const a=_(s);F(e,t,i.boundingInfo,s,a)}))}function F(e,t,r,i,n){if(null==r)return;s(W,r.center,i);const{eye:a,viewForward:o}=t,f=o[0]*(W[0]-a[0])+o[1]*(W[1]-a[1])+o[2]*(W[2]-a[2]);if(W[3]=r.radius*n,!(f-W[3]>e.near&&f+W[3]<e.far)&&h(t.frustum,W))if(r.radius>v&&r.getChildren())for(const s of r.getChildren())F(e,t,s,i,n);else V.unionDepthRangeWithAABB(e,t.viewProjectionMatrix,i,r.bbMin,r.bbMax)}function x(e,t,r){const i=t.eye,n=t.viewForward,s=(r[0]-i[0])*n[0]+(r[1]-i[1])*n[1]+(r[2]-i[2])*n[2];e.near=Math.min(e.near,s-r[3]),e.far=Math.max(e.far,s+r[3])}class I{constructor(){this._items=new t({allocator:e=>e||{obj:null,distance:0,near:0,far:0},deallocator:e=>(e.obj=null,e.distance=0,e.near=0,e.far=0,e)})}get length(){return this._items.length}get empty(){return 0===this._items.length}clear(){this._items.clear()}add(e){this._items.pushNew().obj=e}sort(e){const t=e.eye,r=e.viewForward;this._items.forAll((e=>{const i=e.obj.boundingVolumeWorldSpace.bounds,n=(i[0]-t[0])*r[0]+(i[1]-t[1])*r[1]+(i[2]-t[2])*r[2];e.distance=n,e.near=n-i[3],e.far=n+i[3]})),this._items.sort(((e,t)=>e.distance-t.distance))}forEachInDepthRange(e,t,r){if(t===p.DepthOrder.FRONT_TO_BACK)for(let i=0;i<this._items.length;++i){const t=this._items.data[i];t.far<e.near||t.near>e.far||r(t.obj,t.near,t.far)}else for(let i=this._items.length-1;i>=0;--i){const t=this._items.data[i];t.far<e.near||t.near>e.far||r(t.obj,t.near,t.far)}}}class P{constructor(){this._view=n(),this._viewProj=n(),this._frustum=f(),this._geometries=new Array,this._near=[],this._far=[],this._nearCandidates=[],this._farCandidates=[],this._looseRange={near:0,far:0}}compute(e,t){this._reset(),i(this._view,e.viewMatrix),r(this._viewProj,e.projectionMatrix,this._view),c(this._frustum,e.frustum);const n=this._view,s=n[2],a=n[6],o=n[10],h=n[14];t.forAll((e=>e.forEachGeometry((e=>{if(!e.visible||!e.castShadow)return;const t=e.boundingSphere,r=s*t[0]+a*t[1]+o*t[2]+h,i=r-t[3],n=r+t[3];this._geometries.push(e),this._near.push(-n),this._far.push(-i)}))));const f=new g;if(0===this._geometries.length)return f;for(let r=0;r<this._geometries.length;++r)this._near[r]>f.far&&(f.far=this._near[r]),this._near[r]>2&&this._far[r]<f.near&&(f.near=this._far[r]);const l=this._looseRange;l.near=Math.max(.5*f.near,2),l.far=2*f.far;let _=0,u=0;for(let r=0;r<this._geometries.length;++r)this._near[r]<f.near&&(this._near[r]>=l.near?f.near=this._near[r]:this._nearCandidates[_++]=r),this._far[r]>f.far&&(this._far[r]<=l.far?f.far=this._far[r]:this._farCandidates[u++]=r);if(0===this._nearCandidates.length&&0===this._farCandidates.length)return f;this._nearCandidates.sort(((e,t)=>this._near[e]<this._near[t]?-1:this._near[e]>this._near[t]?1:0)),this._farCandidates.sort(((e,t)=>this._far[e]<this._far[t]?1:this._far[e]>this._far[t]?-1:0));for(let r=0;r<this._nearCandidates.length;++r){const e=this._nearCandidates[r];if(this._near[e]<f.near){const t=this._geometries[e],r=t.boundingInfo;this._includeNearBoundingInfoRec(r,t.shaderTransformation,f)}}for(let r=0;r<this._farCandidates.length;++r){const e=this._farCandidates[r];if(this._far[e]>f.far){const t=this._geometries[e],r=t.boundingInfo;this._includeFarBoundingInfoRec(r,t.shaderTransformation,f)}}return this._reset(),f}_reset(){this._geometries.length=0,this._near.length=0,this._far.length=0,this._nearCandidates.length=0,this._farCandidates.length=0}_includeNearBoundingInfoRec(e,t,r){if(null==e)return;const i=e.center;s(W,i,t);const n=_(t),a=W[0],o=W[1],h=W[2],f=e.radius*n,c=this._frustum;if(c[0][0]*a+c[0][1]*o+c[0][2]*h+c[0][3]>f||c[1][0]*a+c[1][1]*o+c[1][2]*h+c[1][3]>f||c[2][0]*a+c[2][1]*o+c[2][2]*h+c[2][3]>f||c[3][0]*a+c[3][1]*o+c[3][2]*h+c[3][3]>f)return;const l=this._view[2]*a+this._view[6]*o+this._view[10]*h+this._view[14],u=l+f;if(!(-(l-f)<2||-u>=r.near))if(-u>this._looseRange.near)r.near=-u;else{if(f>v){const i=e.getChildren();if(void 0!==i){for(const e of i)this._includeNearBoundingInfoRec(e,t,r);return}}V.unionDepthRangeWithAABB(r,this._viewProj,t,e.bbMin,e.bbMax)}}_includeFarBoundingInfoRec(e,t,r){if(null==e)return;let i=e.radius;const n=e.center;s(W,n,t);const a=_(t),o=W[0],h=W[1],f=W[2];i*=a;const c=this._frustum;if(c[0][0]*o+c[0][1]*h+c[0][2]*f+c[0][3]>i||c[1][0]*o+c[1][1]*h+c[1][2]*f+c[1][3]>i||c[2][0]*o+c[2][1]*h+c[2][2]*f+c[2][3]>i||c[3][0]*o+c[3][1]*h+c[3][2]*f+c[3][3]>i)return;const l=this._view[2]*o+this._view[6]*h+this._view[10]*f+this._view[14]-i;if(!(-l<=r.far))if(-l<this._looseRange.far)r.far=-l;else{if(i>v){const i=e.getChildren();if(void 0!==i){for(const e of i)this._includeFarBoundingInfoRec(e,t,r);return}}V.unionDepthRangeWithAABB(r,this._viewProj,t,e.bbMin,e.bbMax)}}}class y{constructor(){this._modelViewProj=n(),this._clipPosition=[o(),o(),o(),o(),o(),o(),o(),o()]}unionDepthRangeWithAABB(e,t,i,n,s){const a=this._modelViewProj;r(a,t,i);let o=!1;for(let r=0;r<8;++r){const e=this._clipPosition[r],t=0===r||3===r||4===r||7===r?n[0]:s[0],i=0===r||1===r||4===r||5===r?n[1]:s[1],o=r<4?n[2]:s[2];e[0]=a[0]*t+a[4]*i+a[8]*o+a[12],e[1]=a[1]*t+a[5]*i+a[9]*o+a[13],e[2]=a[2]*t+a[6]*i+a[10]*o+a[14],e[3]=a[3]*t+a[7]*i+a[11]*o+a[15]}for(let r=0;r<12;++r){const t=this._clipPosition[N[r][0]],i=this._clipPosition[N[r][1]],n=this._clipPosition[N[r][2]],s=this._clipTriangle(t,i,n);let a=!0;for(let e=0;e<s.length;++e){if(s[e][3]>=2){a=!1;break}}if(!a){o=!0;for(let t=0;t<s.length;++t){const r=s[t][3];Number.isFinite(r)&&(e.near=Math.min(r,e.near),e.far=Math.max(r,e.far))}}}return o}_inside(e,t){return 0===t?e[0]>=-e[3]:1===t?e[1]>=-e[3]:2===t?e[0]<=e[3]:3===t?e[1]<=e[3]:void b(!1)}_intersect(e,t,r){let i=0;return 0===r?i=(-e[3]-e[0])/(t[0]-e[0]+t[3]-e[3]):1===r?i=(-e[3]-e[1])/(t[1]-e[1]+t[3]-e[3]):2===r?i=(e[3]-e[0])/(t[0]-e[0]-t[3]+e[3]):3===r&&(i=(e[3]-e[1])/(t[1]-e[1]-t[3]+e[3])),a(o(),e,t,i)}_clipTriangle(e,t,r){let i=[e,t,r];for(let n=0;n<4;++n){const e=i;i=[];for(let t=0;t<e.length;++t){const r=e[t],s=e[(t+1)%e.length];this._inside(s,n)?(this._inside(r,n)||i.push(this._intersect(r,s,n)),i.push(s)):this._inside(r,n)&&i.push(this._intersect(r,s,n))}}return i}}const N=[[0,1,3],[2,3,1],[1,5,2],[6,2,5],[5,4,6],[7,6,4],[4,0,7],[3,7,0],[3,2,7],[6,7,2],[4,5,0],[1,0,5]],W=l(),k=n(),E=u(),K=new I,S=new P,V=new y;export{P as DepthRangeFromRenderGeometries,M as depthRangeFromLayer,B as depthRangeFromScene,A as textureToDepth};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{screenPointObjectToArray as e,createScreenPointArray as r,createRenderScreenPointArray as t}from\"../../../../core/screenUtils.js\";import{s as o}from\"../../../../chunks/vec4.js\";import{c as a}from\"../../../../chunks/vec4f64.js\";import{BooleanPassUniform as n}from\"../core/shaderModules/BooleanPassUniform.js\";import{Float4PassUniform as s}from\"../core/shaderModules/Float4PassUniform.js\";import{NoParameters as i,glsl as u}from\"../core/shaderModules/interfaces.js\";import{ShaderBuilder as m}from\"../core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as d}from\"../core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as l}from\"../lib/VertexAttribute.js\";class c{}class f extends i{constructor(){super(...arguments),this.textures=new c}}function v(){const e=new m;return e.attributes.add(l.POSITION,\"vec2\"),e.vertex.uniforms.add(new s(\"drawPosition\",((e,r)=>x(e,r)))),e.varyings.add(\"vUV\",\"vec2\"),e.vertex.code.add(u`void main(void) {\nvUV = position;\ngl_Position = vec4(drawPosition.xy + vec2(position - 0.5) * drawPosition.zw, 0.0, 1.0);\n}`),e.fragment.uniforms.add(new d(\"textureInput\",(e=>e.textures.input))),e.fragment.uniforms.add(new d(\"textureMask\",(e=>e.textures.mask))),e.fragment.uniforms.add(new d(\"textureOverlay\",(e=>e.textures.overlay))),e.fragment.uniforms.add(new n(\"maskEnabled\",(e=>e.magnifier.maskEnabled))),e.fragment.uniforms.add(new n(\"overlayEnabled\",(e=>e.magnifier.overlayEnabled))),e.fragment.code.add(u`const float barrelFactor = 1.1;\nvec2 barrel(vec2 uv) {\nvec2 uvn = uv * 2.0 - 1.0;\nif (uvn.x == 0.0 && uvn.y == 0.0) {\nreturn vec2(0.5, 0.5);\n}\nfloat theta = atan(uvn.y, uvn.x);\nfloat r = pow(length(uvn), barrelFactor);\nreturn r * vec2(cos(theta), sin(theta)) * 0.5 + 0.5;\n}\nvoid main() {\nfloat mask = maskEnabled ? texture(textureMask, vUV).a : 1.0;\nvec4 inputColor = texture(textureInput, barrel(vUV)) * mask;\nvec4 overlayColor = overlayEnabled ? texture(textureOverlay, vUV) : vec4(0);\nfragColor = overlayColor + (1.0 - overlayColor.a) * inputColor;\n}`),e}function x(r,t){const a=t.camera.pixelRatio,n=r.magnifier.offset.x*a,s=r.magnifier.offset.y*a;e(r.magnifier.position,p);const i=t.camera.screenToRender(p,g),u=Math.ceil(a*r.magnifier.size),m=t.camera.fullWidth,d=t.camera.fullHeight;return o(h,(i[0]+n)/m*2-1,(i[1]-s)/d*2-1,u/m*2,u/d*2)}const p=r(),g=t(),h=a();export{f as MagnifierPassParameters,c as TextureResources,v as build};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import s from\"../../../../core/Accessor.js\";import{createTask as r}from\"../../../../core/asyncUtils.js\";import t from\"../../../../core/Evented.js\";import i from\"../../../../core/Handles.js\";import{clamp as a}from\"../../../../core/mathUtils.js\";import{applySome as o}from\"../../../../core/maybe.js\";import{watch as n}from\"../../../../core/reactiveUtils.js\";import{createScreenPointArray as l,createRenderScreenPointArray as u,screenPointObjectToArray as m}from\"../../../../core/screenUtils.js\";import{isSVG as h}from\"../../../../core/urlUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{requestImage as _}from\"../../../../support/requestImageUtils.js\";import{Pos2 as g}from\"./DefaultVertexBufferLayouts.js\";import{createQuadVAO as d}from\"./glUtil3D.js\";import{Program as f}from\"./Program.js\";import{VertexAttribute as T}from\"./VertexAttribute.js\";import{MagnifierPassParameters as v,build as k}from\"../shaders/Magnifier.glsl.js\";import{loadMagnifierResources as y}from\"../../../magnifier/resources.js\";import{PrimitiveType as S,BlendFactor as j,PixelFormat as x,TextureWrapMode as P}from\"../../../webgl/enums.js\";import{makePipelineState as L,simpleBlendingParams as R,defaultColorWriteParams as b}from\"../../../webgl/renderState.js\";import{Texture as w}from\"../../../webgl/Texture.js\";import{TextureDescriptor as A}from\"../../../webgl/TextureDescriptor.js\";let M=class extends s{constructor(){super(...arguments),this._handles=new i,this._magnifier=null,this._imageSources=null,this._imageLoadTask=null,this._resources=null,this._passParameters=new v,this.events=new t,this.attributeLocations=new Map([[T.POSITION,0]]),this._tmpScreenPoint=l(),this._tmpRenderPoint=u()}get updating(){return null==this._imageSources&&null!=this._imageLoadTask&&!this._imageLoadTask.task.finished}get magnifier(){return this._magnifier}set magnifier(e){if(e===this._magnifier)return;this._handles.removeAll(),this._magnifier=e;const s=()=>{this._updateResourceLoading(),this.events.emit(\"request-render\")};null!=this._magnifier&&this._handles.add(n((()=>o(this._magnifier,(e=>e.version))),s)),s()}get enabled(){return null!=this._validMagnifier}get _validMagnifier(){return null!=this._magnifier&&this._magnifier.visible&&null!=this._magnifier.position&&this._magnifier.size>0?this._magnifier:null}get _factor(){return null!=this._magnifier&&this._magnifier.factor||1}destroy(){this._magnifier=null,this._handles.destroy(),null!=this._imageLoadTask&&(this._imageLoadTask.task.abort(),this._imageLoadTask=null),this._disposeResources()}render(e,s){const r=this._validMagnifier;if(null==r)return;const t=s.camera.pixelRatio,i=Math.ceil(t*r.size);if(this._updateResources(e,i),null==this._resources)return;const o=this._passParameters.textures,n=Math.ceil(1/this._factor*i);o.input.resize(n,n),m(r.position,this._tmpScreenPoint);const l=s.camera.screenToRender(this._tmpScreenPoint,this._tmpRenderPoint),u=s.camera.fullWidth,h=s.camera.fullHeight,p=.5*n,c=.5*n;l[0]=a(l[0],p,u-p-1),l[1]=a(l[1],c,h-c-1);const _=Math.floor(l[0]-p),g=Math.floor(l[1]-c),d=this._resources.program;d.bindTexture(\"textureInput\",o.input),e.gl.copyTexImage2D(o.input.descriptor.target,0,o.input.descriptor.pixelFormat,_,g,n,n,0),this._passParameters.magnifier=r,e.useProgram(d),d.bindPass(this._passParameters,s),e.bindVAO(this._resources.vao),e.setPipelineState(this._resources.pipelineState),e.drawArrays(S.TRIANGLE_STRIP,0,4)}_updateResourceLoading(){const e=this._validMagnifier;if(null==e)return;const s=e.maskUrl,t=e.overlayUrl;null==this._imageLoadTask||this._imageLoadTask.maskUrl===s&&this._imageLoadTask.overlayUrl===t||(this._imageLoadTask.task.abort(),this._imageLoadTask=null,this._imageSources=null),null==this._imageSources&&null==this._imageLoadTask&&(this._imageLoadTask={maskUrl:s,overlayUrl:t,task:r((async e=>{const r=null==s||null==t?y(e):null,i=null!=s?_(s,{signal:e}):r.then((e=>e.mask)),a=null!=t?_(t,{signal:e}):r.then((e=>e.overlay));this._imageSources={mask:await i,overlay:await a},this._disposeResources(),this.events.emit(\"request-render\")}))},this._imageLoadTask.task.promise.then((()=>this.notifyChange(\"updating\")),(()=>this.notifyChange(\"updating\"))))}_updateResources(e,s){if(!this.enabled)return void this._disposeResources();if(null!=this._resources){if(this._passParameters.textures.size!==s){const r=this._createTextureResources(e,s);if(null==r)return void this._disposeResources();this._disposeTextureResources(this._passParameters.textures),this._passParameters.textures=r}return}const r=this._createTextureResources(e,s);null!=r&&(this._resources={program:this._createProgram(e),vao:d(e,g,this.attributeLocations,0,1),pipelineState:L({blending:R(j.ONE,j.ONE_MINUS_SRC_ALPHA),depthTest:null,depthWrite:null,colorWrite:b})},this._passParameters.textures=r)}_disposeResources(){null!=this._resources&&(this._disposeTextureResources(this._passParameters.textures),this._resources.program.dispose(),this._resources.vao.dispose(),this._resources=null)}_disposeTextureResources(e){e.mask.dispose(),e.overlay.dispose(),e.input.dispose()}_createTextureResources(e,s){if(null==this._imageSources)return null;this._imageSources.overlay.width=s,this._imageSources.overlay.height=s,this._imageSources.mask.width=s,this._imageSources.mask.height=s;const r=new A;r.internalFormat=x.RGBA,r.wrapMode=P.CLAMP_TO_EDGE,r.flipped=!0,r.preMultiplyAlpha=!h(this._imageSources.overlay.src)||!e.driverTest.svgPremultipliesAlpha.result;const t=new w(e,r,this._imageSources.overlay);r.pixelFormat=r.internalFormat=x.ALPHA,r.preMultiplyAlpha=!1;const i=new w(e,r,this._imageSources.mask);r.pixelFormat=r.internalFormat=x.RGBA,r.flipped=!1;return{input:new w(e,r),mask:i,overlay:t,size:s}}_createProgram(e){return new f(e,k(),this.attributeLocations)}};e([p()],M.prototype,\"_imageSources\",void 0),e([p()],M.prototype,\"_imageLoadTask\",void 0),e([p({readOnly:!0})],M.prototype,\"updating\",null),M=e([c(\"esri/views/3d/webgl-engine/lib/MagnifierHelper\")],M);export{M as MagnifierHelper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{f as r}from\"../../../../chunks/vec4f64.js\";import{BufferViewVec4u8 as t}from\"../../../../geometry/support/buffer/BufferView.js\";class o{constructor(){this.declaredClass=\"esri.views.3d.webgl-engine.lib.ObjectAndLayerIdRenderHelper\",this.colorZero=new t(new ArrayBuffer(4)),this._uidToRenderColor=new Map,this._colorToUID=new Map,this._layerUidToGraphicsUidToObjectId=new Map,this._layerUidToId=new Map,this._layerUidToPopupEnabled=new Map}setUidToObjectAndLayerId(e,r,t,o,i,d=null,a=null,n=null){if(!(e&&r&&t&&o))return;if(this._layerUidToId.set(o,t),this._layerUidToPopupEnabled.set(o,i),!i)return;let s=this._layerUidToGraphicsUidToObjectId.get(o);s||(s=new Map,this._layerUidToGraphicsUidToObjectId.set(o,s)),s.set(r,{objectId:e,attributeNodeId:d,attributeIndex:a,subLayerId:n})}getObjectAndLayerIdColor(e){const t=this.getObjectAndLayerIdColorArray(e);return r(t.get(0,1),t.get(0,2),t.get(0,3),255)}getObjectAndLayerIdColorArray(r){if(!r.layerUid||!r.graphicUid)return this.colorZero;const o=this._layerUidToPopupEnabled.get(r.layerUid);if(void 0===o)return e.getLogger(this).warn(\"popupEnabled is undefined for layerUid \"+r.layerUid),this.colorZero;if(!1===o)return this.colorZero;let i=this._uidToRenderColor.get(r.layerUid);i||(i=new Map,this._uidToRenderColor.set(r.layerUid,i));let d=i.get(r.graphicUid);if(!d){for(;!d;){const e=Math.floor(16777214*Math.random())+1;this._colorToUID.has(e)||(d=e)}if(d>16777215)throw new Error(\"Object ID Overflow\");i.set(r.graphicUid,d),this._colorToUID.set(d,r)}const a=new ArrayBuffer(4);new DataView(a).setUint32(0,d,!1);return new t(a)}getColorToObjectAndLayerIdMapping(){const r=new Map;for(const[t,o]of this._colorToUID.entries()){const i=this._layerUidToGraphicsUidToObjectId.get(o.layerUid);let d=null;i?(d=i.get(o.graphicUid),d||e.getLogger(this).warn(\"getColorMapping: no entry found for graphicsId \"+o.graphicUid)):e.getLogger(this).warn(\"getColorMapping: no entry found for layerUid \"+o.layerUid);const a=this._layerUidToId.get(o.layerUid);a||e.getLogger(this).warn(\"no layerId found for uid \"+o.layerUid),d&&a&&r.set(t,d.attributeNodeId?{type:\"object-and-layer-and-i3s-id\",oid:d.objectId,lid:a,attrId:d.attributeNodeId,attrIdx:d.attributeIndex,subLayerId:d.subLayerId}:{type:\"object-and-layer-id\",oid:d.objectId,lid:a})}return r}}export{o as ObjectAndLayerIdRenderHelper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/PooledArray.js\";import{TransparencyPassType as t}from\"../../lib/TransparencyPassType.js\";import{DataType as r}from\"../../../../webgl/enums.js\";var i;!function(e){e[e.FrontToBack=0]=\"FrontToBack\",e[e.BackToFront=1]=\"BackToFront\"}(i||(i={}));class a{constructor(t,r,a=i.FrontToBack){this._rctx=t,this._techniqueRepository=r,this._sorting=a,this._draws=new e({initialSize:32,allocator:e=>e||{material:null,geometry:null,geometryRanges:null,bindDrawParams:null,depthSquaredHint:0,indexType:0}}),this._previouslyBoundDraw=new Map}submitDraw(e,t,r,i){const a=this._draws.pushNew();a.geometry=t,a.geometryRanges=r,a.material=e,a.depthSquaredHint=i,a.indexType=(t.indexed?t.vao.indexBuffer.indexType:null)??0}prepare(e,t){return this._draws.map((r=>r.material.prepareTechnique(this._techniqueRepository,e,t,r.geometry.parameters)))}dispatch(e,r,i){const a=this._rctx;this._previouslyBoundDraw.clear();let s=null;const o=this._draws.length;for(let p=0;p<o;p++){const o=i[p];o===s&&o.configuration.transparencyPassType===t.NONE||(a.bindTechnique(o,e,r),s=o);const l=this._draws.data[p],d=l.geometry;a.bindVAO(d.vao),this._previouslyBoundDraw.get(o)!==l.material&&(o.program.bindDraw(l.material,r,e),this._previouslyBoundDraw.set(o,l.material));const c=l.geometryRanges,u=c.length;if(0!==l.indexType){const e=n.get(l.indexType);for(let t=0;t<u;t+=2){const r=c[t],i=c[t+1];a.drawElements(d.primitiveType,i,l.indexType,r*e)}}else for(let e=0;e<u;e+=2){const t=c[e],r=c[e+1];a.drawArrays(d.primitiveType,t,r)}}}prepareSubmit(){this._draws.clear()}finishSubmit(){const e=this._sorting===i.FrontToBack?1:-1;this._draws.sort(((t,r)=>{const i=e*(t.depthSquaredHint-r.depthSquaredHint);return 0!==i?i:t.geometry.vao.byteSize-r.geometry.vao.byteSize}))}get count(){return this._draws.length}}const n=new Map;n.set(r.UNSIGNED_BYTE,1),n.set(r.UNSIGNED_SHORT,2),n.set(r.UNSIGNED_INT,4);export{a as RenderPass,i as RenderPassSorting};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as s,t as e,e as t}from\"../../../../../chunks/mat3.js\";import{c as a}from\"../../../../../chunks/mat3f64.js\";import{c as r}from\"../../../../../chunks/mat4.js\";import{s as i,c as h}from\"../../../../../chunks/vec3.js\";import{c as o}from\"../../../../../chunks/vec3f64.js\";import{MaterialPassParameters as n,ShadowMapPassParameters as m,HighlightPassParameters as l,RenderPassIdentifier as c}from\"./AllRenderPasses.js\";import{RenderPass as p,RenderPassSorting as u}from\"./RenderPass.js\";import{ShaderOutput as d}from\"../shaderLibrary/ShaderOutput.js\";import{TwoVectorPosition as _}from\"../util/TwoVectorPosition.js\";import{union as g}from\"../../lib/depthRange.js\";import{RenderSlot as P}from\"../../lib/RenderSlot.js\";class w{constructor(s,e){this.rctx=s,this.shaderTechniqueRepository=e,this.canRender=!0,this._materialPassParameters=new n,this._shadowPassParameters=new m,this._highlightPassParameters=new l,this._systems=new Set,this._passes={materialOpaque:new p(s,e),materialTransparent:new p(s,e,u.BackToFront),materialIntegratedMesh:new p(s,e),shadowMap:new p(s,e),highlight:new p(s,e),highlightIntegratedMesh:new p(s,e),highlightShadowMap:new p(s,e),defaultShadowMap:new p(s,e)}}destroy(){this._context=null,this._systems.clear()}register(s){this._systems.add(s)}prepareRender(s){if(0!==this._systems.size){for(const s of Object.values(this._passes))s.prepareSubmit();this._systems.forEach((e=>e.submit(this._passes,s.bindParameters)));for(const s of Object.values(this._passes))s.finishSubmit();this.shaderTechniqueRepository.frameUpdate()}}prepareTechniques(s){return 0===this._systems.size?null:(this._configure(s),this._materialPassParameters.output=s.output,this._invoke(s,((e,t)=>e.prepare(t,s.bindParameters))))}render(s,e){this._invoke(s,((t,a)=>t.dispatch(a,s.bindParameters,e)))}_invoke(s,e){switch(s.bindParameters.slot){case P.OPAQUE_MATERIAL:switch(s.output){case d.Color:case d.Depth:case d.Normal:case d.ObjectAndLayerIdColor:return e(this._passes.materialOpaque,this._materialPassParameters);case d.Highlight:return e(this._passes.highlight,this._highlightPassParameters);case d.Shadow:return e(this._passes.shadowMap,this._shadowPassParameters);case d.ShadowHighlight:return e(this._passes.highlightShadowMap,this._shadowPassParameters);case d.ShadowExcludeHighlight:return e(this._passes.defaultShadowMap,this._shadowPassParameters)}break;case P.TRANSPARENT_MATERIAL:switch(s.output){case d.Color:case d.Alpha:case d.Depth:case d.Normal:case d.ObjectAndLayerIdColor:return e(this._passes.materialTransparent,this._materialPassParameters)}break;case P.INTEGRATED_MESH:switch(s.output){case d.Color:case d.Depth:case d.Normal:case d.ObjectAndLayerIdColor:return e(this._passes.materialIntegratedMesh,this._materialPassParameters);case d.Highlight:return e(this._passes.highlightIntegratedMesh,this._highlightPassParameters)}}return null}notifyDirty(){this._context.requestRender()}slots(){return[P.OPAQUE_MATERIAL,P.TRANSPARENT_MATERIAL,P.INTEGRATED_MESH]}initializeRenderContext(s){this._context=s}uninitializeRenderContext(){}queryDepthRange(s){const e={near:1/0,far:-1/0};return this._systems.forEach((t=>{const a=t.queryShadowCasterDepthRange(s);null!=a&&g(e,a,e)})),e}_configure(s){const e=s.output===d.Shadow||s.output===d.ShadowHighlight||s.output===d.ShadowExcludeHighlight?this._shadowPassParameters:s.output===d.Highlight?this._highlightPassParameters:this._materialPassParameters;this._updateParameters(s,e)}_updateParameters(a,o){const n=a.bindParameters.camera,m=n.viewInverseTransposeMatrix;i(f,m[3],m[7],m[11]),T.set(f),h(o.transformWorldFromViewTH,T.high),h(o.transformWorldFromViewTL,T.low),h(o.slicePlaneLocalOrigin,f),s(o.transformViewFromCameraRelativeRS,n.viewMatrix),r(o.transformProjFromView,n.projectionMatrix),o.identifier===c.Material&&(this._materialPassParameters.transparent=a.bindParameters.slot===P.TRANSPARENT_MATERIAL,this._materialPassParameters.integratedMesh=a.bindParameters.slot===P.INTEGRATED_MESH,e(R,o.transformViewFromCameraRelativeRS),t(o.transformNormalViewFromGlobal,R))}get needsHighlight(){return this._passes.highlight.count>0||this._passes.highlightIntegratedMesh.count>0}get needsTransparentPass(){return this._passes.materialTransparent.count>0}}const f=o(),R=a(),T=new _;export{w as RenderPassManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{Milliseconds as i}from\"../../../../core/time.js\";class e{constructor(){this._step=m,this._dilation=1,this._firstIdleTime=i(0)}frame(e,_){_?0===this._firstIdleTime&&(this._firstIdleTime=i(performance.now())):this._firstIdleTime=i(0);if(!has(\"disable-feature:high-quality-idle\")){const t=_?performance.now()-this._firstIdleTime:0;if(t>=r+o)return this._step=i(1/0),void(this._dilation=1);this._dilation=t>=r?h:1}else this._dilation=1;const n=t(e/s,m,a);this._step===1/0?this._step=i(n):this._step=i(this._step*l+n*(1-l))}get value(){return this._step}get timeDilation(){return this._dilation}clear(){this._step=this._firstIdleTime=i(0)}}const s=.5,r=i(12e4),o=i(1e4),h=10,l=.9,_=30,m=i(1e3/1),a=i(1e3/_);export{e as AnimationTimeStep};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../lib/Program.js\";import{H as o}from\"../../../../chunks/HighlightApply.glsl.js\";import{BlendFactor as l}from\"../../../webgl/enums.js\";import{makePipelineState as s,separateBlendingParams as m,defaultColorWriteParams as a}from\"../../../webgl/renderState.js\";class n extends r{initializeProgram(e){return new t(e.rctx,n.shader.get().build(),i)}initializePipeline(){return s({blending:m(l.SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),colorWrite:a})}}n.shader=new e(o,(()=>import(\"./HighlightApply.glsl.js\")));export{n as HighlightApplyTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as e}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../lib/Program.js\";import{a as o}from\"../../../../chunks/HighlightBlur.glsl.js\";import{makePipelineState as l,defaultColorWriteParams as s}from\"../../../webgl/renderState.js\";class a extends e{initializeProgram(r){return new t(r.rctx,a.shader.get().build(),i)}initializePipeline(){return l({colorWrite:s})}}a.shader=new r(o,(()=>import(\"./HighlightBlur.glsl.js\")));export{a as HighlightBlurTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{a as t}from\"../../../../chunks/HighlightDownsample.glsl.js\";import{makePipelineState as l,defaultColorWriteParams as s}from\"../../../webgl/renderState.js\";class a extends r{initializeProgram(e){return new o(e.rctx,a.shader.get().build(),i)}initializePipeline(){return l({colorWrite:s})}}a.shader=new e(t,(()=>import(\"./HighlightDownsample.glsl.js\")));export{a as HighlightDownsampleTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as s}from\"../../../../chunks/vec4f32.js\";import{f as o}from\"../../../../chunks/vec4f64.js\";import{NoParameters as t}from\"../core/shaderModules/interfaces.js\";class c extends t{constructor(){super(...arguments),this.color=s(1,0,1,1),this.haloColor=s(1,0,1,1),this.haloOpacity=1,this.haloOpacityOccluded=.25,this.fillOpacity=.2,this.fillOpacityOccluded=.05,this.shadowColor=o(1,0,1,1),this.shadowOpacity=.15,this.occludedShadowOpacity=.075}}export{c as HighlightPassParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e,disposeMaybe as r}from\"../../../../core/maybe.js\";import{s as t}from\"../../../../chunks/vec2.js\";import{c as i}from\"../../../../chunks/vec4.js\";import{c as s}from\"../../../../chunks/vec4f64.js\";import{Default3D as a}from\"./DefaultVertexAttributeLocations.js\";import{Pos2Tex as o}from\"./DefaultVertexBufferLayouts.js\";import{createQuadVAO as h}from\"./glUtil3D.js\";import{VertexArrayObject as l}from\"./VertexArrayObject.js\";import{HighlightApplyTechnique as p}from\"../shaders/HighlightApplyTechnique.js\";import{H as u}from\"../../../../chunks/HighlightBlur.glsl.js\";import{HighlightBlurTechnique as m}from\"../shaders/HighlightBlurTechnique.js\";import{H as c}from\"../../../../chunks/HighlightDownsample.glsl.js\";import{HighlightDownsampleTechnique as _}from\"../shaders/HighlightDownsampleTechnique.js\";import{HighlightPassParameters as n}from\"../shaders/HighlightPassParameters.js\";import{BufferObject as g}from\"../../../webgl/BufferObject.js\";import{TextureWrapMode as b,ClearBufferBit as d,PixelFormat as w,PixelType as v,Usage as f,PrimitiveType as T}from\"../../../webgl/enums.js\";import{FramebufferObject as M}from\"../../../webgl/FramebufferObject.js\";import{TextureDescriptor as q}from\"../../../webgl/TextureDescriptor.js\";import{vertexCount as x}from\"../../../webgl/Util.js\";const P=32;class F{constructor(e,r){this._techniqueRep=e,this._rctx=r,this._viewportToRestore=s(),this._passParameters=new n,this._downsampleDrawParameters=new c,this._blurDrawParameters=new u,this._grid={coverageMipmap:null,vao:null,verticalCellCount:0,horizontalCellCount:0,cellPixelSize:0,mipmapLevels:0,viewportWidth:0,viewportHeight:0}}_assertResources(){if(this._quadVAO)return;this._quadVAO=h(this._rctx);const e=new q;e.wrapMode=b.CLAMP_TO_EDGE,this._blur0Fbo=new M(this._rctx,e),this._blur1Fbo=new M(this._rctx,e),this._blurTechnique=this._techniqueRep.acquire(m),this._downsampleTechnique=this._techniqueRep.acquire(_),this._applyTechnique=this._techniqueRep.acquire(p)}dispose(){if(this._blurTechnique=e(this._blurTechnique),this._downsampleTechnique=e(this._downsampleTechnique),this._applyTechnique=e(this._applyTechnique),this._grid.coverageMipmap)for(let e=1;e<this._grid.coverageMipmap.length;e++)this._grid.coverageMipmap[e].dispose();this._grid.vao&&this._grid.vao.dispose(),this._quadVAO&&(this._quadVAO.dispose(),this._quadVAO=null),this._blur0Fbo=r(this._blur0Fbo),this._blur1Fbo=r(this._blur1Fbo)}setDefaultOptions(e){this._passParameters={...new n,...e}}render(e,r,s){this._passParameters.highlightColorTexture=r.colorTexture,this._assertResources();const a=e.camera;i(this._viewportToRestore,a.fullViewport);const o=a.fullWidth,h=a.fullHeight,l=a.pixelRatio,p=Math.ceil(o/l),u=Math.ceil(h/l);this._blur0Fbo.resize(p,u),this._blur1Fbo.resize(p,u);const m=this._rctx;m.bindVAO(this._quadVAO);let c=null;this._gridUpdateResources(r,P),this._gridComputeMipmap(e),this._passParameters.coverageTexture=this._grid.coverageMipmap[this._grid.mipmapLevels].colorTexture,c=this._grid.vao;const _=m.bindTechnique(this._blurTechnique,this._passParameters,e);m.bindVAO(c),m.bindFramebuffer(this._blur0Fbo),m.setViewport(0,0,p,u),m.setClearColor(0,0,0,0),m.clear(d.COLOR_BUFFER_BIT),this._blurDrawParameters.blurInputTexture=r.colorTexture,t(this._blurDrawParameters.blurSize,1/p,0),_.bindDraw(this._blurDrawParameters,e,this._passParameters),m.drawArrays(this._blurTechnique.primitiveType,0,x(c,\"geometry\")),m.bindFramebuffer(this._blur1Fbo),m.clear(d.COLOR_BUFFER_BIT),this._blurDrawParameters.blurInputTexture=this._blur0Fbo.colorTexture,t(this._blurDrawParameters.blurSize,0,1/u),_.bindDraw(this._blurDrawParameters,e,this._passParameters),m.drawArrays(this._blurTechnique.primitiveType,0,x(c,\"geometry\")),m.bindFramebuffer(s),m.setViewport(this._viewportToRestore[0],this._viewportToRestore[1],this._viewportToRestore[2],this._viewportToRestore[3]),this._passParameters.blurColorTexture=this._blur1Fbo.colorTexture,m.bindTechnique(this._applyTechnique,this._passParameters,e),m.drawArrays(this._applyTechnique.primitiveType,0,x(c,\"geometry\")),m.bindVAO(null)}_gridUpdateResources(e,r){const t=this._rctx,i=this._grid;let s=!1;if(null===i.coverageMipmap&&(i.coverageMipmap=[e],s=!0),i.viewportWidth===e.width&&i.viewportHeight===e.height||(s=!0,i.viewportWidth=e.width,i.viewportHeight=e.height),i.coverageMipmap[0]=e,i.cellPixelSize!==r&&(i.cellPixelSize=r,s=!0),s){for(let e=1;e<i.coverageMipmap.length;e++)i.coverageMipmap[e].dispose();i.mipmapLevels=Math.ceil(Math.log(i.cellPixelSize)*Math.LOG2E),i.coverageMipmap.length=i.mipmapLevels+1;for(let e=0;e<i.mipmapLevels;e++){const r=i.coverageMipmap[e],s=new q(Math.ceil(r.width/2),Math.ceil(r.height/2));s.pixelFormat=w.RGB,s.dataType=v.UNSIGNED_SHORT_5_6_5,s.wrapMode=b.CLAMP_TO_EDGE,i.coverageMipmap[e+1]=new M(t,s)}}const h=Math.ceil(e.height/i.cellPixelSize),p=Math.ceil(e.width/i.cellPixelSize);if(!i.vao||i.verticalCellCount!==h||i.horizontalCellCount!==p){i.verticalCellCount=h,i.horizontalCellCount=p;const e=h+1,r=p+1,s=1/h,u=1/p,m=6,c=4,_=new Float32Array(m*c*e*r);let n=0;for(let t=0;t<e;t++)for(let e=0;e<r;e++)_[n]=(e-.5)*u*2-1,_[n+1]=(t-.5)*s*2-1,_[n+2]=e*u,_[n+3]=t*s,_[n+4]=(e+.5)*u*2-1,_[n+5]=(t-.5)*s*2-1,_[n+6]=e*u,_[n+7]=t*s,_[n+8]=(e-.5)*u*2-1,_[n+9]=(t+.5)*s*2-1,_[n+10]=e*u,_[n+11]=t*s,_[n+12]=(e-.5)*u*2-1,_[n+13]=(t+.5)*s*2-1,_[n+14]=e*u,_[n+15]=t*s,_[n+16]=(e+.5)*u*2-1,_[n+17]=(t-.5)*s*2-1,_[n+18]=e*u,_[n+19]=t*s,_[n+20]=(e+.5)*u*2-1,_[n+21]=(t+.5)*s*2-1,_[n+22]=e*u,_[n+23]=t*s,n+=m*c;i.vao&&i.vao.dispose(),i.vao=new l(t,a,{geometry:o},{geometry:g.createVertex(t,f.STATIC_DRAW,_)})}}_gridComputeMipmap(e){const r=this._rctx,i=this._grid,s=r.bindTechnique(this._downsampleTechnique,this._passParameters,e);r.bindVAO(this._quadVAO);for(let a=0;a<i.mipmapLevels;a++){r.bindFramebuffer(i.coverageMipmap[a+1]);const o=i.coverageMipmap[a+1].width,h=i.coverageMipmap[a+1].height;this._downsampleDrawParameters.inputTexture=i.coverageMipmap[a].colorTexture,t(this._downsampleDrawParameters.invFramebufferDim,1/o,1/h),s.bindDraw(this._downsampleDrawParameters,e,this._passParameters),r.setViewport(0,0,o,h),r.drawArrays(T.TRIANGLE_STRIP,0,x(this._quadVAO,\"geometry\"))}}get gpuMemoryUsage(){let e=(null!=this._blur0Fbo?this._blur0Fbo.gpuMemoryUsage:0)+(null!=this._blur1Fbo?this._blur1Fbo.gpuMemoryUsage:0);if(this._grid.coverageMipmap)for(const r of this._grid.coverageMipmap)e+=r.gpuMemoryUsage;return e}get test(){return{coverage:this._grid.coverageMipmap,blur:[this._blur0Fbo,this._blur1Fbo]}}}export{F as Highlight};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{nullifyNonNullableForDispose as e}from\"../../../../core/maybe.js\";import{generateUID as t}from\"../../../../core/uid.js\";import{PixelType as r,PixelFormat as s,TextureSamplingMode as i,TextureWrapMode as o}from\"../../../webgl/enums.js\";import{FramebufferObject as h}from\"../../../webgl/FramebufferObject.js\";import{Texture as a}from\"../../../webgl/Texture.js\";import{TextureDescriptor as d}from\"../../../webgl/TextureDescriptor.js\";const c={dataType:r.UNSIGNED_BYTE,internalFormat:s.RGBA},p={};class u{constructor(e){this._rctx=e,this._activeTargets=new Set,this._colorTextures=new Map,this._depthTextures=new Map,this._fbos=new Map}dispose(){this._depthTextures.forEach((e=>e.dispose())),this._depthTextures.clear(),this._colorTextures.forEach((e=>e.dispose())),this._colorTextures.clear(),this._fbos.forEach((e=>e.dispose())),this._fbos.clear(),this._activeTargets.clear()}disposeTargetResource(e){const t=e.id;this._activeTargets.has(t)&&(this._activeTargets.delete(t),this._disposeWithFramebuffers(this._depthTextures,t),this._disposeWithFramebuffers(this._colorTextures,t))}_disposeWithFramebuffers(e,t){const r=e.get(t);r&&(this._fbos.forEach(((e,t)=>{e.colorTexture!==r&&e.depthStencilAttachment!==r||(e.detachColorTexture(),e.detachDepthStencilTexture(),e.dispose(),this._fbos.delete(t))})),r.dispose(),e.delete(t))}_getDepthTexture(e,t,h){let c=this._depthTextures.get(e.id);if(!c||c.descriptor.width===t&&c.descriptor.height===h||(c.dispose(),c=null),!c){const p=new d(t,h);p.pixelFormat=s.DEPTH_STENCIL,p.dataType=r.UNSIGNED_INT_24_8,p.samplingMode=i.NEAREST,p.wrapMode=o.CLAMP_TO_EDGE,c=new a(this._rctx,p),this._depthTextures.set(e.id,c),this._activeTargets.add(e.id)}return c}getAllocatedDepthTexture(e){return this._depthTextures.get(e.id)}getColorTexture(t,r,s){let h=this._colorTextures.get(t.id);if(h&&(h.descriptor.width===r&&h.descriptor.height===s||(h.dispose(),h=e())),!h){const e=new d(r,s);e.internalFormat=t.internalFormat,e.dataType=t.dataType,e.samplingMode=null!=t.samplingMode?t.samplingMode:i.LINEAR,e.wrapMode=o.CLAMP_TO_EDGE,h=new a(this._rctx,e),this._colorTextures.set(t.id,h),this._activeTargets.add(t.id)}return h}getAllocatedColorTexture(e){return this._colorTextures.get(e.id)}registerDepthTarget(e={}){return{id:t(),...p,...e}}registerColorTarget(e={}){return{id:t(),...c,...e}}getFramebuffer(e,t,r,s){const i=this._getKey(r,s);let o=this._fbos.get(i);const a=this.getColorTexture(r,e,t),d=s?this._getDepthTexture(s,e,t):void 0;if(!o)return o=new h(this._rctx,a,d),this._fbos.set(i,o),o;return(o.width!==e||o.height!==t||o.colorTexture!==a||o.depthStencilAttachment!==d)&&(o.detachColorTexture(),o.detachDepthStencilTexture(),o.resize(e,t),o.attachColorTexture(a),o.attachDepthStencil(d)),o}_getKey(e,t){return`${e.id}_${t?t.id:\"X\"}_${e.name}${t?\"_\"+t.name:\"\"}`}get gpuMemoryUsage(){let e=0;const t=new Set,r=r=>{t.has(r)||(t.add(r),e+=r.gpuMemoryUsage)};return this._colorTextures.forEach(r),this._depthTextures.forEach(r),e}}export{u as RenderTargetHelper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{RenderTargetHelper as e}from\"./RenderTargetHelper.js\";import{TransparencyPassType as t}from\"./TransparencyPassType.js\";import{AlphaMode as r}from\"../shaders/CompositingTechniqueConfiguration.js\";import{PixelType as i,SizedPixelFormat as o,TextureSamplingMode as s,ClearBufferBit as a}from\"../../../webgl/enums.js\";import{ensureAttachmentMaxSize as h}from\"../../../webgl/FramebufferObject.js\";class n{constructor(t,r){this._rctx=t,this._compositingHelper=r,this._mainColorTarget=0,this.width=4,this.height=4,this._background={type:\"color\",color:[0,0,0,1]},this._renderTargetHelper=new e(t);const a=this._renderTargetHelper;this._mainColorTargets=[a.registerColorTarget({name:\"mainColorTarget0\"}),a.registerColorTarget({name:\"mainColorTarget1\"})],this.frontFaceTarget=a.registerColorTarget({name:\"frontFaceTarget\"}),this.colorFloatTarget=a.registerColorTarget({name:\"colorFloatTarget\",dataType:i.HALF_FLOAT,internalFormat:o.RGBA16F,samplingMode:s.NEAREST}),this.alphaFloatTarget=a.registerColorTarget({name:\"alphaFloatTarget\",dataType:i.HALF_FLOAT,internalFormat:o.R16F,samplingMode:s.NEAREST}),this.mainDepth=a.registerDepthTarget({name:\"mainDepth\"}),this.linearDepth=a.registerColorTarget({name:\"linearDepth\",samplingMode:s.NEAREST}),this.terrainLinearDepth=a.registerColorTarget({name:\"terrainLinearDepth\"}),this.geometryLinearDepth=a.registerColorTarget({name:\"geometryLinearDepth\"}),this.normal=a.registerColorTarget({name:\"normal\"}),this.highlight=a.registerColorTarget({name:\"highlight\",internalFormat:o.RGBA4,dataType:i.UNSIGNED_SHORT_4_4_4_4}),this.hudVisibility=a.registerColorTarget({name:\"hudVisibility\",internalFormat:o.RGBA4,dataType:i.UNSIGNED_SHORT_4_4_4_4}),this.tmpColor=a.registerColorTarget({name:\"tmpColor\"}),this.tmpDepth=a.registerDepthTarget({name:\"tmpDepth\"}),this.hudColor=a.registerColorTarget({name:\"hudColor\"})}dispose(){this._renderTargetHelper.dispose()}set background(e){this._background=e}get background(){return this._background}get currentColorTarget(){return this._mainColorTargets[this._mainColorTarget]}get previousColorTarget(){return this._mainColorTargets[1-this._mainColorTarget]}get framebuffer(){return this.getFramebuffer(this.currentColorTarget,this.mainDepth)}getFramebuffer(e,t){return this._renderTargetHelper.getFramebuffer(this.width,this.height,e,t)}get colorTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.currentColorTarget)}get depthTexture(){return this._renderTargetHelper.getAllocatedDepthTexture(this.mainDepth)}get linearDepthTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.linearDepth)}get terrainLinearDepthTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.terrainLinearDepth)}get geometryLinearDepthTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.geometryLinearDepth)}get lastFrameColorTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.previousColorTarget)}get normalTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.normal)}get highlightTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.highlight)}get hudVisibilityTexture(){return this._getColorTexture(this.hudVisibility)}get tmpColorTexture(){return this._getColorTexture(this.tmpColor)}get hudColorTexture(){return this._getColorTexture(this.hudColor)}get mainColorTexture(){return this._getColorTexture(this.currentColorTarget)}setupRenderTarget(e){e?this._mainColorTarget=this._mainColorTarget?0:1:(this._mainColorTarget=0,this.disposeTarget(this._mainColorTargets[1]))}initializeFrame(e){const t=this._rctx;this.width=e.fullWidth,this.height=e.fullHeight,h(this,t.parameters.maxTextureSize),this.bindTarget(this.currentColorTarget,this.mainDepth),t.setClearStencil(0);const r=this._background.color;t.setClearColor(r[0]*r[3],r[1]*r[3],r[2]*r[3],r[3]),t.clearSafe(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT|a.STENCIL_BUFFER_BIT)}composite(e){null!=this.colorTexture&&this._compositingHelper.composite(e,this.colorTexture,r.None)}renderTmpAndCompositeToMain(e,t,r,i=!1){this.renderToTargets(e,this.tmpColor,i?this.tmpDepth:this.mainDepth,l),this._compositingHelper.composite(t,this._getColorTexture(this.tmpColor),r)}compositeAtmosphereToMain(e,t,r,i){this.bindTarget(this.currentColorTarget),this._compositingHelper.compositeAtmosphere(e,this._renderTargetHelper.getColorTexture(this.tmpColor,this.width,this.height),r,i,t),this.bindTarget(this.currentColorTarget,this.mainDepth)}renderHUDVisibility(e,t=!1){this.renderToTargets(e,this.hudVisibility,t?this.tmpDepth:this.mainDepth,g)}compositeTransparentTerrainOntoHUDVisibility(e){this.renderToTargets((()=>this._compositingHelper.compositeHUD(e,this._getColorTexture(this.tmpColor))),this.hudVisibility,this.tmpDepth)}renderOITPass(e,r,i){let o,s;switch(r){case t.Color:o=this.colorFloatTarget,s=[0,0,0,0];break;case t.Alpha:o=this.alphaFloatTarget,s=[1,1,1,1];break;case t.FrontFace:o=this.frontFaceTarget,s=[0,0,0,0];break;case t.NONE:case t.COUNT:return}i?this.renderToTargets(e,o,this.tmpDepth,s,!0,!0):this.renderToTargets(e,o,this.mainDepth,s,!1)}compositeTransparentTerrainOntoMain(e){this.bindFramebuffer(),this._compositingHelper.composite(e,this._getColorTexture(this.tmpColor),r.PremultipliedAlpha)}compositeOccludedOntoMain(e,t){this.bindFramebuffer(),this._compositingHelper.composite(e,this._getColorTexture(this.tmpColor),r.PremultipliedAlpha,t)}compositeTransparentOntoOpaque(e,t){t?(this.bindTarget(this.hudColor,this.tmpDepth),this._rctx.setClearColor(0,0,0,1e-13),this._rctx.clearSafe(a.COLOR_BUFFER_BIT)):this.bindFramebuffer(),this._compositingHelper.compositeOIT(e,this._getColorTexture(this.colorFloatTarget),this._getColorTexture(this.alphaFloatTarget),this._getColorTexture(this.frontFaceTarget))}bindFramebuffer(){this._rctx.bindFramebuffer(this.framebuffer)}renderDepthDetached(e){this.bindTarget(this.currentColorTarget),e(),this.bindTarget(this.currentColorTarget,this.mainDepth)}disposeTarget(e){this._renderTargetHelper.disposeTargetResource(e)}renderToFBO(e,t,r=!1,i=!1){const o=this._rctx;let s=0;if(t){const e=1e-13,r=Math.max(e,t[3]);o.setClearColor(t[0],t[1],t[2],r),s|=a.COLOR_BUFFER_BIT}r&&(s|=a.DEPTH_BUFFER_BIT),!1===i?i=0:(!0===i&&(i=255),s|=a.STENCIL_BUFFER_BIT),s&&o.clearSafe(s,i),e(),o.gl.flush(),this.bindTarget(this.currentColorTarget,this.mainDepth)}renderToTargets(e,t,r,i,o=!1,s=!1){const a=this.bindTarget(t,r);return this.renderToFBO(e,i,o,s),a}bindTarget(e,t){const r=this._renderTargetHelper.getFramebuffer(this.width,this.height,e,t);return this._rctx.bindFramebuffer(r),r}_getColorTexture(e){return this._renderTargetHelper.getColorTexture(e,this.width,this.height)}get gpuMemoryUsage(){let e=0;return this._renderTargetHelper&&(e+=this._renderTargetHelper.gpuMemoryUsage),e}}const l=[0,0,0,0],g=[0,1,0,1];export{n as OffscreenRendering};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/PooledArray.js\";import{isPromiseLike as n,createAbortError as s}from\"../../../../core/promiseUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{union as l}from\"./depthRange.js\";import{RenderOccludedFlag as u}from\"./Material.js\";import{RenderSlot as a}from\"./RenderSlot.js\";let d=class extends r{constructor(e){super({}),this._context=e,this._renderPlugins=new t,this._slots=[];for(let r=0;r<a.MAX_SLOTS;++r)this._slots[r]=[]}normalizeCtorArgs(){return{}}add(e,r,t){const o=()=>{if(t?.aborted)throw r.uninitializeRenderContext(),s();this._renderPlugins.push(r);for(const t of e)this._slots[t].push(r);this._context.requestRender()},i=r.initializeRenderContext(this._context,t);if(n(i))return i.then(o);o(),this.notifyChange(\"_renderPlugins\")}remove(e){if(null!=this._renderPlugins.removeUnordered(e)){for(let r=0;r<this._slots.length;++r)this._slots[r]=this._slots[r].filter((r=>r!==e));e.uninitializeRenderContext(),this._context.requestRender(),this.notifyChange(\"_renderPlugins\")}}prepareRender(){this._renderPlugins.forAll((e=>{e.prepareRender&&e.prepareRender(this._context.renderContext)}))}updateAnimation(e){let r=!1;return this._renderPlugins.forAll((t=>{t.updateAnimation&&(r=t.updateAnimation(e)||r)})),r}prepareSlots(e){for(const r of e)this._context.renderContext.bindParameters.slot=r,this._slots[r].filter((e=>{e.canRender&&(p(e)&&e.prepareTechnique(this._context.renderContext),h(e)&&e.prepareTechniques(this._context.renderContext))}))}render(){const e=this._slots[this._context.renderContext.bindParameters.slot],r=new Array;e.filter((e=>{if(!e.canRender)return!1;if(p(e)){const t=e.prepareTechnique(this._context.renderContext);return null!=t&&(r.push(t),!0)}if(h(e)){const t=e.prepareTechniques(this._context.renderContext);return null!=t&&(r.push(t),!0)}return r.push(null),!0})).forEach(((e,t)=>e.render(this._context.renderContext,r[t])))}queryDepthRange(e){const r=c;return r.near=1/0,r.far=-1/0,this._renderPlugins.forAll((t=>{if(t.queryDepthRange){const n=t.queryDepthRange(e);n&&l(r,n,r)}})),r}get updating(){return this._renderPlugins.some((e=>e.running))}get needsTransparentPass(){return this._renderPlugins.some((e=>e.needsTransparentPass))}get needsHighlight(){return this._renderPlugins.some((e=>e.needsHighlight))}get needsLinearDepth(){return this._renderPlugins.some((e=>e.needsLinearDepth))}get needsLaserlineWithContrastControl(){const e=this._slots[a.LASERLINES_CONTRAST_CONTROL];return!!e&&e.length>0}get renderOccludedFlags(){return this._renderPlugins.reduce(((e,r)=>e|r.renderOccludedFlags),u.None)}};function p(e){return\"prepareTechnique\"in e}function h(e){return\"prepareTechniques\"in e}e([o()],d.prototype,\"_renderPlugins\",void 0),e([o({readOnly:!0})],d.prototype,\"updating\",null),d=e([i(\"esri.views.3d.webgl-engine.lib.RenderPluginManager\")],d);const c={near:0,far:0};export{d as RenderPluginManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as t}from\"../lib/OrderIndependentTransparency.js\";import{Program as o}from\"../lib/Program.js\";import{a as s}from\"../../../../chunks/ShadowCastVisualize.glsl.js\";import{PrimitiveType as n}from\"../../../webgl/enums.js\";import{makePipelineState as a,defaultColorWriteParams as l}from\"../../../webgl/renderState.js\";class m extends r{constructor(e,r){super(e,r,(()=>this.destroy()))}initializeProgram(e){return new o(e.rctx,m.shader.get().build(this.configuration),i)}initializePipeline(){return a({blending:t,colorWrite:l,depthTest:null,depthWrite:null})}get primitiveType(){return n.TRIANGLE_STRIP}}m.shader=new e(s,(()=>import(\"./ShadowCastVisualize.glsl.js\")));export{m as ShadowCastVisualizeTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{disposeMaybe as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{g as r,c as o}from\"../../../../chunks/vec4.js\";import{createQuadVAO as n}from\"./glUtil3D.js\";import{S as h}from\"../../../../chunks/ShadowCastVisualize.glsl.js\";import{ShadowCastVisualizeTechnique as _}from\"../shaders/ShadowCastVisualizeTechnique.js\";import{ShadowCastVisualizeTechniqueConfiguration as l,ShadowCastVisualization as u}from\"../shaders/ShadowCastVisualizeTechniqueConfiguration.js\";import{vertexCount as d}from\"../../../webgl/Util.js\";const c=4e4,p=5e4,m=1/512;let b=class extends t{constructor(e,t,s,i){super({}),this._techniqueRepository=e,this._rctx=t,this._data=s,this._requestRender=i,this._passParameters=new h(this._data),this._techniqueConfig=new l,this._enabled=!1,this._vao=n(t),this._techniqueConfig.visualization=u.Gradient}normalizeCtorArgs(){return{}}dispose(){this._stop(),this._vao=s(this._vao),this._techniqueRepository.release(this._technique),this._technique=null}get _visualizeShadowCastTechnique(){return this._technique=this._techniqueRepository.releaseAndAcquire(_,this._techniqueConfig,this._technique),this._technique}render(e){if(!this._showVisualization)return;this._passParameters.sampleScale=1/this._data.computedSamples;const t=this._visualizeShadowCastTechnique;this._rctx.bindVAO(this._vao),this._rctx.bindTechnique(t,this._passParameters,e),this._rctx.drawArrays(t.primitiveType,0,d(this._vao,\"geometry\"))}setOptions(e){void 0!==e.enabled&&this._setEnabled(e.enabled),void 0!==e.color&&this._setColor(e.color),void 0!==e.threshold&&(this._threshold=e.threshold),void 0!==e.visualization&&(this._visualization=e.visualization),void 0!==e.bandSize&&(this._bandSize=e.bandSize),void 0!==e.bandsEnabled&&(this._bandsEnabled=e.bandsEnabled)}get opacityFromElevation(){return this._passParameters.opacityFromElevation}set opacityFromElevation(e){this._passParameters.opacityFromElevation!==e&&(this._passParameters.opacityFromElevation=e,this.notifyChange(\"opacityFromElevation\"))}get _showVisualization(){return this._enabled&&this._data.computedSamples>0&&this.opacityFromElevation>m}get _threshold(){return this._passParameters.threshold}set _threshold(e){this._threshold!==e&&(this._passParameters.threshold=e,this._requestRenderIfRunning())}get _visualization(){return this._techniqueConfig.visualization}set _visualization(e){e!==this._visualization&&(this._techniqueConfig.visualization=e,this._techniqueRepository.release(this._technique),this._technique=null,this._requestRenderIfRunning())}get _bandSize(){return this._passParameters.bandSize}set _bandSize(e){e!==this._bandSize&&(this._passParameters.bandSize=e,this._requestRenderIfRunning())}get _bandsEnabled(){return this._techniqueConfig.bandsEnabled}set _bandsEnabled(e){e!==this._bandsEnabled&&(this._techniqueConfig.bandsEnabled=e,this._techniqueRepository.release(this._technique),this._technique=null,this._requestRenderIfRunning())}_setColor(e){const t=this._passParameters.color;r(e,t)||(o(this._passParameters.color,e),this._requestRenderIfRunning())}_setEnabled(e){e!==this._enabled&&(e?this._start():this._stop())}_requestRenderIfRunning(){this._enabled&&this._requestRender()}_start(){this._enabled=!0,this._requestRender()}_stop(){this._enabled=!1,this._requestRender()}};e([i()],b.prototype,\"opacityFromElevation\",null),b=e([a(\"esri.views.3d.webgl-engine.lib.ShadowCastRenderer\")],b);export{b as ShadowCastRenderer,p as shadowCastDisableElevationMax,c as shadowCastDisableElevationMin,m as shadowCastDisabledElevationThreshold};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as o,parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class s extends o{constructor(){super(...arguments),this.receiveShadows=!0}}e([r()],s.prototype,\"receiveShadows\",void 0);export{s as ShadowConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as i}from\"../lib/Program.js\";import{b as o}from\"../../../../chunks/ShadowCastAccumulate.glsl.js\";import{ShadowConfiguration as s}from\"./ShadowConfiguration.js\";import{BlendFactor as a,PrimitiveType as n}from\"../../../webgl/enums.js\";import{makePipelineState as l,separateBlendingParams as m,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";class d extends r{constructor(e){super(e,new s,(()=>this.destroy()))}initializeProgram(e){return new i(e.rctx,d.shader.get().build(this.configuration),t)}initializePipeline(){return l({blending:m(a.ONE,a.ONE,a.ONE,a.ONE),colorWrite:u,depthTest:null,depthWrite:null})}get primitiveType(){return n.TRIANGLE_STRIP}}d.shader=new e(o,(()=>import(\"./ShadowCastAccumulate.glsl.js\")));export{d as ShadowCastAccumulateTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{equals as i}from\"../../../../core/arrayUtils.js\";import s from\"../../../../core/Handles.js\";import{smoothstep as r}from\"../../../../core/mathUtils.js\";import{disposeMaybe as o,releaseMaybe as a}from\"../../../../core/maybe.js\";import{watch as n,syncAndInitial as h,sync as c}from\"../../../../core/reactiveUtils.js\";import{property as _}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/has.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{F as l,c as m}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{BindParameters as d}from\"./BindParameters.js\";import{ZERO as g}from\"./depthRange.js\";import{createQuadVAO as f}from\"./glUtil3D.js\";import{ShadowCastRenderer as b,shadowCastDisabledElevationThreshold as v,shadowCastDisableElevationMax as w,shadowCastDisableElevationMin as A}from\"./ShadowCastRenderer.js\";import{ShadowMap as y}from\"./ShadowMap.js\";import{S as R,a as C}from\"../../../../chunks/ShadowCastAccumulate.glsl.js\";import{ShadowCastAccumulateTechnique as D}from\"../shaders/ShadowCastAccumulateTechnique.js\";import{TaskPriority as S}from\"../../../support/Scheduler.js\";import{PixelFormat as j,PixelType as F,TextureWrapMode as T,ClearBufferBit as P}from\"../../../webgl/enums.js\";import{FramebufferObject as x}from\"../../../webgl/FramebufferObject.js\";import{TextureDescriptor as q}from\"../../../webgl/TextureDescriptor.js\";import{vertexCount as E}from\"../../../webgl/Util.js\";let M=class extends t{constructor(e,t,i,r,o,a){super({}),this._rctx=e,this._stage=i,this._prepareForShadowMapPass=r,this._renderToShadowMap=o,this._requestRender=a,this._progress=0,this._sampleCount=0,this._passParameters=new R,this._cachedLightDirections=[],this._depthRange=g,this._previewing=!1,this._handles=new s,this._cameraForcedForScreenshot=!1,this._bindParameters=new d(new y(e,i.viewingMode),null,null),this._bindParameters.shadowMap.enabled=!0,this._vao=f(e),this._accumulationRenderer=new b(t,e,this,a);const _=this._stage.view.resourceController.scheduler;this._handles.add([_.registerTask(S.SHADOW_ACCUMULATOR,this),n((()=>i.renderView),(e=>{this._handles.remove(L),null!=e&&this._handles.add(e.events.on(\"force-camera-for-screenshot\",(()=>this._cameraForcedForScreenshot=!0)),L)}),h),n((()=>this._previewing),(()=>this._requestRenderIfEnabled()),c)])}normalizeCtorArgs(){return{}}dispose(){this._disable(),this._handles.destroy(),this._accumulationRenderer=o(this._accumulationRenderer),this._bindParameters.shadowMap.dispose(),this._fbo=o(this._fbo),this._vao=o(this._vao),this._accumulationTechniqueCached=a(this._accumulationTechniqueCached),this._cachedLightDirections.length=0,this._sampleCount=0}get computedSamples(){return this._progress}get shadowCastTexture(){return this._fbo?.colorTexture}get isAccumulating(){return this._isPreviewing||this._isRefining}get _accumulationTechnique(){if(null==this._accumulationTechniqueCached){const e={rctx:this._rctx,viewingMode:this._stage.viewingMode};this._accumulationTechniqueCached=new D(e)}return this._accumulationTechniqueCached}get _isRefining(){return this._isActive&&!this._isDoneAccumulating&&!this._previewing}get _isPreviewing(){return this._isActive&&this._previewing}get _isActive(){return null!=this._fbo&&this._sampleCount>0}get canAccumulate(){return null!==this._passParameters.linearDepthTexture&&this._depthRange!==g&&this._opacityFromElevation>v}get _isDoneAccumulating(){return this._progress>=this._sampleCount}get _lightDirections(){return this._cachedLightDirections}set _lightDirections(e){const t=this._cachedLightDirections;if(i(t,e,l))return;const s=Math.min(C,e.length);t.length=s,this._sampleCount=s;for(let i=0;i<s;++i)t[i]=m(t[i]??p(),e[i]);this._invalidate()}get _opacityFromElevation(){return this._accumulationRenderer.opacityFromElevation}set _opacityFromElevation(e){this._accumulationRenderer.opacityFromElevation=e}get running(){return this._isRefining&&this.canAccumulate&&this._progress>0}runTask(e){for(this._prepareForShadowMapPass(this._bindParameters);!e.done&&!this._isDoneAccumulating;)this._accumulateShadow(),e.madeProgress();this._requestRender()}renderAccumulation(e,t,i,s){if(this._depthRange=t,this._updateCamera(i),this._bindParameters.contentCamera=s,this._passParameters.linearDepthTexture=e,this._passParameters.origin=this._bindParameters.camera.center,this.notifyChange(\"canAccumulate\"),!this.isAccumulating||!this.canAccumulate)return;(this._previewing||0===this._progress||this._cameraForcedForScreenshot)&&this._clear();const r=this._cameraForcedForScreenshot?this._sampleCount:Math.min(U,this._sampleCount-this._progress);for(let o=0;o<r;++o)this._accumulateShadow();this._cameraForcedForScreenshot=!1,this._requestRender()}render(e){this._accumulationRenderer.render(e)}setOptions(e){if(void 0!==e.enabled){const t=null!=this._fbo;e.enabled!==t&&(e.enabled?this._enable():this._disable())}void 0!==e.previewing&&(this._previewing=e.previewing),void 0!==e.lightDirections&&(this._lightDirections=e.lightDirections),this._accumulationRenderer.setOptions(e)}readAccumulatedShadow(e,t){return!this._isActive||!this._fbo||this._progress<1||e<0||e>=this._fbo.width||t<0||t>=this._fbo.height?0:(this._fbo.readPixels(e,t,1,1,j.RGBA,F.UNSIGNED_BYTE,k),k[0]/this._progress)}_enable(){this._progress=0;const e=new q;e.wrapMode=T.CLAMP_TO_EDGE,this._fbo=new x(this._rctx,e)}_disable(){this._fbo=o(this._fbo)}_invalidate(){this._progress=0,this._requestRenderIfEnabled()}_clear(){this._rctx.bindFramebuffer(this._fbo),this._rctx.setClearColor(0,0,0,0),this._rctx.clearSafe(P.COLOR_BUFFER_BIT),this._progress=0}_accumulateShadow(){this._renderToShadowMap(this._bindParameters,this._sampleLightDirection(),this._depthRange);const e=this._accumulationTechnique;this._rctx.bindFramebuffer(this._fbo),this._rctx.bindTechnique(e,this._passParameters,this._bindParameters),this._rctx.bindVAO(this._vao),this._rctx.drawArrays(e.primitiveType,0,E(this._vao,\"geometry\"))}_sampleLightDirection(){return this._progress++,this._lightDirections[this._progress*O%this._lightDirections.length]}_updateCamera(e){!e.equals(this._bindParameters.camera)&&this._fbo&&(this._bindParameters.camera.copyFrom(e),this._fbo.resize(e.fullWidth,e.fullHeight),this._opacityFromElevation=1-r(A,w,e.relativeElevation))}_requestRenderIfEnabled(){this._fbo&&this._requestRender()}get test(){const e=this;return{lightDirections:this._lightDirections,get isDone(){return e._isDoneAccumulating},get isActive(){return e._isActive}}}};e([_()],M.prototype,\"_progress\",void 0),e([_()],M.prototype,\"_sampleCount\",void 0),e([_()],M.prototype,\"_fbo\",void 0),e([_()],M.prototype,\"_depthRange\",void 0),e([_()],M.prototype,\"_previewing\",void 0),e([_()],M.prototype,\"_accumulationRenderer\",void 0),e([_()],M.prototype,\"_isRefining\",null),e([_()],M.prototype,\"_isActive\",null),e([_()],M.prototype,\"canAccumulate\",null),e([_()],M.prototype,\"_isDoneAccumulating\",null),e([_()],M.prototype,\"_opacityFromElevation\",null),e([_()],M.prototype,\"running\",null),M=e([u(\"esri.views.3d.webgl-engine.lib.ShadowAccumulator\")],M);const U=6,L=\"renderView\",O=104729,k=new Uint8Array(4);export{M as ShadowAccumulator};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as r}from\"../../../../chunks/vec4f64.js\";import{ReadShadowMapPassParameters as e}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as o}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as s}from\"../lib/Program.js\";import{ShadowConfiguration as a}from\"./ShadowConfiguration.js\";import{S as h}from\"../../../../chunks/ShadowHighlight.glsl.js\";import{BlendFactor as n,PrimitiveType as l}from\"../../../webgl/enums.js\";import{makePipelineState as d,separateBlendingParams as m,defaultColorWriteParams as c}from\"../../../webgl/renderState.js\";class p extends e{constructor(){super(...arguments),this.shadowColor=r(1,0,1,1),this.shadowOpacity=.2,this.occludedShadowOpacity=.1,this.opacityElevation=1,this.dayNightTerminator=1}}class u extends t{constructor(r){super(r,new a,(()=>this.destroy()))}initializeProgram(r){return new s(r.rctx,u.shader.get().build(this.configuration),o)}initializePipeline(){return d({blending:m(n.SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),colorWrite:c,depthTest:null,depthWrite:null})}get primitiveType(){return l.TRIANGLE_STRIP}}u.shader=new i(h,(()=>import(\"./ShadowHighlight.glsl.js\")));export{p as ShadowHighlightPassParameters,u as ShadowHighlightTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{smoothstep as t,clamp as e}from\"../../../../core/mathUtils.js\";import{disposeMaybe as s,releaseMaybe as a}from\"../../../../core/maybe.js\";import{n as i,s as r,e as h}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{ViewingMode as c}from\"../../../ViewingMode.js\";import{ReadShadowMapDrawParameters as m}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{createQuadVAO as n}from\"./glUtil3D.js\";import{ShadowHighlightPassParameters as _,ShadowHighlightTechnique as p}from\"../shaders/ShadowHighlightTechnique.js\";import{vertexCount as d}from\"../../../webgl/Util.js\";const u=.001953125,l=4e4,g=5e4;class w{constructor(t,e){this._rctx=t,this._viewingMode=e,this._maxOpacity=1,this._passParameters=new _,this._drawParameters=new m,this._vao=n(this._rctx)}get _technique(){return null==this._techniqueCached&&(this._techniqueCached=new p({rctx:this._rctx,viewingMode:this._viewingMode})),this._techniqueCached}render(t,e){if(!t.shadowMap.enabled||!t.linearDepthTexture||!this.isVisible)return;const s=this._technique;this._drawParameters.origin=t.camera.center,this._rctx.bindFramebuffer(e),this._rctx.bindTechnique(s,this._passParameters,t).bindDraw(this._drawParameters,t,this._passParameters),this._rctx.bindVAO(this._vao),this._rctx.drawArrays(s.primitiveType,0,d(this._vao,\"geometry\"))}get gpuMemoryUsage(){return this._vao?.memoryEstimate??0}setDefaultOptions(t){this._passParameters={...this._passParameters,...t},this._updateMaxOpacity()}updateParameters(s,a){this._passParameters.opacityElevation=1-t(l,g,s.relativeElevation);const o=this._viewingMode===c.Global?i(y,s.center):r(y,0,0,1),m=h(o,a);this._passParameters.dayNightTerminator=t(0,1,e(30*m,0,1))}dispose(){this._vao=s(this._vao),this._techniqueCached=a(this._techniqueCached)}get isVisible(){const{opacityElevation:t,dayNightTerminator:e}=this._passParameters;return this._maxOpacity*t*e>=u}_updateMaxOpacity(){const t=Math.max(this._passParameters.shadowOpacity,this._passParameters.occludedShadowOpacity);this._maxOpacity=t*this._passParameters.shadowColor[3]}}const y=o();export{w as ShadowHighlight};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{a as e,d as s,c as a}from\"../../../../chunks/boundedPlane.js\";const t=e();class n{constructor(){this._plane=e()}get isEnabled(){return!s(this.plane,t)}get plane(){return this._plane}set plane(e){a(e||t,this._plane)}}export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"./DefaultVertexAttributeLocations.js\";import{Program as t}from\"./Program.js\";import{B as o}from\"../../../../chunks/BlendWeights.glsl.js\";import{makePipelineState as s,defaultColorWriteParams as a}from\"../../../webgl/renderState.js\";class l extends r{initializeProgram(e){return new t(e.rctx,l.shader.get().build(),i)}initializePipeline(){return s({colorWrite:a})}}l.shader=new e(o,(()=>import(\"../shaders/BlendWeights.glsl.js\")));export{l as BlendWeightsTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as e}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"./DefaultVertexAttributeLocations.js\";import{Program as o}from\"./Program.js\";import{B as t}from\"../../../../chunks/Blur.glsl.js\";import{makePipelineState as s,defaultColorWriteParams as a}from\"../../../webgl/renderState.js\";class l extends e{initializeProgram(r){return new o(r.rctx,l.shader.get().build(),i)}initializePipeline(){return s({colorWrite:a})}}l.shader=new r(t,(()=>import(\"../shaders/Blur.glsl.js\")));export{l as BlurTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"./DefaultVertexAttributeLocations.js\";import{Program as i}from\"./Program.js\";import{E as o}from\"../../../../chunks/EdgeDetect.glsl.js\";import{makePipelineState as s,defaultColorWriteParams as a}from\"../../../webgl/renderState.js\";class l extends r{initializeProgram(e){return new i(e.rctx,l.shader.get().build(),t)}initializePipeline(){return s({colorWrite:a})}}l.shader=new e(o,(()=>import(\"../shaders/EdgeDetect.glsl.js\")));export{l as EdgeDetectTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{abortMaybe as s,disposeMaybe as t}from\"../../../../core/maybe.js\";import{throwIfAborted as i,isAborted as a}from\"../../../../core/promiseUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{requestImage as h}from\"../../../../support/requestImageUtils.js\";import{ShaderTechniqueConfiguration as l}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{BlendWeightsTechnique as u}from\"./BlendWeightsTechnique.js\";import{BlurTechnique as c}from\"./BlurTechnique.js\";import{EdgeDetectTechnique as d}from\"./EdgeDetectTechnique.js\";import{createScreenSizeTriangleVAO as m}from\"./glUtil3D.js\";import{SMAAPassParameters as _}from\"../shaders/SMAAPassParameters.js\";import{TextureSamplingMode as p,PixelFormat as b,SizedPixelFormat as T,TextureWrapMode as f,ClearBufferBit as g,PrimitiveType as x}from\"../../../webgl/enums.js\";import{FramebufferObject as q}from\"../../../webgl/FramebufferObject.js\";import{Texture as P}from\"../../../webgl/Texture.js\";import{TextureDescriptor as w}from\"../../../webgl/TextureDescriptor.js\";let A=class extends r{constructor(e,r){super({}),this._rctx=e,this._techniqueRep=r,this._passParameters=new _,this._isEnabled=!1}normalizeCtorArgs(){return{}}dispose(){this._abortController=s(this._abortController),this.disable()}_loadResources(e){if(null!=this._abortController)return!1;if(null!=this._passParameters.searchTexture)return!0;this._abortController=new AbortController;const r=this._abortController.signal;return import(\"./SmaaRenderPassData.js\").then((e=>this._loadTextures(e,r))).then((()=>e())).finally((()=>this._abortController=null)),!1}_loadTextures(e,r){return i(r),Promise.all([this._loadTextureFromBase64(e.areaTexture,p.LINEAR,b.RGB),this._loadTextureFromBase64(e.searchTexure,p.NEAREST,b.LUMINANCE)]).then((([e,s])=>{a(r)?(e.dispose(),s.dispose(),i(r)):(this._passParameters.areaTexture=e,this._passParameters.searchTexture=s)}))}get updating(){return null!=this._abortController}enable(e){if(this._isEnabled)return!0;if(!this._edgeDetectTechnique||!this._blendWeightsTechnique||!this._blurTechnique){const e=new l;this._edgeDetectTechnique=this._techniqueRep.releaseAndAcquire(d,e,this._edgeDetectTechnique),this._blendWeightsTechnique=this._techniqueRep.releaseAndAcquire(u,e,this._blendWeightsTechnique),this._blurTechnique=this._techniqueRep.releaseAndAcquire(c,e,this._blurTechnique)}if(!this._loadResources(e))return!1;this._vao=m(this._rctx);const r=new w(4,4);r.pixelFormat=b.RG,r.internalFormat=T.RG8,r.wrapMode=f.CLAMP_TO_EDGE,this._passParameters.edges=new q(this._rctx,r);const s=new w(4,4);return s.pixelFormat=b.RGBA,s.wrapMode=f.CLAMP_TO_EDGE,this._passParameters.blend=new q(this._rctx,s),this._isEnabled=!0,!0}disable(){this._isEnabled&&(this._vao=t(this._vao),this._passParameters.areaTexture=t(this._passParameters.areaTexture),this._passParameters.searchTexture=t(this._passParameters.searchTexture),this._passParameters.blend=t(this._passParameters.blend),this._passParameters.edges=t(this._passParameters.edges),this._isEnabled=!1)}get _validPassParameters(){return this._isEnabled?this._passParameters:null}render(e){const r=this._validPassParameters;if(null==r)return;r.colorTexture=e;const s=this._rctx,t=s.getBoundFramebufferObject(),i=e.descriptor.width,a=e.descriptor.height;s.bindVAO(this._vao),s.setViewport(0,0,i,a),r.edges.resize(i,a),s.bindFramebuffer(r.edges),s.setClearColor(0,0,0,1),s.clear(g.COLOR_BUFFER_BIT),s.bindTechnique(this._edgeDetectTechnique,r,null),s.drawArrays(x.TRIANGLES,0,3),r.blend.resize(i,a),s.bindFramebuffer(r.blend),s.setClearColor(0,0,1,1),s.clear(g.COLOR_BUFFER_BIT),s.bindTechnique(this._blendWeightsTechnique,r,null),s.drawArrays(x.TRIANGLES,0,3),s.bindFramebuffer(t),s.setClearColor(0,1,0,1),s.clear(g.COLOR_BUFFER_BIT),s.bindTechnique(this._blurTechnique,r,null),s.drawArrays(x.TRIANGLES,0,3)}_loadTextureFromBase64(e,r,s){return h(e).then((e=>{const t=new w;return t.pixelFormat=s,t.wrapMode=f.CLAMP_TO_EDGE,t.width=e.width,t.height=e.height,t.samplingMode=r,new P(this._rctx,t,e)}))}};e([o()],A.prototype,\"_abortController\",void 0),e([o({readOnly:!0})],A.prototype,\"updating\",null),A=e([n(\"esri.views.3d.webgl-engine.lib.SmaaRenderPass\")],A);export{A as SmaaRenderPass};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction n(n,o){const t=-n[0],c=-n[1],f=-n[2],i=o[3],s=o[7],u=o[11],e=o[15];o[0]+=i*t,o[1]+=i*c,o[2]+=i*f,o[4]+=s*t,o[5]+=s*c,o[6]+=s*f,o[8]+=u*t,o[9]+=u*c,o[10]+=u*f,o[12]+=e*t,o[13]+=e*c,o[14]+=e*f}function o(n,o){const t=n[0],c=n[1],f=n[2];o[12]+=t*o[0]+c*o[4]+f*o[8],o[13]+=t*o[1]+c*o[5]+f*o[9],o[14]+=t*o[2]+c*o[6]+f*o[10],o[14]+=t*o[3]+c*o[7]+f*o[11]}export{n as applyToModelMatrix,o as applyToViewMatrix};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as i}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{applyToViewMatrix as r}from\"./localOriginHelper.js\";class e{constructor(i){this._factory=i,this._originData=new Map}acquire(i){return this.register(this._factory.getOrigin(i))}register(i){const t=this._originData.get(i.id)||new s(i);return t.refCount++,this._originData.has(t.origin.id)||this._originData.set(t.origin.id,t),t}release(i){i.refCount--,0===i.refCount&&this._originData.delete(i.origin.id)}updateViewMatrices(t){this._originData.forEach((e=>{i(e.viewMatrix,t),r(e.origin.vec3,e.viewMatrix)}))}}class s{constructor(i){this.origin=i,this.refCount=0,this.viewMatrix=t()}}export{e as LocalOriginManager,s as OriginData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as r}from\"../../../../../chunks/mat3f64.js\";import{c as s}from\"../../../../../chunks/vec3f64.js\";import{VertexPositionPassParameters as o,VertexPositionDrawParameters as t}from\"../../core/shaderLibrary/attributes/VertexPosition.glsl.js\";class a extends o{constructor(s,o){super(),this.distanceFalloffFactor=s,this.transparency=o,this.transformNormalViewFromGlobal=r()}}class e extends t{constructor(){super(...arguments),this.transformNormalViewFromGlobal=r(),this.slicePlaneLocalOrigin=s(),this.transformNormalGlobalFromModel=r()}}export{e as EdgeDrawParameters,a as EdgePassParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Program as i}from\"../Program.js\";import{EdgeShaderAttributeLocations as o}from\"./bufferLayouts.js\";import{E as t}from\"../../../../../chunks/EdgeShader.glsl.js\";import{BlendOperation as s,BlendFactor as n,CompareFunction as d}from\"../../../../webgl/enums.js\";import{makePipelineState as a,separateBlendingParams as l,defaultColorWriteParams as m,defaultDepthWriteParams as h}from\"../../../../webgl/renderState.js\";class u extends r{initializeProgram(e){return new i(e.rctx,u.shader.get().build(this.configuration),o)}initializePipeline(e){return e.blendMinMax?a({blending:l(n.ONE,n.ONE,n.ZERO,n.ONE,s.ADD,e.blendMinMax.MAX),depthTest:{func:d.LEQUAL},colorWrite:m}):a({depthTest:{func:d.LEQUAL},depthWrite:h,colorWrite:m})}}u.shader=new e(t,(()=>import(\"../../shaders/sources/edgeRenderer/EdgeShader.glsl.js\")));export{u as EdgeShaderTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{parameter as o}from\"../../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../../materials/DefaultTechniqueConfiguration.js\";import{EdgeUtilMode as t}from\"../../shaders/sources/edgeRenderer/EdgeUtil.glsl.js\";class s extends i{constructor(){super(...arguments),this.mode=t.SOLID,this.hasSlicePlane=!1,this.silhouette=!1,this.legacy=!1,this.antialiasing=!1,this.doublePrecisionRequiresObfuscation=!1,this.hasMultipassTerrain=!1,this.cullAboveGround=!1,this.spherical=!1}}e([o({count:t.COUNT})],s.prototype,\"mode\",void 0),e([o()],s.prototype,\"hasSlicePlane\",void 0),e([o()],s.prototype,\"silhouette\",void 0),e([o()],s.prototype,\"legacy\",void 0),e([o()],s.prototype,\"antialiasing\",void 0),e([o()],s.prototype,\"doublePrecisionRequiresObfuscation\",void 0),e([o()],s.prototype,\"hasMultipassTerrain\",void 0),e([o()],s.prototype,\"cullAboveGround\",void 0),e([o()],s.prototype,\"spherical\",void 0);export{s as EdgeShaderTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../../../core/maybe.js\";import r from\"../../../../../core/PooledArray.js\";import{t,e as i}from\"../../../../../chunks/mat3.js\";import{c as s}from\"../../../../../chunks/mat3f32.js\";import{s as n}from\"../../../../../chunks/vec3.js\";import a from\"../../../support/debugFlags.js\";import{TwoVectorPosition as o}from\"../../core/util/TwoVectorPosition.js\";import{EdgeDrawParameters as d}from\"./EdgeShaderParameters.js\";import{EdgeShaderTechnique as h}from\"./EdgeShaderTechnique.js\";import{EdgeShaderTechniqueConfiguration as l}from\"./EdgeShaderTechniqueConfiguration.js\";import{Transparency as c}from\"./interfaces.js\";import{EdgeUtilMode as u}from\"../../shaders/sources/edgeRenderer/EdgeUtil.glsl.js\";import{PrimitiveType as _}from\"../../../../webgl/enums.js\";const m=8,g=128,f={type:\"uber\",hasSlicePlane:!1,strokesTexture:null,legacy:!0,spherical:!0},T={solid:u.SOLID,sketch:u.SKETCH,uber:u.MIXED};class b{constructor(e,t,i){this._rctx=e,this._shaderTechniqueRepository=t,this._configuration=new l,this.refCount=0,this._renderables=new Set,this._sortedRenderables={[c.TRANSPARENT]:{[c.TRANSPARENT]:new r,[c.OPAQUE]:new r},[c.OPAQUE]:{[c.TRANSPARENT]:new r,[c.OPAQUE]:new r}},this._renderablesDirty=!1,this._drawParameters=new d,this._settings={...f,...i},this.key=b.getKey(this._settings.type,this._settings.hasSlicePlane,this._settings.legacy);const s=this._settings.strokesTexture.variants;this.writerSettings={variants:s,reducedPrecision:a.TESTS_DISABLE_OPTIMIZATIONS},this._configuration.legacy=this._settings.legacy,this._configuration.mode=T[this._settings.type],this._configuration.silhouette=!1,this._configuration.antialiasing=!!this._rctx.capabilities.blendMinMax,this._configuration.hasSlicePlane=this._settings.hasSlicePlane,this._configuration.doublePrecisionRequiresObfuscation=e.driverTest.doublePrecisionRequiresObfuscation.result,this._configuration.spherical=i.spherical}dispose(){this._technique=e(this._technique)}addRenderable(e){this._renderables.add(e),this._renderablesDirty=!0}removeRenderable(e){this._renderables.delete(e),this._renderablesDirty=!0}setRenderablesDirty(){this._renderablesDirty=!0}forEachRenderable(e,r){if(this._renderablesDirty&&this._sortRenderables(),r!==c.INVISIBLE){const t=this._sortedRenderables[r];t[c.TRANSPARENT].forAll(e),t[c.OPAQUE].forAll(e)}}updateTechnique(e,r){return this._configuration.hasMultipassTerrain=!!e.multipassTerrain.enabled,this._configuration.cullAboveGround=!!e.multipassTerrain.cullAboveGround,this._configuration.silhouette=r,this._technique=this._shaderTechniqueRepository.releaseAndAcquire(h,this._configuration,this._technique),this._technique}bindRegularEdges(e,r){return this._lastOriginId=null,this._rctx.bindTechnique(this.updateTechnique(r,!1),e,r)}bindSilhouetteEdges(e,r){return this._lastOriginId=null,this._rctx.bindTechnique(this.updateTechnique(r,!0),e,r)}renderRegularEdges(e,r,t,i,s){this._render(e,r,r.regular.vao,t,i,s)}renderSilhouetteEdges(e,r,t,i,s){this._render(e,r,r.silhouette.vao,t,i,s)}_render(e,r,t,i,s,n){n>0&&(this._bindDraw(e,r,i,s),this._rctx.bindVAO(t),this._rctx.capabilities.instancing.drawArraysInstanced(_.TRIANGLE_FAN,0,4,n))}_bindDraw(e,r,s,a){if(this._drawParameters.componentDataTexture=r.components.buffer.textureBuffer.texture,this._drawParameters.strokesTexture=this._settings.strokesTexture,\"origin\"in r.transform)this._lastOriginId!==r.transform.origin.origin.id&&(e.setUniformMatrix4fv(\"localView\",r.transform.origin.viewMatrix),this._lastOriginId=r.transform.origin.origin.id),e.setUniformMatrix4fv(\"model\",r.transform.modelMatrix),this._drawParameters.slicePlaneLocalOrigin=r.transform.origin.origin.vec3;else{const e=new o(r.transform.position),s=t(R,i(R,r.transform.rotationScale));this._drawParameters.transformWorldFromModelTL=e.low,this._drawParameters.transformWorldFromModelTH=e.high,this._drawParameters.transformWorldFromModelRS=r.transform.rotationScale,this._drawParameters.transformNormalGlobalFromModel=s;const d=a.camera.viewInverseTransposeMatrix;n(this._drawParameters.slicePlaneLocalOrigin,d[3],d[7],d[11])}e.bindDraw(this._drawParameters,a,s)}_sortRenderables(){this._renderablesDirty=!1,this._sortedRenderables[c.TRANSPARENT][c.TRANSPARENT].clear(),this._sortedRenderables[c.TRANSPARENT][c.OPAQUE].clear(),this._sortedRenderables[c.OPAQUE][c.TRANSPARENT].clear(),this._sortedRenderables[c.OPAQUE][c.OPAQUE].clear(),this._renderables.forEach((e=>{e.objectTransparency!==c.INVISIBLE&&e.edgeTransparency!==c.INVISIBLE&&this._sortedRenderables[e.objectTransparency][e.edgeTransparency].push(e)}));const e=(e,r)=>\"origin\"in e.transform?\"origin\"in r.transform?e.transform.origin.origin.id<r.transform.origin.origin.id?-1:e.transform.origin.origin.id>r.transform.origin.origin.id?1:0:1:0;this._sortedRenderables[c.TRANSPARENT][c.TRANSPARENT].sort(e),this._sortedRenderables[c.TRANSPARENT][c.OPAQUE].sort(e),this._sortedRenderables[c.OPAQUE][c.TRANSPARENT].sort(e),this._sortedRenderables[c.OPAQUE][c.OPAQUE].sort(e)}static getKey(e,r,t){return`edges-t:${e}:${r}:${t}`}}const R=s();export{g as EXTENSION_LENGTH_OFFSET,b as EdgeRenderer,m as LINE_WIDTH_FRACTION_FACTOR};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{packFloatRGBA as t}from\"../../../../../core/floatRGBA.js\";import{disposeMaybe as e}from\"../../../../../core/maybe.js\";import{Texture as s}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as r}from\"../../../../webgl/TextureDescriptor.js\";function n(e){const n=4,u=a.resolution,c=u/2,h=new Uint8Array(n*u*u),p=n*u*c,m=a.amplitude,f=2*m,d=n*u,S=Math.log2(u)+1,E=a.strokes.length;let g=(S-1)*E*d;for(const{distance:s,pressure:r}of a.strokes){let e=s,u=r,c=g;for(let s=0;s<S;s++){0!==s&&(e=o(e,i.DISTANCE),u=o(u,i.PRESSURE));for(let s=0;s<a.resolution;s++){const r=.5+(e?e[s%e.length]/f:0),o=u?u[s%u.length]:1;t(r,h,c),t(o,h,c+p),c+=n}c-=d*(E+1)}g+=d}const R=new r;R.width=R.height=u;const w=new s(e,R,h);return new l(u,f,m,E,w)}function o(t,e){if(!t)return null;const s=t.length/2,r=u*s,n=new Array(s);let o=0;const l=e===i.PRESSURE;for(let i=0;i<t.length;i+=2){const e=(t[i]+t[i+1])/2;n[o++]=l?Math.min(r,1-(1-e)*c):Math.min(r,e*c)}return n}var i;!function(t){t[t.DISTANCE=0]=\"DISTANCE\",t[t.PRESSURE=1]=\"PRESSURE\"}(i||(i={}));const u=.1,c=.5;class l{constructor(t,e,s,r,n){this.resolution=t,this.normalizationScale=e,this.amplitude=s,this.variants=r,this.texture=n}dispose(){this.texture=e(this.texture)}}const a={amplitude:8,resolution:256,strokes:[{distance:[-1.59027,-1.59426,-1.59674,-1.59766,-1.59702,-1.59479,-1.59095,-1.5855,-1.57843,-1.56973,-1.55942,-1.5475,-1.53398,-1.5189,-1.50226,-1.4841,-1.46446,-1.44337,-1.42088,-1.39703,-1.37188,-1.34547,-1.31786,-1.28912,-1.2593,-1.22847,-1.19668,-1.16402,-1.13053,-1.09629,-1.06137,-1.02582,-.98972,-.95313,-.91611,-.87872,-.84102,-.80306,-.76488,-.72654,-.68807,-.64952,-.61092,-.57232,-.53375,-.49527,-.45692,-.41874,-.38078,-.34309,-.3057,-.26867,-.23204,-.19585,-.16015,-.12497,-.09036,-.05634,-.02296,.00977,.04183,.07321,.10389,.13386,.16313,.19169,.21956,.24672,.27321,.299,.32413,.34858,.37237,.3955,.41798,.43981,.461,.48154,.50145,.52073,.53939,.55744,.57488,.5917,.6079,.62347,.63837,.65259,.66609,.67885,.69083,.70201,.71235,.72183,.73042,.73812,.7449,.75076,.7557,.75973,.76284,.76507,.76642,.76692,.76659,.76545,.76352,.76083,.7574,.75324,.74837,.74279,.73652,.72959,.72199,.71377,.70493,.69553,.68558,.67515,.66426,.65298,.64135,.62944,.6173,.60499,.59257,.58008,.56759,.55513,.54275,.5305,.51842,.50654,.4949,.48353,.47246,.4617,.45128,.44121,.43149,.42213,.41313,.40448,.39617,.38818,.3805,.37309,.36594,.35902,.35229,.34572,.33927,.33292,.32663,.32035,.31407,.30774,.30135,.29486,.28824,.28148,.27454,.26739,.26002,.25241,.24454,.23639,.22796,.21922,.21016,.20076,.19098,.18082,.17023,.1592,.14768,.13566,.1231,.10996,.09624,.08188,.06688,.05121,.03485,.01778,0,-.0185,-.03771,-.05763,-.07824,-.09952,-.12144,-.14396,-.16706,-.19069,-.21481,-.23938,-.26436,-.28971,-.31539,-.34136,-.36759,-.39404,-.42067,-.44746,-.47437,-.50136,-.52839,-.55544,-.58248,-.60948,-.63642,-.66329,-.6901,-.71684,-.74352,-.77015,-.79675,-.82332,-.84988,-.87644,-.90301,-.92958,-.95615,-.98272,-1.00926,-1.03575,-1.06217,-1.08847,-1.11463,-1.1406,-1.16633,-1.19178,-1.2169,-1.24164,-1.26595,-1.28979,-1.31312,-1.3359,-1.35809,-1.37963,-1.4005,-1.42064,-1.44,-1.45853,-1.47616,-1.49285,-1.50853,-1.52313,-1.53659,-1.54886,-1.55986,-1.56955,-1.57788,-1.5848],pressure:[-.01365,-.00206,.01025,.02327,.03696,.05129,.06619,.08163,.09755,.11393,.1307,.14784,.16531,.18308,.20111,.21938,.23786,.25651,.2753,.29419,.31315,.33215,.35115,.37015,.38913,.40806,.42694,.44576,.46449,.48313,.50167,.5201,.53839,.55653,.57448,.59222,.60971,.62692,.6438,.66033,.67648,.69221,.70753,.72242,.73688,.75093,.76456,.77779,.79063,.80309,.81517,.82686,.83817,.84911,.85967,.86987,.87972,.88924,.89845,.90734,.91594,.92425,.93229,.94005,.94754,.95475,.96166,.96826,.97451,.9804,.98588,.99092,.99549,.99957,.99685,.99381,.99131,.98936,.98796,.98711,.98681,.98706,.98787,.98923,.99113,.99357,.99654,1,.99607,.99171,.98695,.98181,.97634,.97057,.96452,.95824,.95175,.94506,.93818,.93113,.92389,.91647,.90887,.90109,.89314,.88501,.87672,.86831,.85978,.85119,.84256,.83393,.82533,.8168,.80836,.80002,.79181,.78374,.77582,.7681,.76059,.75331,.74629,.73955,.73311,.72697,.72116,.71568,.71054,.70572,.70121,.697,.69304,.68931,.68576,.68236,.67905,.67582,.67262,.66941,.66619,.66291,.65957,.65613,.65259,.64892,.6451,.6411,.6369,.63248,.62783,.62295,.61783,.61247,.60688,.60104,.59498,.58868,.58216,.57542,.56845,.56125,.5538,.5461,.53813,.52986,.52129,.51239,.50316,.49359,.4837,.47349,.46299,.45223,.44124,.43005,.41869,.40719,.39557,.38386,.37207,.36023,.34836,.33648,.32464,.31287,.30119,.28963,.27822,.26698,.25594,.2451,.23448,.22409,.21391,.20394,.19415,.18452,.17503,.16565,.15636,.14713,.13794,.1288,.11968,.11058,.10151,.09247,.08346,.07447,.06552,.05659,.0477,.03885,.03007,.02137,.01278,.00433,-.00393,-.012,-.01983,-.02738,-.03463,-.04155,-.0481,-.05429,-.0601,-.06553,-.07057,-.07524,-.07954,-.08347,-.08703,-.09022,-.09303,-.09544,-.09744,-.09898,-.10004,-.10059,-.1006,-.10005,-.09892,-.0972,-.09487,-.09192,-.08833,-.08409,-.07918,-.07357,-.06724,-.06019,-.0524,-.04386,-.03455,-.02448]},{distance:[-3.46259,-3.47131,-3.47668,-3.47863,-3.47712,-3.4721,-3.46352,-3.45138,-3.43566,-3.41635,-3.39347,-3.36704,-3.33709,-3.30368,-3.26684,-3.22667,-3.18322,-3.1366,-3.08689,-3.0342,-2.97865,-2.92036,-2.85946,-2.79607,-2.73034,-2.66241,-2.59242,-2.52052,-2.44686,-2.37159,-2.29485,-2.2168,-2.13757,-2.05731,-1.97616,-1.89426,-1.81174,-1.72875,-1.64543,-1.56191,-1.47833,-1.39483,-1.3115,-1.22847,-1.14581,-1.06361,-.98193,-.90083,-.82036,-.74054,-.66141,-.583,-.50532,-.4284,-.35228,-.277,-.20261,-.12916,-.05672,.01463,.08485,.15384,.22153,.28784,.35269,.41602,.47776,.53787,.59629,.653,.70799,.76123,.81274,.86253,.9106,.95698,1.0017,1.04477,1.0862,1.126,1.16415,1.20065,1.23546,1.26857,1.29994,1.32953,1.35731,1.38321,1.40719,1.42921,1.44922,1.46719,1.48309,1.49691,1.50862,1.51825,1.52581,1.53133,1.53486,1.53644,1.53616,1.53409,1.53031,1.52493,1.51803,1.50972,1.50009,1.48924,1.47725,1.46421,1.45019,1.43527,1.4195,1.40295,1.38568,1.36778,1.34929,1.3303,1.31087,1.29108,1.27099,1.25066,1.23018,1.2096,1.18898,1.16838,1.14785,1.12745,1.10721,1.08719,1.06741,1.04791,1.02871,1.00986,.99136,.97324,.95551,.93819,.92127,.90476,.88866,.87296,.85767,.84277,.82823,.81406,.80022,.7867,.77346,.76049,.74774,.73519,.72278,.71049,.69827,.68606,.67381,.66145,.64893,.63618,.62313,.60973,.5959,.5816,.56675,.5513,.53516,.51826,.50053,.4819,.46231,.44169,.42002,.39725,.37336,.34834,.32219,.2949,.2665,.23698,.20638,.17469,.14193,.10809,.07316,.03714,0,-.03827,-.07772,-.11836,-.16022,-.20332,-.24768,-.29332,-.34024,-.38844,-.43788,-.48854,-.54036,-.59329,-.64724,-.70211,-.75782,-.81425,-.87128,-.92881,-.98674,-1.04498,-1.10346,-1.1621,-1.22086,-1.27969,-1.33854,-1.3974,-1.45625,-1.51511,-1.57396,-1.63283,-1.69173,-1.75067,-1.80968,-1.86875,-1.9279,-1.98712,-2.04639,-2.10568,-2.16495,-2.22416,-2.28322,-2.34208,-2.40063,-2.4588,-2.51647,-2.57354,-2.62989,-2.68543,-2.74002,-2.79357,-2.84597,-2.89711,-2.94689,-2.99521,-3.04195,-3.087,-3.13023,-3.17152,-3.21075,-3.24779,-3.28252,-3.3148,-3.34451,-3.37154,-3.39577,-3.41709,-3.43539,-3.45059],pressure:[.87183,.87151,.87129,.87118,.87117,.87128,.87149,.87182,.87225,.8728,.87347,.87424,.87513,.87613,.87723,.87845,.87978,.88122,.88276,.88441,.88616,.88801,.88996,.892,.89414,.89637,.89868,.90108,.90356,.90611,.90874,.91144,.91421,.91704,.91993,.92287,.92587,.92892,.93201,.93514,.93831,.94151,.94474,.94799,.95126,.95456,.95786,.96118,.9645,.96783,.97116,.97448,.9778,.98111,.98441,.9877,.99096,.99421,.99742,.99938,.99622,.9931,.99001,.98697,.98397,.98101,.97811,.97526,.97246,.96972,.96703,.96441,.96185,.95935,.95691,.95455,.95225,.95002,.94786,.94577,.94376,.94182,.93995,.93817,.93646,.93483,.93328,.93181,.93042,.92911,.92788,.92673,.92566,.92467,.92376,.92293,.92217,.92149,.92088,.92034,.91987,.91947,.91913,.91886,.91864,.91849,.91838,.91833,.91834,.91839,.91849,.91863,.91883,.91907,.91935,.91968,.92005,.92046,.92092,.92142,.92195,.92253,.92314,.9238,.92449,.92521,.92598,.92677,.9276,.92847,.92936,.93029,.93125,.93224,.93325,.9343,.93537,.93646,.93758,.93872,.93988,.94106,.94225,.94346,.94469,.94593,.94718,.94844,.94971,.95098,.95226,.95354,.95482,.9561,.95738,.95867,.95995,.96122,.9625,.96377,.96504,.9663,.96757,.96883,.97009,.97135,.97261,.97387,.97513,.9764,.97767,.97895,.98023,.98153,.98284,.98416,.98549,.98684,.98821,.9896,.99101,.99244,.99389,.99537,.99688,.99842,1,.99839,.99675,.99508,.99336,.99161,.98982,.98799,.98613,.98422,.98228,.98029,.97827,.97622,.97414,.97202,.96987,.9677,.96551,.9633,.96107,.95882,.95656,.9543,.95202,.94975,.94747,.94519,.94292,.94065,.93838,.93613,.93388,.93164,.92941,.9272,.92499,.9228,.92062,.91846,.91631,.91418,.91207,.90998,.90792,.90588,.90387,.90189,.89995,.89804,.89617,.89434,.89256,.89083,.88914,.88752,.88595,.88443,.88299,.88161,.8803,.87907,.87791,.87683,.87584,.87494,.87412,.8734,.87278,.87225]},{distance:[.39335,.43437,.47737,.52234,.56923,.61801,.66864,.72109,.7753,.83123,.88882,.94801,1.00875,1.07097,1.13461,1.1996,1.26586,1.33333,1.40193,1.47158,1.54221,1.61373,1.68607,1.75913,1.83284,1.90711,1.98186,2.05699,2.13243,2.20809,2.28387,2.35971,2.4355,2.51117,2.58663,2.66179,2.73658,2.81092,2.88473,2.95792,3.03043,3.10217,3.17308,3.24309,3.31211,3.3801,3.44697,3.51267,3.57712,3.64028,3.70208,3.76247,3.8214,3.87881,3.93467,3.98892,4.04152,4.09244,4.14164,4.18908,4.23474,4.27859,4.32061,4.36077,4.39905,4.43544,4.46992,4.50249,4.53314,4.56185,4.58864,4.61349,4.63642,4.65745,4.67657,4.69381,4.7092,4.72274,4.73447,4.74441,4.75259,4.75903,4.76376,4.76682,4.76822,4.768,4.76618,4.76279,4.75786,4.75142,4.74348,4.73409,4.72326,4.71102,4.69739,4.68241,4.6661,4.64849,4.6296,4.60948,4.58816,4.56567,4.54204,4.51732,4.49154,4.46473,4.43694,4.4082,4.37854,4.348,4.31662,4.28443,4.25145,4.21773,4.1833,4.14819,4.11243,4.07606,4.03912,4.00162,3.96361,3.92512,3.88618,3.84683,3.80708,3.76697,3.72653,3.68579,3.64478,3.60351,3.56202,3.52033,3.47845,3.43642,3.39425,3.35196,3.30957,3.2671,3.22455,3.18196,3.13933,3.09668,3.05402,3.01136,2.96873,2.92613,2.88357,2.84108,2.79865,2.75631,2.71407,2.67195,2.62994,2.58807,2.54634,2.50477,2.46338,2.42216,2.38114,2.34032,2.29971,2.25933,2.21916,2.17923,2.13954,2.10008,2.06087,2.02189,1.98316,1.94468,1.90644,1.86845,1.83069,1.79316,1.75586,1.71877,1.68189,1.6452,1.60868,1.57232,1.53611,1.50004,1.46407,1.4282,1.39241,1.35668,1.321,1.28535,1.24972,1.2141,1.17849,1.14286,1.10723,1.07158,1.03593,1.00028,.96464,.92902,.89344,.85793,.8225,.78719,.75203,.71705,.68231,.64784,.61369,.57991,.54656,.51368,.48134,.44959,.41849,.3881,.35848,.32967,.30174,.27474,.24872,.22373,.19982,.17702,.15539,.13497,.11579,.09791,.08137,.06621,.05248,.04022,.02948,.02029,.01271,.00677,.00252,0,-76e-5,27e-5,.00314,.00788,.01451,.02307,.03357,.04604,.0605,.07697,.09546,.11599,.13858,.16322,.18992,.21869,.24952,.28241,.31735,.35434],pressure:[.95248,.95236,.95228,.95223,.95222,.95224,.95231,.95241,.95256,.95274,.95296,.95322,.95352,.95385,.95423,.95465,.9551,.9556,.95613,.9567,.95731,.95796,.95864,.95936,.96012,.96091,.96173,.96259,.96348,.9644,.96535,.96633,.96734,.96838,.96944,.97053,.97164,.97277,.97393,.9751,.97629,.9775,.97873,.97997,.98122,.98249,.98376,.98505,.98634,.98763,.98893,.99023,.99154,.99284,.99414,.99544,.99673,.99802,.9993,.99942,.99816,.99691,.99568,.99445,.99324,.99205,.99087,.98972,.98858,.98746,.98636,.98528,.98423,.9832,.98219,.98121,.98025,.97931,.9784,.97752,.97666,.97582,.97501,.97423,.97347,.97274,.97203,.97135,.9707,.97007,.96948,.9689,.96836,.96784,.96735,.96689,.96646,.96605,.96567,.96533,.965,.96471,.96445,.96421,.964,.96382,.96367,.96355,.96346,.96339,.96335,.96334,.96336,.9634,.96348,.96358,.9637,.96385,.96403,.96423,.96446,.96471,.96499,.96529,.96561,.96595,.96631,.96669,.96709,.96751,.96795,.9684,.96887,.96935,.96984,.97035,.97087,.9714,.97194,.97249,.97304,.97361,.97418,.97476,.97534,.97592,.97651,.97711,.9777,.9783,.9789,.9795,.9801,.9807,.9813,.9819,.9825,.98309,.98369,.98428,.98486,.98545,.98603,.98661,.98718,.98775,.98832,.98888,.98944,.99,.99056,.99112,.99167,.99223,.99279,.99335,.99392,.99449,.99507,.99565,.99624,.99684,.99745,.99807,.9987,.99934,1,.99933,.99866,.99797,.99727,.99656,.99583,.9951,.99435,.99359,.99283,.99205,.99126,.99046,.98966,.98885,.98803,.9872,.98637,.98554,.9847,.98387,.98303,.98219,.98134,.9805,.97967,.97883,.978,.97717,.97634,.97552,.97471,.97389,.97309,.97229,.9715,.97071,.96993,.96915,.96838,.96762,.96687,.96612,.96539,.96466,.96395,.96324,.96255,.96187,.9612,.96055,.95991,.95929,.95869,.95811,.95754,.957,.95648,.95599,.95552,.95508,.95467,.95428,.95393,.9536,.95331,.95305,.95283,.95264]},{distance:[2.85606,2.86149,2.86432,2.8645,2.862,2.85686,2.84912,2.83886,2.82618,2.81117,2.79393,2.77456,2.75314,2.72975,2.70447,2.67734,2.64844,2.61784,2.58564,2.55196,2.5169,2.48057,2.44305,2.40438,2.36462,2.32383,2.28208,2.23943,2.19591,2.15153,2.10628,2.06016,2.01321,1.96548,1.91702,1.86793,1.8183,1.76829,1.71803,1.66767,1.61737,1.56726,1.51746,1.46803,1.41902,1.37044,1.32228,1.27452,1.22716,1.18023,1.13376,1.08781,1.04244,.99769,.95357,.91003,.86701,.82447,.78238,.74069,.69938,.65836,.61758,.57699,.53656,.49627,.45611,.41611,.37632,.33683,.29776,.25924,.22141,.18441,.14839,.11346,.07972,.04727,.01619,-.01348,-.0417,-.0684,-.09351,-.11698,-.13875,-.1588,-.17713,-.19381,-.20889,-.22242,-.23444,-.24501,-.25421,-.26216,-.26897,-.27473,-.27951,-.28336,-.28631,-.28836,-.28948,-.28963,-.28873,-.28673,-.28355,-.27916,-.27354,-.26673,-.25878,-.2498,-.23992,-.22929,-.21802,-.20623,-.19398,-.18134,-.16836,-.1551,-.14163,-.12809,-.11461,-.1013,-.08826,-.07557,-.06335,-.0517,-.04077,-.03065,-.02143,-.01321,-.00606,0,.00496,.00888,.01181,.01385,.01511,.0157,.01574,.01533,.01458,.01358,.0124,.01112,.00979,.00851,.00738,.0065,.006,.00596,.00646,.00754,.00924,.01161,.01471,.01858,.02323,.02865,.03481,.04169,.0493,.05765,.06677,.07671,.08754,.09934,.11222,.12628,.14159,.15823,.17624,.19561,.21632,.23828,.26142,.28563,.31083,.33696,.36397,.39185,.42057,.4501,.48036,.51125,.54264,.5744,.60646,.63871,.67105,.70337,.73556,.76751,.79918,.83048,.86139,.8919,.92202,.95184,.98144,1.01094,1.04045,1.0701,1.10002,1.13029,1.16103,1.1923,1.22416,1.25664,1.28979,1.32364,1.35824,1.39363,1.42985,1.4669,1.50475,1.54332,1.58252,1.62227,1.6625,1.70312,1.744,1.78501,1.82598,1.8668,1.90734,1.94754,1.98732,2.02666,2.06555,2.10402,2.1421,2.17985,2.2173,2.25448,2.29139,2.328,2.36424,2.4,2.43515,2.46955,2.50309,2.53565,2.56717,2.59761,2.62692,2.65505,2.68191,2.7074,2.73138,2.75375,2.7744,2.79324,2.81017,2.82504,2.83772,2.8481],pressure:[.22758,.23641,.24578,.25568,.26609,.27699,.28835,.30016,.31237,.32495,.33789,.35113,.36466,.37843,.39241,.40658,.4209,.43535,.44989,.4645,.47916,.49385,.50853,.5232,.53784,.55243,.56696,.58141,.59578,.61004,.62419,.63821,.65209,.6658,.67934,.69268,.70582,.71873,.73139,.7438,.75594,.76779,.77935,.79061,.80156,.81221,.82254,.83258,.84231,.85176,.86091,.86978,.87837,.88669,.89473,.9025,.91,.91725,.92425,.931,.93752,.9438,.94985,.95566,.96124,.96658,.97168,.97652,.98109,.98539,.98939,.99309,.99646,.99949,.99783,.99552,.99361,.99209,.99098,.99029,.99003,.99019,.99079,.99181,.99324,.9951,.99735,1,.99698,.99361,.98992,.98592,.98163,.97709,.97231,.96731,.96212,.95676,.95122,.94554,.93973,.93378,.92773,.92157,.91532,.90899,.90258,.89612,.88961,.88308,.87653,.87,.8635,.85705,.85068,.8444,.83823,.83219,.82628,.82052,.81493,.80952,.8043,.79929,.7945,.78994,.78561,.78151,.77765,.77402,.77062,.76742,.76443,.76161,.75896,.75645,.75406,.75175,.74951,.7473,.74511,.74289,.74064,.73833,.73592,.73341,.73078,.728,.72507,.72197,.71869,.71522,.71156,.70769,.70363,.69936,.69489,.69021,.68533,.68023,.67492,.66939,.66363,.65765,.65145,.64501,.63833,.63143,.62428,.61691,.60931,.60148,.59344,.58521,.57679,.5682,.55948,.55063,.54167,.53264,.52354,.51439,.50522,.49603,.48686,.47773,.46865,.45964,.45072,.44192,.43324,.42469,.41629,.40804,.39994,.392,.3842,.37655,.36903,.36164,.35437,.3472,.34012,.33312,.3262,.31933,.31251,.30574,.299,.2923,.28563,.27899,.27239,.26583,.25933,.25288,.24652,.24025,.2341,.22808,.22221,.21653,.21104,.20576,.20072,.19592,.19138,.18712,.18313,.17943,.17602,.17292,.17013,.16766,.16551,.16369,.16222,.1611,.16036,.16001,.16007,.16055,.16148,.16286,.16471,.16705,.16988,.17321,.17706,.18144,.18636,.19182,.19785,.20443,.21158,.2193]},{distance:[-2.31317,-2.3191,-2.32189,-2.32154,-2.31811,-2.31174,-2.30254,-2.29062,-2.27609,-2.25904,-2.23954,-2.21767,-2.19355,-2.16732,-2.13907,-2.10885,-2.07672,-2.04268,-2.00677,-1.96911,-1.92985,-1.88914,-1.84713,-1.80397,-1.75979,-1.71467,-1.66864,-1.62171,-1.57395,-1.52546,-1.47625,-1.42628,-1.3755,-1.32384,-1.27131,-1.218,-1.16408,-1.10972,-1.05508,-1.00031,-.94551,-.89077,-.83615,-.7817,-.72757,-.6739,-.62076,-.56821,-.51625,-.46484,-.41397,-.36366,-.314,-.26506,-.21689,-.16957,-.12316,-.07766,-.03301,.01085,.05399,.09643,.13827,.17967,.22079,.26176,.30265,.34342,.38397,.42414,.46381,.50285,.54115,.57863,.61524,.65093,.6856,.71914,.75153,.78275,.81283,.84182,.86972,.89651,.92208,.94634,.96919,.99052,1.01025,1.02835,1.04484,1.05976,1.07309,1.08479,1.09492,1.1036,1.11096,1.11714,1.12224,1.12627,1.12916,1.13083,1.13125,1.13036,1.12816,1.12466,1.11992,1.11397,1.10677,1.09827,1.08849,1.07746,1.06527,1.05203,1.03786,1.02283,1.00695,.99025,.97279,.9546,.93573,.9163,.8965,.8765,.85647,.83652,.81687,.79775,.77939,.76199,.74568,.73049,.71635,.70316,.69082,.67925,.66834,.65804,.64831,.63911,.63032,.62184,.61363,.60564,.59788,.59036,.58308,.57597,.5689,.56177,.55447,.5469,.53896,.53062,.5219,.51283,.5034,.49355,.48335,.47287,.46223,.45154,.44085,.43012,.41923,.40805,.39648,.38441,.37176,.35849,.34458,.32999,.31461,.29833,.28109,.26288,.2437,.22361,.20265,.18082,.15807,.13434,.1096,.0838,.0569,.02894,0,-.0298,-.0604,-.09173,-.12364,-.15594,-.18843,-.22092,-.25331,-.28559,-.31781,-.35006,-.38244,-.41502,-.44785,-.48098,-.5144,-.54811,-.58218,-.61666,-.65153,-.68677,-.72232,-.75807,-.79397,-.83002,-.86628,-.90281,-.93968,-.97693,-1.01465,-1.05282,-1.09139,-1.13031,-1.16956,-1.20917,-1.24905,-1.28907,-1.32908,-1.36891,-1.40844,-1.44765,-1.48658,-1.52527,-1.56376,-1.60206,-1.64016,-1.67801,-1.71552,-1.75264,-1.78936,-1.8257,-1.86161,-1.89702,-1.93182,-1.96584,-1.99894,-2.03102,-2.06203,-2.0919,-2.12056,-2.14794,-2.17397,-2.19852,-2.22138,-2.24235,-2.26129,-2.27805,-2.29243,-2.30422],pressure:[.9681,.97424,.98046,.98674,.99309,.9995,.99404,.98754,.981,.97444,.96785,.96124,.95462,.94801,.94139,.93479,.92822,.92167,.91515,.90868,.90225,.89589,.88959,.88336,.87722,.87115,.86519,.85932,.85356,.84792,.84239,.83699,.83173,.8266,.82162,.81679,.81211,.80759,.80324,.79906,.79505,.79121,.78756,.78409,.78081,.77771,.77481,.77211,.76959,.76728,.76516,.76324,.76153,.76001,.75869,.75757,.75665,.75593,.7554,.75507,.75493,.75498,.75523,.75565,.75627,.75706,.75803,.75917,.76049,.76197,.76361,.76541,.76737,.76947,.77172,.77409,.7766,.77923,.78198,.78484,.7878,.79086,.79401,.79724,.80055,.80394,.8074,.81092,.8145,.81813,.82182,.82556,.82934,.83317,.83703,.84093,.84487,.84884,.85284,.85687,.86094,.86503,.86915,.87329,.87746,.88166,.88587,.89011,.89436,.89863,.90291,.9072,.91149,.91579,.92009,.92438,.92867,.93295,.9372,.94144,.94566,.94985,.954,.95812,.96219,.96623,.97021,.97415,.97802,.98184,.9856,.9893,.99293,.9965,1,.99657,.9932,.98991,.98668,.98352,.98042,.97738,.9744,.97148,.9686,.96577,.96298,.96023,.95751,.95482,.95214,.94949,.94684,.9442,.94156,.93892,.93627,.93361,.93094,.92825,.92555,.92284,.9201,.91735,.91458,.91179,.90899,.90616,.90332,.90047,.8976,.89472,.89183,.88893,.88603,.88314,.88024,.87735,.87448,.87162,.86878,.86597,.86319,.86044,.85774,.85508,.85247,.84993,.84744,.84503,.84269,.84042,.83825,.83616,.83417,.83227,.83048,.8288,.82724,.82578,.82445,.82324,.82215,.82119,.82037,.81967,.81911,.81868,.81839,.81824,.81823,.81835,.81862,.81903,.81957,.82026,.82109,.82206,.82317,.82443,.82583,.82737,.82906,.83089,.83287,.83499,.83726,.83968,.84223,.84494,.84778,.85077,.8539,.85717,.86058,.86412,.86781,.87163,.87559,.87968,.88391,.88826,.89275,.89737,.90211,.90698,.91198,.91709,.92233,.92768,.93315,.93873,.94441,.95019,.95607,.96205]},{distance:[4.72925,4.81721,4.9037,4.98859,5.07177,5.15311,5.23249,5.3098,5.38491,5.45772,5.52811,5.59598,5.66122,5.72375,5.78346,5.84028,5.8941,5.94486,5.99248,6.03689,6.07803,6.11584,6.15028,6.18128,6.20882,6.23285,6.25336,6.27031,6.28369,6.29348,6.29969,6.3023,6.30133,6.29678,6.28867,6.27703,6.26187,6.24324,6.22116,6.19567,6.16683,6.13468,6.09928,6.06068,6.01896,5.97417,5.92639,5.87569,5.82217,5.76589,5.70696,5.64545,5.58147,5.5151,5.44644,5.37559,5.30265,5.2277,5.15085,5.0722,4.99184,4.90987,4.82639,4.74151,4.65533,4.56794,4.47945,4.38996,4.29959,4.20843,4.11658,4.02416,3.93125,3.83796,3.74437,3.65057,3.55666,3.46272,3.36884,3.27509,3.18155,3.08831,2.99545,2.90303,2.81114,2.71984,2.62922,2.53933,2.45026,2.36207,2.27484,2.18862,2.10349,2.01951,1.93675,1.85528,1.77515,1.69644,1.61919,1.54348,1.46935,1.39685,1.32605,1.25698,1.18967,1.12417,1.06049,.99863,.93862,.88044,.82408,.76953,.71676,.66574,.61644,.56882,.52282,.47841,.43553,.39413,.35414,.31551,.27817,.24206,.20712,.17328,.14048,.10866,.07776,.04772,.01848,-.00999,-.03776,-.06487,-.09134,-.11721,-.14251,-.16725,-.19144,-.21509,-.2382,-.26076,-.28275,-.30416,-.32496,-.34511,-.36459,-.38334,-.40134,-.41852,-.43485,-.45026,-.46471,-.47815,-.49052,-.50179,-.51189,-.52081,-.52849,-.5349,-.54003,-.54383,-.54627,-.54734,-.54702,-.54528,-.54211,-.53752,-.53149,-.52403,-.51515,-.50487,-.4932,-.48015,-.46575,-.45001,-.43297,-.41463,-.39503,-.37419,-.35213,-.32887,-.30443,-.27885,-.25214,-.22432,-.19541,-.16544,-.13442,-.10235,-.06926,-.03514,0,.03616,.07336,.11159,.15088,.19125,.23272,.27531,.31906,.36401,.41019,.45764,.5064,.55651,.60802,.66096,.71538,.77129,.82874,.88776,.94836,1.01056,1.07438,1.13982,1.20687,1.27554,1.34581,1.41766,1.49107,1.56599,1.64239,1.72025,1.79951,1.88013,1.96209,2.04532,2.12979,2.21546,2.30226,2.39017,2.47911,2.56905,2.65991,2.75164,2.84416,2.93742,3.03133,3.12582,3.2208,3.31619,3.41191,3.50785,3.60393,3.70006,3.79612,3.89202,3.98765,4.08291,4.17767,4.27182,4.36525,4.45783,4.54944,4.63995],pressure:[.30942,.30838,.30765,.30724,.30715,.30738,.30795,.30884,.31007,.31164,.31354,.31578,.31837,.32129,.32455,.32815,.33209,.33636,.34097,.34591,.35117,.35675,.36265,.36887,.37539,.38221,.38933,.39674,.40442,.41238,.4206,.42907,.43779,.44675,.45593,.46533,.47493,.48473,.49471,.50486,.51517,.52563,.53623,.54694,.55777,.5687,.57971,.59079,.60194,.61313,.62435,.6356,.64686,.65811,.66935,.68056,.69174,.70286,.71391,.72489,.73579,.74659,.75728,.76785,.7783,.7886,.79876,.80877,.81861,.82827,.83776,.84706,.85617,.86507,.87378,.88227,.89056,.89863,.90649,.91412,.92153,.92872,.93568,.94241,.94892,.95519,.96122,.96702,.97258,.97791,.98299,.98783,.99242,.99677,.99911,.99525,.99164,.98827,.98515,.98228,.97966,.97728,.97514,.97324,.97159,.97017,.96898,.96801,.96727,.96674,.96641,.96629,.96635,.96661,.96703,.96762,.96838,.96928,.97032,.97149,.97279,.9742,.97572,.97734,.97905,.98085,.98273,.98468,.98669,.98877,.99091,.99311,.99535,.99765,1,.9976,.99516,.99267,.99014,.98755,.98491,.98222,.97947,.97666,.97378,.97083,.96781,.96471,.96153,.95826,.9549,.95144,.94787,.9442,.94042,.93651,.93249,.92834,.92407,.91966,.91512,.91045,.90564,.90069,.8956,.89037,.885,.87949,.87384,.86806,.86214,.85608,.84988,.84356,.83711,.83053,.82383,.81702,.81009,.80306,.79594,.78872,.78141,.77403,.76657,.75905,.75148,.74385,.73619,.72849,.72076,.71302,.70526,.69749,.68972,.68195,.67419,.66644,.65871,.65099,.64329,.63561,.62795,.62032,.61271,.60512,.59755,.59001,.58248,.57497,.56749,.56002,.55256,.54512,.5377,.5303,.52291,.51554,.50819,.50087,.49358,.48632,.4791,.47192,.4648,.45773,.45072,.44378,.43692,.43015,.42346,.41687,.41039,.40403,.39779,.39168,.38571,.37989,.37423,.36873,.36342,.35828,.35335,.34862,.34409,.3398,.33573,.3319,.32831,.32498,.32192,.31912,.3166,.31436,.31242,.31077]}]};export{l as StrokesTexture,n as generateStrokesTexture,a as strokesDefinition};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{Transparency as t}from\"./interfaces.js\";function e(t){let e=null;for(const r of t){const t=r.type;if(c(r))if(null==e)e=t;else if(e!==t)return\"uber\"}return null!=e?e:\"uber\"}function r(e){let r=t.INVISIBLE;for(const{material:n}of e)if(o(n)){if(n.color[3]*n.opacity<1)return t.TRANSPARENT;r=t.OPAQUE}return r}function n(e){let r=t.INVISIBLE;for(const{material:n}of e)if(o(n)){switch(n.objectTransparency){case t.TRANSPARENT:case t.INVISIBLE:return t.TRANSPARENT;case t.OPAQUE:if(n.opacity<1)return t.TRANSPARENT}r=t.OPAQUE}return r}function o(t){return t.size*t.color[3]*t.opacity>0}function c(t){return t.size*t.color[3]>0}function f(t,e,r,n){for(let o=0;o<t.length;o++){const c=t[o].index,f=e[o],i=e[o+1];if(n)for(let t=f;t<i;t++){const e=n[t];r.set(e,c)}else for(let t=f;t<i;t++)r.set(t,c)}}export{r as determineEdgeTransparency,n as determineObjectTransparency,e as determineRendererType,f as fillComponenBufferIndices};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{equals as r,binaryIndexOf as s}from\"../../../../../core/arrayUtils.js\";import n from\"../../../../../core/Logger.js\";import{clamp as o}from\"../../../../../core/mathUtils.js\";import{disposeMaybe as i,destroyMaybe as a}from\"../../../../../core/maybe.js\";import{property as c}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/has.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{f as d,t as u,e as h}from\"../../../../../chunks/mat3.js\";import{c as m}from\"../../../../../chunks/mat3f64.js\";import{c as g}from\"../../../../../chunks/mat4f64.js\";import{s as p,c as f,w as _,e as b}from\"../../../../../chunks/vec3.js\";import{c as y}from\"../../../../../chunks/vec3f64.js\";import{WatchUpdatingTracking as O}from\"../../../../../core/support/WatchUpdatingTracking.js\";import{g as j,a as w}from\"../../../../../chunks/sphere.js\";import{c as E}from\"../../../../../chunks/vec33.js\";import{ViewingMode as v}from\"../../../../ViewingMode.js\";import{encodeElevationOffset as R}from\"../../collections/Component/Material/shader/ComponentData.glsl.js\";import{TwoVectorPosition as x}from\"../../core/util/TwoVectorPosition.js\";import{GridLocalOriginFactory as T}from\"../GridLocalOriginFactory.js\";import{applyToModelMatrix as C}from\"../localOriginHelper.js\";import{LocalOriginManager as M}from\"../LocalOriginManager.js\";import{Object3D as P}from\"../Object3D.js\";import{VertexArrayObject as S}from\"../VertexArrayObject.js\";import{VertexAttribute as D}from\"../VertexAttribute.js\";import{VertexLayout as A,EdgeInputBufferLayout as k,EdgeShaderAttributeLocations as B,glVertexLayout as I}from\"./bufferLayouts.js\";import{RegularEdgeBufferWriter as U,SilhouetteEdgeBufferWriter as L}from\"./edgeBufferWriters.js\";import{EdgeType as H}from\"./edgePreprocessing.js\";import{EdgeRenderer as V,LINE_WIDTH_FRACTION_FACTOR as N,EXTENSION_LENGTH_OFFSET as G}from\"./EdgeRenderer.js\";import{EdgePassParameters as W}from\"./EdgeShaderParameters.js\";import{EdgeWorkerHandle as q}from\"./EdgeWorkerHandle.js\";import{Transparency as z}from\"./interfaces.js\";import{generateStrokesTexture as K}from\"./strokes.js\";import{determineRendererType as F,determineEdgeTransparency as Q,determineObjectTransparency as J,fillComponenBufferIndices as X}from\"./util.js\";import{BufferManager as Y}from\"../TextureBackedBuffer/BufferManager.js\";import{EdgeSilhouette as Z}from\"../../shaders/sources/edgeRenderer/EdgeUtil.glsl.js\";import{BufferObject as $}from\"../../../../webgl/BufferObject.js\";import{Usage as ee}from\"../../../../webgl/enums.js\";let te=class extends t{constructor(e){super(e),this._updatingHandles=new O,this._perObjectData=new Map,this._perObjectDataEvictionCache=new Set,this._renderers=new Map,this._gpuMemoryUsage=0,this._workerAbort=new AbortController,this._tmpModelPosition=y(),this._localOrigins=new M(new T(e.renderSR))}initialize(){this._worker=new q(this.schedule),this._componentColorManager=new Y(this.rctx,3);const e=A.createBuffer(4);for(let t=0;t<4;t++)e.sideness.set(t,0,0===t||3===t?0:1),e.sideness.set(t,1,0===t||1===t?0:1);this._verticesBufferObject=$.createVertex(this.rctx,ee.STATIC_DRAW,e.buffer)}destroy(){this.destroyed||(this._perObjectData.forEach((e=>this._discardObjectEntry(e))),this._perObjectData.clear(),this._strokesTexture=i(this._strokesTexture),this._componentColorManager=a(this._componentColorManager),this._workerAbort.abort(),this._worker.destroy(),this._verticesBufferObject=i(this._verticesBufferObject),this._renderers.clear(),this._updatingHandles.destroy(),this._set(\"schedule\",fe))}get updating(){return this._updatingHandles.updating}get usedMemory(){return this._gpuMemoryUsage}shouldRender(){return this._renderers.size>0}async addComponentObject(e,t,r,s,n,o,i,a){if(this.hasObject(e))return this.getObjectMemoryUsage(e);let c;const l=new ne(new Promise((e=>c=e)),r.center,r.radius);this._perObjectData.set(e,l);const d=await this._updatingHandles.addPromise(this._addComponentGeometry(t,l,s,n,o,i,a));return this.setNeedsRender(),c(),d}async addOrUpdateObject3D(e,t,r,s){if(this.destroyed)return void n.getLogger(this).warn(\"Attempt to add an object to a destroyed instance\");const o=this._perObjectData.get(e);let i;o?.renderables.length>0&&this._perObjectDataEvictionCache.add(o);const a=e.boundingVolumeWorldSpace.bounds,c=new ne(new Promise((e=>i=e)),j(a),w(a));this._perObjectData.set(e,c);const l=new Array;if(r.mergeGeometries&&e.geometries.length>1&&se(e))l.push(this._addObjectMergedGeometries(e,c,t,r,s));else for(let n=0;n<e.geometries.length;n++){const o=e.geometries[n];o.material.supportsEdges&&l.push(this._addGeometry(e,c,o,t[0],r,s))}await this._updatingHandles.addPromise(Promise.all(l)),this._perObjectDataEvictionCache.delete(c),this._discardObjectEntry(o),this.setNeedsRender(),i()}_discardObjectEntry(e){e&&(e.renderables.length&&(e.renderables.forEach((e=>this._removeRenderable(e))),this.setNeedsRender()),e.loaded=null)}hasObject(e){return this._perObjectData.has(e)}async updateAllComponentOpacities(e,t){const r=await this._updatingHandles.addPromise(this._getObjectEntry(e));if(null==r)return;const s=t instanceof Array?e=>t[e]:()=>t;r.renderables.forEach((e=>{const t=e.components.meta.length;for(let r=0;r<t;r++){const t=s(r),n=e.components.meta[r],o=n.index;n.material.opacity=t,e.components.buffer.textureBuffer.setDataElement(o,1,3,255*t)}this._updateTransparency(e)})),this.setNeedsRender()}async getObjectMemoryUsage(e){const t=await this._getObjectEntry(e);return null!=t?t.renderables.reduce(((e,t)=>e+t.statistics.gpuMemoryUsage),0):0}async updateAllComponentMaterials(e,t,r,s){const n=e instanceof P,o=!!r.hasSlicePlane,i=F(t),a=V.getKey(i,o,n),c=await this._updatingHandles.addPromise(this._getObjectEntry(e));null!=c&&(c.renderables.forEach((e=>{if(a!==e.rendererKey){const t=this._renderers.get(e.rendererKey),r=this._acquireRenderer(i,o,n);t.removeRenderable(e),--t.refCount,e.rendererKey=a,r.addRenderable(e)}for(let r=0;r<t.length;r++)e.components.meta[r].material=t[r];s&&this._updateComponentBuffer(e.components),this._updateTransparency(e)})),this.setNeedsRender())}async updateAllVerticalOffsets(e,t){const r=await this._updatingHandles.addPromise(this._getObjectEntry(e));null!=r&&(r.renderables.forEach((e=>{const r=e.components.meta;for(let s=0;s<r.length;s++)e.components.meta[s].verticalOffset=t?.[s]??0;this._updateComponentBuffer(e.components)})),this.setNeedsRender())}async updateObjectVisibility(e,t){const r=await this._updatingHandles.addPromise(this._getObjectEntry(e));null!=r&&(r.renderables.forEach((e=>e.visible=t)),this.setNeedsRender())}removeObject(e){const t=this._perObjectData.get(e);t&&(this._perObjectData.delete(e),this._discardObjectEntry(t))}async _getObjectEntry(e){const t=this._perObjectData.get(e);if(!t)throw new Error(\"no object\");return await t.loaded,null==t.loaded?null:t}render(e,t){if(null==this._componentColorManager)return;this._localOrigins.updateViewMatrices(e.camera.viewMatrix);const r=e.camera.viewInverseTransposeMatrix,s=y(),n=new x;let o=0,i=0;if(this._renderers.forEach((r=>{if(0===r.refCount)this._renderers.delete(r.key),r.dispose();else{let s=!0,n=!0;r.forEachRenderable((t=>{t.visible&&(o+=t.statistics.averageEdgeLength,i++,s&&t.regular&&(r.updateTechnique(e,!1),s=!1),n&&t.silhouette&&(r.updateTechnique(e,!0),n=!1))}),t)}})),this._componentColorManager.garbageCollect(),this._componentColorManager.updateTextures(),0===i)return;const a=new W(40*o/i,t);p(s,r[3],r[7],r[11]),n.set(s),f(a.transformWorldFromViewTH,n.high),f(a.transformWorldFromViewTL,n.low),d(a.transformViewFromCameraRelativeRS,e.camera.viewMatrix),u(pe,a.transformViewFromCameraRelativeRS),h(a.transformNormalViewFromGlobal,pe),a.transformProjFromView=e.camera.projectionMatrix,this._updateObjectCameraDistances(e),this._renderers.forEach((t=>{this._renderRegularEdges(t,e,a),this._renderSilhouetteEdges(t,e,a)}))}_updateTransparency(e){const t=Q(e.components.meta),r=J(e.components.meta);t===e.edgeTransparency&&r===e.objectTransparency||(e.edgeTransparency=t,e.objectTransparency=r,this._renderers.get(e.rendererKey).setRenderablesDirty())}_computeModelTransformWithLocalOrigin(e,t,r){e.getCombinedShaderTransformation(t,r);const s=null!=t.localOrigin?this._localOrigins.register(t.localOrigin):this._localOrigins.acquire(p(this._tmpModelPosition,r[12],r[13],r[14]));return t.localOrigin=s.origin,C(s.origin.vec3,r),s}_updateComponentBuffer(e){const{meta:t,buffer:r}=e,s=new Uint8Array(4);for(let n=0;n<t.length;n++){const e=t[n].material,i=t[n].index,a=o(Math.round(e.size*N),0,255),c=o(e.extensionLength,-G,255-G)+G,l=\"solid\"===e.type?H.SOLID:H.SKETCH,d=255*e.opacity,u=e.color,h=255*u[0],m=255*u[1],g=255*u[2],p=255*u[3];r.textureBuffer.setData(i,0,h,m,g,p),r.textureBuffer.setData(i,1,a,c,l,d),R(t[n].verticalOffset,s),r.textureBuffer.setData(i,2,s[0],s[1],s[2],s[3])}}_createComponentBuffers(e){if(null==this._componentColorManager)return null;const t=new Array,r=this._componentColorManager.getBuffer(e.length);for(let n=0;n<e.length;n++){const s=e[n],o=r.acquireIndex();t.push({index:o,verticalOffset:0,material:s})}const s=new oe(r,t);return this._updateComponentBuffer(s),s}_extractEdges(e,t,r,s,n,o=n.length){return this._worker.process({data:t,indices:n,indicesLength:o,writerSettings:e,skipDeduplicate:r},this._workerAbort.signal,s)}_createRenderable(e,t,r,s,n){const o=t=>null!=this._verticesBufferObject?new ie(new S(this.rctx,B,{vertices:I,instances:t===Z.REGULAR?U.glLayout:L.glLayout},{vertices:this._verticesBufferObject,instances:$.createVertex(this.rctx,ee.STATIC_DRAW,t===Z.REGULAR?e.regular.instancesData.buffer:e.silhouette.instancesData.buffer)}),t===Z.REGULAR?e.regular.lodInfo:e.silhouette.lodInfo):null,i=e.regular.lodInfo.lengths.length>0?o(Z.REGULAR):null,a=e.silhouette.lodInfo.lengths.length>0?o(Z.SILHOUETTE):null,c=(i?.vao.memoryEstimate??0)+(a?.vao.memoryEstimate??0);return new ce(i,a,{gpuMemoryUsage:c,externalMemoryUsage:n,averageEdgeLength:e.averageEdgeLength},r,Q(t.meta),J(t.meta),t,s)}async _addGeometry(e,t,r,s,n,o){const i=r.vertexAttributes.get(D.POSITION),a=r.indices.get(D.POSITION),c=g(),l=this._computeModelTransformWithLocalOrigin(e,r,c),d=new ge(i,a,c,l);return this._addPositionData(t,d,r.edgeIndicesLength,s,n,o)}async _addPositionData(e,t,r,s,n,o=!1){if(null==e.loaded)return;const i=this._createComponentBuffers([s]);if(null==i||r<=0)return;const a=this._acquireRenderer(s.type,!!n.hasSlicePlane,!0),{modelTransform:c,origin:l}=t,d=t.indices,u=t.position,h=u.data.length/u.size,m=k.createBuffer(h);for(let f=0;f<h;f++)m.position.set(f,0,u.data[f*u.size]),m.position.set(f,1,u.data[f*u.size+1]),m.position.set(f,2,u.data[f*u.size+2]);X(i.meta,[0,m.componentIndex.count],m.componentIndex);const g=await this._updatingHandles.addPromise(this._extractEdges(a.writerSettings,m,!1,o,d,r));if(null==e.loaded)return;const p=this._createRenderable(g,i,new ae(c,l),a.key,!1);e.renderables.push(p),a.addRenderable(p),this._gpuMemoryUsage+=p.statistics.gpuMemoryUsage}async _addComponentGeometry(e,t,r,s,n,o,i){if(null==t.loaded)return 0;const a=this._createComponentBuffers(o);if(null==a)return 0;const c=F(o),l=this._acquireRenderer(c,i.hasSlicePlane||!1,!1),d=k.createBuffer(r.length/3);E(d.position.typedBuffer,r,d.position.typedBufferStride,3),X(a.meta,n,d.componentIndex,s);const u=!0,h=l.writerSettings,m=await this._updatingHandles.addPromise(this._extractEdges(h,d,u,!1,s));if(null==t.loaded)return 0;const g=this._createRenderable(m,a,e,l.key,!0);return t.renderables.push(g),l.addRenderable(g),g.statistics.gpuMemoryUsage}async _addObjectMergedGeometries(e,t,r,s,n){const o=new Map;let i=0,a=null,c=0;for(let g=0;g<e.geometries.length;g++){const t=e.geometries[g];if(!t.material.supportsEdges)continue;!a&&t.localOrigin&&(a=t);const r=t.vertexAttributes.get(D.POSITION);c+=r.data.length/r.size,i+=t.edgeIndicesLength}const l=c>=65536?Uint32Array:Uint16Array,d=i?new l(i):null,u=[];let h=0;for(let g=0;g<e.geometries.length;g++){const t=e.geometries[g];if(!t.material.supportsEdges)continue;const r=t.vertexAttributes.get(D.POSITION),s=t.indices.get(D.POSITION);let n=o.get(r.data);if(null==n){n=u.length/3;for(let e=0;e<r.data.length;e+=r.size)u.push(r.data[e]),u.push(r.data[e+1]),u.push(r.data[e+2]);o.set(r.data,n)}if(s)for(let e=0;e<t.edgeIndicesLength;e++)d[h++]=n+s[e]}const m=a||e.geometries[0],p=g(),f=this._computeModelTransformWithLocalOrigin(e,m,p);for(let g=0;g<e.geometries.length;g++)e.geometries[g].localOrigin=f.origin;const _=new ge({data:u,size:3},d,p,f);await this._updatingHandles.addPromise(this._addPositionData(t,_,d.length,r[0],s,n))}_acquireRenderer(e,t,r){const s=V.getKey(e,t,r);let n=this._renderers.get(s);return null==this._strokesTexture&&(this._strokesTexture=K(this.rctx)),n||(n=new V(this.rctx,this.techniqueRepository,{type:e,hasSlicePlane:t,strokesTexture:this._strokesTexture,legacy:r,spherical:this.viewingMode===v.Global}),this._renderers.set(s,n)),++n.refCount,n}_removeRenderable(e){re(e.regular),re(e.silhouette);const t=this._renderers.get(e.rendererKey);if(t){t.removeRenderable(e),--t.refCount,\"origin\"in e.transform&&this._localOrigins.release(e.transform.origin),this._gpuMemoryUsage-=e.statistics.externalMemoryUsage?0:e.statistics.gpuMemoryUsage;for(const t of e.components.meta)e.components.buffer.releaseIndex(t.index)}}_updateObjectCameraDistances(e){const t=e.camera.eye,r=e.camera.viewForward,s=y(),n=e=>{_(s,e.center,t);const n=b(s,r),o=e.radius,i=n<-o?1/0:n<o?0:n-o;e.renderables.forEach((e=>e.distanceToCamera=i))};this._perObjectData.forEach(n),this._perObjectDataEvictionCache.forEach(n)}_renderRegularEdges(e,t,r){const s=e.bindRegularEdges(r,t),n=r.transparency,o=t.camera.perScreenPixelRatio;e.forEachRenderable((n=>{if(!de(n)||!n.visible)return;const i=me(n.regular.lod.lengths,n.distanceToCamera,o);e.renderRegularEdges(s,n,r,t,i)}),n)}_renderSilhouetteEdges(e,t,r){const s=e.bindSilhouetteEdges(r,t),n=r.transparency,o=t.camera.perScreenPixelRatio;e.forEachRenderable((n=>{if(!he(n)||!n.visible)return;const i=me(n.silhouette.lod.lengths,n.distanceToCamera,o);e.renderSilhouetteEdges(s,n,r,t,i)}),n)}get test(){return{hasRenderedPrimitives:e=>{let t=!1;const r=e.perScreenPixelRatio,s=(e,s)=>e.forEachRenderable((e=>{e.visible&&!t&&(de(e)&&(t=me(e.regular.lod.lengths,e.distanceToCamera,r)>0),!t&&he(e)&&(t=me(e.silhouette.lod.lengths,e.distanceToCamera,r)>0))}),s);return this._renderers.forEach((e=>{t||(s(e,z.OPAQUE),s(e,z.TRANSPARENT))})),t}}}};function re(e){null!=e&&(e.vao.vertexBuffers.instances.dispose(),e.vao.disposeVAOOnly(),e.vao=null)}function se(e){let t=null,s=null;for(let n=0;n<e.geometries.length;n++){const o=e.geometries[n];if(o.material.supportsEdges){if(t){if(!r(t,o.transformation))return!1}else t=o.transformation;if(s||null==o.localOrigin){if(s&&null!=s.localOrigin&&null!=o.localOrigin&&s.localOrigin.id!==o.localOrigin.id)return!1}else s=o}}return!0}e([c({constructOnly:!0})],te.prototype,\"rctx\",void 0),e([c({constructOnly:!0})],te.prototype,\"renderSR\",void 0),e([c({constructOnly:!0})],te.prototype,\"viewingMode\",void 0),e([c({constructOnly:!0})],te.prototype,\"techniqueRepository\",void 0),e([c({constructOnly:!0})],te.prototype,\"setNeedsRender\",void 0),e([c({constructOnly:!0})],te.prototype,\"schedule\",void 0),e([c({readOnly:!0})],te.prototype,\"_updatingHandles\",void 0),e([c({readOnly:!0})],te.prototype,\"updating\",null),te=e([l(\"esri.views.3d.webgl-engine.lib.edgeRendering.EdgeView\")],te);class ne{constructor(e,t,r){this.center=t,this.radius=r,this.renderables=new Array,this.loaded=e,this.loaded.then((()=>{null!=this.loaded&&(this.loaded=!0)}))}}class oe{constructor(e,t){this.buffer=e,this.meta=t}}class ie{constructor(e,t){this.vao=e,this.lod=t}}class ae{constructor(e,t){this.modelMatrix=e,this.origin=t}}class ce{constructor(e,t,r,s,n,o,i,a){this.regular=e,this.silhouette=t,this.statistics=r,this.transform=s,this.edgeTransparency=n,this.objectTransparency=o,this.components=i,this.rendererKey=a,this.distanceToCamera=0,this.visible=!0}}class le extends ce{}function de(e){return null!=e.regular}class ue extends ce{}function he(e){return null!=e.silhouette}function me(e,t,r){const n=t*r,o=s(e,n,!0);return-1===o?n<e[0]?e.length:0:e.length-o}class ge{constructor(e,t,r,s){this.position=e,this.indices=t,this.modelTransform=r,this.origin=s}}const pe=m(),fe=()=>Promise.reject();export{te as EdgeView,ae as LegacyTransform,le as RegularRenderable,ce as Renderable,ue as SilhouetteRenderable};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{hasRunningElapsedTimer as t}from\"./capabilities/DisjointTimerQuery.js\";function e(t,e){const u=t.capabilities.disjointTimerQuery;return null==u?null:new r(u,e)}class r{constructor(t,e){this._timer=t,this._queryPool=new Array,this._queryResults=new Map,this._currentQuery=null,e.forEach((t=>{const e=this._timer.createQuery(),r=this._timer.createQuery();this._queryPool.push(e,r),this._queryResults.set(t,null)}))}start(){t||(this._currentQuery=this._queryPool.pop(),null!=this._currentQuery&&(this._timer.disjoint(),this._timer.beginTimeElapsed(this._currentQuery)))}stop(t){if(this._timer.disjoint()||null==this._currentQuery||!this._queryResults.has(t))return this.abort(),null;this._timer.endTimeElapsed();const e=this._queryResults.get(t);if(null==e)return this._queryResults.set(t,this._currentQuery),this._currentQuery=null,null;if(!this._timer.resultAvailable(e))return this._queryPool.unshift(this._currentQuery),this._currentQuery=null,null;const r=this._timer.getResult(e)/1e6;return this._queryPool.unshift(e),this._queryResults.set(t,this._currentQuery),this._currentQuery=null,r}abort(){null!=this._currentQuery&&(this._timer.deleteQuery(this._currentQuery),this._queryPool.unshift(this._timer.createQuery()),this._currentQuery=null)}dispose(){null!=this._currentQuery&&this._timer.deleteQuery(this._currentQuery),this._queryPool.forEach((t=>{this._timer.deleteQuery(t)})),this._queryResults.forEach((t=>{null!=t&&this._timer.deleteQuery(t)}))}}export{e as createElapsedTimerPool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/PerformanceSampler.js\";import{Milliseconds as r}from\"../../../../core/time.js\";import{once as i}from\"../../../../core/accessorSupport/utils.js\";import{createElapsedTimerPool as o}from\"../../../webgl/TimerPool.js\";var a;!function(e){e.OVERLAY=\"overlay\",e.PREPARE=\"prepare\",e.SHADOW_MAP=\"shadow map\",e.LINEAR_DEPTH=\"linear depth\",e.ACCUMULATED_SHADOWS=\"accumulated shadows\",e.NORMALS=\"normals\",e.OBJECT_AND_LAYER_ID_COLOR=\"object/layer id color\",e.SSAO=\"SSAO\",e.OPAQUE=\"opaque\",e.OPAQUE_EDGES=\"opaque edges\",e.VOXEL=\"voxel\",e.TRANSPARENT=\"transparent\",e.TRANSPARENT_EDGES=\"transparent edges\",e.HUD_VISIBILITY=\"HUD visibility\",e.TRANSPARENT_TERRAIN=\"transparent terrain\",e.ENVIRONMENT=\"environment\",e.LASER_LINE=\"laser line\",e.OCCLUDED=\"occluded\",e.ANTIALIASING=\"antialiasing\",e.HIGHLIGHTS=\"highlights\",e.HUD=\"HUD\",e.HUD_OCCLUDED=\"HUD occluded\",e.FINISH=\"finish\"}(a||(a={}));const s=\"Total\";class m{constructor(e){this._rctx=e,this._startTimeStampCPU=r(0),this._lastTimeStampCPU=r(0),this._totalCPUTime=new t(s),this._cpuTimeSamplers=new Map(Object.values(a).map((e=>[e,new t(e)]))),this._enableGPUTimer=0,this._totalGPUTime=new t(\"GPU\"),this._gpuTimeSamplers=new Map(Object.values(a).map((e=>[e,new t(e)]))),this._totalTime=r(0),this._totalFrameCount=0}get totalCPUTimeSampler(){return this._totalCPUTime}get cpuTimeSamplers(){return Array.from(this._cpuTimeSamplers.values())}get totalGPUTimeSampler(){return this._totalGPUTime}get gpuTimeSamplers(){return Array.from(this._gpuTimeSamplers.values())}get gpuSamplingEnabled(){return null!=this._gpuTimerPool}get totalTime(){return this._totalTime}get totalFrameCount(){return this._totalFrameCount}get elapsedTime(){return r(performance.now()-this._startTimeStampCPU)}enableGPUPerformanceInfo(){if(null==this._gpuTimerPool){const e=[...Object.values(a),s];this._gpuTimerPool=o(this._rctx,e)}return null==this._gpuTimerPool?{hasGPUTimerSupport:!1,remove:()=>{}}:(++this._enableGPUTimer,{hasGPUTimerSupport:!0,remove:i((()=>{--this._enableGPUTimer,0===this._enableGPUTimer&&(this._gpuTimerPool=e(this._gpuTimerPool))}))})}startFrame(){this._startTimeStampCPU=this._lastTimeStampCPU=r(performance.now()),null!=this._gpuTimerPool&&this._gpuTimerPool.start()}advance(e){const t=r(performance.now());if(this._cpuTimeSamplers.get(e).record(t-this._lastTimeStampCPU),this._lastTimeStampCPU=t,null!=this._gpuTimerPool){const t=this._gpuTimerPool.stop(e);this._gpuTimeSamplers.get(e).record(t),this._gpuTimerPool.start()}}finishFrame(){if(null!=this._gpuTimerPool){const e=this._gpuTimerPool.stop(a.FINISH);this._gpuTimeSamplers.get(a.FINISH).record(e)}const e=r(performance.now()-this._startTimeStampCPU);this._totalTime=r(this._totalTime+e),this._totalCPUTime.record(e),null!=this._gpuTimerPool&&this._totalGPUTime.record(this.gpuTimeSamplers.reduce(((e,t)=>e+(t.last||0)),0)),++this._totalFrameCount}}export{a as PerformanceCategory,m as RendererPerformanceInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{update as t}from\"../../../../core/arrayUtils.js\";import s from\"../../../../core/Handles.js\";import has from\"../../../../core/has.js\";import{removeMaybe as i,disposeMaybe as a,destroyMaybe as n,applySome as h}from\"../../../../core/maybe.js\";import o from\"../../../../core/PooledArray.js\";import{watch as d,syncAndInitial as l,initial as _,sync as p}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{j as u,a as f,m as T}from\"../../../../chunks/mat4.js\";import{I as g,c as R}from\"../../../../chunks/mat4f64.js\";import{a as A}from\"../../../../chunks/boundedPlane.js\";import E from\"../../support/debugFlags.js\";import{TransparencyMode as S}from\"../../terrain/TerrainRenderer.js\";import{RenderPassManager as P}from\"../core/renderPasses/RenderPassManager.js\";import{ShaderOutput as b}from\"../core/shaderLibrary/ShaderOutput.js\";import{HUDTransparencyRenderStyle as y}from\"../core/shaderLibrary/hud/HUDUniforms.js\";import{AnimationTimeStep as I}from\"./AnimationTimeStep.js\";import{Decorations as O,RenderRequestType as C,StencilBits as D}from\"./basicInterfaces.js\";import{BoundingInfo as w}from\"./BoundingInfo.js\";import{ZERO as x,union as N}from\"./depthRange.js\";import{depthRangeFromScene as L}from\"./depthRangeUtils.js\";import{createEmptyDepthTexture as H}from\"./glUtil3D.js\";import{Highlight as M}from\"./Highlight.js\";import{RenderOccludedFlag as v}from\"./Material.js\";import{OffscreenRendering as U}from\"./OffscreenRendering.js\";import{RenderContext as F}from\"./RenderContext.js\";import{splitRenderGeometryChangeSetByMaterial as j}from\"./rendererUtils.js\";import{setupFeatureDefaults as q,RenderFeature as G}from\"./RenderFeature.js\";import{RenderPluginManager as V}from\"./RenderPluginManager.js\";import{RenderSlot as B}from\"./RenderSlot.js\";import{ShadowAccumulator as Q}from\"./ShadowAccumulator.js\";import{ShadowHighlight as k}from\"./ShadowHighlight.js\";import{ShadowMap as W,SnapshotSlot as Y}from\"./ShadowMap.js\";import X from\"./SliceHelper.js\";import{SmaaRenderPass as z}from\"./SmaaRenderPass.js\";import{SSAOHelper as J}from\"./SSAOHelper.js\";import{TransparencyPassType as K}from\"./TransparencyPassType.js\";import{EdgeView as Z}from\"./edgeRendering/EdgeView.js\";import{Transparency as $}from\"./edgeRendering/interfaces.js\";import{MergedRenderer as ee}from\"../materials/renderers/MergedRenderer.js\";import{AlphaMode as re}from\"../shaders/CompositingTechniqueConfiguration.js\";import{RendererPerformanceInfo as te,PerformanceCategory as se}from\"../statistics/RendererPerformanceInfo.js\";import{RenderState as ie}from\"../../../support/RenderState.js\";import{ClearBufferBit as ae,PixelFormat as ne,PixelType as he}from\"../../../webgl/enums.js\";let oe=class extends r{get _bindParameters(){return this._renderContext.bindParameters}updateRenderFeature(e=null,r=!has(\"disable-feature:high-quality-idle\")){this._renderStateFeatures=q(r,e),this.notifyChange(\"_renderStateFeatures\"),this._requestRender()}isFeatureEnabled(e,r=this._state){return this._renderStateFeatures?.get(r,e)??!1}setFeatureEnabled(e,r,t){this._renderStateFeatures?.set(r,e,t),this.notifyChange(\"_renderStateFeatures\"),this._requestRender()}get _antialiasing(){return this._antialiasingEnabled||this.isFeatureEnabled(G.Antialiasing)}get _highQualityTransparency(){return this._highQualityTransparencyEnabled||this.isFeatureEnabled(G.HighQualityTransparency)}get hasReflections(){return this.hasWater&&(this._ssrEnabled||this.isFeatureEnabled(G.WaterReflection))}get hasWater(){return this._hasWater||this._hasOverlayWater}constructor(e,r,t,i,a,n,h,p){super({}),this._stage=e,this._materialRepository=r,this._techniqueRepository=i,this._rctx=a,this._compositingHelper=n,this._magnifierHelper=h,this._requestRender=p,this._materialRenderers=new o,this._needsTransparentPass=!1,this._hasHUDElements=!1,this._hasHighlights=!1,this._hasWater=!1,this._hasOverlayWater=!1,this._renderOverlay=e=>{},this._isRendering=!1,this._fallbackDepthStencilTexture=null,this._sliceHelper=new X,this._state=ie.IDLE,this._renderStateFeatures=null,this._antialiasingEnabled=!0,this._highQualityTransparencyEnabled=!0,this._terrainRenderingEnabled=!0,this._terrainTransparency=S.Opaque,this._ssrEnabled=!1,this._ssaoEnabled=!1,this._hasAnimations=!1,this._animationTimestep=new I,this._handles=new s,this._renderHiddenTransparentEdges=()=>{},this._oitUsed=!1,this.updateRenderFeature(e.view.qualityProfile),this._smaaPass=new z(this._rctx,i),p(),this._offscreen=new U(this._rctx,this._compositingHelper),this.performanceInfo=new te(this._rctx),this._shadowMap=new W(this._rctx,e.viewingMode),this._ssaoHelper=new J(e.view,i,this._rctx,p),this._highlight=new M(i,this._rctx),this._shadowHighlight=new k(this._rctx,e.viewingMode),this._shadowAccumulator=new Q(this._rctx,i,e,(e=>{const r=this.shadowsEnabled;this._shadowMap.enabled=!0,this._prepare(e.camera,e.contentCamera),this._renderPlugins.prepareRender(),this._shadowMap.enabled=r}),((e,r,t)=>{e.shadowMap.start(e.camera,r,t,!0,this._stage.view.qualitySettings.maximumPixelRatio),this._renderShadowCascades(b.Shadow,e.shadowMap),e.camera.setGLViewport(this._rctx),this._prepare(e.camera,e.contentCamera)}),p),this._renderContext=new F(this._rctx,this._offscreen,this._shadowMap,this._ssaoHelper,this._sliceHelper),this._renderPlugins=new V({renderContext:this._renderContext,techniqueRepository:i,textureRepository:t,materialRepository:this._materialRepository,requestRender:p,controller:e}),this.renderPassManager=new P(this._rctx,this._techniqueRepository),this._renderPlugins.add(this.renderPassManager.slots(),this.renderPassManager),this._handles.add([d((()=>this._stage.view.state.camera),(()=>p()),l),d((()=>E.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES),(e=>{this._renderHiddenTransparentEdges=e?()=>this._renderEdges($.TRANSPARENT):()=>{},p()}),_),d((()=>this._ssaoEnabled||this.isFeatureEnabled(G.SSAO)),(e=>this._ssaoHelper.enabled=e),l)])}normalizeCtorArgs(){return{}}destroy(){this._handles.destroy(),this._smaaPass.dispose(),this._gpuTimerHandle=i(this._gpuTimerHandle),this._materialRenderers.forAll((e=>e.dispose())),this._materialRenderers.clear(),this._offscreen.dispose(),this._fallbackDepthStencilTexture=a(this._fallbackDepthStencilTexture),this._shadowMap.dispose(),this._ssaoHelper.destroy(),this._highlight.dispose(),this._shadowHighlight.dispose(),this._shadowAccumulator.dispose(),this._edgeView=n(this._edgeView),this.renderPassManager.destroy(),w.prune()}disposeOffscreenBuffers(){this._offscreen.dispose(),this._shadowMap.disposeOffscreenBuffers(),this._smaaPass.disable(),this._ssaoHelper.disposeOffscreenBuffers()}get updating(){return this._antialiasing&&this._smaaPass.updating||null!=this._edgeView&&this._edgeView.updating||this._shadowAccumulator.running||this._renderPlugins.updating||!this.isCameraFinal}ensureEdgeView(){if(null==this._edgeView){const e=this._stage.view.resourceController;this._edgeView=new Z({rctx:this._rctx,renderSR:this._stage.view.renderSpatialReference,viewingMode:this._stage.viewingMode,techniqueRepository:this._techniqueRepository,setNeedsRender:()=>this._requestRender(),schedule:ue(e)}),this._handles.add(d((()=>h(this._edgeView,(e=>e.updating))),(()=>this._requestRender()),p)),this._requestRender()}return this._edgeView}get edgeView(){return this._edgeView}get isCameraFinal(){return u(this._bindParameters.ssr.reprojectionMatrix,g)}set _reprojectionMatrix(e){t(this._bindParameters.ssr.reprojectionMatrix,e)&&this.notifyChange(\"isCameraFinal\")}get shadowsEnabled(){return!!this._shadowMap?.enabled}setParameters(e){const{_shadowMap:r,_bindParameters:t}=this;if(void 0!==e.qualitySettings?.reflections&&this._ssrEnabled!==e.qualitySettings.reflections&&(this._ssrEnabled=e.qualitySettings.reflections,this._requestRender()),void 0!==e.qualitySettings?.ambientOcclusion&&this._ssaoEnabled!==e.qualitySettings.ambientOcclusion&&(this._ssaoEnabled=e.qualitySettings.ambientOcclusion,this._requestRender()),void 0!==e.shadowMap&&this._shadowMap.enabled!==e.shadowMap&&(this._shadowMap.enabled=e.shadowMap,this._requestRender()),void 0!==e.shadowMapMaxCascades&&r.maxCascades!==e.shadowMapMaxCascades&&(r.maxCascades=e.shadowMapMaxCascades,this._requestRender()),null!=e.environment){null!=e.environment.weather&&(this._bindParameters.weather=e.environment.weather,this._bindParameters.weatherVisible=!!e.weatherVisible);const r=\"virtual\"!==e.environment.lighting.type;t.enableFillLights!==r&&(t.enableFillLights=r,this._requestRender())}e.background&&this._offscreen.background!==e.background&&(this._offscreen.background=e.background,this._requestRender()),void 0!==e.antialiasingEnabled&&this._antialiasingEnabled!==e.antialiasingEnabled&&(this._antialiasingEnabled=e.antialiasingEnabled,this._requestRender()),void 0!==e.highQualityTransparency&&this._highQualityTransparencyEnabled!==e.highQualityTransparency&&(this._highQualityTransparencyEnabled=e.highQualityTransparency,this._requestRender()),void 0!==e.defaultHighlightOptions&&(this._highlight.setDefaultOptions(e.defaultHighlightOptions),this._shadowHighlight.setDefaultOptions(e.defaultHighlightOptions),this._requestRender()),void 0!==e.overlays&&this._bindParameters.overlays!==e.overlays&&(this._bindParameters.overlays=e.overlays,this._requestRender()),void 0!==e.hasOverlayWater&&this._hasOverlayWater!==e.hasOverlayWater&&(this._hasOverlayWater=e.hasOverlayWater,this._requestRender()),void 0!==e.renderOverlay&&this._renderOverlay!==e.renderOverlay&&(this._renderOverlay=e.renderOverlay,this._requestRender()),void 0!==e.slicePlane&&this._sliceHelper.plane!==e.slicePlane&&(this._sliceHelper.plane=e.slicePlane,this._requestRender()),void 0!==e.terrainRenderingEnabled&&this._terrainRenderingEnabled!==e.terrainRenderingEnabled&&(this._terrainRenderingEnabled=e.terrainRenderingEnabled,this._requestRender()),void 0!==e.terrainTransparency&&this._terrainTransparency!==e.terrainTransparency&&(this._terrainTransparency=e.terrainTransparency,this._requestRender()),void 0!==e.shadowCastOptions&&this._shadowAccumulator.setOptions(e.shadowCastOptions)}get hasSlicePlane(){return!!this._sliceHelper.plane}get renderPlugins(){return this._renderPlugins}get _hasOITSupport(){return this._rctx.driverTest.floatBufferBlend.result}get _oitEnabled(){return this._highQualityTransparency&&this._hasOITSupport}modify(e,r){this._isRendering&&console.warn(\"Renderer.modify called while rendering\");const{adds:t,removes:s,updates:i}=e;if(0===t.length&&0===s.length&&0===i.length)return;const a=j(e);let n=!1;a.forEach(((t,s)=>{if(r.done)return;let i=this._materialRenderers.find((e=>e.material===s));null==i&&t.adds.length>0&&(i=new ee(this._rctx,this._materialRepository,s),this._materialRenderers.push(i)),i&&(i.modify(t),i.isEmpty&&(n=!0)),t.removes.forEach((r=>e.removes.removeUnordered(r))),t.adds.forEach((r=>e.adds.removeUnordered(r))),t.updates.forEach((r=>e.updates.removeUnordered(r))),r.madeProgress()})),n&&this._materialRenderers.filterInPlace((e=>!e.isEmpty||(e.dispose(),!1))),this._hasHighlights=this._materialRenderers.some((e=>e.hasHighlights)),this._bindParameters.hasOccludees=this._materialRenderers.some((e=>e.hasOccludees)),this._hasWater=this._materialRenderers.some((e=>e.hasWater)),this._hasHUDElements=this._materialRenderers.some((e=>e.requiresSlot(B.LINE_CALLOUTS_HUD_DEPTH,b.Color)||e.requiresSlot(B.HUD_MATERIAL,b.Color)||e.requiresSlot(B.LABEL_MATERIAL,b.Color))),this._requestRender()}updateAnimation(e){const r=this._hasAnimations;return this._hasAnimations=!1,this._materialRenderers.forAll((r=>this._hasAnimations=r.updateAnimation(e)||this._hasAnimations)),this._hasAnimations=this._renderPlugins.updateAnimation(e)||this._hasAnimations,this._hasAnimations!==r&&(this._gpuTimerHandle=r?i(this._gpuTimerHandle):this.performanceInfo.enableGPUPerformanceInfo()),this._hasAnimations}get animationTimestep(){return this._animationTimestep.value}get animationTimeDilation(){return this._animationTimestep.timeDilation}resetAnimation(){this._animationTimestep.clear()}render(e,r,t,s,i){this._isRendering=!0,this._oitUsed=!1,this.performanceInfo.startFrame();const{camera:a,contentCamera:n,mode:h,alignPixelEnabled:o}=t;this._state=h,this._renderOverlay(i),this.performanceInfo.advance(se.OVERLAY),this._renderContext.time=i,this._bindParameters.transparencyPassType=K.NONE,this._bindParameters.alignPixelEnabled=o;const d=this._offscreen;d.setupRenderTarget(this.hasReflections);const l=A(this._sliceHelper.plane);s===O.OFF&&(this._sliceHelper.plane=null),this._rctx.bindFramebuffer(e),a.setGLViewport(this._rctx),this._prepare(a,n),this._renderPlugins.prepareRender(),this.performanceInfo.advance(se.PREPARE);const _=this._computeDepthRange(a);this._renderShadowMap(e,a,this._bindParameters.lighting.mainLight.direction,_),this.performanceInfo.advance(se.SHADOW_MAP),d.initializeFrame(a),this._ensureBindParameters(a,n);const p=this._terrainRenderingEnabled&&(this._terrainTransparency===S.Semitransparent||this._terrainTransparency===S.TransparentWithDraped),c=this._highQualityTransparency&&p,m=this._needsTransparentPass||this._renderPlugins.needsTransparentPass;this._prepareShaders(c,m),this._renderLinearDepth(),this.performanceInfo.advance(se.LINEAR_DEPTH),this._accumulateShadows(_,a,n),this.performanceInfo.advance(se.ACCUMULATED_SHADOWS),this._renderNormal(),this.performanceInfo.advance(se.NORMALS),this._ensureBindParametersSSR(i),this._renderSSAO(i),this.performanceInfo.advance(se.SSAO),this._renderContext.output=b.Color,d.bindFramebuffer(),this._renderOpaqueGeometry(),this.performanceInfo.advance(se.OPAQUE),this._renderTerrainLinearDepth(c),this._setMultipassTerrain(c),this._renderEdges($.OPAQUE),this.performanceInfo.advance(se.OPAQUE_EDGES),this._offscreen.bindTarget(this._offscreen.currentColorTarget,this._offscreen.mainDepth),this._renderSlot(B.VOXEL),this.performanceInfo.advance(se.VOXEL),this._renderHiddenTransparentEdges(),m&&(this._oitEnabled?this._renderOITPass(de.Geometry):this._renderTransparentGeometry()),this.performanceInfo.advance(se.TRANSPARENT),this._renderGeometryLinearDepth(c);const u=this._renderHUDVisibility(c);c||this._renderInternalSlot(B.LINE_CALLOUTS),this.performanceInfo.advance(se.HUD_VISIBILITY),this._renderObjectAndLayerIdColor(r),this.performanceInfo.advance(se.OBJECT_AND_LAYER_ID_COLOR),this._renderEdges($.TRANSPARENT,c),this.performanceInfo.advance(se.TRANSPARENT_EDGES),this._renderTransparentTerrain(),p&&u&&(c?this._renderLineCallouts(y.Occluded):d.compositeTransparentTerrainOntoHUDVisibility(this._bindParameters),this._renderHUD(y.Occluded,d.framebuffer),this.performanceInfo.advance(se.HUD_OCCLUDED)),this.performanceInfo.advance(se.TRANSPARENT_TERRAIN),this._setTerrainCulling(!1),p&&(d.compositeTransparentTerrainOntoMain(this._bindParameters),c&&(this._renderEdges($.OPAQUE),this.performanceInfo.advance(se.OPAQUE_EDGES),m&&(this._oitEnabled?this._renderOITPass(de.Geometry):this._renderTransparentGeometry()),this.performanceInfo.advance(se.TRANSPARENT),this._renderEdges($.TRANSPARENT),this.performanceInfo.advance(se.TRANSPARENT_EDGES))),c&&this._renderLineCallouts(y.NotOccluded),this._setMultipassEnabled(!1),this._shadowAccumulator.render(this._bindParameters),d.renderToTargets((()=>{this._renderInternalSlot(B.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),this._renderSlot(B.POSTPROCESSING_ENVIRONMENT_TRANSPARENT),this._renderSlot(B.LASERLINES)}),d.currentColorTarget,d.mainDepth),this.performanceInfo.advance(se.ENVIRONMENT),this._renderPlugins.needsLaserlineWithContrastControl&&d.renderTmpAndCompositeToMain((()=>this._renderSlot(B.LASERLINES_CONTRAST_CONTROL)),this._bindParameters,re.PremultipliedAlpha),this.performanceInfo.advance(se.LASER_LINE),this._renderOccluded(),this.performanceInfo.advance(se.OCCLUDED);const f=s===O.ON&&this._magnifierHelper.enabled,T=f&&null==e?this._offscreen.getFramebuffer(this._offscreen.tmpColor,this._offscreen.tmpDepth):e;this._rctx.bindFramebuffer(T);const g=this._offscreen.colorTexture;this._renderAntiAliasing(g)||null==g||this._compositingHelper.composite(this._bindParameters,g,re.None),this.performanceInfo.advance(se.ANTIALIASING),this._renderHUD(y.NotOccluded,T),this.performanceInfo.advance(se.HUD),this._renderHighlights(T,this._bindParameters),this.performanceInfo.advance(se.HIGHLIGHTS),f&&this._magnifierHelper.render(this._rctx,this._bindParameters),T!==e&&(this._rctx.bindFramebuffer(e),this._compositingHelper.composite(this._bindParameters,this._offscreen.tmpColorTexture,re.None)),this._disposeOITBuffers(),this._renderContext.lastFrameCamera.copyFrom(this._bindParameters.camera),this._sliceHelper.plane=l,this._isRendering=!1,this.onPostRender&&this.onPostRender(),this.performanceInfo.finishFrame()}_prepareShaders(e,r){this._renderContext.output=b.Color,this._prepareOpaqueGeometrySlots(),this._setMultipassTerrain(e),this._prepareSlots(B.TRANSPARENT_TERRAIN),this._setMultipassTerrain(!1),e||this._prepareInternalSlots(this._materialRenderers,B.LINE_CALLOUTS),r&&this._prepareTransparencySlots(),this._prepareInternalSlots(this._materialRenderers,B.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),this._prepareSlots(B.POSTPROCESSING_ENVIRONMENT_TRANSPARENT,B.LASERLINES),this._rctx.gl.flush()}_renderObjectAndLayerIdColor(e){if(null!=e&&has(\"enable-feature:objectAndLayerId-rendering\")){const r=this._renderContext.output;this._rctx.bindFramebuffer(e),this._offscreen.renderToFBO((()=>this._renderGeometryAndTransparentTerrainPass(b.ObjectAndLayerIdColor)),[0,0,0,0],!0,!0),this._rctx.bindFramebuffer(e),this._offscreen.renderToFBO((()=>{this._bindParameters.renderTransparentlyOccludedHUD=y.NotOccluded,this._renderInternalSlot(B.HUD_MATERIAL)}),void 0,!0,!0),this._renderContext.output=r}}finish(e){this._hasAnimations||this._animationTimestep.clear();const r=this.performanceInfo.gpuSamplingEnabled,t=e===C.BACKGROUND;if(t||r){const e=t?this.performanceInfo.elapsedTime:0,s=r?this.performanceInfo.totalGPUTimeSampler.last:this._rctx.gl.getError(),i=Math.max(e,s);this._animationTimestep.frame(i,t)}}readDepthPixels(e,r,t){const s=this._offscreen.bindTarget(this._offscreen.linearDepth,this._offscreen.tmpDepth);if(!this._needsLinearDepth){this._ensureBindParameters(e,e),this._bindParameters.camera.setGLViewport(this._rctx),this._rctx.setClearColor(0,0,0,0);const r=ae.COLOR_BUFFER_BIT|ae.DEPTH_BUFFER_BIT|ae.STENCIL_BUFFER_BIT;this._rctx.clearSafe(r),this._renderGeometryAndTransparentTerrainPass(b.Depth)}s.readPixels(r[0],r[1],r[2],r[3],ne.RGBA,he.UNSIGNED_BYTE,t)}readHUDVisibility(e,r,t,s,i){this._offscreen.bindTarget(this._offscreen.hudVisibility).readPixels(e,r,t,s,ne.RGBA,he.UNSIGNED_BYTE,i)}readAccumulatedShadow(e){return this._shadowAccumulator.readAccumulatedShadow(e[0],e[1])}_setMultipassTerrain(e){this._setMultipassEnabled(e),this._setTerrainCulling(e)}_setMultipassEnabled(e){this._bindParameters.multipassTerrain.enabled=this._bindParameters.multipassGeometry.enabled=e}_setTerrainCulling(e){this._bindParameters.multipassTerrain.cullAboveGround=e}_prepareSlots(...e){this._renderPlugins.prepareSlots(e)}_renderSlot(e){this._bindParameters.slot=e,this._renderPlugins.render()}_renderEdges(e,r=!1){const t=this._edgeView;null!=t&&t.shouldRender()&&this._offscreen.renderTmpAndCompositeToMain((()=>t.render(this._bindParameters,e)),this._bindParameters,re.Alpha,r)}_renderShadowMap(e,r,t,s){const i=this._shadowMap;i.enabled&&(i.start(r,t,s,this.isFeatureEnabled(G.HighResolutionShadows),this._stage.view.qualitySettings.maximumPixelRatio),this._shadowHighlight.updateParameters(r,t),this._needsShadowHighlight?(this._renderShadowCascades(b.ShadowHighlight,this._shadowMap,(e=>i.takeCascadeSnapshotTo(e,Y.Highlight))),i.clear(),this._renderShadowCascades(b.ShadowExcludeHighlight,this._shadowMap,(e=>{i.takeCascadeSnapshotTo(e,Y.Default),this._renderGeometryAndTransparentTerrainPass(b.ShadowHighlight)}))):this._renderShadowCascades(b.Shadow),i.finish(e),r.setGLViewport(this._rctx))}_renderShadowCascades(e,r=this._shadowMap,t=(e=>{})){for(const s of r.cascades)s.camera.setGLViewport(this._rctx),this._prepare(s.camera,s.camera),this._renderGeometryAndTransparentTerrainPass(e),t(s)}get _needsLinearDepth(){return this._ssaoHelper.active||this._renderPlugins.needsLinearDepth||this.hasReflections||this._needsShadowHighlight||this._needsShadowCast}_renderLinearDepth(){this._needsLinearDepth?this._offscreen.renderToTargets((()=>this._renderGeometryAndTransparentTerrainPass(b.Depth)),this._offscreen.linearDepth,this._offscreen.tmpDepth,[0,0,0,0],!0,!0):this._offscreen.disposeTarget(this._offscreen.linearDepth),this._bindParameters.linearDepthTexture=this._offscreen.linearDepthTexture}_renderTerrainLinearDepth(e){if(e){const e=this._renderContext.output;this._renderContext.output=b.Depth,this._offscreen.renderToTargets((()=>this._renderTransparentTerrain()),this._offscreen.terrainLinearDepth,this._offscreen.tmpDepth,[-1e10,-1e10,-1e10,1],!0,!0),this._renderContext.output=e}else this._offscreen.disposeTarget(this._offscreen.terrainLinearDepth);this._bindParameters.multipassTerrain.linearDepthTexture=this._offscreen.terrainLinearDepthTexture}_renderGeometryLinearDepth(e){if(e){const e=this._renderContext.output;this._offscreen.renderToTargets((()=>this._renderGeometryPass(b.Depth)),this._offscreen.geometryLinearDepth,this._offscreen.tmpDepth,[1,1,1,1],!0,!0),this._renderContext.output=e}else this._offscreen.disposeTarget(this._offscreen.geometryLinearDepth);this._bindParameters.multipassGeometry.linearDepthTexture=this._offscreen.geometryLinearDepthTexture}get _needsNormal(){return this._ssaoHelper.active}_renderNormal(){this._needsNormal?this._offscreen.renderToTargets((()=>{this._renderGeometryAndTransparentTerrainPass(b.Normal)}),this._offscreen.normal,this._offscreen.tmpDepth,[0,0,0,0],!0,!0):this._offscreen.disposeTarget(this._offscreen.normal)}get _needsDepthRange(){return this._shadowMap.enabled||this._needsShadowCast}_computeDepthRange(e){if(!this._needsDepthRange)return x;const r=L(e,this._materialRenderers,this._stage.layers);return N(r,this.renderPlugins.queryDepthRange(e)),r.near=Math.max(e.near,r.near),r.far=Math.min(e.far,r.far),r}_renderGeometryAndTransparentTerrainPass(e){this._renderContext.output=e,this._prepareSlots(B.TRANSPARENT_TERRAIN),this._renderGeometryPass(e),this._renderTransparentTerrain()}_renderGeometryPass(e){this._renderContext.output=e,this._prepareSlots(B.TRANSPARENT_MATERIAL),this._renderOpaqueGeometry(),this._renderTransparentGeometry()}_renderSSAO(e){this._ssaoHelper.render(this._bindParameters,e,this._offscreen.linearDepthTexture,this._offscreen.normalTexture)}_prepareOpaqueGeometrySlots(){this._prepareSlots(B.INTEGRATED_MESH,B.OPAQUE_TERRAIN,B.OPAQUE_MATERIAL,B.POSTPROCESSING_ENVIRONMENT_OPAQUE),this._prepareInternalSlots(this._materialRenderers,B.OPAQUE_MATERIAL)}_renderOpaqueGeometry(){this._renderSlot(B.INTEGRATED_MESH),this._renderSlot(B.OPAQUE_TERRAIN),this._renderInternalSlot(B.OPAQUE_MATERIAL),this._renderSlot(B.OPAQUE_MATERIAL),this._renderSlot(B.POSTPROCESSING_ENVIRONMENT_OPAQUE)}_renderTransparentGeometry(){this._renderInternalSlot(B.TRANSPARENT_MATERIAL),this._renderSlot(B.TRANSPARENT_MATERIAL)}_renderTransparentTerrain(){this._renderSlot(B.TRANSPARENT_TERRAIN)}_renderHUDVisibility(e){let r=!1;return this._renderContext.offscreenRenderingHelper&&this._renderContext.offscreenRenderingHelper.renderHUDVisibility((()=>{this._bindParameters.hudVisibilityTexture=this._renderContext.offscreenRenderingHelper.hudVisibilityTexture,r=this._renderInternalSlot(B.OCCLUSION_PIXELS)}),e),r}_renderLineCallouts(e){this._bindParameters.renderTransparentlyOccludedHUD=e,e===y.Occluded?this._offscreen.renderToTargets((()=>this._renderInternalSlot(B.LINE_CALLOUTS)),this._offscreen.currentColorTarget,this._offscreen.tmpDepth,void 0,!0,!0):this._renderInternalSlot(B.LINE_CALLOUTS)}_renderHUD(e,r){this._hasHUDElements&&(this._oitEnabled?(this._renderOITPass(de.HUD,e),this._rctx.bindFramebuffer(r),this._compositingHelper.composite(this._bindParameters,this._offscreen.hudColorTexture,re.PremultipliedAlpha)):e===y.Occluded?this._offscreen.renderToTargets((()=>this._renderHUDElements(y.Occluded)),this._offscreen.currentColorTarget,this._offscreen.tmpDepth,void 0,!0,!0):this._renderHUDElements(e))}_renderHUDElements(e){this._bindParameters.renderTransparentlyOccludedHUD=e,this._prepareInternalSlots(this._materialRenderers,B.LINE_CALLOUTS_HUD_DEPTH,B.HUD_MATERIAL,B.LABEL_MATERIAL),this._renderInternalSlot(B.LINE_CALLOUTS_HUD_DEPTH),this._renderInternalSlot(B.HUD_MATERIAL),this._renderInternalSlot(B.LABEL_MATERIAL)}get _needsHighlight(){return this._hasHighlights||this._renderPlugins.needsHighlight}get _needsShadowHighlight(){return this._shadowMap.enabled&&this._shadowHighlight.isVisible&&this._needsHighlight}_renderHighlights(e,r){if(!this._needsHighlight)return void this._offscreen.disposeTarget(this._offscreen.highlight);const t=this._highlight,s=this._offscreen.renderToTargets((()=>{this._renderGeometryAndTransparentTerrainPass(b.Highlight),this._rctx.clearSafe(ae.DEPTH_BUFFER_BIT),this._renderHUDElements(y.Both)}),this._offscreen.highlight,this._offscreen.tmpDepth,[0,0,0,0],!0,!0);this._bindParameters.highlightColorTexture=s.colorTexture,this._needsShadowHighlight&&this._shadowHighlight.render(r,e),t.render(this._bindParameters,s,e)}get _needsShadowCast(){return this._shadowAccumulator.isAccumulating}_accumulateShadows(e,r,t){this._needsShadowCast&&null!=this._offscreen.linearDepthTexture&&this._shadowAccumulator.renderAccumulation(this._offscreen.linearDepthTexture,e,r,t)}_prepareTransparencySlots(){this._renderContext.output=b.Alpha,this._bindParameters.transparencyPassType=K.Alpha,this._prepareInternalSlots(this._materialRenderers,B.TRANSPARENT_MATERIAL),this._prepareSlots(B.TRANSPARENT_MATERIAL),this._renderContext.output=b.Color,this._bindParameters.transparencyPassType=K.Color,this._prepareInternalSlots(this._materialRenderers,B.TRANSPARENT_MATERIAL),this._prepareSlots(B.TRANSPARENT_MATERIAL),this._bindParameters.transparencyPassType=K.FrontFace,this._prepareInternalSlots(this._materialRenderers,B.TRANSPARENT_MATERIAL),this._prepareSlots(B.TRANSPARENT_MATERIAL),this._bindParameters.transparencyPassType=K.NONE}_renderOITPass(e,r=y.Both){const t=e===de.HUD,s=t?()=>this._renderHUDElements(r):()=>this._renderTransparentGeometry(),i=e=>{this._bindParameters.transparencyPassType=e,this._offscreen.renderOITPass(s,e,t)},a=this._renderContext.output;this._renderContext.output=b.Alpha,i(K.Alpha),this._renderContext.output=b.Color,i(K.Color),i(K.FrontFace),this._offscreen.compositeTransparentOntoOpaque(this._bindParameters,t),this._bindParameters.transparencyPassType=K.NONE,this._renderContext.output=a,this._oitUsed=!0}_disposeOITBuffers(){this._oitUsed||(this._offscreen.disposeTarget(this._offscreen.alphaFloatTarget),this._offscreen.disposeTarget(this._offscreen.colorFloatTarget),this._offscreen.disposeTarget(this._offscreen.frontFaceTarget))}_renderOccluded(){let e=0;_e.clear(),this._materialRenderers.forAll((r=>{r.material&&r.material.isVisible()&&r.material.renderOccluded===v.OccludeAndTransparentStencil&&(e|=r.material.renderOccluded,_e.push(r))}));const r=this._offscreen,t=(t,s,i,a,n)=>{0!=(e&s)&&(r.renderToTargets(i,r.tmpColor,r.mainDepth,[0,0,0,0],a,n),r.compositeOccludedOntoMain(this._bindParameters,t))};0!==_e.length&&(this._prepareInternalSlots(_e,B.OCCLUDER_MATERIAL,B.TRANSPARENT_OCCLUDER_MATERIAL),this._renderInternalSlot(B.OCCLUDER_MATERIAL,_e),t(.5,v.OccludeAndTransparentStencil,(()=>this._renderInternalSlot(B.TRANSPARENT_OCCLUDER_MATERIAL,_e)),!1,!1)),_e.clear(),this._materialRenderers.forAll((r=>{r.material&&r.material.isVisible()&&(r.material.renderOccluded===v.OccludeAndTransparent||r.material.renderOccluded===v.Transparent||r.material.renderOccluded===v.Opaque)&&(e|=r.material.renderOccluded,_e.push(r))}));const s=this._renderPlugins.renderOccludedFlags;if(e|=s,!e)return;const i=e=>{this._renderContext.renderOccludedMask=e,this._prepareInternalSlots(_e,B.OPAQUE_MATERIAL,B.TRANSPARENT_MATERIAL,B.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),s>v.Occlude&&this._renderSlot(B.OCCLUDED_TERRAIN),this._renderInternalSlot(B.OPAQUE_MATERIAL,_e),this._renderInternalSlot(B.TRANSPARENT_MATERIAL,_e),this._renderInternalSlot(B.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,_e),this._renderContext.resetRenderOccludedMask()};this._renderContext.output=b.Color,t(.5,v.OccludeAndTransparent,(()=>i(v.OccludeAndTransparent)),!0,D.OutlineVisualElementMask),t(.5,v.Transparent,(()=>i(v.Transparent)),!0,D.OutlineVisualElementMask),t(1,v.Opaque,(()=>i(v.Opaque)),!0,D.OutlineVisualElementMask),_e.clear()}_renderAntiAliasing(e){if(this._antialiasing){if(this._smaaPass.enable((()=>this._requestRender()))&&null!=e)return this._smaaPass.render(e),!0}else this._smaaPass.disable();return!1}_prepare(e,r){this._needsTransparentPass=this._materialRenderers.some((e=>e.requiresSlot(B.TRANSPARENT_MATERIAL,b.Color))),this._bindParameters.camera=e,this._bindParameters.contentCamera=r}_ensureBindParameters(e,r){this._bindParameters.camera=e,this._bindParameters.contentCamera=r;const t=this._renderContext.offscreenRenderingHelper;this._bindParameters.hudVisibilityTexture=t.hudVisibilityTexture,this._bindParameters.mainColorTexture=t.mainColorTexture,this._bindParameters.highlightDepthTexture=t.depthTexture??this._getFallbackDepthTexture()}_ensureBindParametersSSR(e){if(this._bindParameters.ssr.enabled=this.hasReflections,this._bindParameters.ssr.enabled){null==this._ssrEnableTime&&(this._ssrEnableTime=e),this._renderContext.lastFrameCamera.equals(this._bindParameters.camera)?this._reprojectionMatrix=g:(f(ce,this._bindParameters.camera.viewMatrix),f(pe,this._bindParameters.camera.projectionMatrix),T(me,ce,pe),T(me,this._renderContext.lastFrameCamera.viewMatrix,me),T(me,this._renderContext.lastFrameCamera.projectionMatrix,me),this._reprojectionMatrix=me),this._bindParameters.ssr.lastFrameColorTexture=this._offscreen.lastFrameColorTexture;const r=this._stage.view.qualitySettings.fadeDuration;this._bindParameters.ssr.fadeFactor=r>0?Math.min(r,e-this._ssrEnableTime)/r:1,this._bindParameters.ssr.fadeFactor<1&&this._requestRender()}else this._reprojectionMatrix=g,this._bindParameters.ssr.lastFrameColorTexture=null,this._ssrEnableTime=null}_prepareInternalSlots(e,...r){for(const t of r)this._bindParameters.slot=t,e.forAll((e=>{e.material.shouldRender(this._renderContext)&&e.prepareTechnique(this._renderContext)}))}_renderInternalSlot(e,r=this._materialRenderers){let t=!1;return this._bindParameters.slot=e,r.forAll((e=>{if(e.material.shouldRender(this._renderContext)){const r=e.prepareTechnique(this._renderContext);null!=r&&(e.render(this._renderContext,r),t=!0)}})),t}_getFallbackDepthTexture(){return this._fallbackDepthStencilTexture||(this._fallbackDepthStencilTexture=H(this._rctx)),this._fallbackDepthStencilTexture}get gpuMemoryUsage(){return{offscreen:this._offscreen?.gpuMemoryUsage??0,highlights:(this._highlight?.gpuMemoryUsage??0)+(this._shadowHighlight?.gpuMemoryUsage??0),shadows:this._shadowMap?.gpuMemoryUsage??0,ssao:this._ssaoHelper?.gpuMemoryUsage??0}}get test(){const e=this;return{offscreen:this._offscreen,shadowMap:this._shadowMap,ssao:this._ssaoHelper,highlight:this._highlight,lighting:this._bindParameters.lighting,materialRenderers:this._materialRenderers,shadowAccumulator:this._shadowAccumulator,weatherIsFading:this._bindParameters.cloudsFade.isFading,resetRenderStateFeatures:()=>{e._renderStateFeatures=q()},getFramebufferTexture:r=>{switch(r){case le.Color:return e._offscreen.colorTexture;case le.LinearDepth:return e._offscreen.linearDepthTexture;case le.Normals:return e._offscreen.normalTexture;case le.ShadowMap:return e._shadowMap.depthTexture;case le.HudVisibility:return e._offscreen.hudVisibilityTexture;case le.Highlight:return e._offscreen.highlightTexture}}}}};var de,le;e([c()],oe.prototype,\"_renderPlugins\",void 0),e([c()],oe.prototype,\"_shadowAccumulator\",void 0),e([c()],oe.prototype,\"_state\",void 0),e([c()],oe.prototype,\"_renderStateFeatures\",void 0),e([c()],oe.prototype,\"_antialiasingEnabled\",void 0),e([c({readOnly:!0})],oe.prototype,\"_antialiasing\",null),e([c()],oe.prototype,\"_ssaoEnabled\",void 0),e([c()],oe.prototype,\"_smaaPass\",void 0),e([c({autoDestroy:!0})],oe.prototype,\"_edgeView\",void 0),e([c()],oe.prototype,\"updating\",null),e([c()],oe.prototype,\"isCameraFinal\",null),oe=e([m(\"esri.views.3d.webgl-engine.lib.Renderer\")],oe),function(e){e[e.Geometry=0]=\"Geometry\",e[e.HUD=1]=\"HUD\"}(de||(de={})),function(e){e[e.Color=0]=\"Color\",e[e.LinearDepth=1]=\"LinearDepth\",e[e.Normals=2]=\"Normals\",e[e.ShadowMap=3]=\"ShadowMap\",e[e.HudVisibility=4]=\"HudVisibility\",e[e.Highlight=5]=\"Highlight\"}(le||(le={}));const _e=new o,pe=R(),ce=R(),me=R();function ue(e){return r=>e.immediate.schedule(r)}export{le as FramebufferId,oe as Renderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{AppleAmdDriverHelper as e}from\"../../../webgl/AppleAmdDriverHelper.js\";import{RenderingContext as r}from\"../../../webgl/RenderingContext.js\";class s extends r{constructor(e,r,s){super(e,r),this.newCache=s,this._refCount=1,this._appleAmdDriverHelper=null}destroy(){--this._refCount>0||this.dispose()}ref(){++this._refCount}dispose(){super.dispose(),this._appleAmdDriverHelper?.dispose()}bindTechnique(e,r,s,t){return this.useProgram(e.program),e.bindPipelineState(this,s?.slot,!!t),e.program.bindPass(r,s),e.program}get appleAmdDriverHelper(){return this.driverTest.drawArraysRequiresIndicesTypeReset.result?(this._appleAmdDriverHelper=this._appleAmdDriverHelper??new e(this),this._appleAmdDriverHelper):null}get test(){return this.programCache.test}}export{s as RenderingContext};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Logger.js\";import{isPromiseLike as o,isAbortError as i}from\"../../../../core/promiseUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{RenderRequestType as a}from\"./basicInterfaces.js\";import{ContentObjectType as h}from\"./ContentObjectType.js\";import{TextureTechnique as p}from\"./TextureTechnique.js\";import{TextureTechniqueConfiguration as c}from\"./TextureTechniqueConfiguration.js\";import{assert as l}from\"./Util.js\";import{TaskPriority as d}from\"../../../support/Scheduler.js\";let m=class extends t{constructor(e,t,s){super({}),this._stage=e,this._techniqueRepository=t,this._rctx=s,this._textures=new Map,this._loadingCount=0,this._frameUpdates=new Map,this.events=new r,this._frameTask=e.view.resourceController.scheduler.registerTask(d.TEXTURE_UNLOAD)}normalizeCtorArgs(){return{}}destroy(){this._frameTask.remove(),this._stage.forEachOfType(h.Texture,(e=>e.unload()))}get updating(){return this._loadingCount>0||this._frameTask.updating}get textureTechnique(){return null==this._textureTechnique&&(this._textureTechnique=this._techniqueRepository.acquire(p,new c)),this._textureTechnique}acquire(e){const t=this._textures.get(e);return t?(t.ref(),t.loadingPromise??t):this._createNewRef(e)}update(){let e=!1;this._frameUpdates.forEach((t=>{const r=t.texture.frameUpdate(t.previousToken);r>=0&&r!==t.previousToken&&(t.previousToken=r,e=!0)})),e&&this.events.emit(\"changed\",a.BACKGROUND)}_createNewRef(e){const t=this._stage.getObject(e);if(null==t)return l(void 0!==t),null;const r=t.events.on(\"unloaded\",(()=>{r.remove(),this._onTextureUnloaded(e)})),n=new _(e,(()=>{this._frameTask.schedule((()=>{n.isUnreferenced&&t.unload()}))}));return this._textures.set(e,n),n.ref(),null!=t.glTexture?(this._updateGLTexture(n,t.glTexture),t.requiresFrameUpdates&&this._frameUpdates.set(e,{texture:t,previousToken:-1}),n):(this._loadingCount++,n.loadingPromise=this._stage.schedule((()=>{const r=t.load(this._rctx),u=r=>(this._loadingCount--,n.loadingPromise=null,this._updateGLTexture(n,r),t.requiresFrameUpdates&&this._frameUpdates.set(e,{texture:t,previousToken:-1}),n),a=e=>(this._loadingCount--,n.loadingPromise=null,i(e)||s.getLogger(this).error(e),null);return o(r)?r.then(u,a):u(r)})),n.loadingPromise)}_updateGLTexture(e,t){e.glTexture=t,this.events.emit(\"changed\",a.UPDATE)}_onTextureUnloaded(e){this._textures.delete(e),this._frameUpdates.delete(e)}};e([n()],m.prototype,\"_loadingCount\",void 0),e([n()],m.prototype,\"_frameTask\",void 0),e([n()],m.prototype,\"updating\",null),m=e([u(\"esri.views.3d.webgl-engine.lib.TextureRepository\")],m);class _{constructor(e,t){this.id=e,this._release=t,this._refCount=0}get isUnreferenced(){return 0===this._refCount}ref(){++this._refCount}release(){--this._refCount,this._refCount>0||(0!==this._refCount?(s.getLogger(\"esri.views.3d.webgl-engine.lib.TextureRepository.RefCountedTextureImpl\").error(\"Cannot dereference texture that has no references!\"),this._refCount=0):this._release())}}export{m as TextureRepository};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{createMarkerTexture as r}from\"../../support/engineContent/marker.js\";import{ProceduralTextureRepository as e}from\"./ProceduralTextureRepository.js\";function o(o,t){return new e((e=>r(e,o)),(r=>r),t)}export{o as createMarkerTextureRepository};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{getAssetUrl as r}from\"../../../../../assets.js\";import t from\"../../../../../core/Accessor.js\";import s from\"../../../../../core/Logger.js\";import{disposeMaybe as a}from\"../../../../../core/maybe.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{requestImage as m}from\"../../../../../support/requestImageUtils.js\";import{NoParameters as p}from\"../../core/shaderModules/interfaces.js\";import{ResourceState as n}from\"../../lib/basicInterfaces.js\";import{TextureSamplingMode as l}from\"../../../../webgl/enums.js\";import{Texture as h}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as u}from\"../../../../webgl/TextureDescriptor.js\";let c=class extends t{constructor(){super(...arguments),this._passParameters=new g,this._loading=0}get passParameters(){return this._passParameters}destroy(){this._passParameters.waveNormal=a(this._passParameters.waveNormal),this._passParameters.wavePertubation=a(this._passParameters.wavePertubation)}get updating(){return this._loading>0}ensureResources(e){if(this._loading>0)return n.LOADING;if(null!=this._passParameters.waveNormal&&null!=this._passParameters.wavePertubation)return n.LOADED;const t=new u;return t.samplingMode=l.LINEAR_MIPMAP_LINEAR,t.hasMipmap=!0,t.maxAnisotropy=8,++this._loading,m(r(\"esri/images/materials/water/normals.jpg\")).then((r=>this._passParameters.waveNormal=new h(e,{...t,width:r.width,height:r.height},r))).catch((e=>s.getLogger(this).error(\"Failed to load water material normal texture.\",e))).finally((()=>--this._loading)),++this._loading,m(r(\"esri/images/materials/water/perturbation.jpg\")).then((r=>this._passParameters.wavePertubation=new h(e,{...t,width:r.width,height:r.height},r))).catch((e=>s.getLogger(this).error(\"Failed to load water material pertubation texture.\",e))).finally((()=>--this._loading)),n.LOADING}};e([o()],c.prototype,\"_loading\",void 0),e([o({type:Boolean,readOnly:!0})],c.prototype,\"updating\",null),c=e([i(\"esri.views.3d.webgl-engine.materials.internal.WaterTextureRepository\")],c);class g extends p{}export{g as WaterTexturePassParameters,c as WaterTextureRepository};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nconst n=new Map;function t(){return n}export{t as getContextCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../../core/maybe.js\";import{createResolver as t}from\"../../../../core/promiseUtils.js\";import{d as r}from\"../../../../chunks/vec4f64.js\";import{RenderRequestType as s,Decorations as i}from\"../lib/basicInterfaces.js\";import{RenderState as n}from\"../../../support/RenderState.js\";import{resampleHermite as o}from\"../../../support/screenshotUtils.js\";import{PixelFormat as a,DataType as h,RenderbufferFormat as c}from\"../../../webgl/enums.js\";import{ensureAttachmentMaxSize as l,FramebufferObject as d}from\"../../../webgl/FramebufferObject.js\";import{RenderbufferDescriptor as f}from\"../../../webgl/RenderbufferDescriptor.js\";import{TextureDescriptor as m}from\"../../../webgl/TextureDescriptor.js\";import{createEmptyImageData as u}from\"../../../../core/imageUtils.js\";class p{constructor(e,t){this.parameters=e,this.frameHasDecorations=t}}class g{constructor(e,t,r,s){this._rctx=e,this._renderFunctions=t,this._forceCameraHook=r,this._disposeOffscreenBuffers=s,this.supersample=!0,this._screenshotQueue=new Array}destroy(){this._rctx=null}async takeScreenshot(e){await this._renderFunctions.prepareOverlay(),this._renderFunctions.requestRenderScene(s.BACKGROUND);const r=t();return this._screenshotQueue.push({settings:e,resolver:r}),r.promise}update(e,t){for(const r of this._screenshotQueue){if(null==this._rctx){r.resolver.reject();continue}const s={...r.settings,pixelRatio:r.settings.pixelRatio*e.parameters.camera.pixelRatio},i=this._renderScreenshot(e,s,t);r.resolver(i)}this._screenshotQueue.length=0}_renderScreenshotOverlay(e,t,r){e.width=t.width,e.height=t.height;const s=e.getContext(\"2d\"),i=r.pixelRatio;return s.save(),s.translate(0,t.height),s.scale(1,-1),r.region&&s.translate(-r.region.x,-r.region.y),s.scale(i,i),t=this._renderFunctions.renderOverlay(e,t),s.restore(),t}_readbackScreenshot(e,t){return e.resample?this._readbackScreenshotResampled({...e,resample:e.resample},t):this._readbackScreenshotImmediate(e,t)}_readbackScreenshotResampled(e,t){const{framebufferWidth:r,framebufferHeight:s,region:i,resample:n}=e,c=this._ensureScreenshotEncodeCanvas();let l=u(r,s,c);this._rctx.gl.readPixels(0,0,r,s,a.RGBA,h.UNSIGNED_BYTE,new Uint8Array(l.data.buffer)),t(),l=this._renderScreenshotOverlay(c,l,{...e,region:void 0});const d=u(i.width,i.height,c);return o(l,d,!0,n.region.x,s-(n.region.y+n.region.height),n.region.width,n.region.height)}_readbackScreenshotImmediate(e,t){const{framebufferHeight:r,region:s}=e,i=this._ensureScreenshotEncodeCanvas(),n=u(s.width,s.height,i);return this._rctx.gl.readPixels(s.x,r-(s.y+s.height),s.width,s.height,a.RGBA,h.UNSIGNED_BYTE,new Uint8Array(n.data.buffer)),t(),this._renderScreenshotOverlay(i,n,e)}_renderScreenshot(t,s,o){let a=null;const h=t.parameters.camera,u={width:s.framebufferWidth,height:s.framebufferHeight};l(u,Math.min(this._rctx.parameters.maxTextureSize,this._rctx.parameters.maxRenderbufferSize));let p=!1;const g=s.disableDecorations&&t.frameHasDecorations,_=u.width!==h.fullWidth||u.height!==h.fullHeight,b=s.ignorePadding&&h.pixelRatio!==s.pixelRatio,x=_||g||b||s.objectAndLayerIdColor,w=s.objectAndLayerIdColor?new d(this._rctx,new m(u.width,u.height),new f(c.DEPTH_STENCIL,u.width,u.height)):null;if(x){const e=h.clone();if(s.ignorePadding){const t=r(e.padding);for(let r=0;r<4;r++)t[r]=Math.round(t[r]/e.pixelRatio*s.pixelRatio);e.padding=t}e.fullWidth=u.width,e.fullHeight=u.height,e.pixelRatio=s.pixelRatio;const t=h.fovX-e.fovX,l=h.fovY-e.fovY;t<0&&t<l?e.fovX=h.fovX:l<0&&l<t&&(e.fovY=h.fovY);const g={camera:e,contentCamera:e,mode:n.IDLE,alignPixelEnabled:!0,contentPixelRatio:e.pixelRatio};this._forceCameraHook(g),p=!0,a=new d(this._rctx,new m(u.width,u.height),new f(c.DEPTH_STENCIL,u.width,u.height));const _=s.disableDecorations?i.OFF:i.ON;this._renderFunctions.renderScene(a,w,g,_,o),this._disposeOffscreenBuffers()}const v=()=>{this._rctx.bindFramebuffer(null),e(a)},S=this._readbackScreenshot(s,v);v();let R=null;if(s.objectAndLayerIdColor){const t=()=>{this._rctx.bindFramebuffer(null),e(w)};this._rctx.bindFramebuffer(w),R=this._readbackScreenshot(s,t),this._rctx.bindFramebuffer(null),t()}if(x&&!this._rctx.contextAttributes.alpha)for(let e=3;e<S.data.length;e+=4)S.data[e]=255;if(R&&!this._rctx.contextAttributes.alpha)for(let e=3;e<R.data.length;e+=4)R.data[e]=255;return p&&this._forceCameraHook(t.parameters),[S,R]}_ensureScreenshotEncodeCanvas(){return this._screenshotEncodeCanvas||(this._screenshotEncodeCanvas=document.createElement(\"canvas\")),this._screenshotEncodeCanvas}}export{p as ScreenshotContext,g as ScreenshotManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{getContextCache as e}from\"./contextCache.js\";const o={enabled:!1,disposeContextCache:()=>{const o=e();o.forEach((e=>e.dispose())),o.clear()}};export{o as contextCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import has from\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{removeMaybe as s,destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as n,initial as a,syncAndInitial as p}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as h}from\"../../../../core/scheduling.js\";import{Milliseconds as d}from\"../../../../core/time.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ComponentObjectCollection as u}from\"../collections/Component/ComponentObjectCollection.js\";import{ShaderTechniqueRepository as m}from\"../core/shaderTechnique/ShaderTechniqueRepository.js\";import{RenderRequestType as _,Decorations as y}from\"../lib/basicInterfaces.js\";import f from\"../lib/CompositingHelper.js\";import{textureToDepth as R}from\"../lib/depthRangeUtils.js\";import{GLMaterialRepository as g}from\"../lib/GLMaterialRepository.js\";import{MagnifierHelper as x}from\"../lib/MagnifierHelper.js\";import{UpdateParameters as b}from\"../lib/Material.js\";import{ObjectAndLayerIdRenderHelper as v}from\"../lib/ObjectAndLayerIdRenderHelper.js\";import{Renderer as j}from\"../lib/Renderer.js\";import{RenderingContext as w}from\"../lib/RenderingContext.js\";import{TextureRepository as T}from\"../lib/TextureRepository.js\";import{createMarkerTextureRepository as A}from\"../materials/markerTextureRepository.js\";import{createStippleTextureRepository as C}from\"../materials/stippleTextureRepository.js\";import{WaterTextureRepository as D}from\"../materials/internal/WaterTextureRepository.js\";import{getContextCache as U}from\"./contextCache.js\";import{removeLoadedShaderModules as O}from\"./requireUtils.js\";import{ScreenshotManager as q,ScreenshotContext as S}from\"./ScreenshotManager.js\";import{contextCache as L}from\"./testUtils.js\";import{RenderState as H}from\"../../../support/RenderState.js\";import{createContextForView as k}from\"../../../webgl/contextUtils.js\";let M=class extends t{constructor(e){super({}),this.events=new r,this.waterTextureRepository=new D,this._magnifierHelper=new x,this.objectAndLayerIdRenderHelper=has(\"enable-feature:objectAndLayerId-rendering\")?new v:null,this._needsUpdate=!0,this._needsRender=!0,this._idleSuspend=!0,this._needsWaterReflectionUpdate=!1,this._lastAnimationUpdate=0,this._container=e.container,this._viewingMode=e.viewingMode,this._initializeContext(e),this.addHandles([n((()=>this.waterTextureRepository?.updating),(()=>this.requestRender()),a),n((()=>e.view.qualityProfile),(e=>this.renderer?.updateRenderFeature(e)),p),this._magnifierHelper.events.on(\"request-render\",(()=>this.requestRender()))]);const{memoryController:t}=e.view.resourceController;this.stippleTextureRepository=C(this._rctx,t),this.markerTextureRepository=A(this._rctx,t),this._shaderTechniqueRepository=new m({rctx:this._rctx,viewingMode:e.viewingMode,stippleTextureRepository:this.stippleTextureRepository,waterTextureRepository:this.waterTextureRepository,markerTextureRepository:this.markerTextureRepository}),this._textureRepository=new T(e,this._shaderTechniqueRepository,this._rctx),this.addHandles(this._textureRepository.events.on(\"changed\",(e=>this.requestRender(e)))),this._materialRepository=new g(this._textureRepository,this._shaderTechniqueRepository,(()=>this.requestRender()),(()=>this.requestRender())),this._compositingHelper=new f(this._rctx,this._shaderTechniqueRepository),this.renderer=new j(e,this._materialRepository,this._textureRepository,this._shaderTechniqueRepository,this._rctx,this._compositingHelper,this._magnifierHelper,(e=>this.requestRender(e)));const i={renderScene:(e,t,r,i,s)=>this.renderer.render(e,t,r,i,s),requestRenderScene:e=>this.requestRender(e),prepareOverlay:()=>e.options.screenshot.prepareOverlay(),renderOverlay:(t,r)=>e.options.screenshot.renderOverlay(t,r)};this._screenshotManager=new q(this._rctx,i,(e=>this.events.emit(\"force-camera-for-screenshot\",e)),(()=>this.renderer.disposeOffscreenBuffers())),this._registerFrameTask(e)}normalizeCtorArgs(){return{}}destroy(){this._container.contains(this._canvas)&&this._container.removeChild(this._canvas),this._frameTask=s(this._frameTask),this._shaderTechniqueRepository=o(this._shaderTechniqueRepository)}requestRender(e=_.UPDATE){this._needsRender=!0,e===_.UPDATE&&(this._needsUpdate=!0)}get updating(){return this._needsUpdate||this._needsWaterReflectionUpdate||this.renderer.updating||this._textureRepository.updating||this.waterTextureRepository.updating||this._magnifierHelper.updating}get textureRepository(){return this._textureRepository}get compositingHelper(){return this._compositingHelper}set magnifier(e){this._magnifierHelper.magnifier=e}setIdleSuspend(e){this._idleSuspend!==e&&(this._idleSuspend=e,this.requestRender())}get renderingContext(){return this._rctx}get capabilities(){return this._rctx.capabilities}get canvas(){return this._canvas}takeScreenshot(e){return this._screenshotManager.takeScreenshot(e).then((e=>e[0]))}takeScreenshotWithOID(e){return e.objectAndLayerIdColor=!0,this._screenshotManager.takeScreenshot(e)}getAlpha(){return!!this._rctx.contextAttributes.alpha}getMinimalDepthForArea(e,t,r,i,s,o=s){const n=i.constrainWindowSize(t,r,s*i.pixelRatio,o*i.pixelRatio),a=this._ensureDepthBuffer(n);this.renderer.readDepthPixels(i,n,a);let p=Number.MAX_VALUE;for(let h=0;h<n[2]*n[3];h++){const e=R(4*h,a,i.nearFar);p>e&&e!==i.nearFar[0]&&e!==i.nearFar[1]&&(p=e)}if(null!=e){const s=e.pickDepth(t*i.pixelRatio,r*i.pixelRatio,i);null!=s&&p>s&&s!==i.nearFar[0]&&s!==i.nearFar[1]&&(p=s)}return p===Number.MAX_VALUE?void 0:p}_ensureDepthBuffer(e){const t=4*e[2]*e[3];return(null==this._tmpDepthBuffer||this._tmpDepthBuffer.byteLength<t)&&(this._tmpDepthBuffer=new Uint8Array(t)),this._tmpDepthBuffer}async reloadShaders(){O(),await this._shaderTechniqueRepository.reloadAll(),this.requestRender()}_registerFrameTask(e){const t=e.view.state;let r=!1,i=_.BACKGROUND,s=!1;const o={preRender:({time:s})=>{r=this.updating,i=this._needsUpdate?_.UPDATE:_.BACKGROUND,e.commitSyncLayers();const o=d(s-this._lastAnimationUpdate);if(o>this.renderer.animationTimestep||null!=t.forcedAnimationTime||r||this._needsRender){const e=d(o/this.renderer.animationTimeDilation),r=new b(t.camera,e,t.forcedAnimationTime);this.renderer.updateAnimation(r)&&this.requestRender(_.BACKGROUND),this._lastAnimationUpdate=s}},render:({time:e})=>{if((this._needsRender||!this._idleSuspend||!this.renderer.isCameraFinal||this._needsWaterReflectionUpdate)&&t.camera.fullWidth>0&&t.camera.fullHeight>0){const r=this._needsUpdate&&this._idleSuspend&&this.renderer.isCameraFinal;this._needsRender=!1,this._needsUpdate=!1,this._needsWaterReflectionUpdate=!1,this.renderer.render(null,null,t,y.ON,e),s=!0,r&&this.renderer.hasReflections&&(this.requestRender(_.BACKGROUND),this._needsWaterReflectionUpdate=!0)}},update:({time:e})=>{const r=new S(t,this.renderer.hasSlicePlane||this._magnifierHelper.enabled);this._textureRepository.update(),this._screenshotManager.update(r,e)},finish:()=>{s&&(this.renderer.finish(t.mode===H.IDLE?i:_.UPDATE),s=!1)}};this._frameTask=h(o)}_initializeContext(e){const t=e.options;this._canvas=t.canvas,this._canvas||(this._canvas=document.createElement(\"canvas\")),this._canvas.setAttribute(\"style\",\"width: 100%; height:100%; display:block;\");const r={alpha:t.alpha||!1,premultipliedAlpha:!0,antialias:!1,depth:!0,stencil:t.stencil??!0,powerPreference:\"high-performance\",preserveDrawingBuffer:t.preserveDrawingBuffer??!1},s=k(\"3d\",this._canvas,r);null!=s?(this._rctx=this._newRenderingContext(s,e),this._loadShaderOnlyExtensions(),!t.alpha&&this._rctx.contextAttributes.alpha&&i.getLogger(this).error(\"WebGL context has alpha channel even though no alpha channel was requested\"),!this._rctx.contextAttributes.alpha&&has(\"safari\")>=11&&(this._container.style.backgroundColor=\"black\"),this._container.appendChild(this._canvas)):i.getLogger(this).error(\"A WebGL2 context could not be created.\")}_newRenderingContext(e,t){const r={disabledExtensions:t.options.deactivatedWebGLExtensions||{},debugWebGLExtensions:t.options.debugWebGLExtensions||{},maxAnisotropy:8},i=(e,r)=>t.view.resourceController.memoryController.newCache(e,r);if(L.enabled){let t=E.get(e);return t?(t.configure(r),t.newCache=i,t.ref(),t):(t=new w(e,r,i),E.set(e,t),t.ref(),t)}return new w(e,r,i)}_loadShaderOnlyExtensions(){this._rctx.capabilities.enable(\"textureFloat\")}getObjectAndLayerIdColor(e){return null!=this.objectAndLayerIdRenderHelper?this.objectAndLayerIdRenderHelper.getObjectAndLayerIdColor(e):null}get componentObjectCollection(){return null==this._componentObjectCollection&&(this._componentObjectCollection=new u(this.renderer.renderPassManager,this._viewingMode)),this._componentObjectCollection}set componentObjectCollection(e){this._componentObjectCollection=e}};e([l({type:Boolean,readOnly:!0})],M.prototype,\"updating\",null),e([l({autoDestroy:!0})],M.prototype,\"_rctx\",void 0),e([l({autoDestroy:!0})],M.prototype,\"_container\",void 0),e([l({autoDestroy:!0})],M.prototype,\"_canvas\",void 0),e([l({autoDestroy:!0})],M.prototype,\"stippleTextureRepository\",void 0),e([l({autoDestroy:!0})],M.prototype,\"markerTextureRepository\",void 0),e([l({autoDestroy:!0})],M.prototype,\"waterTextureRepository\",void 0),e([l({autoDestroy:!0})],M.prototype,\"_magnifierHelper\",void 0),e([l({readOnly:!0})],M.prototype,\"objectAndLayerIdRenderHelper\",void 0),e([l({autoDestroy:!0})],M.prototype,\"_textureRepository\",void 0),e([l({autoDestroy:!0})],M.prototype,\"_compositingHelper\",void 0),e([l({autoDestroy:!0,readOnly:!0})],M.prototype,\"renderer\",void 0),e([l({autoDestroy:!0})],M.prototype,\"_screenshotManager\",void 0),e([l()],M.prototype,\"componentObjectCollection\",null),e([l({autoDestroy:!0})],M.prototype,\"_componentObjectCollection\",void 0),e([l()],M.prototype,\"_needsUpdate\",void 0),e([l()],M.prototype,\"_needsWaterReflectionUpdate\",void 0),M=e([c(\"esri.views.3d.webgl-engine.parts.RenderView\")],M);const E=U();export{M as RenderView};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/PooledArray.js\";import{isPromiseLike as s}from\"../../../core/promiseUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isIntersectionHandler as o}from\"../state/helpers/SceneIntersectionHelper.js\";import{ChangeSet as d}from\"./lib/ChangeSet.js\";import{UpdatePolicy as a}from\"./lib/UpdatePolicy.js\";import{isWebGLLayer as h}from\"./lib/WebGLLayer.js\";import{Model as l}from\"./parts/Model.js\";import{RenderView as y}from\"./parts/RenderView.js\";import{TaskPriority as c,noBudget as m}from\"../../support/Scheduler.js\";let u=class extends r{constructor(e){super(e),this._model=new l,this._layers=new t,this._asyncChangeSet=new d,this._syncChangeSet=new d,this._layerSyncSet=new Set}initialize(){this._set(\"renderView\",new y(this)),this._frameTask=this.view.resourceController.scheduler.registerTask(c.STAGE,this),this.addHandles(this._frameTask)}destroy(){this.removeAllHandles()}get viewingMode(){return this.view.state.viewingMode}get updating(){return this.running||this.renderView.updating||this._frameTask.updating}get renderer(){return this.renderView?.renderer}add(e){this._model.add(e),h(e)&&this._addLayer(e),this.renderView.requestRender()}remove(e){null==e||this.destroyed||(this._model.remove(e),h(e)&&this._removeLayer(e),this.renderView.requestRender())}addMany(e){null!=e&&(this._model.addMany(e),this.renderView.requestRender())}removeMany(e){null!=e&&(this._model?.removeMany(e),this.renderView?.requestRender())}async load(e,r){null!=e&&(Array.isArray(e)||(e=[e]),await Promise.all(e.filter((e=>null==e.glTexture)).map((e=>this.schedule((()=>this._model.has(e)?e.load(this.renderView.renderingContext):null))),r)))}loadImmediate(e){return e.load(this.renderView.renderingContext)}forEachOfType(e,r){this._model.forEachOfType(e,r)}handleEvent(e,r){this.destroyed||(this._model.dirtySet[e](r),this.renderView.requestRender())}get running(){return this._model.dirtySet.dirty||!this._asyncChangeSet.empty}runTask(e){this._frameTask.processQueue(e),this._commit(e)}_commit(e){const r=this._model.dirtySet;this._asyncChangeSet.empty||e.done||(this.renderer.modify(this._asyncChangeSet,e),this.renderView.requestRender(),e.madeProgress()),this._layers.forAll((t=>{if(e.done)return;const s=this._layerSyncSet.has(t.id)||t.updatePolicy===a.SYNC,i=s?this._syncChangeSet:this._asyncChangeSet;r.commitLayer(t.id,i),this._layerSyncSet.delete(t.id),i.empty||(this.renderer.modify(i,s?m:e),this.renderView.requestRender(),e.madeProgress())})),this._syncChangeSet.empty||(this.renderer.modify(this._syncChangeSet,m),this.renderView.requestRender(),e.madeProgress()),this._layers.forAll((t=>{e.done||this._layerSyncSet.has(t.id)||t.updatePolicy!==a.ASYNC||(r.commitLayer(t.id,this._asyncChangeSet),this._asyncChangeSet.empty||(this.renderer.modify(this._asyncChangeSet,e),this.renderView.requestRender(),e.madeProgress()))})),this._layerSyncSet.clear(),this.notifyChange(\"running\")}commitSyncLayers(){const e=this._model.dirtySet;this._layers.forAll((r=>{(this._layerSyncSet.has(r.id)||r.updatePolicy===a.SYNC)&&(e.commitLayer(r.id,this._syncChangeSet),this._layerSyncSet.delete(r.id))}));for(const r of this._layerSyncSet)e.commitLayer(r,this._syncChangeSet);this._layerSyncSet.clear(),this._syncChangeSet.empty||(this.renderer.modify(this._syncChangeSet,m),this.renderView.requestRender())}_commitLayer(e){this._model.dirtySet.commitLayer(e.id,this._syncChangeSet),this._layerSyncSet.delete(e.id),this._syncChangeSet.empty||(this.renderer.modify(this._syncChangeSet,m),this.renderView.requestRender())}schedule(e,r){return this._frameTask.schedule(e,r)}reschedule(e,r){return this._frameTask.reschedule(e,r)}syncLayer(e){this._layerSyncSet.add(e),this.renderView.requestRender()}getObject(e){return this._model.getObject(e)}get layers(){return this._layers}_addLayer(e){this._layers.includes(e)||this._layers.push(e)}_removeLayer(e){this._commitLayer(e),null!=this._layers.removeUnordered(e)&&(this._model.dirtySet.getResidentRenderGeometries(e.id,this._syncChangeSet.removes),this.renderer.modify(this._syncChangeSet,m))}addRenderPlugin(e,r,t){const i=this.renderer.renderPlugins.add(e,r,t),n=()=>{o(r)&&this.view.sceneIntersectionHelper.addIntersectionHandler(r)};if(s(i))return i.then(n);n()}removeRenderPlugin(e){this.destroyed||(o(e)&&this.view.sceneIntersectionHelper.removeIntersectionHandler(e),this.renderer.renderPlugins.remove(e))}get performanceInfo(){return{renderer:this.renderer.performanceInfo,model:this._model.getStats()}}get test(){const e=this;return{getCount:r=>e._model.test.content.filter((e=>e.type===r)).length,model:e._model}}};u.DebugSettings={endFrameContentValidation:!1},e([i({constructOnly:!0})],u.prototype,\"view\",void 0),e([i({constructOnly:!0})],u.prototype,\"options\",void 0),e([i({readOnly:!0})],u.prototype,\"viewingMode\",null),e([i({constructOnly:!0})],u.prototype,\"container\",void 0),e([i({readOnly:!0})],u.prototype,\"updating\",null),e([i({constructOnly:!0})],u.prototype,\"_model\",void 0),e([i({autoDestroy:!0})],u.prototype,\"renderView\",void 0),e([i({readOnly:!0})],u.prototype,\"renderer\",null),e([i({readOnly:!0})],u.prototype,\"running\",null),u=e([n(\"esri.views.3d.webgl-engine.Stage\")],u);export{u as Stage};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nasync function t(t,e){if(\"2d\"===t.type)return t.hitTest(e);const r=await t.hitTest(e);if(0===r.results.length)return r;const s=(r.results[0].distance??0)*(1+n),i=r.results.findIndex((t=>(t.distance??0)>s));return-1!==i&&(r.results=r.results.slice(0,i)),r}const n=.05;function e(t){return\"graphic\"===t?.type}function r(t){return t.find(e)??null}function s(t){return t.filter(e)}export{s as filterGraphicHits,r as findFirstGraphicHit,t as hitTestSelectSimilarDistance};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../DefaultUI.js\";let e=class extends t{constructor(o){super(o),this.components=[\"attribution\",\"zoom\",\"navigation-toggle\",\"compass\"]}};o([s()],e.prototype,\"components\",void 0),e=o([r(\"esri.views.ui.3d.DefaultUI3D\")],e);const p=e;export{p as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../Camera.js\";import\"../geometry.js\";import i from\"../Graphic.js\";import r from\"../Viewpoint.js\";import s from\"../core/Collection.js\";import{byId as n}from\"../core/domUtils.js\";import a from\"../core/Error.js\";import{on as o}from\"../core/events.js\";import{handlesGroup as l,makeHandle as p}from\"../core/handleUtils.js\";import has from\"../core/has.js\";import{isIterable as h}from\"../core/iteratorUtils.js\";import d from\"../core/Logger.js\";import{destroyMaybe as c}from\"../core/maybe.js\";import{ObservableChangesType as u}from\"../core/ObservableChangesType.js\";import{throwIfAborted as g}from\"../core/promiseUtils.js\";import{on as m,watch as y,initial as f,syncAndInitial as w,whenOnce as v,sync as _}from\"../core/reactiveUtils.js\";import{setFrameDuration as b}from\"../core/scheduling.js\";import{screenPointObjectToArray as M,createScreenPoint as S,createScreenPointArray as R}from\"../core/screenUtils.js\";import{initialize as V}from\"../core/workers/workers.js\";import{property as x}from\"../core/accessorSupport/decorators/property.js\";import{cast as C}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/arrayUtils.js\";import{subclass as T}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureType as O,ensureClass as j}from\"../core/accessorSupport/ensureType.js\";import{c as E}from\"../chunks/vec3f64.js\";import{owningCollectionProperty as I}from\"../core/support/OwningCollection.js\";import L from\"../geometry/HeightModelInfo.js\";import{projectPointToVector as P,projectVectorToVector as H,canProjectWithoutEngine as A,project as G,projectBoundingRect as U}from\"../geometry/projection.js\";import{create as W,toExtent as D}from\"../geometry/support/aaBoundingRect.js\";import{B as F,c as k}from\"../chunks/boundedPlane.js\";import{renderSRFromViewSR as q}from\"../geometry/support/coordinateSystem.js\";import{getResolutionForScale as z}from\"../geometry/support/scaleUtils.js\";import{fallbackObjectIDAttribute as B}from\"../layers/LayerConstants.js\";import{isImageryTileLayer as N,isTiledLayer as Q,isVoxelLayer as $}from\"../layers/support/layerUtils.js\";import{AnalysesCollection as X}from\"../support/AnalysesCollection.js\";import{BreakpointsOwner as Y}from\"./BreakpointsOwner.js\";import{DOMContainer as Z}from\"./DOMContainer.js\";import J from\"./GroundView.js\";import{PopupView as K}from\"./PopupView.js\";import ee from\"./View.js\";import te from\"./ViewAnimation.js\";import{ViewingMode as ie,stringFromViewingMode as re,viewingModeFromString as se}from\"./ViewingMode.js\";import{layerView3DImporter as ne}from\"./3d/layerViewModuleImportUtils.js\";import ae from\"./3d/analysis/AnalysisViewManager3D.js\";import{Constraints as oe}from\"./3d/constraints/Constraints.js\";import le from\"./3d/environment/SceneViewEnvironment.js\";import{SceneViewEnvironmentManager as pe}from\"./3d/environment/SceneViewEnvironmentManager.js\";import he from\"./3d/input/SceneInputManager.js\";import{GraphicsDeconflictor as de}from\"./3d/layers/graphics/GraphicsDeconflictor.js\";import{Labeler as ce}from\"./3d/layers/graphics/Labeler.js\";import{FeatureTileTree3D as ue}from\"./3d/layers/support/FeatureTileTree3D.js\";import ge from\"./3d/state/ViewState.js\";import{ViewStateManager as me}from\"./3d/state/ViewStateManager.js\";import{SceneIntersectionHelper as ye}from\"./3d/state/helpers/SceneIntersectionHelper.js\";import{CombinedElevationProvider as fe}from\"./3d/support/CombinedElevationProvider.js\";import we from\"./3d/support/debugFlags.js\";import ve from\"./3d/support/DisplayQualityProfile.js\";import{getElevationAtPoint as _e}from\"./3d/support/ElevationProvider.js\";import be from\"./3d/support/HighlightOptions.js\";import{MapCoordsHelper as Me}from\"./3d/support/MapCoordsHelper.js\";import{PropertiesPool as Se}from\"./3d/support/PropertiesPool.js\";import Re from\"./3d/support/QualitySettings.js\";import{RenderCoordsHelper as Ve}from\"./3d/support/RenderCoordsHelper.js\";import{newResourceController as xe}from\"./3d/support/ResourceController.js\";import Ce from\"./3d/support/SceneViewPerformanceInfo.js\";import{SharedSymbolResources as Te}from\"./3d/support/SharedSymbolResources.js\";import{PointsOfInterest as Oe}from\"./3d/support/pointsOfInterest/PointsOfInterest.js\";import je from\"./3d/terrain/TerrainSurface.js\";import{isSurfaceLayerView as Ee,getTiledLayerInfo as Ie,checkIfTileInfoSupportedForView as Le}from\"./3d/terrain/terrainUtils.js\";import{Stage as Pe}from\"./3d/webgl-engine/Stage.js\";import{newIntersector as He,DEFAULT_TOLERANCE as Ae}from\"./3d/webgl-engine/lib/Intersector.js\";import{StoreResults as Ge,IntersectorType as Ue}from\"./3d/webgl-engine/lib/IntersectorInterfaces.js\";import{isValidIntersectorResult as We}from\"./3d/webgl-engine/lib/intersectorUtils.js\";import{toHit as De,toOwner as Fe}from\"./3d/webgl-engine/lib/intersectorUtilsConversions.js\";import{TERRAIN_ID as ke}from\"./3d/webgl-engine/lib/verticalOffsetUtils.js\";import{hitTestSelectSimilarDistance as qe}from\"./support/hitTestSelectUtils.js\";import{occludeesSupported as ze}from\"./support/layerViewUtils.js\";import{encode as Be,encodeData as Ne,toRenderSettings as Qe,screenshotSuperSampleSettings as $e}from\"./support/screenshotUtils.js\";import{isSupportedScreenPointEvent as Xe,createScreenPointFromSupportedEvent as Ye}from\"./support/screenUtils.js\";import{isSpatialReferenceSupported as Ze}from\"./support/spatialReferenceSupport.js\";import{check as Je}from\"./support/WebGLRequirements.js\";import Ke from\"./ui/DefaultUI.js\";import et from\"./ui/3d/DefaultUI3D.js\";import tt from\"../webscene/Environment.js\";import it from\"../geometry/Extent.js\";import rt from\"../geometry/SpatialReference.js\";import st from\"../geometry/Point.js\";let nt=class extends(Y(K(Z(ee)))){constructor(e){super(e),this._userClippingArea=null,this._clippingArea=null,this._initialDefaultSpatialReference=null,this._defaults={},this._externallySet={environment:!1},this._createGraphicsViewController=null,this._resolveWhenReady=[],this._propertiesPool=new Se({slicePlane:F},this),this._resourceController=xe(this),this._defaultToMapOptions={include:new Set},this._defaultHitTestOptions={exclude:new Set},this.deconflictor=new de({view:this}),this.labeler=new ce({view:this,deconflictor:this.deconflictor.labels}),this.sharedSymbolResources=null,this.analyses=new X,this.basemapTerrain=null,this.elevationProvider=null,this.canvas=null,this.constraints=new oe,this.environmentManager=new pe,this.floors=new s,this.fullOpacity=1,this.graphicsView=null,this.analysisViewManager=new ae({view:this}),this.groundView=null,this.map=null,this.screenSizePerspectiveEnabled=!0,this.state=new ge,this.spatialReference=null,this.alphaCompositingEnabled=!1,this.preserveDrawingBufferEnabled=!1,this.supersampleScreenshotsEnabled=!0,this.type=\"3d\",this.ui=new et,this._numUpdating=0,this._lastUpdateTime=0,this.updatingProgress=.5,this.highlightOptions=new be,this.voxelWasm=null,this.voxelWasmPromise=null,V(),e&&e.environment||(this._defaults.environment=new le,this.environment=this._defaults.environment);const t=(e=null)=>{null!=e&&e.type===u.MOVE||(this._updatingChanged(),this.map&&this.map.allLayers.forEach((async e=>{try{await e.when()}catch{}this._updatingChanged()})))};this.addHandles([m((()=>this.map?.allLayers),\"after-changes\",(e=>t(e)),{onListenerAdd:()=>t(),onListenerRemove:()=>t(),sync:!0}),this.allLayerViews.on(\"after-changes\",(e=>this._updateUpdatingMonitors(e))),y((()=>this.map),(e=>{e&&\"load\"in e&&e.load&&e.load().catch((()=>{}))}))]),this.inputManager=new he({view:this}),this.stateManager=new me({view:this})}initialize(){this.groundView=new J({view:this}),this._updateUpdatingMonitors();const e=()=>this._updateDefaultToMapOptions();this.addHandles(m((()=>this.map?.allLayers),\"after-changes\",e,{onListenerAdd:e,onListenerRemove:e})),this.updatingHandles.add((()=>this.qualitySettings.memoryLimit),(e=>{this.resourceController&&(this.resourceController.memoryController.maxMemory=e)}),f),this.updatingHandles.add((()=>this.qualitySettings.additionalCacheMemory),(e=>{this.resourceController&&(this.resourceController.memoryController.additionalCacheMemory=e)}),f),this.updatingHandles.add((()=>this.qualitySettings.frameRate??0),(e=>b(e>0?1e3/Math.ceil(e):0)),f),this.updatingHandles.add((()=>this.map?.ground),e,w),this.updatingHandles.add((()=>this.map?.ground?.opacity),(()=>this._updateDefaultHitTestOptions()),w),this.addHandles(y((()=>this.spatialReference),(()=>this.notifyChange(\"clippingArea\")),_))}destroy(){this.destroyed||(this.updatingHandles.removeAll(),this.removeAllHandles(),this.invalidate(),this.activeTool=null,this.layerViewManager.clear(),this._exitSurface(),this._disposeGraphicsView(),this.sharedSymbolResources=c(this.sharedSymbolResources),this._set(\"labeler\",c(this.labeler)),this._set(\"deconflictor\",c(this.deconflictor)),this._resourceController=c(this._resourceController),this._set(\"stateManager\",c(this.stateManager)),this._set(\"inputManager\",c(this.inputManager)),this.state.destroy(),this._propertiesPool.destroy(),this.removeHandles(\"updatingMonitors\"),this._set(\"environmentManager\",c(this.environmentManager)),this.groundView=c(this.groundView),this._exitBasemapTerrain(),this._stage?.destroy(),this.removeAllHandles(),this.updatingHandles.removeAll(),this.handles.removeAll())}get renderSpatialReference(){return this.renderCoordsHelper&&this.renderCoordsHelper.spatialReference}get basemapSpatialReference(){return this.basemapTerrain?.spatialReference}get animation(){return this.state?.animation}get camera(){return this.stateManager?.camera}set camera(e){this.stateManager&&(this.stateManager.camera=e)}get contentCamera(){return this.stateManager?.contentCamera}set contentCamera(e){this.stateManager&&(this.stateManager.contentCamera=e)}installContentCameraReset(e={sticky:!1}){return this.stateManager.installContentCameraReset(e)}get center(){return this.stateManager?.center}set center(e){this.stateManager&&(this.stateManager.center=e)}get clippingArea(){if(\"global\"===this.viewingMode)return null;let e=this._userClippingArea||(\"clippingArea\"in this.map?this.map?.clippingArea:void 0);return!this._userClippingArea&&!this.get(\"map.clippingEnabled\")||null==e?(this._clippingArea=null,null):e instanceof it?this.spatialReference&&(e=lt(e,this.spatialReference),null==e)?(d.getLogger(this).error(\"#clippingArea\",\"setting clippingArea with incompatible SpatialReference\"),this._clippingArea):(e=e.clone(),null==e.intersection(this._groundAndLayersExtent)&&(e.xmin=e.xmax,e.ymin=e.ymax),e.zmin=void 0,e.zmax=void 0,e.equals(this._clippingArea)||(this._clippingArea=e),this._clippingArea):(d.getLogger(this).error(\"#clippingArea\",\"only clippingArea geometries of type Extent are supported\"),this._clippingArea)}set clippingArea(e){this.ready&&\"global\"===this.viewingMode&&null!=e?d.getLogger(this).error(\"#clippingArea=\",\"Clipping area is only supported in local viewingMode\"):this._userClippingArea=e}get renderDataExtent(){if(this.state.viewingMode===ie.Global)return null;const e=this.renderSpatialReference,t=this.dataExtent;return null==t||null==e||t.spatialReference.equals(e)?t:lt(t,e)}get dataExtent(){let e=this._groundAndLayersExtent;const t=this.spatialReference||rt.WGS84,i=lt(this.clippingArea,t);null!=i&&(e=null!=e?e.intersection(i):i);const r=this._get(\"dataExtent\");return null!=e&&e.equals(r)?r:e}get _groundAndLayersExtent(){const e=this.spatialReference||rt.WGS84;let t;const i=i=>{const r=lt(i,e);null!=r&&(null!=t?t.union(r):t=r.clone())},r=this.basemapTerrain;if(r?.spatialReference){const e=r.groundExtent;i(new it({xmin:e[0],ymin:e[1],zmin:0,xmax:e[2],ymax:e[3],zmax:0,spatialReference:r.spatialReference}))}if(this.map){const e=e=>{null==e.fullExtent||\"graphics\"===e.type&&e.internal||i(e.fullExtent)};this.map.allLayers.forEach((t=>e(t)))}if(null==t)return null;t.hasZ?(t.zmin=Math.min(0,t.zmin??0),t.zmax=Math.max(0,t.zmax??0)):(t.zmin=0,t.zmax=0);const s=this._get(\"_groundAndLayersExtent\");return t.equals(s)?s:t}set environment(e){e!==this._defaults.environment&&(this._externallySet.environment=!0),this._set(\"environment\",e)}castEnvironment(e){return e?e instanceof le?e:e instanceof tt?null!=this.environment?this.environment.cloneWithWebsceneEnvironment(e):le.fromWebsceneEnvironment(e):O(le,e):new le}get extent(){return this.stateManager?.extent}set extent(e){this.stateManager&&(this.stateManager.extent=e)}get screenCenter(){return this.stateManager?.screenCenter}get frustum(){return this.stateManager?.frustum}get initialExtentRequired(){return this.stateManager&&!this.stateManager.hasInitialView}get _defaultsFromMapSettings(){return{required:{tileInfo:!1,heightModelInfo:!0,extent:!1}}}get interacting(){return this.navigating||(this.toolViewManager?.interacting??!1)}get stationary(){return!this.animation&&!this.resizing&&(null==this.state||this.state.stationary)}get navigating(){return this.state?.navigating??!1}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}set qualityProfile(e){ve.isValidProfile(e)&&(ve.apply(e,this.qualitySettings),this._set(\"qualityProfile\",e))}get qualityProfile(){return this._get(\"qualityProfile\")||ve.getDefaultProfile()}set slicePlane(e){if(null!=this._stage&&this._stage.renderer.setParameters({slicePlane:e}),null==e)return void this._set(\"slicePlane\",null);const t=this._propertiesPool.get(\"slicePlane\");k(e,t),this._set(\"slicePlane\",t)}get typeSpecificPreconditionsReady(){return!!this.viewingMode}get resolution(){return null!=this.spatialReference?z(this.scale,this.spatialReference):0}get scale(){return this.stateManager?.scale}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get heightModelInfo(){const e=this.getDefaultHeightModelInfo();return null!=e?L.deriveUnitFromSR(e,this.spatialReference):null}get updating(){if(this.destroyed)return!1;let e=0,t=this.layerViewManager.updating,i=t?this.layerViewManager.updatingRemaining:0;this.allLayerViews.forEach((r=>{if(r.isFulfilled()){if(r.updating){if(t=!0,r.suspended||Ee(r))return;++i,e+=r.updatingProgress}}else++i}));for(const s of this._updatingObjects)if(null!=s&&s.updating){const t=.1;i+=t,e+=.5*t}for(const s of this._updatingObjectsWithProgress)null!=s&&s.updating&&(++i,e+=s.updatingProgress);const r=!this.stateManager.test.updatingIgnoreRenderState&&this.state.updating;if(t=!!(t||i>0||this.updatingHandles.updating||!this.ready||!this.stationary||r||this._createGraphicsViewController||this.inputManager?.updating||this.map?.allLayers?.some((e=>!e.isFulfilled()))),t?(this._numUpdating=Math.max(i,this._numUpdating),e+=this._numUpdating-i):this._numUpdating=0,this._numUpdating>0?e/=this._numUpdating:e=t?0:1,this._get(\"updatingProgress\")!==e){const i=performance.now();if(e<1){const t=Math.min((i-this._lastUpdateTime)/2e3,1);e=this.updatingProgress*(1-t)+e*t}this._set(\"updatingProgress\",e),this._lastUpdateTime=t&&e<1?i:0}return t}get _updatingObjects(){return[this.graphicsView,this.basemapView,this._resourceController,this._stage,this.featureTiles,this.pointsOfInterest,this.environmentManager,this.overlay,this._featureTreeDebugger,this.toolViewManager,this.analysisViewManager]}get _updatingObjectsWithProgress(){return[this.deconflictor,this.labeler,this.basemapTerrain]}get viewingMode(){const e=this._predeterminedViewingMode;if(null!=e)return re(e);const t=this.spatialReference;return t?null!=this.defaultsFromMap?.viewingMode&&t.equals(this.defaultsFromMap.spatialReference)?re(this.defaultsFromMap.viewingMode):Ze(t,ie.Global)?\"global\":\"local\":\"global\"}set viewingMode(e){this.ready?d.getLogger(this).error(\"#viewingMode\",\"viewingMode cannot be set once view is ready\"):this._overrideIfSome(\"viewingMode\",e)}get viewpoint(){return this.stateManager?.viewpoint}set viewpoint(e){this.stateManager&&(this.stateManager.viewpoint=e)}get zoom(){return this.stateManager.zoom}set zoom(e){this.stateManager&&(this.stateManager.zoom=e)}get resourceController(){return this._resourceController}get performanceInfo(){return new Ce(this)}on(e,t,i,r){const s=this.viewEvents.on(e,t,i,r);return s||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}toMap(e,t){if(!this.ready)return d.getLogger(this).error(\"#toMap()\",\"Scene view cannot be used before it is ready\"),null;const i=t?this.externalToInternalIntersectOptions(t):this._defaultToMapOptions,r=null!=i.graphics&&(null!=i.graphics.include||null!=i.graphics.exclude),s=Xe(e)?Ye(this,e):e,n=M(s);i.enableDraped=i.include&&!i.include.has(ke)||i.exclude&&i.exclude.has(ke);const a=this.sceneIntersectionHelper,o=He(this.state.viewingMode);if(o.options.selectionMode=!0,o.options.store=r?Ge.ALL:Ge.MIN,a.intersectIntersectorScreen(n,o,i),r){for(const e of o.results.all){const t=De(e,this);if(null==t)return this._intersectResultToMapPoint(e);if(\"graphic\"!==t.type||this._testGraphicUidFilter(i.graphics,t.graphic))return this._intersectResultToMapPoint(e)}return null}return this._intersectResultToMapPoint(o.results.min)}toScreen(e){if(!this.ready)return d.getLogger(this).error(\"#toScreen()\",\"Scene view cannot be used before it is ready\"),null;const t=(null==e.z?_e(this.elevationProvider,e):null)??0;return P(e,ht,this.renderSpatialReference,t),this.state.camera.projectToScreen(ht,dt),S(dt[0],dt[1])}pixelSizeAt(e){return this.ready?e?(P(e,ht,this.renderSpatialReference),this.state.camera.computeScreenPixelSizeAt(ht)):0:(d.getLogger(this).error(\"#pixelSizeAt()\",\"Scene view cannot be used before it is ready\"),null)}overlayPixelSizeInMapUnits(e){const t=this.basemapTerrain.overlayManager;return t?t.overlayPixelSizeInMapUnits(e):1}hitTest(e,t){if(!this.ready)return d.getLogger(this).error(\"#hitTest()\",\"Scene view cannot be used before it is ready\"),null;const i=Xe(e)?Ye(this,e):e,r=R(i.x,i.y),s=t?this.externalToInternalIntersectOptions(t):this._defaultHitTestOptions;s.requiresGroundFeedback=!0,s.enableDraped=!0;const n=He(this.state.viewingMode);n.options.selectionMode=!0,n.options.store=Ge.ALL,this.sceneIntersectionHelper.intersectIntersectorScreen(r,n,s);const a=this._intersectResultsToHits(n.results.all,s.graphics),o=n.results.ground,l=Fe(o,this),p=null!=l&&\"type\"in l&&\"integrated-mesh\"===l.type?l:null,h={screenPoint:i,results:a,ground:{mapPoint:this._intersectResultToMapPoint(o),distance:We(o)?o.distanceInRenderSpace:0,layer:p}};return we.SCENEVIEW_HITTEST_RETURN_INTERSECTOR&&(h.intersector=n),Promise.resolve(h)}async popupHitTest(e){const{results:t,ground:i}=await qe(this,e);let r=null;return!(0===t.length||Math.abs((t[0].distance??0)-i.distance)<1e-5)||i.layer&&\"integrated-mesh\"===i.layer.type||(r=i.mapPoint),{results:t,screenPoint:e,mapPoint:r}}goTo(e,t){return this.updatingHandles.addPromise(this.stateManager.goTo(e,t))}async whenAnalysisView(e){if(null==e.parent)throw new a(\"view:no-analysisview-for-analysis\",\"The analysis has not been added to view.analyses\",{analysis:e});switch(e.parent.type){case\"line-of-sight\":case\"dimension\":return(await this.whenLayerView(e.parent)).whenAnalysisView();default:return this.analysisViewManager.whenAnalysisView(e)}}whenLayerView(e){return super.whenLayerView(e)}async takeScreenshot(e){const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshot(t);return Be(i,t,this._pixelFormat())}async _takeScreenshot(e){const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshot(t);return Ne(i,this._pixelFormat())}async _takeScreenshotWithObjectAndLayerId(e){const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshotWithOID(t);return[Ne(i[0],this._pixelFormat()),Ne(i[1],this._pixelFormat())]}_completeSettings(e){const t=Qe(e,this);return t.pixelRatio/=this.state.pixelRatio,$e(t,this.supersampleScreenshotsEnabled,this.padding)}_pixelFormat(){return{flipY:!0,premultipliedAlpha:this._stage.renderView.getAlpha()}}get test(){return{takeScreenshot:e=>this._takeScreenshot(e),takeScreenshotWithObjectAndLayerId:e=>this._takeScreenshotWithObjectAndLayerId(e)}}async takeScreenshotWithObjectAndLayerId(e){if(!has(\"enable-feature:objectAndLayerId-rendering\"))throw new Error(\"has enable-feature:objectAndLayerId-rendering must be true\");const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshotWithOID(t),r=Be(i[0],t,this._pixelFormat()),s=this._completeSettings(e);s.format=\"png\";return[r,Be(i[1],s,this._pixelFormat())]}getColorToObjectAndLayerIdMapping(){if(null==this._stage.renderView.objectAndLayerIdRenderHelper)throw new Error(\"has enable-feature:objectAndLayerId-rendering must be true\");return this._stage.renderView.objectAndLayerIdRenderHelper.getColorToObjectAndLayerIdMapping()}addUpdatingPromise(e){return this.updatingHandles.addPromise(e)}importLayerView(e){return ne.importLayerView(e)}hasLayerViewModule(e){return ne.hasLayerViewModule(e)}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&\"initialViewProperties\"in this.map&&this.map?.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||this.defaultsFromMap?.ready&&this._initialDefaultSpatialReference||null}async validate(){let e=Je(this.type);const t=has(\"safari\");if(t&&t<9&&(e=new a(\"sceneview:browser-not-supported\",\"This browser is not supported by SceneView (Safari < 9)\",{type:\"safari\",requiredVersion:9,detectedVersion:t})),null!=e)throw d.getLogger(this).warn(\"#validate()\",e.message),e}get _predeterminedViewingMode(){const e=this._isOverridden(\"viewingMode\")?this._get(\"viewingMode\"):(this.map&&\"initialViewProperties\"in this.map?this.map.initialViewProperties?.viewingMode:null)??null;return null!=e?se(e):null}getSpatialReferenceSupport({spatialReference:e,layer:t}){const i=this._predeterminedViewingMode;if(null!=i)return this._validateSpatialReferenceForViewingMode(e,t,i)?{constraints:this._makeSpatialReferenceConstraints(e,t,i)}:null;const r=this._validateSpatialReferenceForViewingMode(e,t,ie.Local),s=this._validateSpatialReferenceForViewingMode(e,t,ie.Global);return r||s?r&&s?{constraints:this._makeSpatialReferenceConstraints(e,t,null)}:r?{constraints:this._makeSpatialReferenceConstraints(e,t,ie.Local)}:{constraints:this._makeSpatialReferenceConstraints(e,t,ie.Global)}:null}_validateSpatialReferenceForViewingMode(e,t,i){return!!Ze(e,i)&&(null==t||(!!N(t)||(!Q(t)||null!=Ie(t,e,i))&&(!$(t)||i!==ie.Global)))}_makeSpatialReferenceConstraints(e,t,i){if(null==t)return[{spatialReference:e,viewingMode:i}];const r=e.isWebMercator,s=e.isWGS84;if(N(t)&&(r||s)){return!s||i===ie.Local||null===Le(t.tileInfo,t.fullExtent,e,ie.Global)?[{spatialReference:e,viewingMode:i},{spatialReference:rt.WebMercator,viewingMode:i}]:[{spatialReference:r?rt.WGS84:rt.WebMercator,viewingMode:i}]}return Q(t)||$(t)||!r&&!s?Q(t)&&r&&i!==ie.Global?[{spatialReference:e,viewingMode:i},{spatialReference:rt.WGS84,viewingMode:ie.Local}]:[{spatialReference:e,viewingMode:i}]:[{spatialReference:e,viewingMode:i},{spatialReference:r?rt.WGS84:rt.WebMercator,viewingMode:i}]}_validateSpatialReference(e){const t=null!=this.getSpatialReferenceSupport({spatialReference:e}),i=this._predeterminedViewingMode;return t||(null!=i?d.getLogger(this).warnOnce(`Spatial reference defined on view not supported in ${re(i)} viewing mode.`):e.isGeographic&&d.getLogger(this).warnOnce(\"Spatial reference is geographic but not supported.\")),t}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e)}))}computeMapPointFromVec3d(e,t){let i=this.spatialReference||rt.WGS84;return H(e,this.renderSpatialReference,e,i)||(i=rt.WGS84,H(e,this.renderSpatialReference,e,i)),t?(t.x=e[0],t.y=e[1],t.z=e[2],t.spatialReference=i):t=new st(e,i),t}trackGraphicState(e){if(!e.graphic)return d.getLogger(this).error(\"trackGraphicState\",\"GraphicState.graphic must not be null or undefined to start tracking\"),null;const t=this.getViewForGraphic(e.graphic);let i=null,r=!1;const s=t=>{!r&&null!=t&&\"processor\"in t&&\"graphics-3d\"===t.processor?.type&&t.processor.graphicsCore&&(i=t.processor.graphicsCore.trackGraphicState(e))};return null!=t?s(t):this.whenViewForGraphic(e.graphic,{waitForLayer:!0}).then((e=>s(e)),(()=>{})).catch((()=>{})),{remove:()=>{r=!0,null!=i&&(i.remove(),i=null)}}}highlight(e){if(Array.isArray(e))return l(e.map((e=>this.highlight(e))));if(s.isCollection(e))return l(e.toArray().map((e=>this.highlight(e))));const t=this.getViewForGraphic(e);return t&&\"highlight\"in t?t.highlight(e):p()}maskOccludee(e){if(!e)return d.getLogger(this).error(\"maskOccludee\",\"GraphicState.graphic must not be null or undefined to mask an occludee\"),null;const t=this.getViewForGraphic(e);let i=null,r=!1;const s=t=>{!r&&null!=t&&ze(t)&&(i=t.maskOccludee(e))};return null!=t?s(t):this.whenViewForGraphic(e,{waitForLayer:!0}).then((e=>s(e)),(()=>{})).catch((()=>{})),{remove:()=>{r=!0,null!=i&&(i.remove(),i=null)}}}getViewForGraphic(e){return e.layer===this.graphics?this.graphicsView:e.layer?this.allLayerViews.find((t=>t.layer===e.layer)):null}graphicChanged(e){null!=this.graphicsView&&this.graphicsView.graphicChanged(e)}async whenViewForGraphic(e,t){if(e.layer===this)return await v((()=>this.graphicsView)),this.graphicsView;if(!e.layer||!this.map)throw new a(\"no-view-for-graphic\");return t&&t.waitForLayer&&!this.map.allLayers.includes(e.layer)?new Promise(((t,i)=>{const r=this.map.allLayers.on(\"change\",(s=>{s.added.includes(e.layer)&&(r.remove(),this.whenLayerView(e.layer).then(t,i))}))})):this.whenLayerView(e.layer)}externalToInternalIntersectOptions(e){const t=this._externalToInternalRenderItems(e.include,pt.INCLUDE),i=this._externalToInternalRenderItems(e.exclude,pt.EXCLUDE);return{include:t.layerUids,exclude:i.layerUids,graphics:{include:t.graphicUids,exclude:i.graphicUids}}}_intersectResultToMapPoint(e,t){return e.getIntersectionPoint(ht)?(t=this.computeMapPointFromVec3d(ht,t),e.intersector===Ue.TERRAIN&&this.basemapTerrain&&(t.z=_e(this.basemapTerrain,t)??0),t):null}_intersectResultsToHits(e,t){const i=new Array;let r=null;for(let s=0;s<e.length;s++){const n=e[s],a=Fe(n,this);if(null!=a&&(a===this.map.ground||\"type\"in a&&\"integrated-mesh\"===a.type))break;const o=De(n,this);if(null==o)continue;if(\"graphic\"===o.type){if(null==r&&s!==e.length-1&&(r=new Set),null!=r){const e=this._getGraphicFilterUid(o.graphic);if(r.has(e))continue;r.add(e)}if(!this._testGraphicUidFilter(t,o.graphic))continue}const l=this._intersectResultToMapPoint(n),p=n.distanceInRenderSpace;i.push({...o,mapPoint:l,distance:p})}return i}_getGraphicFilterUid(e){const t=e.sourceLayer,i=e.layer,r=t&&\"objectIdField\"in t?t:i&&\"objectIdField\"in i?i:t;if(r){const t=r.objectIdField??B,i=e.attributes?.[t];if(i)return`o-${r.id}-${i}`}return`u-${e.uid}`}_testGraphicUidFilter(e,t){const i=this._getGraphicFilterUid(t);return null==e||(null==e.include||e.include.has(i))&&(null==e.exclude||!e.exclude.has(i))}_externalToInternalRenderItems(e,t,r={layerUids:void 0,graphicUids:void 0}){if(!e)return r;if(e instanceof i)ot(r,this._getGraphicFilterUid(e)),t===pt.INCLUDE&&(null!=this.graphicsView&&e.layer===this?at(r,this.graphicsView.processor.layer.id):e.layer&&at(r,e.layer.uid));else if(h(e))for(const i of e)i===this.graphics&&null!=this.graphicsView?at(r,this.graphicsView.processor.layer.id):i===this.map.ground?at(r,ke):this._externalToInternalRenderItems(i,t,r);else\"uid\"in e&&at(r,e.uid);return r}_initBasemapTerrain(){this._set(\"basemapTerrain\",new je({view:this})),this._set(\"elevationProvider\",new fe({view:this})),this.elevationProvider.register(\"ground\",this.basemapTerrain)}_exitBasemapTerrain(){this.basemapTerrain&&(this.elevationProvider.unregister(this.basemapTerrain),this.elevationProvider.destroy(),this._set(\"elevationProvider\",null),this.basemapTerrain.destroy(),this._set(\"basemapTerrain\",null))}_initGlobe(){this._initCoordinateSystem(),this.state.createInitialCamera(),this._initBasemapTerrain(),this._set(\"pointsOfInterest\",new Oe({view:this})),this._set(\"featureTiles\",new ue({renderCoordsHelper:this.renderCoordsHelper,cameraOnSurface:this.pointsOfInterest.cameraOnSurface,focus:this.pointsOfInterest.focus,tilingSchemeOwner:this.basemapTerrain,viewState:this.state,scheduler:this._resourceController.scheduler,terrain:this.basemapTerrain}));const e=()=>{const e=this.basemapTerrain?.extent;if(this.clippingArea||e)if(e&&this.basemapTerrain.spatialReference){const e=null!=this.basemapTerrain.extent&&null!=this.basemapTerrain.spatialReference?G(D(this.basemapTerrain.extent,this.basemapTerrain.spatialReference),this.spatialReference):null;null!=this.clippingArea?this.featureTiles.filterExtent=this.clippingArea.intersection(e):this.featureTiles.filterExtent=e}else this.featureTiles.filterExtent=this.clippingArea;else this.featureTiles.filterExtent=null};this.addHandles([this.updatingHandles.add((()=>we.FEATURE_TILE_TREE_SHOW_TILES),(e=>{e&&this.featureTiles&&!this._featureTreeDebugger?this.updatingHandles.addPromise(import(\"./3d/layers/support/FeatureTileTree3DDebugger.js\")).then((({FeatureTileTree3DDebugger:e})=>{!this._featureTreeDebugger&&we.FEATURE_TILE_TREE_SHOW_TILES&&(this._featureTreeDebugger=new e({view:this}))})):e||!this._featureTreeDebugger||we.FEATURE_TILE_TREE_SHOW_TILES||(this._featureTreeDebugger.destroy(),this._featureTreeDebugger=null)}),w),this.updatingHandles.add((()=>this.clippingArea),e,w),this.updatingHandles.add((()=>this.basemapTerrain.extent),e,w)],\"feature-tiles\"),this.stateManager.init()}_exitGlobe(){this.state&&(this.stateManager.exit(),this.removeHandles(\"render-coords-helper\"),this.removeHandles(\"feature-tiles\"),this.featureTiles.destroy(),this._set(\"featureTiles\",null),this.pointsOfInterest.destroy(),this._set(\"pointsOfInterest\",null),this._exitBasemapTerrain(),this.state.exit(),this._exitCoordinateSystem())}_initCoordinateSystem(){if(this.spatialReference){const e=this.spatialReference;this.mapCoordsHelper&&this.mapCoordsHelper.spatialReference.equals(e)||this._set(\"mapCoordsHelper\",new Me(this.map,e));const t=this.state.isGlobal,i=q(t,e);i!==this.renderSpatialReference&&(this._set(\"renderCoordsHelper\",Ve.create(this.state.viewingMode,i)),t||this.addHandles(y((()=>this.basemapTerrain?.extent),(e=>{const t=this.renderCoordsHelper.spatialReference;null==e||0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]||!U(e,this.basemapTerrain.spatialReference,ct,t)||(this.renderCoordsHelper.extent=ct)}),_),\"render-coords-helper\"),this.sceneIntersectionHelper&&this.sceneIntersectionHelper.setTolerance(Ae/this.renderCoordsHelper.unitInMeters))}else this._set(\"mapCoordsHelper\",null),this._set(\"renderCoordsHelper\",null)}_exitCoordinateSystem(){this.mapCoordsHelper&&(this.removeHandles(\"render-coords-helper\"),this._set(\"renderCoordsHelper\",null),this._set(\"mapCoordsHelper\",null))}_updatingChanged(){this.notifyChange(\"updating\")}_updateUpdatingMonitors(e=null){null!=e&&e.type===u.MOVE||(this.removeHandles(\"updatingMonitors\"),this.allLayerViews.forEach((e=>{e.destroyed||(this.addHandles(y((()=>[e.updating,e.updatingProgress]),(()=>this._updatingChanged()),_),\"updatingMonitors\"),e.when((()=>this._updatingChanged()),(()=>this._updatingChanged())))})),this._updatingChanged())}async _prepareScreenshotOverlay(){this.overlay&&await this.overlay.prepare()}_renderScreenshotOverlay(e,t){if(!this.overlay||!this.overlay.hasVisibleItems)return t;const i=e.getContext(\"2d\");return i.putImageData(t,0,0),this.overlay.renderCanvas(e),i.getImageData(0,0,t.width,t.height)}_initStage(){const e={deactivatedWebGLExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions,alpha:this.alphaCompositingEnabled,preserveDrawingBuffer:this.preserveDrawingBufferEnabled,canvas:this.renderCanvas,screenshot:{prepareOverlay:()=>this._prepareScreenshotOverlay(),renderOverlay:(e,t)=>this._renderScreenshotOverlay(e,t)}},t=new ye(this.state.viewingMode,(e=>this._stage.layers.forAll(e)),this);this._set(\"sceneIntersectionHelper\",t);const i=n(this.surface);this._stage=new Pe({view:this,options:e,container:i}),this._stage.renderer.setParameters({slicePlane:this.slicePlane}),this.addHandles([this.updatingHandles.add((()=>this.qualitySettings.antialiasingEnabled),(()=>this._stage.renderer.setParameters({antialiasingEnabled:this.qualitySettings.antialiasingEnabled})),f),this.updatingHandles.add((()=>this.qualitySettings.highQualityTransparency),(e=>this._stage.renderer.setParameters({highQualityTransparency:e})),f),y((()=>this.magnifier),(e=>this._stage.renderView.magnifier=e),w),this.on(\"pointer-move\",(()=>this._stage?.renderer.resetAnimation())),o(this._stage.renderView.canvas,\"webglcontextlost\",(e=>this.fatalError=new a(\"webgl-context-lost\",e.statusMessage)))],\"stage\");const r=()=>{this._stage.renderer.setParameters({defaultHighlightOptions:be.toEngineOptions(this.highlightOptions)})};this.addHandles(this.updatingHandles.add((()=>[this.highlightOptions.color,this.highlightOptions.haloColor,this.highlightOptions.haloOpacity,this.highlightOptions.fillOpacity,this.highlightOptions.shadowOpacity,this.highlightOptions.shadowColor,this.highlightOptions.shadowDifference]),r),\"stage\"),r(),this.renderCoordsHelper&&this.sceneIntersectionHelper.setTolerance(Ae/this.renderCoordsHelper.unitInMeters),this._set(\"canvas\",this._stage.renderView.canvas)}_exitStage(){this._set(\"sceneIntersectionHelper\",null),this._stage=c(this._stage),this.removeHandles(\"stage\"),this._set(\"canvas\",null)}_initSurface(e){this._exitSurface(),this.state.init(e,this.spatialReference),this._initStage(),this._initGlobe(),this.sharedSymbolResources=new Te({view:this,viewingMode:e,resourceController:this._resourceController,pointsOfInterest:this.pointsOfInterest,viewState:this.state})}_exitSurface(){this.sharedSymbolResources&&(this.sharedSymbolResources.objectResourceCache.destroy(),this.sharedSymbolResources.destroy(),this.sharedSymbolResources=null,this._exitGlobe(),this._exitStage())}_createGraphicsViewIfNeeded(){if(this.graphicsView||this._createGraphicsViewController)return;if(0===this.graphics.length)return;this.removeHandles(\"graphics-view\"),this._createGraphicsViewController=new AbortController;const e=()=>{this._createGraphicsViewController=null,this._updatingChanged()};this._createGraphicsViewAsync(this._createGraphicsViewController.signal).then(e,e),this._updatingChanged()}async _createGraphicsViewAsync(e){const t=(await import(\"./3d/layers/GraphicsView3D.js\")).default;g(e),await v((()=>this.basemapTerrain?.ready),e),this._set(\"graphicsView\",new t({view:this}))}_disposeGraphicsView(){this._createGraphicsViewController&&(this._createGraphicsViewController.abort(),this._createGraphicsViewController=null),this.removeHandles(\"graphics-view\"),null!=this.graphicsView&&(this.removeHandles(this.graphicsView.processor.layer.id),this.graphicsView.destroy(),this._set(\"graphicsView\",null))}_startup(){const e=se(this.viewingMode);if(e===ie.Global&&(this._clippingArea=null),this._initSurface(e),this._set(\"ready\",!0),this.addHandles(m((()=>this.graphics),\"after-changes\",(()=>this._createGraphicsViewIfNeeded())),\"graphics-view\"),this._createGraphicsViewIfNeeded(),!this._externallySet.environment){const e=this.get(\"map.initialViewProperties.environment\");e&&(this.environment=e)}this.labeler.setup(),this.environmentManager.connectView(this),this.inputManager.connect();const t=this._resolveWhenReady;this._resolveWhenReady=[],t.forEach((e=>e(this)))}_teardown(){this._initialDefaultSpatialReference=null,this.inputManager.disconnect(),this.environmentManager.disconnectView(),this.labeler.dispose(),this._disposeGraphicsView(),this.removeHandles(\"graphics-view\"),this._exitSurface(),this._set(\"ready\",!1)}_updateDefaultToMapOptions(){if(this._defaultToMapOptions.include.clear(),this.map){this.map.ground&&this._defaultToMapOptions.include.add(ke);for(const e of this.map.allLayers.items)\"integrated-mesh\"===e.type&&this._defaultToMapOptions.include.add(e.uid)}}_updateDefaultHitTestOptions(){if(this._defaultHitTestOptions.exclude.clear(),this.map){this.map.ground&&this.map.ground.opacity<1&&this._defaultHitTestOptions.exclude.add(ke);for(const e of this.map.allLayers.items)\"integrated-mesh\"===e.type&&e.opacity<1&&this._defaultHitTestOptions.exclude.add(e.uid)}}addVoxelLayerViewToWasm(e){return null==this.voxelWasm?(null==this.voxelWasmPromise&&(this.voxelWasmPromise=import(\"../layers/VoxelWasmPerSceneView.js\").then((e=>(this.voxelWasm=new e.default(this),this.voxelWasm)))),this.voxelWasmPromise.then((t=>t.addVoxelLayer(e)))):this.voxelWasm.addVoxelLayer(e)}removeVoxelLayerViewFromWasm(e){if(null!=this.voxelWasm){this.voxelWasm.removeVoxelLayer(e)<1&&(this.voxelWasm=null,this.voxelWasmPromise=null)}}};function at(e,t){e.layerUids||(e.layerUids=new Set),e.layerUids.add(t)}function ot(e,t){e.graphicUids||(e.graphicUids=new Set),e.graphicUids.add(t)}function lt(e,t){return null!=e&&A(e.spatialReference,t)?G(e,t):null}var pt;nt.type=\"3d\",e([x()],nt.prototype,\"_userClippingArea\",void 0),e([x()],nt.prototype,\"_resourceController\",void 0),e([x()],nt.prototype,\"_stage\",void 0),e([x({readOnly:!0})],nt.prototype,\"deconflictor\",void 0),e([x({readOnly:!0})],nt.prototype,\"labeler\",void 0),e([x(I(X,\"analyses\"))],nt.prototype,\"analyses\",void 0),e([x({type:te,readOnly:!0})],nt.prototype,\"animation\",null),e([x({readOnly:!0})],nt.prototype,\"basemapTerrain\",void 0),e([x({readOnly:!0})],nt.prototype,\"elevationProvider\",void 0),e([x()],nt.prototype,\"camera\",null),e([x({type:t})],nt.prototype,\"contentCamera\",null),e([x({readOnly:!0})],nt.prototype,\"canvas\",void 0),e([x({type:st})],nt.prototype,\"center\",null),e([x({type:it})],nt.prototype,\"clippingArea\",null),e([x({type:oe})],nt.prototype,\"constraints\",void 0),e([x({type:it,readOnly:!0})],nt.prototype,\"renderDataExtent\",null),e([x({type:it,readOnly:!0})],nt.prototype,\"dataExtent\",null),e([x({type:it,readOnly:!0})],nt.prototype,\"_groundAndLayersExtent\",null),e([x({value:null,type:le})],nt.prototype,\"environment\",null),e([C(\"environment\")],nt.prototype,\"castEnvironment\",null),e([x({readOnly:!0})],nt.prototype,\"environmentManager\",void 0),e([x({type:it})],nt.prototype,\"extent\",null),e([x()],nt.prototype,\"floors\",void 0),e([x()],nt.prototype,\"screenCenter\",null),e([x()],nt.prototype,\"frustum\",null),e([x({type:Number,readOnly:!0})],nt.prototype,\"fullOpacity\",void 0),e([x({readOnly:!0})],nt.prototype,\"graphicsView\",void 0),e([x({readOnly:!0})],nt.prototype,\"analysisViewManager\",void 0),e([x()],nt.prototype,\"groundView\",void 0),e([x({type:Boolean})],nt.prototype,\"initialExtentRequired\",null),e([x()],nt.prototype,\"_defaultsFromMapSettings\",null),e([x()],nt.prototype,\"interacting\",null),e([x()],nt.prototype,\"stationary\",null),e([x()],nt.prototype,\"navigating\",null),e([x()],nt.prototype,\"map\",void 0),e([x({readOnly:!0})],nt.prototype,\"mapCoordsHelper\",void 0),e([x()],nt.prototype,\"padding\",null),e([x({type:Oe,readOnly:!0})],nt.prototype,\"pointsOfInterest\",void 0),e([x({type:ue,readOnly:!0})],nt.prototype,\"featureTiles\",void 0),e([x()],nt.prototype,\"_featureTreeDebugger\",void 0),e([x({type:Boolean})],nt.prototype,\"screenSizePerspectiveEnabled\",void 0),e([x({constructOnly:!0})],nt.prototype,\"deactivatedWebGLExtensions\",void 0),e([x({constructOnly:!0})],nt.prototype,\"debugWebGLExtensions\",void 0),e([x({constructOnly:!0})],nt.prototype,\"renderCanvas\",void 0),e([x({constructOnly:!0})],nt.prototype,\"state\",void 0),e([x({readOnly:!0})],nt.prototype,\"inputManager\",void 0),e([x({readOnly:!0})],nt.prototype,\"stateManager\",void 0),e([x({type:[\"low\",\"medium\",\"high\"]})],nt.prototype,\"qualityProfile\",null),e([x({type:Re,get(){let e=this._get(\"qualitySettings\");return e||(e=new Re,ve.apply(this.qualityProfile,e)),e}})],nt.prototype,\"qualitySettings\",void 0),e([x()],nt.prototype,\"slicePlane\",null),e([x({readOnly:!0})],nt.prototype,\"typeSpecificPreconditionsReady\",null),e([x({readOnly:!0})],nt.prototype,\"renderCoordsHelper\",void 0),e([x({readOnly:!0})],nt.prototype,\"sceneIntersectionHelper\",void 0),e([x({type:Number,dependsOn:[\"scale\",\"spatialReference\"],readOnly:!0})],nt.prototype,\"resolution\",null),e([x({type:Number})],nt.prototype,\"scale\",null),e([x()],nt.prototype,\"heightModelInfo\",null),e([x()],nt.prototype,\"spatialReference\",void 0),e([x({type:Boolean,constructOnly:!0})],nt.prototype,\"alphaCompositingEnabled\",void 0),e([x({constructOnly:!0})],nt.prototype,\"preserveDrawingBufferEnabled\",void 0),e([x({type:Boolean})],nt.prototype,\"supersampleScreenshotsEnabled\",void 0),e([x({readOnly:!0})],nt.prototype,\"type\",void 0),e([x(),C((e=>e instanceof Ke?e:j(et,e)))],nt.prototype,\"ui\",void 0),e([x({type:Boolean,readOnly:!0,dependsOn:[\"graphicsView.updating\",\"basemapView.updating\",\"basemapTerrain.updating\",\"layerViewManager.updating\",\"layerViewManager.updatingRemaining\",\"_resourceController.updating\",\"_stage.updating\",\"featureTiles.updating\",\"pointsOfInterest.updating\",\"environmentManager.updating\",\"overlay.updating\",\"updatingHandles.updating\",\"featureTreeDebugger.updating\",\"labeler.updating\",\"deconflictor.updating\",\"ready\",\"stationary\",\"inputManager.updating\",\"toolViewManager.updating\",\"analysisViewManager.updating\",\"state.updating\"]})],nt.prototype,\"updating\",null),e([x()],nt.prototype,\"_updatingObjects\",null),e([x()],nt.prototype,\"_updatingObjectsWithProgress\",null),e([x({type:Number,readOnly:!0,dependsOn:[\"updating\"]})],nt.prototype,\"updatingProgress\",void 0),e([x({type:[\"global\",\"local\"]})],nt.prototype,\"viewingMode\",null),e([x({type:r})],nt.prototype,\"viewpoint\",null),e([x({type:Number})],nt.prototype,\"zoom\",null),e([x({type:be})],nt.prototype,\"highlightOptions\",void 0),nt=e([T(\"esri.views.SceneView\")],nt),function(e){e[e.INCLUDE=0]=\"INCLUDE\",e[e.EXCLUDE=1]=\"EXCLUDE\"}(pt||(pt={}));const ht=E(),dt=R(),ct=W(),ut=nt;export{ut as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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AE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,KA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,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,GAAE,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,GAAE,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,IAAG,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,GAAE,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,IAAG,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI,KAAI,KAAI,IAAG,KAAI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GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,CAAC,GAAEA,IAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,CAAC,C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AAO,QAAM,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,GAAE,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,QAAM,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,OAAM,EAAC,GAAE,EAAC,UAAS,CAAC,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,OAAM,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,OAAM,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,OAAM,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAO,QAAO,GAAE,QAAO,OAAM,QAAO,QAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,OAAM,GAAE,UAAS,CAAC,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,QAAM,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,OAAK,SAAO,SAAO,SAAO,OAAK,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,QAAM,S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AAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,SAAO,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,SAAO,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,SAAO,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,GAAE,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,OAAO,GAAE,UAAS,CAAC,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,GAAE,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,OAAK,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,S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",
  "names": ["m", "n", "e", "l", "t", "c", "f", "o", "s", "u", "y", "a", "l", "e", "V", "f", "u", "U", "y", "a", "d", "r", "i", "a", "e", "s", "l", "y", "_", "p", "e", "V", "d", "A", "s", "i", "t", "a", "o", "n", "v", "c", "t", "y", "l", "s", "i", "e", "h", "d", "U", "p", "a", "u", "p", "u", "y", "a", "o", "t", "r", "y", "s", "a", "c", "m", "d", "p", "t", "i", "y", "s", "a", "c", "p", "o", "y", "a", "d", "i", "l", "e", "t", "r", "y", "o", "a", "p", "r", "l", "c", "s", "d", "n", "p", "e", "t", "o", "i", "u", "y", "a", "m", "s", "c", "l", "r", "y", "a", "i", "c", "l", "s", "p", "n", "a", "e", "t", "y", "m", "i", "m", "t", "i", "r", "y", "a", "p", "c", "l", "r", "o", "y", "a", "n", "c", "p", "l", "o", "y", "a", "u", "p", "c", "l", "r", "o", "y", "a", "n", "i", "p", "l", "r", "o", "y", "a", "c", "i", "p", "l", "o", "y", "a", "n", "n", "u", "c", "a", "s", "e", "r", "p", "i", "p", "a", "t", "l", "r", "y", "a", "c", "l", "a", "p", "i", "c", "o", "h", "y", "n", "o", "c", "n", "t", "e", "r", "g", "u", "d", "s", "b", "e", "t", "o", "y", "l", "p", "a", "i", "n", "j", "u", "b", "j", "t", "i", "m", "p", "a", "n", "y", "s", "f", "a", "f", "n", "p", "e", "i", "E", "W", "s", "R", "I", "_", "l", "t", "z", "s", "t", "r", "q", "t", "s", "a", "f", "n", "i", "l", "p", "A", "e", "r", "o", "d", "u", "c", "E", "v", "u", "e", "t", "i", "E", "W", "l", "R", "I", "_", "f", "u", "e", "f", "t", "o", "r", "m", "E", "y", "a", "n", "d", "e", "r", "i", "E", "W", "s", "R", "T", "I", "_", "t", "b", "d", "e", "i", "E", "W", "t", "s", "R", "l", "I", "_", "v", "f", "e", "s", "x", "t", "a", "d", "r", "i", "y", "B", "e", "t", "i", "o", "w", "S", "n", "s", "f", "E", "d", "r", "k", "A", "I", "l", "h", "M", "D", "x", "a", "g", "N", "u", "z", "O", "m", "y", "m", "e", "t", "i", "E", "W", "l", "R", "_", "y", "y", "b", "v", "t", "u", "e", "f", "A", "m", "s", "n", "r", "E", "z", "P", "o", "g", "w", "h", "p", "a", "x", "h", "e", "i", "E", "r", "W", "l", "R", "I", "_", "t", "e", "d", "e", "t", "a", "i", "g", "r", "h", "n", "p", "D", "T", "y", "v", "E", "s", "o", "m", "c", "F", "H", "O", "e", "L", "E", "o", "G", "H", "N", "B", "U", "z", "e", "t", "a", "g", "s", "A", "l", "w", "n", "f", "D", "T", "i", "r", "h", "p", "u", "Y", "J", "c", "_", "d", "Z", "F", "Q", "X", "k", "K", "x", "v", "O", "g", "n", "d", "e", "i", "h", "W", "l", "R", "I", "_", "t", "A", "O", "A", "e", "g", "c", "t", "i", "d", "r", "s", "o", "a", "R", "h", "P", "E", "F", "v", "y", "H", "O", "d", "n", "e", "h", "t", "i", "E", "W", "l", "R", "I", "_", "f", "x", "t", "d", "c", "e", "L", "r", "E", "h", "I", "s", "n", "S", "O", "i", "M", "a", "o", "f", "q", "F", "y", "H", "h", "e", "t", "r", "o", "R", "I", "n", "N", "i", "G", "D", "s", "U", "T", "d", "b", "A", "a", "j", "_", "c", "p", "z", "g", "L", "O", "P", "x", "e", "H", "V", "E", "k", "e", "G", "a", "s", "A", "p", "t", "x", "B", "i", "u", "v", "l", "w", "h", "U", "I", "_", "N", "_e", "o", "r", "D", "q", "d", "z", "P", "T", "Q", "y", "u", "t", "n", "o", "i", "e", "r", "s", "l", "a", "c", "d", "h", "m", "F", "A", "x", "t", "r", "e", "o", "n", "u", "a", "i", "c", "f", "s", "d", "p", "v", "M", "l", "h", "x", "N", "P", "m", "E", "I", "g", "O", "T", "A", "H", "L", "R", "_", "G", "z", "D", "S", "j", "x", "t", "e", "S", "i", "n", "o", "a", "l", "s", "c", "r", "u", "F", "A", "H", "P", "O", "z", "g", "st", "G", "I", "m", "D", "r", "E", "t", "I", "e", "G", "H", "i", "n", "o", "a", "u", "l", "F", "x", "L", "R", "U", "_", "C", "V", "q", "B", "J", "K", "j", "Q", "W", "X", "Y", "Z", "$", "tt", "s", "h", "f", "g", "b", "y", "A", "N", "v", "M", "S", "O", "e", "n", "st", "k", "n", "t", "i", "c", "l", "e", "r", "U", "w", "D", "o", "s", "q", "E", "S", "O", "a", "g", "h", "A", "I", "Q", "z", "y", "L", "O", "O", "r", "t", "n", "e", "a", "i", "m", "o", "c", "L", "O", "s", "g", "f", "t", "r", "n", "c", "l", "a", "m", "u", "s", "j", "C", "g", "M", "d", "p", "h", "e", "o", "T", "x", "y", "i", "O", "L", "d", "n", "e", "r", "c", "t", "j", "O", "o", "l", "i", "y", "u", "p", "x", "s", "L", "h", "I", "w", "k", "C", "g", "N", "v", "a", "f", "m", "u", "e", "r", "n", "t", "M", "p", "g", "f", "o", "s", "a", "c", "l", "m", "b", "d", "w", "i", "H", "v", "A", "y", "o", "r", "l", "i", "a", "N", "g", "A", "C", "f", "s", "e", "c", "_", "u", "n", "n", "c", "e", "i", "m", "a", "s", "l", "x", "t", "n", "r", "c", "i", "V", "a", "U", "g", "_", "O", "K", "u", "z", "e", "s", "J", "N", "L", "B", "P", "k", "v", "q", "o", "b", "Q", "H", "E", "F", "A", "Y", "T", "l", "G", "m", "d", "t", "u", "o", "i", "n", "c", "a", "s", "q", "r", "e", "b", "d", "h", "p", "x", "M", "f", "l", "I", "P", "g", "j", "k", "m", "v", "w", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "E", "t", "o", "n", "U", "e", "s", "i", "C", "N", "r", "c", "L", "l", "u", "O", "T", "a", "y", "x", "f", "d", "P", "n", "g", "_", "k", "v", "x", "z", "r", "b", "e", "T", "t", "l", "i", "s", "o", "A", "a", "h", "S", "u", "o", "n", "t", "_t", "o", "e", "r", "s", "e", "o", "t", "s", "n", "a", "m", "i", "i", "t", "o", "e", "n", "s", "a", "h", "l", "o", "a", "e", "n", "t", "i", "r", "d", "c", "l", "m", "h", "s", "f", "w", "p", "f", "Z", "P", "D", "b", "g", "h", "M", "n", "o", "k", "t", "a", "N", "i", "e", "j", "s", "l", "w", "m", "z", "A", "r", "I", "d", "q", "c", "v", "y", "p", "B", "C", "E", "s", "e", "i", "n", "f", "t", "o", "u", "d", "a", "m", "h", "i", "n", "t", "s", "o", "r", "w", "f", "e", "a", "c", "n", "h", "i", "T", "m", "s", "a", "o", "e", "u", "r", "t", "s", "t", "i", "y", "a", "a", "i", "t", "s", "h", "a", "i", "t", "e", "p", "n", "A", "l", "H", "y", "i", "n", "x", "m", "n", "t", "j", "r", "j", "n", "t", "r", "u", "o", "i", "k", "n", "t", "r", "v", "z", "a", "v", "n", "x", "S", "e", "b", "s", "r", "p", "e", "n", "u", "m", "d", "N", "t", "Q", "X", "Y", "Z", "$", "_", "tt", "et", "nt", "rt", "at", "L", "it", "e", "n", "st", "ct", "o", "g", "f", "v", "u", "lt", "q", "i", "ce", "ut", "r", "c", "a", "s", "A", "ht", "vt", "l", "p", "z", "F", "h", "m", "ie", "re", "M", "y", "D", "B", "k", "se", "ne", "b", "T", "F", "k", "A", "h", "n", "L", "O", "_", "t", "i", "e", "r", "o", "a", "at", "f", "s", "y", "d", "g", "z", "H", "u", "w", "Z", "$", "E", "p", "l", "M", "D", "R", "S", "h", "n", "L", "O", "t", "e", "o", "_", "A", "y", "at", "r", "C", "f", "T", "z", "j", "i", "Z", "F", "$", "s", "u", "g", "a", "U", "E", "s", "i", "o", "t", "r", "A", "S", "c", "e", "t", "i", "l", "M", "u", "A", "H", "a", "m", "o", "x", "_", "I", "E", "v", "z", "j", "b", "g", "w", "d", "y", "U", "P", "s", "f", "p", "r", "n", "h", "n", "e", "t", "u", "o", "i", "y", "a", "_", "t", "c", "l", "U", "_e", "h", "n", "i", "g", "a", "L", "m", "e", "E", "O", "y", "l", "i", "e", "s", "u", "o", "y", "a", "l", "n", "u", "h", "m", "f", "p", "b", "d", "z", "g", "j", "r", "k", "e", "s", "v", "T", "r", "j", "g", "e", "y", "n", "x", "h", "t", "i", "s", "c", "m", "f", "R", "l", "b", "o", "v", "u", "_", "E", "a", "M", "H", "I", "r", "P", "z", "n", "U", "i", "v", "e", "w", "q", "S", "t", "a", "h", "g", "b", "j", "_", "o", "m", "E", "s", "c", "l", "f", "p", "y", "d", "F", "T", "x", "R", "W", "H", "k", "A", "C", "G", "u", "M", "r", "S", "l", "U", "s", "P", "b", "A", "D", "H", "L", "G", "n", "E", "O", "x", "k", "i", "I", "q", "J", "e", "f", "F", "C", "W", "t", "r", "X", "o", "g", "u", "c", "K", "Y", "a", "Q", "l", "d", "m", "N", "V", "Z", "B", "te", "$", "_", "ee", "ne", "re", "le", "ie", "v", "h", "y", "oe", "ae", "ce", "se", "he", "ae", "oe", "e", "s", "ie", "se", "ce", "t", "le", "n", "r", "a", "f", "g", "o", "x", "i", "Y", "q", "N", "B", "c", "me", "l", "he", "ue", "d", "ve", "M", "m", "P", "u", "pe", "E", "w", "G", "S", "fe", "ge", "X", "ye", "h", "de", "_", "p", "Q", "V", "Z", "Ee", "f", "t", "i", "e", "j", "ue", "a", "n", "l", "d", "o", "s", "r", "X", "E", "h", "w", "J", "e", "t", "Y", "Z", "X", "s", "ie", "i", "a", "r", "l", "p", "oe", "V", "n", "o", "ee", "c", "me", "R", "I", "d", "K", "U", "f", "te", "_", "M", "q", "Q", "x", "$", "N", "le", "E", "g", "ae", "y", "re", "n", "i", "re", "r", "t", "s", "y", "a", "b", "t", "L", "n", "e", "O", "r", "i", "at", "it", "s", "o", "a", "V", "nt", "h", "A", "p", "m", "P", "rt", "E", "z", "u", "g", "c", "l", "d", "S", "y", "a", "i", "t", "r", "e", "o", "L", "L", "n", "i", "O", "_", "t", "a", "it", "r", "A", "e", "N", "at", "u", "z", "s", "E", "Q", "X", "Y", "g", "B", "T", "m", "k", "ct", "o", "A", "n", "i", "L", "O", "h", "t", "a", "it", "s", "at", "e", "r", "z", "Q", "X", "u", "Y", "g", "j", "T", "lt", "m", "E", "s", "i", "r", "t", "e", "o", "L", "A", "q", "n", "t", "L", "O", "e", "i", "s", "o", "it", "E", "at", "u", "g", "c", "r", "rt", "j", "st", "a", "m", "l", "p", "z", "h", "d", "_", "b", "f", "v", "y", "A", "Y", "T", "W", "Q", "ot", "x", "$", "tt", "et", "J", "l", "i", "e", "t", "a", "h", "q", "a", "e", "o", "i", "t", "r", "l", "q", "i", "e", "t", "r", "A", "S", "t", "c", "a", "L", "O", "t", "i", "E", "i", "c", "t", "O", "n", "o", "r", "g", "e", "p", "y", "a", "p", "n", "u", "l", "c", "o", "O", "t", "s", "i", "r", "z", "y", "a", "n", "c", "t", "O", "o", "r", "ct", "m", "y", "a", "p", "c", "t", "O", "n", "o", "r", "ut", "y", "a", "j", "c", "t", "i", "O", "n", "_", "e", "s", "E", "k", "ct", "y", "a", "e", "u", "m", "t", "e", "i", "s", "a", "l", "n", "c", "h", "r", "_", "v", "z", "ot", "n", "t", "h", "i", "s", "a", "c", "l", "_", "L", "O", "r", "d", "o", "A", "N", "at", "j", "p", "e", "T", "m", "v", "x", "C", "M", "b", "f", "z", "tt", "et", "E", "Y", "y", "u", "g", "st", "ct", "ut", "q", "r", "J", "K", "n", "t", "h", "a", "l", "s", "i", "L", "O", "e", "d", "F", "o", "at", "j", "C", "g", "w", "tt", "et", "E", "P", "S", "V", "z", "Y", "u", "ht", "ut", "T", "m", "st", "ct", "p", "i", "t", "e", "s", "r", "ot", "K", "e", "i", "t", "e", "i", "t", "t", "e", "i", "e", "t", "i", "o", "i", "e", "t", "a", "L", "b", "a", "i", "e", "t", "r", "s", "m", "g", "n", "h", "d", "o", "c", "l", "p", "_", "z", "t", "c", "e", "m", "r", "s", "a", "d", "_", "i", "b", "o", "l", "h", "E", "y", "k", "C", "N", "e", "n", "i", "l", "o", "s", "a", "c", "t", "u", "r", "h", "p", "f", "U", "n", "W", "H", "Z", "q", "e", "J", "_", "K", "d", "Q", "$", "i", "t", "c", "s", "r", "f", "A", "F", "o", "a", "L", "C", "z", "u", "O", "w", "g", "l", "v", "M", "m", "y", "n", "p", "r", "A", "g", "t", "I", "y", "a", "_", "t", "A", "l", "e", "h", "I", "p", "i", "m", "L", "n", "s", "r", "g", "a", "A", "e", "d", "N", "t", "s", "l", "R", "O", "i", "n", "o", "a", "u", "S", "g", "b", "H", "r", "j", "k", "p", "_", "v", "P", "h", "j", "e", "i", "A", "t", "a", "U", "s", "T", "r", "C", "o", "n", "l", "h", "c", "y", "E", "g", "f", "m", "S", "b", "R", "M", "v", "u", "x", "x", "e", "s", "t", "i", "u", "V", "l", "U", "w", "I", "C", "j", "O", "m", "y", "a", "_", "o", "I", "n", "l", "e", "t", "c", "A", "r", "a", "v", "w", "f", "s", "y", "b", "t", "r", "n", "l", "w", "d", "i", "A", "e", "U", "T", "g", "o", "u", "z", "c", "s", "a", "L", "h", "p", "H", "m", "y", "f", "I", "J", "j", "P", "M", "_", "v", "x", "E", "c", "n", "e", "l", "t", "r", "s", "i", "o", "S", "u", "a", "h", "y", "a", "e", "i", "o", "t", "r", "n", "e", "h", "a", "l", "d", "y", "n", "o", "r", "s", "i", "f", "O", "u", "a", "i", "s", "H", "A", "n", "e", "r", "t", "o", "x", "c", "f", "r", "y", "a", "p", "n", "d", "l", "c", "u", "e", "y", "t", "_", "u", "l", "m", "n", "d", "r", "e", "s", "i", "a", "o", "f", "T", "e", "j", "y", "a", "F", "r", "c", "D", "I", "E", "l", "U", "t", "s", "o", "o", "e", "n", "t", "s", "N", "n", "e", "s", "r", "E", "a", "e", "o", "N", "t", "l", "o", "t", "e", "a", "n", "r", "v", "s", "i", "c", "n", "a", "t", "e", "r", "s", "l", "o", "h", "i", "D", "w", "S", "e", "A", "l", "t", "s", "n", "r", "U", "d", "t", "o", "e", "h", "w", "z", "i", "r", "s", "x", "c", "r", "t", "y", "a", "_", "g", "c", "t", "o", "x", "n", "a", "e", "r", "V", "C", "l", "v", "f", "F", "y", "j", "L", "c", "t", "o", "x", "n", "g", "v", "e", "r", "s", "C", "u", "F", "A", "i", "a", "l", "I", "k", "y", "n", "s", "t", "e", "a", "L", "P", "c", "e", "o", "x", "l", "I", "r", "s", "S", "i", "g", "n", "h", "C", "A", "t", "v", "z", "p", "y", "a", "p", "e", "n", "t", "l", "a", "y", "x", "u", "e", "C", "n", "I", "h", "g", "m", "t", "r", "s", "y", "o", "l", "a", "P", "e", "t", "d", "o", "j", "n", "r", "c", "A", "u", "h", "p", "L", "I", "g", "f", "l", "U", "a", "s", "F", "E", "i", "y", "t", "s", "s", "a", "r", "t", "o", "s", "a", "i", "e", "l", "n", "h", "f", "m", "u", "c", "p", "M", "g", "x", "d", "m", "e", "t", "r", "g", "o", "x", "l", "h", "w", "y", "a", "u", "C", "n", "H", "s", "b", "i", "A", "E", "e", "o", "s", "ne", "oe", "le", "t", "A", "e", "_a", "l", "U", "I", "C", "O", "r", "i", "s", "_", "g", "ue", "M", "a", "n", "ye", "he", "o", "y", "c", "h", "me", "u", "de", "Y", "T", "p", "w", "x", "d", "m", "f", "R", "E", "j", "N", "ce", "pe", "D", "v", "t", "_t", "e", "o", "i", "s", "l", "l", "P", "a", "t", "e", "s", "i", "r", "p", "u", "o", "n", "b", "h", "H", "O", "c", "m", "d", "f", "g", "x", "t", "i", "s", "n", "o", "r", "L", "a", "e", "l", "r", "i", "t", "r", "n", "s", "a", "e", "l", "e", "t", "s", "i", "r", "a", "n", "m", "h", "d", "o", "u", "_", "p", "f", "y", "v", "I", "c", "q", "l", "d", "t", "l", "c", "l", "t", "s", "o", "p", "w", "e", "m", "r", "t", "E", "ie", "se", "i", "n", "_", "ae", "oe", "l", "he", "e", "t", "T", "A", "a", "r", "s", "E", "d", "m", "me", "v", "c", "_e", "g", "ye", "p", "f", "y", "I", "Ae", "M", "u", "D", "x", "S", "re", "H", "o", "le", "h", "U", "ne", "ue", "de", "Y", "X", "P", "ge", "K", "B", "J", "ce", "G", "pe", "q", "z", "fe", "t", "r", "s", "e", "g", "e", "i", "r", "l", "S", "W", "s", "R", "I", "a", "_", "t", "H", "O", "G", "l", "i", "t", "e", "P", "r", "T", "p", "s", "a", "X", "o", "n", "H", "h", "d", "g", "u", "c", "m", "Y", "f", "S", "A", "y", "_", "x", "D", "v", "ce", "$", "E", "V", "R", "w", "L", "N", "W", "q", "z", "J", "K", "Q", "Z", "I", "M", "ee", "te", "B", "F", "O", "U", "k", "b", "v", "t", "e", "n", "s", "r", "a", "f", "d", "m", "h", "M", "x", "y", "o", "L", "R", "T", "D", "A", "V", "P", "U", "E", "X", "B", "k", "O", "C", "i", "l", "g", "p", "F", "I", "j", "w", "N", "H", "_", "q", "W", "z", "G", "J", "K", "Q", "Y", "Z", "$", "tt", "et", "nt", "ot", "st", "rt", "it", "at", "lt", "ct", "ut", "S", "ft", "c", "u", "dt", "mt", "gt", "pt", "ht", "Mt", "xt", "yt", "St", "bt", "_a", "ge", "p", "se", "e", "t", "r", "i", "a", "s", "n", "l", "c", "G", "h", "u", "d", "f", "he", "o", "m", "T", "k", "O", "U", "I", "j", "c", "n", "l", "e", "t", "s", "r", "i", "a", "y", "D", "se", "t", "e", "s", "_", "i", "o", "n", "r", "l", "a", "h", "u", "d", "p", "f", "z", "he", "L", "P", "T", "v", "c", "y", "O", "A", "g", "m", "x", "M", "j", "E", "H", "I", "R", "V", "C", "N", "k", "U", "F", "B", "G", "w", "$", "q", "W", "J", "K", "Q", "X", "Y", "Z", "tt", "et", "st", "it", "ot", "nt", "rt", "lt", "at", "ht", "b", "S", "e", "y", "a", "s", "t", "r", "p", "s", "u", "n", "d", "r", "b", "i", "f", "p", "e", "E", "W", "s", "R", "_", "t", "u", "l", "r", "e", "f", "o", "r", "c", "i", "l", "n", "U", "x", "e", "t", "r", "i", "s", "a", "o", "d", "p", "u", "c", "m", "y", "g", "h", "f", "w", "L", "u", "e", "i", "E", "W", "s", "R", "_", "t", "z", "d", "p", "r", "o", "e", "i", "f", "x", "B", "O", "s", "I", "e", "t", "n", "o", "f", "A", "r", "i", "d", "l", "p", "u", "E", "a", "h", "b", "g", "m", "T", "y", "C", "B", "_", "q", "M", "s", "l", "o", "t", "N", "e", "t", "r", "s", "C", "b", "I", "c", "o", "n", "u", "l", "m", "z", "H", "_", "A", "f", "T", "y", "g", "F", "q", "U", "v", "a", "B", "E", "x", "S", "G", "V", "i", "p", "h", "d", "k", "w", "D", "X", "L", "W", "s", "o", "a", "c", "h", "f", "t", "e", "i", "n", "r", "l", "d", "I", "b", "u", "y", "N", "m", "x", "g", "p", "T", "M", "R", "S", "A", "_", "w", "V", "U", "B", "v", "P", "j", "D", "F", "O", "k", "d", "s", "h", "y", "o", "c", "r", "a", "re", "ie", "se", "i", "ne", "e", "oe", "l", "d", "_", "G", "n", "o", "E", "m", "L", "t", "r", "A", "f", "O", "C", "s", "ae", "le", "u", "p", "b", "y", "T", "R", "h", "x", "he", "v", "a", "M", "D", "ce", "P", "S", "q", "g", "c", "e", "S", "e", "t", "l", "s", "g", "H", "b", "v", "T", "P", "i", "y", "a", "t", "n", "s", "i", "e", "nt", "n", "e", "l", "r", "I", "t", "c", "F", "i", "f", "s", "le", "p", "D", "oe", "A", "w", "U", "h", "x", "S", "a", "se", "u", "E", "Q", "H", "R", "ne", "pt", "Tt", "G", "ct", "ut", "ot", "q", "L", "ht", "dt", "gt", "C", "m", "d", "o", "Y", "P", "X", "T", "O", "mt", "N", "W", "y", "_", "j", "_t", "lt", "n", "e", "t", "r", "m", "o", "s", "d", "E", "I", "h", "y", "a", "l", "h", "f", "t", "e", "s", "n", "o", "r", "a", "y", "t", "n", "e", "s", "o", "r", "i", "l", "e", "h", "i", "t", "s", "a", "n", "n", "i", "e", "s", "r", "a", "l", "c", "u", "f", "h", "B", "E", "b", "o", "t", "f", "t", "o", "y", "n", "s", "i", "e", "b", "d", "A", "C", "g", "T", "_", "j", "m", "a", "u", "I", "x", "S", "r", "p", "c", "h", "l", "t", "s", "e", "s", "i", "t", "e", "r", "n", "a", "t", "e", "u", "f", "S", "t", "n", "o", "a", "e", "r", "s", "G", "l", "u", "C", "y", "i", "q", "N", "A", "x", "R", "B", "v", "O", "F", "M", "E", "f", "P", "p", "D", "h", "H", "I", "J", "K", "T", "e", "t", "s", "S", "t", "n", "T", "e", "r", "i", "l", "M", "o", "v", "n", "d", "W", "h", "c", "A", "a", "_", "u", "f", "t", "F", "O", "e", "n", "t", "r", "s", "i", "c", "s", "n", "h", "r", "e", "i", "u", "g", "F", "e", "t", "r", "n", "E", "B", "o", "i", "m", "c", "u", "s", "a", "_", "G", "I", "v", "h", "T", "l", "V", "W", "L", "O", "A", "e", "h", "a", "d", "e", "D", "T", "x", "t", "i", "s", "r", "r", "i", "a", "h", "e", "r", "t", "e", "s", "i", "K", "s", "Q", "e", "t", "l", "r", "c", "P", "f", "o", "p", "n", "i", "a", "m", "h", "u", "b", "C", "v", "_", "w", "y", "L", "$", "B", "W", "ee", "te", "oe", "S", "A", "F", "M", "Z", "E", "H", "O", "p", "e", "i", "E", "W", "l", "R", "I", "_", "s", "t", "f", "a", "o", "r", "t", "p", "e", "i", "E", "a", "W", "_", "l", "R", "s", "t", "d", "a", "e", "i", "E", "W", "t", "a", "e", "i", "E", "W", "l", "R", "_", "t", "c", "n", "e", "i", "E", "W", "s", "R", "_", "t", "m", "d", "e", "t", "r", "s", "i", "l", "o", "a", "E", "n", "h", "p", "f", "w", "v", "R", "j", "C", "A", "t", "r", "i", "B", "e", "S", "n", "a", "M", "O", "T", "s", "o", "E", "W", "D", "h", "f", "x", "K", "P", "k", "c", "l", "F", "V", "I", "L", "_", "u", "y", "N", "c", "f", "n", "v", "e", "i", "O", "r", "x", "o", "s", "t", "a", "d", "p", "g", "u", "m", "h", "M", "t", "f", "n", "O", "i", "s", "e", "l", "r", "o", "d", "u", "h", "p", "c", "_", "g", "E", "a", "W", "R", "G", "D", "T", "v", "y", "o", "x", "e", "r", "t", "i", "d", "a", "n", "s", "i", "e", "a", "t", "r", "l", "s", "o", "p", "d", "c", "u", "n", "C", "w", "s", "e", "n", "h", "l", "a", "i", "t", "E", "o", "m", "f", "T", "r", "R", "u", "c", "e", "m", "n", "_", "t", "r", "o", "h", "i", "s", "a", "l", "n", "e", "i", "E", "W", "l", "R", "_", "t", "d", "a", "e", "r", "i", "E", "W", "_", "t", "l", "a", "e", "i", "E", "W", "_", "t", "m", "c", "n", "r", "P", "F", "e", "r", "n", "c", "s", "a", "f", "D", "x", "t", "o", "h", "l", "p", "u", "m", "_", "i", "G", "U", "E", "A", "c", "U", "G", "p", "u", "e", "t", "r", "h", "D", "T", "s", "i", "o", "a", "d", "x", "n", "t", "r", "u", "a", "U", "P", "e", "R", "_", "i", "l", "g", "o", "s", "d", "e", "l", "r", "E", "t", "o", "i", "p", "h", "c", "n", "y", "a", "m", "e", "r", "i", "E", "W", "c", "_", "t", "f", "c", "p", "m", "b", "e", "t", "s", "i", "r", "f", "n", "a", "y", "s", "t", "r", "d", "e", "s", "i", "E", "W", "l", "R", "_", "t", "x", "M", "e", "t", "i", "r", "o", "a", "w", "f", "J", "b", "_", "I", "l", "L", "U", "d", "m", "s", "u", "n", "G", "k", "D", "x", "O", "c", "p", "y", "p", "v", "r", "u", "e", "s", "i", "E", "W", "l", "R", "_", "t", "j", "u", "l", "g", "w", "t", "e", "p", "c", "f", "s", "n", "a", "o", "z", "y", "m", "i", "t", "W", "n", "e", "Z", "l", "e", "i", "E", "W", "_", "t", "d", "l", "e", "r", "i", "E", "W", "_", "t", "f", "l", "e", "i", "E", "W", "_", "t", "d", "A", "e", "r", "t", "s", "G", "a", "l", "w", "P", "D", "x", "i", "_", "E", "T", "y", "n", "o", "t", "c", "f", "i", "s", "u", "e", "e", "i", "t", "s", "n", "o", "a", "F", "s", "o", "e", "W", "n", "u", "e", "i", "o", "W", "l", "R", "T", "I", "_", "a", "t", "L", "s", "x", "r", "m", "g", "f", "T", "x", "b", "e", "t", "i", "s", "A", "l", "r", "u", "n", "E", "a", "c", "o", "R", "d", "n", "e", "u", "a", "c", "h", "p", "m", "f", "d", "S", "E", "g", "s", "r", "o", "i", "R", "w", "T", "l", "t", "e", "t", "r", "c", "A", "n", "o", "f", "i", "te", "e", "c", "n", "f", "a", "r", "t", "F", "fe", "s", "o", "i", "l", "ne", "d", "z", "k", "se", "V", "b", "pe", "u", "m", "g", "h", "p", "C", "oe", "ie", "T", "w", "ce", "O", "ge", "A", "ae", "_", "re", "de", "me", "he", "y", "de", "e", "he", "e", "me", "t", "r", "n", "o", "ge", "s", "pe", "fe", "e", "t", "u", "r", "E", "a", "e", "s", "m", "n", "h", "t", "oe", "e", "r", "t", "o", "i", "a", "n", "h", "p", "l", "I", "ne", "A", "m", "J", "w", "F", "M", "d", "te", "ue", "U", "C", "s", "E", "W", "_", "c", "de", "u", "f", "T", "g", "O", "G", "X", "B", "_e", "ce", "pe", "me", "le", "y", "s", "P", "e", "r", "t", "n", "m", "e", "t", "s", "n", "I", "r", "O", "_", "u", "a", "y", "o", "t", "e", "f", "r", "c", "g", "t", "e", "N", "a", "r", "T", "s", "y", "n", "n", "t", "p", "e", "t", "g", "r", "s", "O", "i", "n", "c", "l", "G", "C", "d", "w", "o", "a", "h", "u", "R", "_", "b", "x", "B", "I", "v", "S", "o", "t", "e", "M", "e", "n", "c", "o", "l", "h", "w", "t", "a", "r", "m", "s", "d", "oe", "i", "g", "O", "p", "A", "I", "E", "Q", "y", "u", "e", "l", "s", "M", "I", "n", "r", "t", "C", "i", "E", "y", "a", "t", "e", "r", "s", "n", "i", "e", "h", "o", "y", "a", "p", "nt", "w", "C", "z", "e", "o", "G", "T", "_", "F", "t", "c", "k", "V", "v", "f", "p", "E", "a", "l", "N", "J", "d", "h", "U", "M", "lt", "s", "i", "r", "j", "Z", "n", "L", "A", "ht", "dt", "b", "x", "pt", "ot", "at", "P", "ct", "u", "S", "y", "ut"]
}
