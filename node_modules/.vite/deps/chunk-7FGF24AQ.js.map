{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/terrain/RenderOrder.js", "../../@arcgis/core/views/3d/terrain/tileUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar O;!function(O){O[O.BACK_TO_FRONT=-1]=\"BACK_TO_FRONT\",O[O.NONE=0]=\"NONE\",O[O.FRONT_TO_BACK=1]=\"FRONT_TO_BACK\"}(O||(O={}));export{O as RenderOrder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/PooledArray.js\";import{RenderOrder as e}from\"./RenderOrder.js\";class n{constructor(){this._queue=new t,this.remove=()=>{}}get done(){return 0===this._queue.length&&(!this._last||this._last.isLeaf)}resetOne(t){this._queue.clear(),this._queue.push(t),this._last=void 0}reset(t=null){this._queue.clear(),null!=t&&this._queue.pushArray(t),this._last=void 0}skipSubtree(){this._last=void 0}next(){const t=this._last?.children;return t&&t[0]&&this._queue.pushArray(t),this._last=this._queue.pop(),this._last}}class r{constructor(){this._q=new t}get done(){return 0===this._q.length}reset(t){if(this._q.clear(),null!=t){this._q.pushArray(t);for(let t=0;t<this._q.length;++t){const e=this._q.data[t];e.isLeaf||this._q.pushArray(e.children)}}}next(){return this._q.pop()}}function s(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)i(t[n],e);else i(t,e)}function i(t,e){if(e(t),!t.isLeaf)for(const n of t.children)i(n,e)}function o(t,e,n){if(null==e||null==e.fullExtent)return!1;const r=e.fullExtent,s=t.extent;if(n){if(s[0]<r.xmin||s[1]<r.ymin||s[2]>r.xmax||s[3]>r.ymax)return!1}else if(r.xmin>s[2]||r.ymin>s[3]||r.xmax<s[0]||r.ymax<s[1])return!1;const i=t.surface.tilingScheme.levels[t.level].scale,o=e.minScale;if(o>0&&i>1.00000001*o)return!1;const l=e.maxScale;return!(l>0&&i<.99999999*l)}function l(t,e){const n=t.lij,r=e.lij;return n[0]-r[0]||n[1]-r[1]||n[2]-r[2]}function u(t,n,r=null){null==r||0===r.length?t===e.BACK_TO_FRONT?n.sort(c):n.sort(f):n.sort(((e,n)=>a(e,n,t,r)))}function c(t,e){const n=e.screenDepth-t.screenDepth;if(0!==n)return n;const r=t.lij,s=e.lij;return r[0]-s[0]||r[1]-s[1]||r[2]-s[2]}function f(t,e){const n=t.screenDepth-e.screenDepth;if(0!==n)return n;const r=t.lij,s=e.lij;return r[0]-s[0]||r[1]-s[1]||r[2]-s[2]}function h(t,e,n){const r=t.screenDepth,s=e.screenDepth;return r<s?-n:r>s?n:l(t,e)}function a(t,e,n,r){return _(t,r)===_(e,r)?h(t,e,n):t?n:-n}function _(t,e){for(const n of e)if(t.intersectsExtent(n))return!0;return!1}function p(t,e){const n=t.distanceToPOI-e.distanceToPOI;if(0!==n)return n;const r=t.lij,s=e.lij;return r[0]-s[0]||r[1]-s[1]||r[2]-s[2]}function d(t,e){const n=t.length;for(let r=0;r<n;++r){t.at(r).updateDistanceToPOI(e)}t.sort(p)}function m(t,e,n){let r=1,s=0,i=0;for(;t!==e;)if(r*=.5,s*=.5,i*=.5,1&t.lij[2]&&(s+=.5),0==(1&t.lij[1])&&(i+=.5),null==(t=t.parent))throw new Error(\"tile was not a descendant of upsampleTile\");n.init(e,s,i,r)}function q(t){for(let e=0;e<t.length;e++){const n=t[e],r=n.parent;if(r)for(let t=0;t<4;t++){const e=r.children[t];if(e&&e!==n)return!0}}return!1}function x(t,e){if(!t||!e||t[0]===e[0])return!1;const n=t[0]<e[0],r=n?t:e,s=n?e:t,i=1<<s[0]-r[0];return Math.floor(s[1]/i)===r[1]&&Math.floor(s[2]/i)===r[2]}export{r as IteratorPostorder,n as IteratorPreorder,h as compareTiles,l as compareTilesByLij,a as compareTilesWithStencil,m as computeUpsampleInfo,o as fallsWithinLayer,q as hasLoadableSiblings,u as sortTiles,d as sortTilesByPOI,x as tilesAreRelated,s as traverseTilesPreorder};\n"],
  "mappings": "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",
  "names": ["O", "t", "n", "r", "o", "l", "t", "e"]
}
