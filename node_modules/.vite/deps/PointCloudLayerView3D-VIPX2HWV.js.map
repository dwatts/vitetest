{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js", "../../@arcgis/core/views/3d/layers/i3s/LoDUtil.js", "../../@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js", "../../@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js", "../../@arcgis/core/views/3d/layers/i3s/PointGraphic.js", "../../@arcgis/core/views/3d/layers/i3s/PointHighlights.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js", "../../@arcgis/core/views/3d/layers/i3s/PointRenderer.js", "../../@arcgis/core/views/3d/layers/PointCloudLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as t}from\"../../../core/workers/WorkerHandle.js\";class r extends t{constructor(t){super(\"PointCloudWorker\",\"transform\",{transform:t=>this._getTransferList(t)},t)}_getTransferList(t){const r=[t.geometryBuffer];if(null!=t.primaryAttributeData&&t.primaryAttributeData.buffer&&r.push(t.primaryAttributeData.buffer),null!=t.modulationAttributeData&&t.modulationAttributeData.buffer&&r.push(t.modulationAttributeData.buffer),null!=t.filterAttributesData)for(const e of t.filterAttributesData)null!=e&&e.buffer&&r.push(e.buffer);for(const e of t.userAttributesData)e.buffer&&r.push(e.buffer);return r}}export{r as PointCloudWorkerHandle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{e}from\"../../../../chunks/vec3.js\";function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderCenter(t.remove[0]),h=l.getRenderCenter(r.remove[0]);return e(o,n)-e(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}export{t as nodeDiff,g as sortFrontToBack,u as splitWorkEntries,d as splitWorkEntry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{create as e,contains as t,intersects as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{transformObb as n}from\"./I3SUtil.js\";import{set as i,toAaBoundingBox as r,intersectPlane as o,ObbArray as p}from\"../../support/orientedBoundingBox.js\";class h{constructor(e,t,s){this._pages=[],this.pageSize=0,this._nodeSR=null,this._renderSR=null,this._nodeSR=e,this._renderSR=t,this.pageSize=s}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);const n=g(t,this._nodeSR,this._renderSR,s);this._pages[e]={nodes:t,renderObbs:n,parents:new Uint32Array(this.pageSize)},u(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[l(e,t)].nodes[c(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[l(e,t)].renderObbs[c(e,t)]}getRenderCenter(e){return this.getRenderObb(e).center}setRenderObb(e,t){const s=this.pageSize;i(t,this._pages[l(e,s)].renderObbs[c(e,s)])}getParentId(e){const t=this.pageSize;return this._pages[l(e,t)].parents[c(e,t)]}hasNodes(e,t){const s=l(e,this.pageSize),n=l(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const t={index:this,queue:[],masks:[],tempAabb:e()};return(e,s)=>a(t,e,s)}}function a(e,n,i){const p=e.index;if(!p.hasNodes(0,1))return;const h=e.queue;h.length=0,h.push(0);const a=e.masks;for(a.length=0,a.push(0);h.length>0;){const g=h.pop();let u=a.pop();const c=p.getNode(g),d=p.getRenderObb(g);let f=!0;if(null!=n.clippingBox){const i=1<<n.frustum.length;if(0==(u&i)){const o=r(d,e.tempAabb);t(n.clippingBox,o)?u|=i:s(n.clippingBox,o)||(f=!1)}}for(let e=0;e<n.frustum.length&&f;e++){const t=1<<e;if(0==(u&t)){const s=o(d,n.frustum[e]);s>0?f=!1:s<0&&(u|=t)}}if(i.predicate(g,c,f)){const e=c.firstChild,t=c.childCount;let s=!1;const n=l(e,p.pageSize),r=l(e+t-1,p.pageSize);for(let o=n;o<=r;o++)if(!p.hasPage(o)){i.pageMiss(g,o),s=!0;break}if(!s)for(let i=0;i<t;i++)h.push(e+i),a.push(u)}}}function g(e,t,s,i){const r=new p(e.length);for(let o=0;o<e.length;o++)n(e[o].obb,t,r.obbs[o],s,i);return r.obbs}function u(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[l(n,t)].nodes[c(n,t)];for(let r=0;r<i.childCount;r++){const o=i.firstChild+r;null!=e[l(o,t)]&&(e[l(o,t)].parents[c(o,t)]=n,s.push(o))}}}function l(e,t){return e/t|0}function c(e,t){return e%t}export{h as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e?.type,o=e?.toJSON()??null;let l=null,i=!1;const a=t.attributeStorageInfo;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?l=u(a,e.field):\"point-cloud-rgb\"===n?(l=r(a,e.field),i=null!=l):(l=r(a,\"RGB\"),i=null!=l);let s=null;return e?.colorModulation&&(s=u(a,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:l,modulationAttribute:s}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t?.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t?.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function l(t){const e=t?.pointSizeAlgorithm;return!(!e||!e.type)&&\"fixed-size\"===e.type}function r(t,e){for(const n of t??[])if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t??[])if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return t?{name:e,storageInfo:null,useElevation:t}:{name:e,storageInfo:n,useElevation:t}}return\"elevation\"===e?.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,l as rendererUsesFixedSizes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../Graphic.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends o{constructor(r){super(r),this.pointCloudMetadata=null}};r([s({constructOnly:!0,clonable:\"reference\"})],e.prototype,\"pointCloudMetadata\",void 0),e=r([t(\"esri.views.3d.layers.i3s.PointGraphic\")],e);export{e as PointGraphic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{Object3DState as t}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DStateID as i}from\"../../webgl-engine/lib/Object3DStateID.js\";class h{constructor(e){this._context=e,this._highlights=new Set}get hasHighlights(){return this._highlights.size>0}destroy(){this._highlights=null}add(t){const i=new s(t);return this._highlights.add(i),this._enableSet(i),e((()=>this._removeSet(i)))}_removeSet(e){this._disableSet(e),this._highlights.delete(e)}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._highlights.forEach((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._highlights.forEach((t=>this._disableSetForNode(t,e)))}removeAll(){this._highlights.forEach((e=>this._disableSet(e)))}}class s{constructor(e){this.id=new i(t.Highlight),this.ids=new Map,this.enabled=!1;for(const t of e)null!=t&&this._add(t.nodeId,t.pointId)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{h as PointHighlights};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../lib/Program.js\";import{stencilWriteMaskOn as o,stencilBaseAllZerosParams as s}from\"../lib/StencilUtils.js\";import{b as n}from\"../../../../chunks/PointRenderer.glsl.js\";import{CompareFunction as l}from\"../../../webgl/enums.js\";import{makePipelineState as c,defaultDepthWriteParams as a,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";class m extends r{constructor(e,r,i){super(e,r,i)}initializeProgram(e){return new t(e.rctx,m.shader.get().build(this.configuration),i)}initializePipeline(){return c({depthTest:{func:l.LESS},depthWrite:a,colorWrite:u,stencilWrite:this.configuration.hasOccludees?o:null,stencilTest:this.configuration.hasOccludees?s:null})}}m.shader=new e(n,(()=>import(\"./PointRenderer.glsl.js\")));export{m as PointRendererTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends i{constructor(){super(...arguments),this.output=o.Color,this.hasSlicePlane=!1,this.drawScreenSize=!1,this.useFixedSizes=!1,this.hasOccludees=!1,this.clippingEnabled=!1}}e([t({count:o.COUNT})],r.prototype,\"output\",void 0),e([t()],r.prototype,\"hasSlicePlane\",void 0),e([t()],r.prototype,\"drawScreenSize\",void 0),e([t()],r.prototype,\"useFixedSizes\",void 0),e([t()],r.prototype,\"hasOccludees\",void 0),e([t()],r.prototype,\"clippingEnabled\",void 0),e([t({constValue:!0})],r.prototype,\"hasSliceInVertexProgram\",void 0);export{r as PointRendererTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/PooledArray.js\";import{b as s,l as i,g as r,o as n,e as o,p as a}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import{s as l}from\"../../../../chunks/vec4.js\";import{create as c,offset as u,contains as d,containsPoint as p,set as m,POSITIVE_INFINITY as g,equals as _}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as f}from\"../../../../geometry/support/plane.js\";import{fromPoints as P}from\"../../../../geometry/support/ray.js\";import{PclTarget as b}from\"./Intersector.js\";import{PointHighlights as S}from\"./PointHighlights.js\";import{minimumDistancePlane as x,maximumDistancePlane as z,intersectLine as R,toAaBoundingBox as q}from\"../../support/orientedBoundingBox.js\";import{ShaderOutput as w}from\"../../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{Default3D as y}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{newIntersectorResult as A}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as j,StoreResults as I}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{VertexArrayObject as F}from\"../../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as v}from\"../../webgl-engine/lib/VertexAttribute.js\";import{P as C,a as E,g as H}from\"../../../../chunks/PointRenderer.glsl.js\";import{PointRendererTechnique as N}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import{PointRendererTechniqueConfiguration as O}from\"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";import{BufferObject as L}from\"../../../webgl/BufferObject.js\";import{DataType as T,PrimitiveType as B,Usage as D}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as M}from\"../../../webgl/VertexElementDescriptor.js\";const V={positions:[new M(v.POSITION,3,T.FLOAT,0,12)],colors:[new M(v.COLOR,3,T.UNSIGNED_BYTE,0,3,!0)]};class W{get needsHighlight(){return this._highlights.hasHighlights}constructor(e){this._params=e,this.type=j.PCL,this.isGround=!1,this._passParameters=new C,this._highlights=new S({forEachNode:e=>this.forEachNode(e),addHighlight:(e,t,s)=>this._addHighlight(e,t,s),removeHighlight:(e,t)=>this._removeHighlight(e,t)}),this.canRender=!0,this.layerUid=\"\",this._slicePlaneEnabled=!1,this._techniqueConfig=new O,this._nodes=new t}initializeRenderContext(e){this._context=e,this._techniqueRepository=this._context.techniqueRepository,e.requestRender()}uninitializeRenderContext(){}intersect(e,t,m,g){const _=h(),S=h(),w=h(),y=h(),j=f(),F=e.camera.perScreenPixelRatio/2,v=e.camera.near;s(S,g,m);const C=1/i(S);r(S,S,C),n(w,S),l(j,S[0],S[1],S[2],-o(S,m));const E=new Z,H=new Z,N=new Array,O=c(),L=c(this._passParameters.clipBox);u(L,-m[0],-m[1],-m[2],L),this._nodes.forAll((i=>{const r=i.splatSize*this._passParameters.scaleFactor;let n=x(i.obb,j),h=z(i.obb,j);n-=Y(r,n+v,this._passParameters,F,i.isLeaf),h-=Y(r,h+v,this._passParameters,F,i.isLeaf);const l=h<0,c=null!=E.dist&&null!=H.dist&&E.dist<n*C&&H.dist>h*C;if(l||c)return;const f=G(r,h+v,this._passParameters,F,i.isLeaf);if(!R(i.obb,m,S,f))return;const P=f*f;q(i.obb,O),u(O,-m[0],-m[1],-m[2],O);const b=!d(L,O);s(y,i.origin,m);const A=i.coordinates.length/3;for(let s=0;s<A;s++){if(_[0]=y[0]+i.coordinates[3*s],_[1]=y[1]+i.coordinates[3*s+1],_[2]=y[2]+i.coordinates[3*s+2],b&&!p(L,_))continue;const n=o(_,S),h=a(_)-n*n;if(h>P)continue;let l=n+v;const c=Y(r,l,this._passParameters,F,i.isLeaf);if(n-c<0)continue;l-=c;const u=G(r,l,this._passParameters,F,i.isLeaf);if(h>u*u)continue;const d=(n-c)*C,f=e=>(e.point=J(i,s,e.point),e.dist=d,e.normal=w,e.node=i,e.pointId=s,e.layerUid=this.layerUid,e);if((null==E.dist||d<E.dist)&&(null==t||t(m,g,d))&&f(E),e.options.store!==I.MIN&&(null==H.dist||d>H.dist)&&(null==t||t(m,g,d))&&f(H),e.options.store===I.ALL&&(null==t||t(m,g,d))){const e=new Z;N.push(f(e))}}}));const T=e=>{const{layerUid:t,node:s,pointId:i}=e;return new b(e.point,t,i,(()=>this._params.createGraphic(s,i,e.point)))},B=(e,t)=>{const s=T(t);e.set(this.type,s,t.dist,t.normal)};if($(E)){const t=e.results.min;(null==t.dist||E.dist<t.dist)&&B(t,E)}if($(H)&&e.options.store!==I.MIN){const t=e.results.max;(null==t.dist||H.dist>t.dist)&&B(t,H)}if(e.options.store===I.ALL){const t=P(m,g);for(const s of N){const i=A(t);B(i,s),e.results.all.push(i)}}}prepareTechnique(e){return 0===this._nodes.length||e.output!==w.Color&&e.output!==w.Depth&&e.output!==w.Highlight?null:(this._nodes.forAll((t=>{null==t.vao&&this._initNode(e,t)})),this._techniqueConfig.drawScreenSize=this._passParameters.drawScreenSpace,this._techniqueConfig.useFixedSizes=this._passParameters.useFixedSizes,this._techniqueConfig.hasSlicePlane=this._slicePlaneEnabled,this._techniqueConfig.hasOccludees=e.bindParameters.hasOccludees,this._techniqueConfig.clippingEnabled=this._clippingEnabled,this._techniqueConfig.output=e.output===w.Depth?w.Depth:e.output===w.Highlight?w.Highlight:w.Color,this._techniqueRepository.releaseAndAcquire(N,this._techniqueConfig,this._technique))}render(e,t){const s=e.rctx,i=s.bindTechnique(t,this._passParameters,e.bindParameters),r=e.output===w.Highlight;this._nodes.forAll((t=>{0===t.coordinates.length||r&&!t.highlights||(i.bindDraw(t,e.bindParameters,this._passParameters),s.bindVAO(t.vao),r?this._renderHighlightFragments(s,t):s.drawArrays(B.POINTS,0,t.coordinates.length/3))}))}_renderHighlightFragments(e,t){const s=t.highlights;if(null==s)return;let i=s[0].component,r=i+1;for(let o=1;o<s.length;o++){const t=s[o].component;if(t!==r){const s=r-i;s>0&&e.drawArrays(B.POINTS,i,s),i=t}r=t+1}const n=r-i;n>0&&e.drawArrays(B.POINTS,i,n)}set useFixedSizes(e){this._passParameters.useFixedSizes!==e&&(this._passParameters.useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._passParameters.useFixedSizes}set scaleFactor(e){this._passParameters.scaleFactor!==e&&(this._passParameters.scaleFactor=e,this._requestRender())}get scaleFactor(){return this._passParameters.scaleFactor}set minSizePx(e){this._passParameters.minSizePx!==e&&(this._passParameters.minSizePx=e,this._requestRender())}get minSizePx(){return this._passParameters.minSizePx}set useRealWorldSymbolSizes(e){this._passParameters.useRealWorldSymbolSizes!==e&&(this._passParameters.useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._passParameters.useRealWorldSymbolSizes}set size(e){this._passParameters.size!==e&&(this._passParameters.size=e,this._requestRender())}get size(){return this._passParameters.size}set sizePx(e){this._passParameters.sizePx!==e&&(this._passParameters.sizePx=e,this._requestRender())}get sizePx(){return this._passParameters.sizePx}set clippingBox(e){m(this._passParameters.clipBox,e||g)}get _clippingEnabled(){return!_(this._passParameters.clipBox,g,((e,t)=>e===t))}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this._nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(t){let s=null;return this._nodes.filterInPlace((i=>i.id!==t||(s=i,i.vao=e(i.vao),this._highlights.nodeRemoved(i),!1))),this._requestRender(),s}forEachNode(e){this._nodes.forAll(e)}removeAll(){this._nodes.forAll((t=>t.vao=e(t.vao))),this._highlights.removeAll(),this._nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}_addHighlight(e,t,s){e.highlights=Q(e.highlights,t,s),this._requestRender()}_removeHighlight(e,t){e.highlights=X(e.highlights,t),this._requestRender()}_initNode(e,t){const s=e.rctx;t.vao=new F(s,y,V,{positions:L.createVertex(s,D.STATIC_DRAW,t.coordinates),colors:L.createVertex(s,D.STATIC_DRAW,t.rgb)})}_requestRender(){this._context&&this._context.requestRender()}}class U extends E{constructor(e,t,s,i,r,n,o,a,h=null,l=null){super(s,r,t),this.id=e,this.obb=i,this.coordinates=n,this.rgb=o,this.attributes=a,this.pointIdFilterMap=h,this.highlights=l}}function k(e){return e.hasOwnProperty(\"splatSize\")}function G(e,t,s,i,r){if(s.drawScreenSpace)return s.fixedSize*t*i;const n=H(r)*t*i;return s.useFixedSizes?Math.min(s.fixedSize/2,n):s.screenMinSize>0?Math.min(Math.max(s.screenMinSize*t*i,e/2),n):Math.min(e/2,n)}function Y(e,t,s,i,r){return s.drawScreenSpace?0:G(e,t,s,i,r)}function J(e,t,s){return null==s&&(s=h()),s[0]=e.origin[0]+e.coordinates[3*t],s[1]=e.origin[1]+e.coordinates[3*t+1],s[2]=e.origin[2]+e.coordinates[3*t+2],s}function K(e){return null!=e.component?e.component:-1}function Q(e,t,s){null==e&&(e=[]);const i={component:t,id:s};e.push(i);const r=K(i);let n=e.length-1;for(;n>0&&r<K(e[n-1]);)[e[n-1],e[n]]=[e[n],e[n-1]],--n;return e}function X(e,t){if(null==e)return e;const s=e.filter((e=>e.id!==t));return 0===s.length?null:s}class Z{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}function $(e){return null!=e.dist&&null!=e.point&&null!=e.pointId&&null!=e.node}export{W as PointRenderer,U as PointRendererNode,k as isInstanceOfNode};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import{result as i,forEach as r}from\"../../../core/asyncUtils.js\";import s from\"../../../core/Collection.js\";import o from\"../../../core/Logger.js\";import{destroyMaybe as n,abortMaybe as a}from\"../../../core/maybe.js\";import{eachAlways as d,isAbortError as l,eachAlwaysValues as h,throwIfAborted as u}from\"../../../core/promiseUtils.js\";import{initial as p,watch as c,sync as _}from\"../../../core/reactiveUtils.js\";import{pt2px as m}from\"../../../core/screenUtils.js\";import{estimateSize as g,isArrayBuffer as f}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as y}from\"../../../core/unitUtils.js\";import{property as b}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as w}from\"../../../core/accessorSupport/decorators/subclass.js\";import{e as N,c as P}from\"../../../chunks/vec3.js\";import{b as x}from\"../../../chunks/vec3f32.js\";import{projectBoundingRect as v}from\"../../../geometry/projection.js\";import{create as C}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as S,create as A}from\"../../../geometry/support/aaBoundingRect.js\";import{create as I,fromNormalAndOffset as k}from\"../../../geometry/support/plane.js\";import{makeDehydratedPoint as V}from\"../../../layers/graphics/dehydratedFeatures.js\";import{CodedValue as R}from\"../../../layers/support/CodedValue.js\";import\"../../../core/has.js\";import L from\"../../../layers/support/CodedValueDomain.js\";import\"../../../layers/support/Domain.js\";import\"../../../layers/support/InheritedDomain.js\";import\"../../../layers/support/RangeDomain.js\";import{unpackFieldNames as j}from\"../../../layers/support/fieldUtils.js\";import{PromiseQueue as Q}from\"../../../layers/support/PromiseQueue.js\";import{getMetersPerUnit as U}from\"../../../symbols/support/unitConversionUtils.js\";import{LayerView3D as D}from\"./LayerView3D.js\";import{PointCloudWorkerHandle as F}from\"./PointCloudWorkerHandle.js\";import{checkPointCloudLayerValid as z,checkPointCloudLayerCompatibleWithView as W}from\"./i3s/I3SUtil.js\";import{nodeDiff as M,sortFrontToBack as E,splitWorkEntries as O}from\"./i3s/LoDUtil.js\";import B from\"./i3s/PagedNodeIndex.js\";import{getSplatSizeAlgorithm as G,getFixedSizeAlgorithm as H,getRendererInfo as q,getFilterInfo as T,rendererUsesFixedSizes as $,getAttributeInfo as J}from\"./i3s/PointCloudRendererUtil.js\";import{getAttributeValues as K,readGeometry as X,elevationFromPositions as Y}from\"./i3s/PointCloudWorkerUtil.js\";import{PointGraphic as Z}from\"./i3s/PointGraphic.js\";import{PointRenderer as ee,isInstanceOfNode as te,PointRendererNode as ie}from\"./i3s/PointRenderer.js\";import{PopupSceneLayerView as re}from\"./support/PopupSceneLayerView.js\";import{projectToBoundingBox as se}from\"../support/extentUtils.js\";import{ClientType as oe}from\"../support/index.js\";import{minimumDistancePlane as ne}from\"../support/orientedBoundingBox.js\";import{updatingProgress as ae}from\"../support/updatingProperties.js\";import{RenderSlot as de}from\"../webgl-engine/lib/RenderSlot.js\";import le from\"../../layers/LayerView.js\";import{isScaleRangeActive as he,extractSafeScaleBounds as ue,scaleBoundsPredicate as pe}from\"../../support/layerViewUtils.js\";import{TaskPriority as ce}from\"../../support/Scheduler.js\";const _e=8,me=I();let ge=class extends(re(D(le))){constructor(){super(...arguments),this.type=\"point-cloud-3d\",this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._nodeScales=new Map,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new Q,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[],this.ignoresMemoryFactor=!1}get baseUrl(){return this.layer.parsedUrl.path}get pointScale(){const e=G(this.layer&&this.layer.renderer),t=1;return e&&null!=e.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=H(this.layer&&this.layer.renderer),t=!1;return e&&null!=e.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=H(this.layer&&this.layer.renderer),t=0;return e&&null!=e.size?e.size:t}get inverseDensity(){const e=96;return this.layer&&this.layer.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=q(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.modulationAttribute.name);const i=T(this.layer);if(i)for(const r of i)r.attributeInfo&&t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of j(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=C(),t=this.view.renderSpatialReference;return se(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;if(e&&\"absolute-height\"===e.mode){const t=y(this.layer.spatialReference),i=U(e.unit);return(e.offset??0)*i/t}return 0}initialize(){const e=this.view.resourceController,t=Ne(e);this._worker=new F(t),this.addResolvingPromise(this._worker.promise),this._tmpPoint=V(0,0,0,this.layer.spatialReference),z(this.layer),W(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(oe.I3S_INDEX),this._dataRequester=e.createStreamDataRequester(oe.I3S_DATA),this._initRenderer();const i=this._initNodePages(),r=this.view.resourceController.memoryController;this._memCache=r.newCache(`pcl-${this.layer.uid}`),this.updatingHandles.add((()=>this._clippingBox),(()=>this._setUpdateViewNeeded()),p),this.updatingHandles.add((()=>this._elevationOffset),(()=>this._elevationOffsetChanged()),p),this.updatingHandles.add((()=>this.layer.renderer),(()=>this._rendererChanged()),p),this.updatingHandles.add((()=>this.layer.filters),(()=>this._reload()),p),this.updatingHandles.add((()=>this.layer.outFields),(()=>this._reload()),p),this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this._setUpdateViewNeeded())),this.updatingHandles.add((()=>this.view.state.contentCamera),(()=>this._setUpdateViewNeeded())),this.handles.add([this.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),c((()=>r.memoryFactor),(()=>this._setUpdateViewNeeded()),_)]),this.addResolvingPromise(i),this.when((()=>{this.handles.add([e.scheduler.registerTask(ce.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this.updatingHandles.add((()=>this.suspended),(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),p)])}),(()=>{this.updatingHandles.removeAll(),this.handles.removeAll()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker=n(this._worker),this._destroyRenderer(),this._memCache=n(this._memCache),this._codedDomainPopulationAbortController=a(this._codedDomainPopulationAbortController),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new ee({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this.updatingHandles.add((()=>this._clippingBox),(e=>this._renderer.clippingBox=e),p),this.updatingHandles.add((()=>this.suspended),(e=>this._setPointsVisible(!e)),p),this.updatingHandles.add((()=>this.pointScale),(e=>this._renderer.scaleFactor=e),p),this._renderer.minSizePx=Math.sqrt(2),this.updatingHandles.add((()=>this.useRealWorldSymbolSizes),(e=>this._renderer.useRealWorldSymbolSizes=e),p),this.updatingHandles.add((()=>this.pointSize),(e=>{const t=m(e);this._renderer.size=e,this._renderer.sizePx=t}),p),this.updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._renderer.slicePlaneEnabled=e),p),this.updatingHandles.add((()=>this.inverseDensity),(()=>this._setUpdateViewNeeded()),p),this.updatingHandles.add((()=>this.maximumPointCount),(()=>this._setUpdateViewNeeded()),p),this.updatingHandles.add((()=>this.view.qualitySettings.sceneService.pointCloud.lodFactor),(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),p)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=null!=e.pointIdFilterMap?e.pointIdFilterMap[t]:t,s=this.view.computeMapPointFromVec3d(i),o=this._createGraphicAttributes(e,r);return new Z({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo?.attributeValues,o=s?.valuesPerElement??1;if(1===o)r[e.name]=t[i];else if(\"UInt8\"===s?.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin([de.OPAQUE_MATERIAL],this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=$(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_scaleUpdateHandler(e){const t=this.layer.effectiveScaleRange;he(t.minScale,t.maxScale)?v(e.extent,e.spatialReference,be,this.layer.spatialReference)&&(this._nodeScales.forEach(((t,i)=>{if(!this._renderedNodes.has(i))return void this._nodeScales.delete(i);const r=this._index.getNode(i);S(be,r.obb.center)&&this._nodeScales.set(i,e.scale)})),this._setUpdateViewNeeded()):this._nodeScales.clear()}_displayNodes(e){this._workQueue=M([...this._renderedNodes],e,this._index),E(this._workQueue,this.view.state.contentCamera.viewForward,this._index),O(this._workQueue,_e,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange(\"suspended\")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange(\"suspended\")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(null==t)return;this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return null!=i?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this._loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.running&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async _populateClassCodeCodedDomain(e,t){const r=\"CLASS_CODE\",s=this.layer.fieldsIndex.get(r);if(!s||s.domain)return;if(!e.includes(s.name))return;const o=await i(this.layer.queryCachedStatistics(r,{signal:t}));if(!1===o.ok)return;const n=o.value?.stats?.labels?.labels;n&&Array.isArray(n)&&(s.domain=new L({name:\"CLASS_CODE\",codedValues:n.map((e=>new R({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this._populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,i){const s=this._splitGraphicsPerNode(e),o=this.layer.attributeStorageInfo,n=i.map((e=>J(o,e))).filter(t),a=async(e,t)=>{const i=this._index.getNode(t);await r(n,(async t=>{const r=t.useElevation?await this._loadElevationAttributeFromGeometry(i.resourceId):await this._loadAndParseAttribute(i,t);if(r)for(const i of e)if(this._isValidPointGraphic(i)){const e=i.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,r,e,i.attributes)}}))},l=[];return s.forEach(((e,t)=>{l.push(a(e,t))})),await d(l),e}_isValidPointGraphic(e){return e instanceof Z&&e.pointCloudMetadata?.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return null!=i?K({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=X(t,await this._loadGeometry(e,null));return Y(i,i.length/3)}highlight(e){if(!e)return{remove(){}};const t=s.isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return this._renderer.highlight(t.map((e=>this._graphicToPointDefinition(e))))}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new B(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange(\"suspended\"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:t.obb,firstChild:t.firstChild,childCount:t.childCount,vertexCount:t.vertexCount??t.pointCount,lodThreshold:t.lodThreshold??t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;let e=this.inverseDensity/this._lodFactor*this._getLodMemoryFactor();const t=this.maximumPointCount*this._lodFactor*this._getLodMemoryFactor();let i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(r/(.75*t));for(;r>t;)e*=s,i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(2);return this._displayNodes(i),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_getLodMemoryFactor(){return this.view.resourceController.memoryController.memoryFactor}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=N(s,t.eye),n=k(s,-o,me),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const{minScale:h,maxScale:u}=ue(this.layer),p=0===h&&0===u?e=>l.push(e):e=>{const t=this._getScale(e);pe(t,h,u)&&l.push(e)};return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return p(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(p(e),!1)},pageMiss:(e,t)=>{p(e),this._indexQueue.includes(t)||this._indexQueue.push(t)}}),l}_getScale(e){let t=this._nodeScales.get(e);if(null==t){const i=this._index.getNode(e).obb.center;this._tmpPoint.x=i[0],this._tmpPoint.y=i[1],this._tmpPoint.z=i[2],t=this.view.basemapTerrain.getScale(this._tmpPoint),this._nodeScales.set(e,t)}return t}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,ne(e,r));return t/(n*n)/(4*s*s)/i}_loadNode(e,t){try{return this._loadNodeAsync(e,t)}catch(i){throw l(i)||o.getLogger(this).error(i),i}}async _loadAdditionalUserAttributes(e,i,r){const s=this.layer.outFields;if(!s)return[];const o=j(this.layer.fieldsIndex,s),n=new Set(e.map((e=>null!=e?e.name:null))),a=this.layer.attributeStorageInfo,d=[];for(const t of o){if(n.has(t))continue;const e=J(a,t);e&&d.push(i(e))}const l=await h(d);return u(r),l.filter(t)}async _loadNodeAsync(e,t){const i=this._index.getNode(e),r=q(this.layer),s=T(this.layer),o=i.resourceId,n=async e=>{if(!e)return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return null!=i?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:a,modulationAttribute:d}=r,l=n(a),h=n(d),p=s.map((e=>e.attributeInfo)),c=p.map((e=>n(e))),_=this._loadAdditionalUserAttributes([a,d,...p],n,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(c),_]);u(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obb:this._index.getRenderObb(e),elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(null==t||!t.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:\"json\",token:this.layer.apiKey};return this._indexRequester.request(e,\"json\",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,\"binary\",{query:{token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._nodeScales.delete(e),this._memCache.put(t.id.toString(),t,ye(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if(te(t))return t.splatSize=r,t.obb=s,P(t.origin,t.obb.center),t;const n=.01*Math.max(s.halfSize[0],s.halfSize[1],s.halfSize[2]);if(t.obb.halfSize[0]>s.halfSize[0]+n||t.obb.halfSize[1]>s.halfSize[1]+n||t.obb.halfSize[2]>s.halfSize[2]+n){if(this._maxLoggedBoxWarnings>0){const i=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;o.getLogger(this).warn(`Node ${e} reported bounding box too small. got ${i(s)} but points cover ${i(t.obb)}`),0==--this._maxLoggedBoxWarnings&&o.getLogger(this).warn(\"  Too many bounding box errors, stopping reporting for this layer.\")}this._index.setRenderObb(e,t.obb)}return new ie(e,r,x(s.center),s,0===i.childCount,t.points,t.rgb,t.attributes,t.pointIdFilterMap)}get usedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=we,e+=g(t.coordinates);for(const i of t.attributes){const t=i.values;f(t.buffer)&&(e+=g(t))}})),e}get unloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.usedMemory-e*we)/t)+i*we}get performanceInfo(){return{nodes:this._renderedNodes.size,displayedNumberOfFeatures:[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),maximumNumberOfFeatures:this.maximumPointCount,totalNumberOfFeatures:-1,core:null,\"Loading Nodes\":this._loadingNodes.size,\"Index Queue\":this._indexQueue.length,\"Work Queue\":this._workQueue.length,\"Idle Queue\":this._idleQueue.length}}get test(){return{index:this._index,visibleNodes:this._renderedNodes}}};e([b()],ge.prototype,\"layer\",void 0),e([b()],ge.prototype,\"baseUrl\",null),e([b()],ge.prototype,\"pointScale\",null),e([b()],ge.prototype,\"useRealWorldSymbolSizes\",null),e([b()],ge.prototype,\"pointSize\",null),e([b()],ge.prototype,\"inverseDensity\",null),e([b()],ge.prototype,\"maximumPointCount\",void 0),e([b({readOnly:!0})],ge.prototype,\"availableFields\",null),e([b({readOnly:!0})],ge.prototype,\"_clippingBox\",null),e([b({readOnly:!0})],ge.prototype,\"_elevationOffset\",null),e([b({type:Boolean})],ge.prototype,\"slicePlaneEnabled\",void 0),e([b()],ge.prototype,\"updating\",void 0),e([b(ae)],ge.prototype,\"updatingProgress\",void 0),e([b({readOnly:!0})],ge.prototype,\"updatingProgressValue\",null),ge=e([w(\"esri.views.3d.layers.PointCloudLayerView3D\")],ge);const fe=ge;function ye(e){return 5*e.coordinates.length+128}const be=A(),we=160;function Ne(e){return t=>e.immediate.schedule(t)}export{fe as default};\n"],
  "mappings": "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",
  "names": ["r", "h", "t", "e", "t", "e", "g", "n", "r", "l", "o", "h", "u", "P", "d", "h", "e", "t", "s", "n", "g", "u", "l", "c", "i", "a", "p", "d", "f", "o", "T", "r", "t", "e", "n", "o", "l", "i", "a", "u", "r", "s", "e", "h", "r", "h", "e", "t", "i", "s", "r", "m", "e", "r", "i", "E", "W", "I", "a", "_", "t", "C", "r", "s", "h", "V", "t", "O", "W", "e", "i", "y", "h", "s", "r", "l", "m", "g", "_", "n", "j", "F", "v", "C", "P", "E", "Z", "N", "Y", "c", "f", "b", "A", "u", "d", "T", "B", "$", "o", "Q", "X", "U", "a", "h", "i", "n", "d", "e", "t", "o", "r", "b", "m", "l", "W", "u", "s", "E", "c", "g", "p", "a", "P", "F", "_", "f", "y", "U"]
}
