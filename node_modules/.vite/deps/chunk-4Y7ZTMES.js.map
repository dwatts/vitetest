{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/triangulationUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{e as n}from\"../../chunks/earcut.js\";import{isClockwise as t}from\"./coordsUtils.js\";import{doubleSubArray as e,doubleArrayFrom as o,newDoubleArray as r}from\"./DoubleArray.js\";import{compactIndices as s}from\"./Indices.js\";import{deduplicate as i}from\"./meshUtils/deduplicate.js\";function l(t){const r=f(t.rings,t.hasZ,a.CCW_IS_HOLE),l=new Array;let h=0,g=0;for(const o of r.polygons){const t=o.count,i=o.index,c=e(r.position,3*i,3*t),f=o.holeIndices.map((n=>n-i)),a=s(n(c,f,3));l.push({position:c,faces:a}),h+=c.length,g+=a.length}const u=c(l,h,g),p=Array.isArray(u.position)?i(u.position,3,{originalIndices:u.faces}):i(u.position.buffer,6,{originalIndices:u.faces});return u.position=o(new Float64Array(p.buffer)),u.faces=p.indices,u}function c(n,t,e){if(1===n.length)return n[0];const o=r(t),i=new Array(e);let l=0,c=0,f=0;for(const r of n){for(let n=0;n<r.position.length;n++)o[l++]=r.position[n];for(const n of r.faces)i[c++]=n+f;f=l/3}return{position:o,faces:s(i)}}function f(n,t,e){const o=n.length,s=new Array(o),i=new Array(o),l=new Array(o);let c=0,f=0,u=0,p=0;for(let r=0;r<o;++r)p+=n[r].length;const d=r(3*p);let y=0;for(let r=o-1;r>=0;r--){const p=n[r],m=e===a.CCW_IS_HOLE&&g(p);if(m&&1!==o)s[c++]=p;else{let n=p.length;for(let t=0;t<c;++t)n+=s[t].length;const e={index:y,pathLengths:new Array(c+1),count:n,holeIndices:new Array(c)};e.pathLengths[0]=p.length,p.length>0&&(l[u++]={index:y,count:p.length}),y=m?h(p,p.length-1,-1,d,y,p.length,t):h(p,0,1,d,y,p.length,t);for(let o=0;o<c;++o){const n=s[o];e.holeIndices[o]=y,e.pathLengths[o+1]=n.length,n.length>0&&(l[u++]={index:y,count:n.length}),y=h(n,0,1,d,y,n.length,t)}c=0,e.count>0&&(i[f++]=e)}}for(let r=0;r<c;++r){const n=s[r];n.length>0&&(l[u++]={index:y,count:n.length}),y=h(n,0,1,d,y,n.length,t)}return i.length=f,l.length=u,{position:d,polygons:i,outlines:l}}function h(n,t,e,o,r,s,i){r*=3;for(let l=0;l<s;++l){const s=n[t];o[r++]=s[0],o[r++]=s[1],o[r++]=i?s[2]:0,t+=e}return r/3}function g(n){return!t(n,!1,!1)}var a;!function(n){n[n.NONE=0]=\"NONE\",n[n.CCW_IS_HOLE=1]=\"CCW_IS_HOLE\"}(a||(a={}));export{a as CounterClockwiseMode,f as pathsToTriangulationInfo,l as triangulate};\n"],
  "mappings": "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",
  "names": ["t", "a", "l", "h", "g", "i", "c", "f", "e", "n", "p", "o", "s"]
}
