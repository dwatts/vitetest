{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/ColorMaterial.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{addNearFar as e,addLinearDepth as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{ShaderOutput as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as t}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as l}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{VertexColor as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{OutputDepth as a}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputDepth.glsl.js\";import{OutputHighlight as d}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{multipassTerrainTest as n}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{VisualVariables as p}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as g}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as u}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as c}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as b}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as h}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{TransparencyPassType as m}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as f}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function w(w){const C=new h,{vertex:j,fragment:y,attributes:L,varyings:O}=C;c(j,w),C.include(t,w),C.include(s,w),C.include(p,w),C.include(l,w),L.add(f.POSITION,\"vec3\"),w.vvColor&&L.add(f.COLORFEATUREATTRIBUTE,\"float\"),O.add(\"vColor\",\"vec4\"),O.add(\"vpos\",\"vec3\");const T=w.hasMultipassTerrain&&(w.output===o.Color||w.output===o.Alpha);T&&O.add(\"depth\",\"float\"),j.uniforms.add(new v(\"eColor\",(e=>e.color)));const A=w.output===o.Depth;A&&(C.include(a,w),e(C),r(C)),j.code.add(b`\n    void main(void) {\n      vpos = position;\n      forwardNormalizedVertexColor();\n      forwardObjectAndLayerIdColor();\n\n      ${w.hasVertexColors?\"vColor *= eColor;\":w.vvColor?\"vColor = eColor * interpolateVVColor(colorFeatureAttribute);\":\"vColor = eColor;\"}\n      ${T?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      gl_Position = ${A?b`transformPositionWithDepth(proj, view, vpos, nearFar, linearDepth);`:b`transformPosition(proj, view, vpos);`}\n    }\n  `),C.include(i,w),T&&C.include(n,w),y.include(u);const $=w.output===o.Highlight;return $&&C.include(d,w),y.code.add(b`\n  void main() {\n    discardBySlice(vpos);\n    ${T?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    vec4 fColor = vColor;\n\n    ${w.output===o.ObjectAndLayerIdColor?b`fColor.a = 1.0;`:\"\"}\n\n    if (fColor.a < ${b.float(g)}) {\n      discard;\n    }\n\n    ${w.output===o.Alpha?b`fragColor = vec4(fColor.a);`:\"\"}\n\n    ${w.output===o.Color?b`fragColor = highlightSlice(fColor, vpos); ${w.transparencyPassType===m.Color?\"fragColor = premultiplyAlpha(fragColor);\":\"\"}`:\"\"}\n    ${$?b`outputHighlight();`:\"\"};\n    ${w.output===o.Depth?b`outputDepth(linearDepth);`:\"\"};\n    ${w.output===o.ObjectAndLayerIdColor?b`outputObjectAndLayerIdColor();`:\"\"}\n  }\n  `),C}const C=Object.freeze(Object.defineProperty({__proto__:null,build:w},Symbol.toStringTag,{value:\"Module\"}));export{C,w as b};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIwxD,SAAS,EAAEA,IAAE;AAAC,QAAMC,KAAE,IAAIC,MAAE,EAAC,QAAO,GAAE,UAAS,GAAE,YAAW,GAAE,UAASC,GAAC,IAAEF;AAAE,IAAE,GAAED,EAAC,GAAEC,GAAE,QAAQG,IAAEJ,EAAC,GAAEC,GAAE,QAAQ,GAAED,EAAC,GAAEC,GAAE,QAAQ,GAAED,EAAC,GAAEC,GAAE,QAAQ,GAAED,EAAC,GAAE,EAAE,IAAI,EAAE,UAAS,MAAM,GAAEA,GAAE,WAAS,EAAE,IAAI,EAAE,uBAAsB,OAAO,GAAEG,GAAE,IAAI,UAAS,MAAM,GAAEA,GAAE,IAAI,QAAO,MAAM;AAAE,QAAM,IAAEH,GAAE,wBAAsBA,GAAE,WAAS,EAAE,SAAOA,GAAE,WAAS,EAAE;AAAO,OAAGG,GAAE,IAAI,SAAQ,OAAO,GAAE,EAAE,SAAS,IAAI,IAAIE,GAAE,UAAU,CAAAA,OAAGA,GAAE,KAAM,CAAC;AAAE,QAAM,IAAEL,GAAE,WAAS,EAAE;AAAM,QAAIC,GAAE,QAAQG,IAAEJ,EAAC,GAAE,EAAEC,EAAC,GAAEK,GAAEL,EAAC,IAAG,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMzuED,GAAE,kBAAgB,sBAAoBA,GAAE,UAAQ,iEAA+D,kBAAkB;AAAA,QACjI,IAAE,wCAAsC,EAAE;AAAA,sBAC5B,IAAE,yEAAuE,uCAAuC;AAAA;AAAA,GAEnI,GAAEC,GAAE,QAAQ,GAAED,EAAC,GAAE,KAAGC,GAAE,QAAQ,GAAED,EAAC,GAAE,EAAE,QAAQK,EAAC;AAAE,QAAM,IAAEL,GAAE,WAAS,EAAE;AAAU,SAAO,KAAGC,GAAE,QAAQ,GAAED,EAAC,GAAE,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA,MAGhH,IAAE,2CAAyC,EAAE;AAAA;AAAA;AAAA,MAG7CA,GAAE,WAAS,EAAE,wBAAsB,qBAAmB,EAAE;AAAA;AAAA,qBAEzC,EAAE,MAAM,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA,MAIzBA,GAAE,WAAS,EAAE,QAAM,iCAA+B,EAAE;AAAA;AAAA,MAEpDA,GAAE,WAAS,EAAE,QAAM,8CAA8CA,GAAE,yBAAuBI,GAAE,QAAM,6CAA2C,EAAE,KAAG,EAAE;AAAA,MACpJ,IAAE,wBAAsB,EAAE;AAAA,MAC1BJ,GAAE,WAAS,EAAE,QAAM,+BAA6B,EAAE;AAAA,MAClDA,GAAE,WAAS,EAAE,wBAAsB,oCAAkC,EAAE;AAAA;AAAA,GAE1E,GAAEC;AAAC;AAAC,IAAM,IAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,OAAM,EAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;",
  "names": ["w", "C", "i", "O", "o", "e", "t"]
}
