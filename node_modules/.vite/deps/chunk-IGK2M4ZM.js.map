{
  "version": 3,
  "sources": ["../../@arcgis/core/views/layers/WMSLayerView.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{destroyMaybe as t}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as p}from\"../../layers/support/commonProperties.js\";import{ExportWMSImageParameters as a}from\"../../layers/support/ExportWMSImageParameters.js\";const i=i=>{let m=class extends i{initialize(){this.exportImageParameters=new a({layer:this.layer})}destroy(){this.exportImageParameters=t(this.exportImageParameters)}get exportImageVersion(){return this.exportImageParameters?.commitProperty(\"version\"),this.commitProperty(\"timeExtent\"),(this._get(\"exportImageVersion\")||0)+1}fetchPopupFeatures(e){const{layer:t}=this;if(!e)return Promise.reject(new r(\"wmslayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:t}));const{popupEnabled:o}=t;if(!o)return Promise.reject(new r(\"wmslayerview:fetchPopupFeatures\",\"popupEnabled should be true\",{popupEnabled:o}));const s=this.createFetchPopupFeaturesQuery(e);if(!s)return Promise.resolve([]);const{extent:p,width:a,height:i,x:m,y:n}=s;if(!(p&&a&&i))throw new r(\"wmslayerview:fetchPopupFeatures\",\"WMSLayer does not support fetching features.\",{extent:p,width:a,height:i});return t.fetchFeatureInfo(p,a,i,m,n)}};return e([o()],m.prototype,\"exportImageParameters\",void 0),e([o({readOnly:!0})],m.prototype,\"exportImageVersion\",null),e([o()],m.prototype,\"layer\",void 0),e([o(p)],m.prototype,\"timeExtent\",void 0),m=e([s(\"esri.layers.mixins.WMSLayerView\")],m),m};export{i as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;AAIqkB,IAAM,IAAE,CAAAA,OAAG;AAAC,MAAI,IAAE,cAAcA,GAAC;AAAA,IAAC,aAAY;AAAC,WAAK,wBAAsB,IAAIC,GAAE,EAAC,OAAM,KAAK,MAAK,CAAC;AAAA,IAAC;AAAA,IAAC,UAAS;AAAC,WAAK,wBAAsB,EAAE,KAAK,qBAAqB;AAAA,IAAC;AAAA,IAAC,IAAI,qBAAoB;AAJpwB;AAIqwB,cAAO,UAAK,0BAAL,mBAA4B,eAAe,YAAW,KAAK,eAAe,YAAY,IAAG,KAAK,KAAK,oBAAoB,KAAG,KAAG;AAAA,IAAC;AAAA,IAAC,mBAAmBC,IAAE;AAAC,YAAK,EAAC,OAAM,EAAC,IAAE;AAAK,UAAG,CAACA;AAAE,eAAO,QAAQ,OAAO,IAAI,EAAE,mCAAkC,iCAAgC,EAAC,OAAM,EAAC,CAAC,CAAC;AAAE,YAAK,EAAC,cAAa,EAAC,IAAE;AAAE,UAAG,CAAC;AAAE,eAAO,QAAQ,OAAO,IAAI,EAAE,mCAAkC,+BAA8B,EAAC,cAAa,EAAC,CAAC,CAAC;AAAE,YAAMC,KAAE,KAAK,8BAA8BD,EAAC;AAAE,UAAG,CAACC;AAAE,eAAO,QAAQ,QAAQ,CAAC,CAAC;AAAE,YAAK,EAAC,QAAO,GAAE,OAAMC,IAAE,QAAOJ,IAAE,GAAEK,IAAE,GAAE,EAAC,IAAEF;AAAE,UAAG,EAAE,KAAGC,MAAGJ;AAAG,cAAM,IAAI,EAAE,mCAAkC,gDAA+C,EAAC,QAAO,GAAE,OAAMI,IAAE,QAAOJ,GAAC,CAAC;AAAE,aAAO,EAAE,iBAAiB,GAAEI,IAAEJ,IAAEK,IAAE,CAAC;AAAA,IAAC;AAAA,EAAC;AAAE,SAAO,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,yBAAwB,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAE,EAAE,WAAU,sBAAqB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,SAAQ,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAE,EAAE,WAAU,cAAa,MAAM,GAAE,IAAE,EAAE,CAAC,EAAE,iCAAiC,CAAC,GAAE,CAAC,GAAE;AAAC;",
  "names": ["i", "l", "e", "s", "a", "m"]
}
