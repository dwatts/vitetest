import {
  f as f2
} from "./chunk-XW6BCJUG.js";
import {
  c as c2,
  e as e4
} from "./chunk-2EO2WRP7.js";
import {
  r2
} from "./chunk-BDX5TRUE.js";
import {
  A,
  E as E2,
  S,
  a as a2,
  l
} from "./chunk-LIXBKTBN.js";
import {
  e as e3,
  f,
  o as o2
} from "./chunk-VDSNHCMM.js";
import {
  E as E3
} from "./chunk-6LC2JTLC.js";
import {
  s as s2
} from "./chunk-XM3YSFN6.js";
import {
  e as e2,
  i,
  t
} from "./chunk-V6CD66ZZ.js";
import {
  W,
  _,
  a,
  h as h2,
  s
} from "./chunk-6FHMQNMS.js";
import {
  r as r3
} from "./chunk-KFDARCTS.js";
import {
  c
} from "./chunk-SMDDCTGQ.js";
import {
  E
} from "./chunk-NU4UASX6.js";
import {
  r
} from "./chunk-YLTVH2K4.js";
import {
  o
} from "./chunk-SADO52IH.js";
import {
  h
} from "./chunk-73PNWDTS.js";
import {
  n
} from "./chunk-JP7O2ZWE.js";
import {
  R
} from "./chunk-BCDDCNQ2.js";
import {
  e
} from "./chunk-PD5Q7TDW.js";

// node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js
var _2 = class __ extends e2 {
  initializeProgram(e5) {
    return new i(e5.rctx, __.shader.get().build(this.configuration), E);
  }
  _setPipelineState(e5, r4) {
    const i2 = this.configuration, s3 = e5 === o.NONE, o3 = e5 === o.FrontFace;
    return W({ blending: i2.output !== h.Color && i2.output !== h.Alpha || !i2.transparent ? null : s3 ? C : A(e5), culling: h2(i2.cullFace), depthTest: { func: l(e5) }, depthWrite: s3 ? i2.writeDepth ? a : null : E2(e5), colorWrite: _, stencilWrite: i2.hasOccludees ? e3 : null, stencilTest: i2.hasOccludees ? r4 ? o2 : f : null, polygonOffset: s3 || o3 ? null : a2(i2.enableOffset) });
  }
  initializePipeline() {
    return this._occludeePipelineState = this._setPipelineState(this.configuration.transparencyPassType, true), this._setPipelineState(this.configuration.transparencyPassType, false);
  }
  getPipelineState(e5, t2) {
    return t2 ? this._occludeePipelineState : super.getPipelineState(e5, t2);
  }
};
_2.shader = new t(f2, () => import("./ImageMaterial.glsl-YPMB5X7N.js"));
var C = s(R.ONE, R.ONE_MINUS_SRC_ALPHA);
var w = class extends s2 {
  constructor() {
    super(...arguments), this.output = h.Color, this.cullFace = n.None, this.hasSlicePlane = false, this.transparent = false, this.enableOffset = true, this.writeDepth = true, this.hasOccludees = false, this.transparencyPassType = o.NONE, this.hasMultipassTerrain = false, this.cullAboveGround = false;
  }
};
e([r3({ count: h.COUNT })], w.prototype, "output", void 0), e([r3({ count: n.COUNT })], w.prototype, "cullFace", void 0), e([r3()], w.prototype, "hasSlicePlane", void 0), e([r3()], w.prototype, "transparent", void 0), e([r3()], w.prototype, "enableOffset", void 0), e([r3()], w.prototype, "writeDepth", void 0), e([r3()], w.prototype, "hasOccludees", void 0), e([r3({ count: o.COUNT })], w.prototype, "transparencyPassType", void 0), e([r3()], w.prototype, "hasMultipassTerrain", void 0), e([r3()], w.prototype, "cullAboveGround", void 0);

// node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js
var c3 = class extends e4 {
  constructor(e5) {
    super(e5, new m()), this.supportsEdges = true, this._configuration = new w();
  }
  getConfiguration(e5, t2) {
    return this._configuration.output = e5, this._configuration.cullFace = this.parameters.cullFace, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.transparent = this.parameters.transparent, this._configuration.writeDepth = this.parameters.writeDepth, this._configuration.hasOccludees = this.parameters.hasOccludees, this._configuration.transparencyPassType = t2.transparencyPassType, this._configuration.enableOffset = t2.camera.relativeElevation < S, this._configuration.hasMultipassTerrain = t2.multipassTerrain.enabled, this._configuration.cullAboveGround = t2.multipassTerrain.cullAboveGround, this._configuration;
  }
  requiresSlot(t2, r4) {
    if (r4 === h.Color || r4 === h.Alpha || r4 === h.Highlight) {
      if (t2 === E3.DRAPED_MATERIAL)
        return true;
      if (r4 === h.Highlight)
        return t2 === E3.OPAQUE_MATERIAL;
      return t2 === (this.parameters.transparent ? this.parameters.writeDepth ? E3.TRANSPARENT_MATERIAL : E3.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL : E3.OPAQUE_MATERIAL);
    }
    return false;
  }
  createGLMaterial(e5) {
    return new p(e5);
  }
  createBufferWriter() {
    return new r2(c2);
  }
};
var p = class extends r {
  constructor(e5) {
    super({ ...e5, ...e5.material.parameters });
  }
  _updateParameters(e5) {
    return this.updateTexture(this._material.parameters.textureId), this._material.setParameters(this.textureBindParameters), this.ensureTechnique(_2, e5);
  }
  _updateOccludeeState(e5) {
    e5.hasOccludees !== this._material.parameters.hasOccludees && (this._material.setParameters({ hasOccludees: e5.hasOccludees }), this._updateParameters(e5));
  }
  beginSlot(t2) {
    return this._output !== h.Color && this._output !== h.Alpha || this._updateOccludeeState(t2), this._updateParameters(t2);
  }
};
var m = class extends c {
  constructor() {
    super(...arguments), this.transparent = false, this.writeDepth = true, this.hasSlicePlane = false, this.cullFace = n.None, this.hasOccludees = false, this.opacity = 1, this.textureId = null, this.initTextureTransparent = true;
  }
};

export {
  c3 as c
};
//# sourceMappingURL=chunk-BTHQ4EZE.js.map
