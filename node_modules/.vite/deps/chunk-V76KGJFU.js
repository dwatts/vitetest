import {
  I,
  a2 as a3,
  b,
  e,
  e2,
  f,
  g,
  h as h2,
  i as i2,
  i2 as i3,
  i3 as i4,
  l as l2,
  n2 as n,
  o,
  o4 as o2,
  r,
  s,
  y,
  y2
} from "./chunk-HB2SQRT2.js";
import {
  t as t2
} from "./chunk-U3J7253Q.js";
import {
  t
} from "./chunk-ZWUBORGT.js";
import {
  $,
  B,
  M,
  S,
  _,
  b as b2,
  d,
  e as e3,
  j as j2,
  k,
  w
} from "./chunk-3R7FAT25.js";
import {
  C,
  a as a2,
  c
} from "./chunk-7I33FAWS.js";
import {
  i,
  l,
  p
} from "./chunk-DWOEYHKS.js";
import {
  s2,
  s3
} from "./chunk-HMVAPW5X.js";
import {
  a,
  h,
  j
} from "./chunk-IYZKKFJM.js";
import {
  L,
  has
} from "./chunk-JZJWZ6DN.js";

// node_modules/@arcgis/core/core/iteratorUtils.js
function n2(n9) {
  const o6 = [];
  return function* () {
    yield* o6;
    for (const t14 of n9)
      o6.push(t14), yield t14;
  };
}
function o3(n9, o6) {
  for (const t14 of n9)
    if (null != t14 && o6(t14))
      return t14;
}
function t3(n9) {
  return null != n9 && "function" == typeof n9[Symbol.iterator];
}

// node_modules/@arcgis/core/core/Handles.js
var t4 = class _t {
  constructor() {
    this._groups = /* @__PURE__ */ new Map();
  }
  destroy() {
    this.removeAll();
  }
  get size() {
    let r6 = 0;
    return this._groups.forEach((e10) => {
      r6 += e10.length;
    }), r6;
  }
  add(e10, t14) {
    if (t3(e10)) {
      const r6 = this._getOrCreateGroup(t14);
      for (const t15 of e10)
        this._isHandle(t15) && r6.push(t15);
    } else if (this._isHandle(e10)) {
      this._getOrCreateGroup(t14).push(e10);
    }
    return this;
  }
  forEach(r6, e10) {
    if ("function" == typeof r6)
      this._groups.forEach((e11) => e11.forEach(r6));
    else {
      const t14 = this._getGroup(r6);
      t14 && e10 && t14.forEach(e10);
    }
  }
  has(r6) {
    return this._groups.has(this._ensureGroupKey(r6));
  }
  remove(e10) {
    if ("string" != typeof e10 && t3(e10)) {
      for (const r6 of e10)
        this.remove(r6);
      return this;
    }
    return this.has(e10) ? (this._removeAllFromGroup(this._getGroup(e10)), this._groups.delete(this._ensureGroupKey(e10)), this) : this;
  }
  removeAll() {
    return this._groups.forEach((r6) => this._removeAllFromGroup(r6)), this._groups.clear(), this;
  }
  _isHandle(r6) {
    return r6 && (!!r6.remove || r6 instanceof _t);
  }
  _getOrCreateGroup(r6) {
    if (this.has(r6))
      return this._getGroup(r6);
    const e10 = [];
    return this._groups.set(this._ensureGroupKey(r6), e10), e10;
  }
  _getGroup(r6) {
    return p(this._groups.get(this._ensureGroupKey(r6)));
  }
  _ensureGroupKey(r6) {
    return r6 || "_default_";
  }
  _removeAllFromGroup(r6) {
    for (const e10 of r6)
      e10 instanceof _t ? e10.removeAll() : e10.remove();
  }
};

// node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js
var r2;
!function(e10) {
  e10[e10.DEFAULTS = 0] = "DEFAULTS", e10[e10.COMPUTED = 1] = "COMPUTED", e10[e10.SERVICE = 2] = "SERVICE", e10[e10.PORTAL_ITEM = 3] = "PORTAL_ITEM", e10[e10.WEB_SCENE = 4] = "WEB_SCENE", e10[e10.WEB_MAP = 5] = "WEB_MAP", e10[e10.LINK_CHART = 6] = "LINK_CHART", e10[e10.USER = 7] = "USER";
}(r2 || (r2 = {}));
var t5 = r2.USER + 1;
function n3(e10) {
  switch (e10) {
    case "defaults":
      return r2.DEFAULTS;
    case "service":
      return r2.SERVICE;
    case "portal-item":
      return r2.PORTAL_ITEM;
    case "web-scene":
      return r2.WEB_SCENE;
    case "web-map":
      return r2.WEB_MAP;
    case "link-chart":
      return r2.LINK_CHART;
    case "user":
      return r2.USER;
    default:
      return null;
  }
}
function E(t14) {
  switch (t14) {
    case r2.DEFAULTS:
      return "defaults";
    case r2.SERVICE:
      return "service";
    case r2.PORTAL_ITEM:
      return "portal-item";
    case r2.WEB_SCENE:
      return "web-scene";
    case r2.WEB_MAP:
      return "web-map";
    case r2.LINK_CHART:
      return "link-chart";
    case r2.USER:
      return "user";
  }
  return p(void 0);
}
function c2(e10) {
  return E(e10);
}

// node_modules/@arcgis/core/core/PerformanceSampler.js
var s4 = class {
  constructor(s9, e10 = 30) {
    this.name = s9, this._counter = 0, this._samples = new Array(e10);
  }
  record(s9) {
    null != s9 && (this._samples[++this._counter % this._samples.length] = s9);
  }
  get median() {
    return this._samples.slice().sort((s9, e10) => s9 - e10)[Math.floor(this._samples.length / 2)];
  }
  get average() {
    return this._samples.reduce((s9, e10) => s9 + e10, 0) / this._samples.length;
  }
  get last() {
    return this._samples[this._counter % this._samples.length];
  }
};

// node_modules/@arcgis/core/core/time.js
function n4(n9) {
  return n9;
}
function r3(r6) {
  return n4(1e3 * r6);
}
function t6(n9) {
  return n9;
}
function u(n9) {
  return t6(1e-3 * n9);
}
function e4() {
  return n4(performance.now());
}

// node_modules/@arcgis/core/core/scheduling.js
var c3 = class {
  constructor(e10) {
    this.phases = e10, this.paused = false, this.ticks = -1, this.removed = false;
  }
};
var m = class {
  constructor(e10) {
    this.callback = e10, this.isActive = true;
  }
  remove() {
    this.isActive = false;
  }
};
var l3 = 0;
var p2 = 0;
var u2 = { time: n4(0), deltaTime: n4(0), elapsedFrameTime: n4(0), frameDuration: n4(0) };
var f2 = ["prepare", "preRender", "render", "postRender", "update", "finish"];
var h3 = [];
var d2 = new l2();
var w2 = class {
  constructor(e10) {
    this._task = e10;
  }
  remove() {
    this._task.removed = true;
  }
  pause() {
    this._task.paused = true;
  }
  resume() {
    this._task.paused = false;
  }
};
var k2 = { frameTasks: d2, willDispatch: false, clearFrameTasks: j3, dispatch: b3, executeFrameTasks: D };
function v(e10) {
  const r6 = new m(e10);
  return h3.push(r6), k2.willDispatch || (k2.willDispatch = true, t2(b3)), r6;
}
function A(e10) {
  const t14 = new c3(e10);
  return d2.push(t14), null == T && (l3 = performance.now(), T = requestAnimationFrame(x)), new w2(t14);
}
var T = null;
function j3(e10 = false) {
  d2.forAll((e11) => {
    e11.removed = true;
  }), e10 && _2();
}
function F(e10) {
  p2 = Math.max(0, e10);
}
function x() {
  const e10 = performance.now();
  T = null, T = d2.length > 0 ? requestAnimationFrame(x) : null, k2.executeFrameTasks(e10);
}
function D(e10) {
  const t14 = n4(e10 - l3);
  l3 = e10;
  const r6 = p2 > 0 ? p2 : 1e3 / 60, s9 = Math.max(0, t14 - r6);
  u2.time = e10, u2.frameDuration = n4(r6 - s9);
  for (let o6 = 0; o6 < f2.length; o6++) {
    const r7 = performance.now(), s10 = f2[o6];
    d2.forAll((r8) => {
      var _a;
      if (r8.paused || r8.removed)
        return;
      0 === o6 && r8.ticks++;
      r8.phases[s10] && (u2.elapsedFrameTime = n4(performance.now() - e10), u2.deltaTime = 0 === r8.ticks ? n4(0) : t14, (_a = r8.phases[s10]) == null ? void 0 : _a.call(r8, u2));
    }), R[o6].record(performance.now() - r7);
  }
  _2(), q.record(performance.now() - e10);
}
var g2 = new l2();
function _2() {
  d2.forAll((e10) => {
    e10.removed && g2.push(e10);
  }), d2.removeUnorderedMany(g2.data, g2.length), g2.clear();
}
function b3() {
  for (; h3.length; ) {
    const t14 = p(h3.shift());
    t14.isActive && t14.callback();
  }
  k2.willDispatch = false;
}
function y3(e10 = 1, r6) {
  const s9 = C(), i8 = () => {
    a2(r6) ? s9.reject(c()) : 0 === e10 ? s9() : (--e10, t2(() => i8()));
  };
  return i8(), s9.promise;
}
var R = f2.map((e10) => new s4(e10));
var q = new s4("total");

// node_modules/@arcgis/core/core/accessorSupport/get.js
function e5(t14, e10) {
  const i8 = "?" === t14[t14.length - 1] ? t14.slice(0, -1) : t14;
  if (null != e10.getItemAt || Array.isArray(e10)) {
    const t15 = parseInt(i8, 10);
    if (!isNaN(t15))
      return Array.isArray(e10) ? e10[t15] : e10.at(t15);
  }
  const u7 = e2(e10);
  return i2(u7, i8) ? u7.get(i8) : e10[i8];
}
function i5(t14, n9, r6) {
  if (null == t14)
    return t14;
  const u7 = e5(n9[r6], t14);
  return !u7 && r6 < n9.length - 1 ? void 0 : r6 === n9.length - 1 ? u7 : i5(u7, n9, r6 + 1);
}
function u3(n9, r6, u7 = 0) {
  return "string" != typeof r6 || r6.includes(".") ? i5(n9, s(r6), u7) : e5(r6, n9);
}
function o4(t14, n9) {
  return u3(t14, n9);
}
function s5(t14, n9) {
  return void 0 !== u3(n9, t14);
}

// node_modules/@arcgis/core/core/accessorSupport/set.js
function t7(o6, e10, s9) {
  if (o6 && e10)
    if ("object" == typeof e10)
      for (const r6 of Object.getOwnPropertyNames(e10))
        t7(o6, r6, e10[r6]);
    else {
      if (e10.includes(".")) {
        const n9 = e10.split("."), i9 = n9.splice(n9.length - 1, 1)[0];
        return void t7(o4(o6, n9), i9, s9);
      }
      const i8 = o6.__accessor__;
      null != i8 && n5(e10, i8), o6[e10] = s9;
    }
}
function n5(r6, t14) {
  if (has("esri-unknown-property-errors") && !e6(r6, t14))
    throw new s3("set:unknown-property", s6(r6, t14));
}
function e6(o6, r6) {
  return null != r6.metadatas[o6];
}
function s6(o6, r6) {
  return "setting unknown property '" + o6 + "' on instance of " + r6.host.declaredClass;
}

// node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
function y4(n9 = {}) {
  return (o6, s9) => {
    if (o6 === Function.prototype)
      throw new Error(`Inappropriate use of @property() on a static field: ${o6.name}.${s9}. Accessor does not support static properties.`);
    const i8 = Object.getOwnPropertyDescriptor(o6, s9), a5 = o2(o6, s9);
    i8 && (i8.get || i8.set ? (a5.get = i8.get || a5.get, a5.set = i8.set || a5.set) : "value" in i8 && ("value" in n9 && s2.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${s9}" on "${o6.constructor.name}" already defined in the metadata`, n9), a5.value = n9.value = i8.value)), null != n9.readOnly && (a5.readOnly = n9.readOnly);
    const p5 = n9.aliasOf;
    if (p5) {
      const t14 = "string" == typeof p5 ? p5 : p5.source, e10 = "string" == typeof p5 ? null : true === p5.overridable;
      let r6;
      a5.dependsOn = [t14], a5.get = function() {
        let e11 = o4(this, t14);
        if ("function" == typeof e11) {
          r6 || (r6 = t14.split(".").slice(0, -1).join("."));
          const n10 = o4(this, r6);
          n10 && (e11 = e11.bind(n10));
        }
        return e11;
      }, a5.readOnly || (a5.set = e10 ? function(t15) {
        this._override(s9, t15);
      } : function(e11) {
        t7(this, t14, e11);
      });
    }
    const u7 = n9.type, c5 = n9.types;
    a5.cast || (u7 ? a5.cast = h4(u7) : c5 && (Array.isArray(c5) ? a5.cast = b2(S(c5[0])) : a5.cast = S(c5))), n(a5, n9), n9.range && (a5.cast = j4(a5.cast, n9.range));
  };
}
function d3(t14, e10, r6) {
  const n9 = o2(t14, r6);
  n9.json || (n9.json = {});
  let o6 = n9.json;
  return void 0 !== e10 && (o6.origins || (o6.origins = {}), o6.origins[e10] || (o6.origins[e10] = {}), o6 = o6.origins[e10]), o6;
}
function h4(t14) {
  let e10 = 0, r6 = t14;
  if (_(t14))
    return B(t14);
  for (; Array.isArray(r6) && 1 === r6.length && "string" != typeof r6[0] && "number" != typeof r6[0]; )
    r6 = r6[0], e10++;
  const f5 = r6;
  if (k(f5))
    return 0 === e10 ? M(f5) : $(M(f5), e10);
  if (1 === e10)
    return w(f5);
  if (e10 > 1)
    return j2(f5, e10);
  const l6 = t14;
  return l6.from ? l6.from : d(l6);
}
function j4(t14, e10) {
  return (r6) => {
    let n9 = +t14(r6);
    return null != e10.step && (n9 = Math.round(n9 / e10.step) * e10.step), null != e10.min && (n9 = Math.max(e10.min, n9)), null != e10.max && (n9 = Math.min(e10.max, n9)), n9;
  };
}

// node_modules/@arcgis/core/core/accessorSupport/tracking/ObservationHandle.js
var s7 = class {
  constructor(r6, s9) {
    this._observers = r6, this._observer = s9;
  }
  remove() {
    L(this._observers, this._observer);
  }
};

// node_modules/@arcgis/core/core/accessorSupport/ObservableBase.js
var r4 = class {
  constructor() {
    this._observers = null, this.destroyed = false;
  }
  observe(e10) {
    if (this.destroyed || e10.destroyed)
      return t8;
    null == this._observers && (this._observers = []);
    const r6 = this._observers;
    let o6 = false, i8 = false;
    const n9 = r6.length;
    for (let s9 = 0; s9 < n9; ++s9) {
      const t14 = r6[s9];
      if (t14.destroyed)
        i8 = true;
      else if (t14 === e10) {
        o6 = true;
        break;
      }
    }
    return o6 || (r6.push(e10), i8 && this._removeDestroyedObservers()), new s7(r6, e10);
  }
  _removeDestroyedObservers() {
    const e10 = this._observers;
    if (!e10 || 0 === e10.length)
      return;
    const s9 = e10.length;
    let r6 = 0;
    for (let t14 = 0; t14 < s9; ++t14) {
      for (; t14 + r6 < s9; ) {
        if (!e10[t14 + r6].destroyed)
          break;
        ++r6;
      }
      if (r6 > 0) {
        if (!(t14 + r6 < s9))
          break;
        e10[t14] = e10[t14 + r6];
      }
    }
    e10.length = s9 - r6;
  }
  destroy() {
    if (this.destroyed)
      return;
    this.destroyed = true;
    const e10 = this._observers;
    if (null != e10) {
      for (const s9 of e10)
        s9.onCommitted();
      this._observers = null;
    }
  }
};
var t8 = e();

// node_modules/@arcgis/core/core/accessorSupport/Property.js
var a4 = class {
  constructor(t14, e10) {
    this.propertyName = t14, this.metadata = e10, this.observerObject = new l4(), this._accessed = null, this._handles = null, this.observerObject.flags = i3.Dirty | (e10.nonNullable ? i3.NonNullable : 0) | (e10.hasOwnProperty("value") ? i3.HasDefaultValue : 0) | (void 0 === e10.get ? i3.DepTrackingInitialized : 0) | (void 0 === e10.dependsOn ? i3.AutoTracked : 0);
  }
  destroy() {
    this.observerObject.destroy(), this._accessed = null, this._clearObservationHandles();
  }
  getComputed(t14) {
    const a5 = this.observerObject;
    i4(a5);
    const l6 = t14.store, c5 = this.propertyName, h6 = a5.flags, d6 = l6.get(c5);
    if (h6 & i3.Computing)
      return d6;
    if (~h6 & i3.Dirty && l6.has(c5))
      return d6;
    a5.flags |= i3.Computing;
    const g5 = t14.host;
    let f5;
    h6 & i3.AutoTracked ? f5 = f(this, this.metadata.get, g5) : (y2(g5, this), f5 = this.metadata.get.call(g5)), l6.set(c5, f5, r2.COMPUTED);
    const m5 = l6.get(c5);
    return m5 === d6 ? a5.flags &= ~i3.Dirty : g(this.commit, this), a5.flags &= ~i3.Computing, m5;
  }
  onObservableAccessed(t14) {
    if (t14 === this.observerObject)
      return;
    let e10 = this._accessed;
    if (null == e10)
      e10 = [], this._accessed = e10;
    else if (e10.includes(t14))
      return;
    e10.push(t14);
  }
  onTrackingEnd() {
    this._clearObservationHandles();
    const t14 = this.observerObject;
    t14.flags |= i3.DepTrackingInitialized;
    const e10 = this._accessed;
    if (null == e10 || 0 === e10.length)
      return;
    let s9 = this._handles;
    null == s9 && (s9 = [], this._handles = s9);
    for (let i8 = 0; i8 < e10.length; ++i8)
      s9.push(e10[i8].observe(t14));
    e10.length = 0;
  }
  notifyChange() {
    const t14 = this.observerObject;
    t14.onInvalidated(), t14.onCommitted();
  }
  invalidate() {
    this.observerObject.onInvalidated();
  }
  commit() {
    const t14 = this.observerObject;
    t14.flags &= ~i3.Dirty, t14.onCommitted();
  }
  _clearObservationHandles() {
    const t14 = this._handles;
    if (null !== t14) {
      for (let e10 = 0; e10 < t14.length; ++e10)
        t14[e10].remove();
      t14.length = 0;
    }
  }
};
var l4 = class extends r4 {
  constructor() {
    super(...arguments), this.flags = 0;
  }
  onInvalidated() {
    ~this.flags & i3.Overriden && (this.flags |= i3.Dirty);
    const t14 = this._observers;
    if (t14 && t14.length > 0)
      for (const e10 of t14)
        e10.onInvalidated();
  }
  onCommitted() {
    const t14 = this._observers;
    if (t14 && t14.length > 0) {
      const e10 = t14.slice();
      for (const t15 of e10)
        t15.onCommitted();
    }
  }
  destroy() {
    this.flags & i3.Dirty && this.onCommitted(), super.destroy();
  }
};

// node_modules/@arcgis/core/core/accessorSupport/Store.js
var t9 = class _t {
  constructor() {
    this._values = /* @__PURE__ */ new Map(), this.multipleOriginsSupported = false;
  }
  clone(s9) {
    const r6 = new _t();
    return this._values.forEach((t14, i8) => {
      s9 && s9.has(i8) || r6.set(i8, a(t14));
    }), r6;
  }
  get(e10) {
    return this._values.get(e10);
  }
  originOf() {
    return r2.USER;
  }
  keys() {
    return [...this._values.keys()];
  }
  set(e10, s9) {
    this._values.set(e10, s9);
  }
  delete(e10) {
    this._values.delete(e10);
  }
  has(e10) {
    return this._values.has(e10);
  }
  forEach(e10) {
    this._values.forEach(e10);
  }
};

// node_modules/@arcgis/core/core/accessorSupport/Properties.js
function g3(t14, e10, r6) {
  return void 0 !== t14;
}
function u4(t14, e10, r6, i8) {
  return void 0 !== t14 && (!(null == r6 && t14.observerObject.flags & i3.NonNullable) || (i8.lifecycle, I.INITIALIZING, false));
}
function d4(t14) {
  return t14 && "function" == typeof t14.destroy;
}
s2.getLogger("esri.core.accessorSupport.Properties");
var m2 = class {
  constructor(t14) {
    this.host = t14, this.propertiesByName = /* @__PURE__ */ new Map(), this.ctorArgs = null, this.destroyed = false, this.lifecycle = I.INITIALIZING, this.store = new t9(), this._origin = r2.USER;
    const e10 = this.host.constructor.__accessorMetadata__;
    for (const r6 in e10) {
      const t15 = new a4(r6, e10[r6]);
      this.propertiesByName.set(r6, t15);
    }
    this.metadatas = e10;
  }
  initialize() {
    this.lifecycle = I.CONSTRUCTING;
  }
  constructed() {
    this.lifecycle = I.CONSTRUCTED;
  }
  destroy() {
    this.destroyed = true;
    for (const [t14, e10] of this.propertiesByName) {
      if (e10.metadata.autoDestroy) {
        const r6 = this.internalGet(t14);
        r6 && d4(r6) && (r6.destroy(), ~e10.observerObject.flags & i3.NonNullable && this._internalSet(e10, null));
      }
      e10.destroy();
    }
  }
  get initialized() {
    return this.lifecycle !== I.INITIALIZING;
  }
  get(t14) {
    const e10 = this.propertiesByName.get(t14);
    if (e10.metadata.get)
      return e10.getComputed(this);
    i4(e10.observerObject);
    const r6 = this.store;
    return r6.has(t14) ? r6.get(t14) : e10.metadata.value;
  }
  originOf(t14) {
    const e10 = this.store.originOf(t14);
    if (void 0 === e10) {
      const e11 = this.propertiesByName.get(t14);
      if (void 0 !== e11 && e11.observerObject.flags & i3.HasDefaultValue)
        return "defaults";
    }
    return E(e10);
  }
  has(t14) {
    return !!this.propertiesByName.has(t14) && this.store.has(t14);
  }
  keys() {
    return [...this.propertiesByName.keys()];
  }
  internalGet(t14) {
    const e10 = this.propertiesByName.get(t14);
    if (g3(e10))
      return this.store.has(t14) ? this.store.get(t14) : e10.metadata.value;
  }
  internalSet(t14, e10) {
    const r6 = this.propertiesByName.get(t14);
    g3(r6) && this._internalSet(r6, e10);
  }
  getDependsInfo(t14, e10, r6) {
    const s9 = this.propertiesByName.get(e10);
    if (!g3(s9))
      return "";
    const o6 = /* @__PURE__ */ new Set(), n9 = f({ onObservableAccessed: (t15) => o6.add(t15), onTrackingEnd: () => {
    } }, () => {
      var _a;
      return (_a = s9.metadata.get) == null ? void 0 : _a.call(t14);
    });
    let a5 = `${r6}${t14.declaredClass.split(".").pop()}.${e10}: ${n9}
`;
    if (0 === o6.size)
      return a5;
    r6 += "  ";
    for (const c5 of o6) {
      if (!(c5 instanceof a4))
        continue;
      a5 += `${r6}${c5.propertyName}: undefined
`;
    }
    return a5;
  }
  setAtOrigin(t14, e10, r6) {
    const s9 = this.propertiesByName.get(t14);
    if (g3(s9))
      return this._setAtOrigin(s9, e10, r6);
  }
  isOverridden(t14) {
    const e10 = this.propertiesByName.get(t14);
    return void 0 !== e10 && !!(e10.observerObject.flags & i3.Overriden);
  }
  clearOverride(t14) {
    const e10 = this.propertiesByName.get(t14), r6 = e10 == null ? void 0 : e10.observerObject;
    r6 && r6.flags & i3.Overriden && (r6.flags &= ~i3.Overriden, e10.notifyChange());
  }
  override(t14, e10) {
    const r6 = this.propertiesByName.get(t14);
    if (!u4(r6, t14, e10, this))
      return;
    const s9 = r6.metadata.cast;
    if (s9) {
      const t15 = this._cast(s9, e10), { valid: r7, value: i8 } = t15;
      if (y5.release(t15), !r7)
        return;
      e10 = i8;
    }
    r6.observerObject.flags |= i3.Overriden, this._internalSet(r6, e10);
  }
  set(t14, e10) {
    const r6 = this.propertiesByName.get(t14);
    if (!u4(r6, t14, e10, this))
      return;
    const s9 = r6.metadata.cast;
    if (s9) {
      const t15 = this._cast(s9, e10), { valid: r7, value: i9 } = t15;
      if (y5.release(t15), !r7)
        return;
      e10 = i9;
    }
    const i8 = r6.metadata.set;
    i8 ? i8.call(this.host, e10) : this._internalSet(r6, e10);
  }
  setDefaultOrigin(t14) {
    this._origin = n3(t14);
  }
  getDefaultOrigin() {
    return E(this._origin);
  }
  notifyChange(t14) {
    const e10 = this.propertiesByName.get(t14);
    void 0 !== e10 && e10.notifyChange();
  }
  invalidate(t14) {
    const e10 = this.propertiesByName.get(t14);
    void 0 !== e10 && e10.invalidate();
  }
  commit(t14) {
    const e10 = this.propertiesByName.get(t14);
    void 0 !== e10 && e10.commit();
  }
  _internalSet(t14, e10) {
    const r6 = this.lifecycle !== I.INITIALIZING ? this._origin : r2.DEFAULTS;
    this._setAtOrigin(t14, e10, r6);
  }
  _setAtOrigin(e10, r6, s9) {
    const i8 = this.store, o6 = e10.propertyName;
    i8.has(o6, s9) && j(r6, i8.get(o6)) && ~e10.observerObject.flags & i3.Overriden && s9 === i8.originOf(o6) || (e10.invalidate(), i8.set(o6, r6, s9), e10.commit(), b(this.host, e10));
  }
  _cast(t14, e10) {
    const r6 = y5.acquire();
    return r6.valid = true, r6.value = e10, t14 && (r6.value = t14.call(this.host, e10, r6)), r6;
  }
};
var v2 = class {
  constructor() {
    this.value = null, this.valid = true;
  }
  acquire() {
    this.valid = true;
  }
  release() {
    this.value = null;
  }
};
var y5 = new e3(v2);

// node_modules/@arcgis/core/core/accessorSupport/testSupport.js
var n6;
function t10() {
  return n6;
}

// node_modules/@arcgis/core/core/ReentrantObjectPool.js
var t11 = class extends e3 {
  constructor() {
    super(...arguments), this._set = /* @__PURE__ */ new Set();
  }
  destroy() {
    super.destroy(), this._set = i(this._set);
  }
  acquire(...e10) {
    const s9 = super.acquire(...e10);
    return this._set.delete(s9), s9;
  }
  release(e10) {
    e10 && !this._set.has(e10) && (super.release(e10), this._set.add(e10));
  }
  _dispose(e10) {
    this._set.delete(e10), super._dispose(e10);
  }
};

// node_modules/@arcgis/core/core/SetUtils.js
function n7(n9, r6) {
  for (const t14 of n9.entries())
    if (r6(t14[0]))
      return true;
  return false;
}

// node_modules/@arcgis/core/core/uid.js
var t12 = 0;
var n8 = 0;
function e7() {
  return ++t12;
}

// node_modules/@arcgis/core/core/accessorSupport/tracking/SimpleTrackingTarget.js
var t13 = class {
  constructor(t14) {
    this._accessed = [], this._handles = [], this._observerObject = new e8(t14), s8.register(this, new WeakRef(this._observerObject), this);
  }
  destroy() {
    var _a;
    s8.unregister(this._observerObject), this._accessed.length = 0, (_a = this._observerObject) == null ? void 0 : _a.destroy(), this.clear();
  }
  onObservableAccessed(t14) {
    const e10 = this._accessed;
    e10.includes(t14) || e10.push(t14);
  }
  onTrackingEnd() {
    const t14 = this._handles, e10 = this._accessed, s9 = this._observerObject;
    for (let i8 = 0; i8 < e10.length; ++i8)
      t14.push(e10[i8].observe(s9));
    e10.length = 0;
  }
  clear() {
    const t14 = this._handles;
    for (let e10 = 0; e10 < t14.length; ++e10)
      t14[e10].remove();
    t14.length = 0;
  }
};
var e8 = class {
  constructor(t14) {
    this._notify = t14, this._invalidCount = 0, this.destroyed = false;
  }
  onInvalidated() {
    this._invalidCount++;
  }
  onCommitted() {
    if (this.destroyed)
      return;
    const t14 = this._invalidCount;
    if (1 === t14)
      return this._invalidCount = 0, void this._notify();
    this._invalidCount = t14 > 0 ? t14 - 1 : 0;
  }
  destroy() {
    this.destroyed = true, this._notify = i6;
  }
};
var s8 = new FinalizationRegistry((t14) => {
  var _a;
  (_a = t14.deref()) == null ? void 0 : _a.destroy();
});
function i6() {
}

// node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js
var r5 = false;
var e9 = [];
function o5(e10, o6) {
  let u7 = new t13(s9), l6 = null, f5 = false;
  function s9() {
    if (!u7 || f5)
      return;
    if (r5)
      return void i7(s9);
    const t14 = l6;
    u7.clear(), r5 = true, f5 = true, l6 = f(u7, e10), f5 = false, r5 = false, o6(l6, t14), c4();
  }
  function m5() {
    u7 && (u7.destroy(), u7 = null, l6 = null);
  }
  return f5 = true, l6 = f(u7, e10), f5 = false, { remove: m5 };
}
function u5(r6, e10) {
  let o6 = new t13(l6), u7 = null;
  function l6() {
    e10(u7, c5);
  }
  function i8() {
    o6 && (o6.destroy(), o6 = null), u7 = null;
  }
  function c5() {
    return o6 ? (o6.clear(), u7 = f(o6, r6), u7) : null;
  }
  return c5(), { remove: i8 };
}
function l5(e10) {
  let o6 = new t13(l6), u7 = false;
  function l6() {
    o6 && !u7 && (r5 ? i7(l6) : (o6.clear(), r5 = true, u7 = true, f(o6, e10), u7 = false, r5 = false, c4()));
  }
  function f5() {
    o6 && (o6.destroy(), o6 = null);
  }
  return u7 = true, f(o6, e10), u7 = false, { remove: f5 };
}
function i7(n9) {
  e9.includes(n9) || e9.unshift(n9);
}
function c4() {
  for (; e9.length; )
    e9.pop()();
}

// node_modules/@arcgis/core/core/accessorSupport/watch.js
var h5;
!function(e10) {
  e10[e10.Untracked = 0] = "Untracked", e10[e10.Tracked = 1] = "Tracked";
}(h5 || (h5 = {}));
var f3 = class {
  constructor() {
    this.uid = e7(), this.removed = false, this.type = null, this.oldValue = null, this.callback = null, this.getValue = null, this.target = null, this.path = null, this.equals = null;
  }
  static acquireUntracked(e10, r6, o6, l6, i8) {
    return this.pool.acquire(h5.Untracked, e10, r6, o6, l6, i8, j);
  }
  static acquireTracked(e10, t14, r6, o6) {
    return this.pool.acquire(h5.Tracked, e10, t14, r6, null, null, o6);
  }
  notify(e10, t14) {
    this.type === h5.Untracked ? this.callback.call(this.target, e10, t14, this.path, this.target) : this.callback.call(null, e10, t14, void 0, void 0);
  }
  acquire(e10, t14, r6, o6, l6, i8, s9) {
    this.uid = e7(), this.removed = false, this.type = e10, this.oldValue = t14, this.callback = r6, this.getValue = o6, this.target = l6, this.path = i8, this.equals = s9;
  }
  release() {
    this.target = this.path = this.oldValue = this.callback = this.getValue = null, this.uid = e7(), this.removed = true;
  }
};
f3.pool = new t11(f3);
var m3 = new t();
var v3 = /* @__PURE__ */ new Set();
var p3;
function k3(e10) {
  v3.delete(e10), v3.add(e10), p3 || (p3 = v(q2));
}
function _3(e10) {
  if (e10.removed)
    return;
  const t14 = e10.oldValue, r6 = e10.getValue();
  e10.equals(t14, r6) || (e10.oldValue = r6, e10.notify(r6, t14));
}
function g4(e10) {
  for (const t14 of v3.values())
    t14.target === e10 && (t14.removed = true);
}
function q2() {
  let e10 = 10;
  for (; p3 && e10--; ) {
    p3 = null;
    const e11 = j5(), t14 = m3.acquire();
    for (const r6 of e11) {
      const e12 = r6.uid;
      _3(r6), e12 === r6.uid && r6.removed && t14.push(r6);
    }
    for (const r6 of v3)
      r6.removed && (t14.push(r6), v3.delete(r6));
    for (const r6 of t14)
      f3.pool.release(r6);
    m3.release(t14), m3.release(e11), V.forEach((e12) => e12());
  }
}
function j5() {
  const e10 = m3.acquire();
  e10.length = v3.size;
  let t14 = 0;
  for (const r6 of v3)
    e10[t14] = r6, ++t14;
  return v3.clear(), e10;
}
var V = /* @__PURE__ */ new Set();
function y6(e10) {
  return V.add(e10), { remove() {
    V.delete(e10);
  } };
}
function U(e10, t14, r6) {
  let o6 = y(e10, t14, r6, (e11, t15, r7) => {
    let l6, i8, n9 = u5(() => u3(e11, t15), (n10, s9) => {
      e11.__accessor__.destroyed || l6 && l6.uid !== i8 ? o6.remove() : (l6 || (l6 = f3.acquireUntracked(n10, r7, s9, e11, t15), i8 = l6.uid), k3(l6));
    });
    return { remove: h2(() => {
      n9.remove(), l6 && (l6.uid !== i8 || l6.removed || (l6.removed = true, k3(l6)), l6 = null), o6 = n9 = null;
    }) };
  });
  return o6;
}
function b4(e10, r6, o6) {
  const l6 = y(e10, r6, o6, (e11, r7, o7) => {
    let i8 = false;
    return o5(() => u3(e11, r7), (n9, s9) => {
      e11.__accessor__.destroyed ? l6.remove() : i8 || (i8 = true, j(s9, n9) || o7.call(e11, n9, s9, r7, e11), i8 = false);
    });
  });
  return l6;
}
function T2(e10, t14, r6, o6 = false) {
  return !e10.__accessor__ || e10.__accessor__.destroyed ? { remove() {
  } } : o6 ? b4(e10, t14, r6) : U(e10, t14, r6);
}
function w3(e10, t14, r6) {
  let o6, l6, i8 = u5(e10, (e11, n9) => {
    o6 && o6.uid !== l6 ? i8.remove() : (o6 || (o6 = f3.acquireTracked(e11, t14, n9, r6), l6 = o6.uid), k3(o6));
  });
  return { remove: h2(() => {
    i8.remove(), o6 && (o6.uid !== l6 || o6.removed || (o6.removed = true, k3(o6)), o6 = null), i8 = null;
  }) };
}
function S2(e10, t14, r6) {
  let o6 = false;
  return o5(e10, (e11, l6) => {
    o6 || (o6 = true, r6(l6, e11) || t14(e11, l6), o6 = false);
  });
}
function P(e10, t14, o6 = false, l6 = h) {
  return o6 ? S2(e10, t14, l6) : w3(e10, t14, l6);
}
function x2(e10) {
  return n7(v3, (t14) => t14.oldValue === e10);
}

// node_modules/@arcgis/core/core/Accessor.js
var u6;
var p4;
function d5(t14) {
  var _a;
  if (null == t14)
    return { value: t14 };
  if (Array.isArray(t14))
    return { type: [t14[0]], value: null };
  switch (typeof t14) {
    case "object":
      return ((_a = t14.constructor) == null ? void 0 : _a.__accessorMetadata__) || t14 instanceof Date ? { type: t14.constructor, value: t14 } : t14;
    case "boolean":
      return { type: Boolean, value: t14 };
    case "string":
      return { type: String, value: t14 };
    case "number":
      return { type: Number, value: t14 };
    case "function":
      return { type: t14, value: null };
    default:
      return;
  }
}
var y7 = Symbol("Accessor-Handles");
var f4 = Symbol("Accessor-Initialized");
var m4 = class _m {
  static createSubclass(t14 = {}) {
    if (Array.isArray(t14))
      throw new Error("Multi-inheritance unsupported since 4.16");
    const { properties: r6, declaredClass: e10, constructor: s9 } = t14;
    delete t14.declaredClass, delete t14.properties, delete t14.constructor;
    const i8 = this;
    class c5 extends i8 {
      constructor(...t15) {
        super(...t15), this.inherited = null, s9 && s9.apply(this, t15);
      }
    }
    r(c5.prototype);
    for (const o6 in t14) {
      const r7 = t14[o6];
      c5.prototype[o6] = "function" == typeof r7 ? function(...t15) {
        const e11 = this.inherited;
        let s10;
        this.inherited = function(...t16) {
          if (i8.prototype[o6])
            return i8.prototype[o6].apply(this, t16);
        };
        try {
          s10 = r7.apply(this, t15);
        } catch (c6) {
          throw this.inherited = e11, c6;
        }
        return this.inherited = e11, s10;
      } : t14[o6];
    }
    for (const o6 in r6) {
      const t15 = d5(r6[o6]);
      y4(t15)(c5.prototype, o6);
    }
    return a3(e10)(c5);
  }
  constructor(...t14) {
    var _a;
    if (this[u6] = null, this[p4] = false, this.constructor === _m)
      throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
    const r6 = new m2(this);
    Object.defineProperty(this, "__accessor__", { enumerable: false, value: r6 }), t14.length > 0 && this.normalizeCtorArgs && (r6.ctorArgs = this.normalizeCtorArgs.apply(this, t14)), (_a = t10()) == null ? void 0 : _a.onInstanceConstruct(this), v4.register(this, r6.propertiesByName, this);
  }
  postscript(t14) {
    const r6 = this.__accessor__, e10 = r6.ctorArgs || t14;
    r6.initialize(), e10 && (this.set(e10), r6.ctorArgs = null), r6.constructed(), this.initialize(), this[f4] = true;
  }
  initialize() {
  }
  [o]() {
    this[y7] = l(this[y7]);
  }
  destroy() {
    var _a;
    this.destroyed || (v4.unregister(this), g4(this), this.__accessor__.destroy(), (_a = t10()) == null ? void 0 : _a.onInstanceDestroy(this));
  }
  get constructed() {
    return this.__accessor__ && this.__accessor__.initialized || false;
  }
  get initialized() {
    return this[f4];
  }
  get destroyed() {
    return this.__accessor__ && this.__accessor__.destroyed || false;
  }
  commitProperty(t14) {
    this.get(t14);
  }
  get(t14) {
    return o4(this, t14);
  }
  hasOwnProperty(t14) {
    return this.__accessor__ ? this.__accessor__.has(t14) : Object.prototype.hasOwnProperty.call(this, t14);
  }
  keys() {
    return this.__accessor__ ? this.__accessor__.keys() : [];
  }
  set(t14, r6) {
    return t7(this, t14, r6), this;
  }
  watch(t14, r6, e10) {
    return T2(this, t14, r6, e10);
  }
  own(t14) {
    this.addHandles(t14);
  }
  addHandles(r6, e10) {
    if (this.destroyed) {
      const t14 = Array.isArray(r6) ? r6 : [r6];
      for (const r7 of t14)
        r7.remove();
      return;
    }
    let s9 = this[y7];
    null == s9 && (s9 = this[y7] = new t4()), s9.add(r6, e10);
  }
  removeHandles(t14) {
    const r6 = this[y7];
    null != r6 && r6.remove(t14);
  }
  removeAllHandles() {
    const t14 = this[y7];
    null != t14 && t14.removeAll();
  }
  hasHandles(t14) {
    const r6 = this[y7];
    return null != r6 && r6.has(t14);
  }
  _override(t14, r6) {
    void 0 === r6 ? this.__accessor__.clearOverride(t14) : this.__accessor__.override(t14, r6);
  }
  _clearOverride(t14) {
    return this.__accessor__.clearOverride(t14);
  }
  _overrideIfSome(t14, r6) {
    null == r6 ? this.__accessor__.clearOverride(t14) : this.__accessor__.override(t14, r6);
  }
  _isOverridden(t14) {
    return this.__accessor__.isOverridden(t14);
  }
  notifyChange(t14) {
    this.__accessor__.notifyChange(t14);
  }
  _get(t14) {
    return this.__accessor__.internalGet(t14);
  }
  _set(t14, r6) {
    return this.__accessor__.internalSet(t14, r6), this;
  }
};
u6 = y7, p4 = f4;
var v4 = new FinalizationRegistry((t14) => {
  for (const r6 of t14.values())
    r6.destroy();
});

export {
  n2 as n,
  o3 as o,
  t3 as t,
  t4 as t2,
  u3 as u,
  s5 as s,
  r4 as r,
  r2,
  t5 as t3,
  n3 as n2,
  E,
  c2 as c,
  t11 as t4,
  s4 as s2,
  n4 as n3,
  r3,
  t6 as t5,
  u as u2,
  e4 as e,
  v,
  A,
  F,
  y3 as y,
  n7 as n4,
  n8 as n5,
  e7 as e2,
  t13 as t6,
  l5 as l,
  y6 as y2,
  P,
  x2 as x,
  y4 as y3,
  d3 as d,
  j4 as j,
  m4 as m
};
//# sourceMappingURL=chunk-V76KGJFU.js.map
