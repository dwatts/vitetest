{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../../../core/compilerUtils.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";import{VertexAttribute as o}from\"../../../lib/VertexAttribute.js\";function t(t,s){switch(s.normalType){case a.Compressed:t.attributes.add(o.NORMALCOMPRESSED,\"vec2\"),t.vertex.code.add(r`vec3 normalModel() {\nfloat z = 1.0 - abs(normalCompressed.x) - abs(normalCompressed.y);\nreturn vec3(normalCompressed + sign(normalCompressed) * min(z, 0.0), z);\n}`);break;case a.Attribute:t.attributes.add(o.NORMAL,\"vec3\"),t.vertex.code.add(r`vec3 normalModel() {\nreturn normal;\n}`);break;case a.ScreenDerivative:t.fragment.code.add(r`vec3 screenDerivativeNormal(vec3 positionView) {\nreturn normalize(cross(dFdx(positionView), dFdy(positionView)));\n}`);break;default:e(s.normalType);case a.COUNT:case a.Ground:}}var a;!function(e){e[e.Attribute=0]=\"Attribute\",e[e.Compressed=1]=\"Compressed\",e[e.Ground=2]=\"Ground\",e[e.ScreenDerivative=3]=\"ScreenDerivative\",e[e.COUNT=4]=\"COUNT\"}(a||(a={}));export{t as NormalAttribute,a as NormalType};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{neverReached as r}from\"../../../../../../core/compilerUtils.js\";import{c as o}from\"../../../../../../chunks/mat3f64.js\";import{c as a}from\"../../../../../../chunks/vec4f64.js\";import{NormalType as e,NormalAttribute as l}from\"./NormalAttribute.glsl.js\";import{VertexPosition as m,VertexPositionPassParameters as s,VertexPositionDrawParameters as t}from\"./VertexPosition.glsl.js\";import{glsl as d}from\"../../shaderModules/interfaces.js\";import{Matrix3DrawUniform as i}from\"../../shaderModules/Matrix3DrawUniform.js\";import{Matrix3PassUniform as n}from\"../../shaderModules/Matrix3PassUniform.js\";function c(o,a){switch(a.normalType){case e.Attribute:case e.Compressed:o.include(l,a),o.varyings.add(\"vNormalWorld\",\"vec3\"),o.varyings.add(\"vNormalView\",\"vec3\"),o.vertex.uniforms.add(new i(\"transformNormalGlobalFromModel\",(r=>r.transformNormalGlobalFromModel)),new n(\"transformNormalViewFromGlobal\",(r=>r.transformNormalViewFromGlobal))),o.vertex.code.add(d`void forwardNormal() {\nvNormalWorld = transformNormalGlobalFromModel * normalModel();\nvNormalView = transformNormalViewFromGlobal * vNormalWorld;\n}`);break;case e.Ground:o.include(m,a),o.varyings.add(\"vNormalWorld\",\"vec3\"),o.vertex.code.add(d`\n        void forwardNormal() {\n          vNormalWorld = ${a.spherical?d`normalize(vPositionWorldCameraRelative);`:d`vec3(0.0, 0.0, 1.0);`}\n        }\n        `);break;case e.ScreenDerivative:o.vertex.code.add(d`void forwardNormal() {}`);break;default:r(a.normalType);case e.COUNT:}}class f extends s{constructor(){super(...arguments),this.transformNormalViewFromGlobal=o()}}class v extends t{constructor(){super(...arguments),this.transformNormalGlobalFromModel=o(),this.toMapSpace=a()}}export{c as VertexNormal,v as VertexNormalDrawParameters,f as VertexNormalPassParameters};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIkM,SAAS,EAAEA,IAAE,GAAE;AAAC,UAAO,EAAE,YAAW;AAAA,IAAC,KAAK,EAAE;AAAW,MAAAA,GAAE,WAAW,IAAI,EAAE,kBAAiB,MAAM,GAAEA,GAAE,OAAO,KAAK,IAAI;AAAA;AAAA;AAAA,EAGrT;AAAE;AAAA,IAAM,KAAK,EAAE;AAAU,MAAAA,GAAE,WAAW,IAAI,EAAE,QAAO,MAAM,GAAEA,GAAE,OAAO,KAAK,IAAI;AAAA;AAAA,EAE7E;AAAE;AAAA,IAAM,KAAK,EAAE;AAAiB,MAAAA,GAAE,SAAS,KAAK,IAAI;AAAA;AAAA,EAEpD;AAAE;AAAA,IAAM;AAAQ,QAAE,EAAE,UAAU;AAAA,IAAE,KAAK,EAAE;AAAA,IAAM,KAAK,EAAE;AAAA,EAAO;AAAC;AAAC,IAAI;AAAE,CAAC,SAASC,IAAE;AAAC,EAAAA,GAAEA,GAAE,YAAU,CAAC,IAAE,aAAYA,GAAEA,GAAE,aAAW,CAAC,IAAE,cAAaA,GAAEA,GAAE,SAAO,CAAC,IAAE,UAASA,GAAEA,GAAE,mBAAiB,CAAC,IAAE,oBAAmBA,GAAEA,GAAE,QAAM,CAAC,IAAE;AAAO,EAAE,MAAI,IAAE,CAAC,EAAE;;;ACPyW,SAAS,EAAEC,IAAEC,IAAE;AAAC,UAAOA,GAAE,YAAW;AAAA,IAAC,KAAK,EAAE;AAAA,IAAU,KAAK,EAAE;AAAW,MAAAD,GAAE,QAAQ,GAAEC,EAAC,GAAED,GAAE,SAAS,IAAI,gBAAe,MAAM,GAAEA,GAAE,SAAS,IAAI,eAAc,MAAM,GAAEA,GAAE,OAAO,SAAS,IAAI,IAAIA,GAAE,kCAAkC,OAAG,EAAE,8BAA+B,GAAE,IAAIE,GAAE,iCAAiC,OAAG,EAAE,6BAA8B,CAAC,GAAEF,GAAE,OAAO,KAAK,IAAI;AAAA;AAAA;AAAA,EAG37B;AAAE;AAAA,IAAM,KAAK,EAAE;AAAO,MAAAA,GAAE,QAAQ,GAAEC,EAAC,GAAED,GAAE,SAAS,IAAI,gBAAe,MAAM,GAAEA,GAAE,OAAO,KAAK,IAAI;AAAA;AAAA,2BAEpEC,GAAE,YAAU,8CAA4C,uBAAuB;AAAA;AAAA,SAEjG;AAAE;AAAA,IAAM,KAAK,EAAE;AAAiB,MAAAD,GAAE,OAAO,KAAK,IAAI,0BAA0B;AAAE;AAAA,IAAM;AAAQ,QAAEC,GAAE,UAAU;AAAA,IAAE,KAAK,EAAE;AAAA,EAAM;AAAC;AAAC,IAAM,IAAN,cAAgB,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,gCAA8B,EAAE;AAAA,EAAC;AAAC;AAAC,IAAME,KAAN,cAAgB,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,iCAA+B,EAAE,GAAE,KAAK,aAAWC,GAAE;AAAA,EAAC;AAAC;",
  "names": ["t", "e", "o", "a", "e", "v", "n"]
}
