import {
  G,
  L,
  P,
  U
} from "./chunk-BCDDCNQ2.js";
import {
  u
} from "./chunk-DWOEYHKS.js";
import {
  s3 as s
} from "./chunk-HMVAPW5X.js";

// node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js
function n(n2, i) {
  const { textureFloat: f, colorBufferFloat: s2 } = n2.capabilities, u2 = f == null ? void 0 : f.textureFloat, m = f == null ? void 0 : f.textureFloatLinear, _ = f == null ? void 0 : f.textureHalfFloat, p = f == null ? void 0 : f.textureHalfFloatLinear, d = f == null ? void 0 : f.HALF_FLOAT, x = s2 == null ? void 0 : s2.textureFloat, b = s2 == null ? void 0 : s2.textureHalfFloat, c = s2 == null ? void 0 : s2.floatBlend, h = u(n2.driverTest).floatBufferBlend.result;
  if (!u2 && !_)
    throw new s("heatmap:missing-texture-float", "HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float or OES_texture_half_float.");
  if (!x && !b)
    throw new s("heatmap:missing-color-buffer-float", "HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.");
  if (!(c && h || b))
    throw new s("heatmap:missing-float-blend", "HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float." + (h ? "" : " This device claims support for EXT_float_blend, but does not actually support it."));
  const E = u2 && x && c && h, F = _ && b, R = m, L2 = p, T = !!(s2 == null ? void 0 : s2.R32F), w = !!(s2 == null ? void 0 : s2.R16F);
  if (E && (R || !L2))
    return R || i.warnOnce("Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced."), { dataType: U.FLOAT, samplingMode: R ? L.LINEAR : L.NEAREST, pixelFormat: T ? G.RED : G.RGBA, internalFormat: T ? P.R32F : G.RGBA };
  if (F)
    return L2 || i.warnOnce("Missing WebGL extension OES_texture_half_float_linear. Heatmap quality may be reduced."), { dataType: d, samplingMode: L2 ? L.LINEAR : L.NEAREST, pixelFormat: w ? G.RED : G.RGBA, internalFormat: w ? P.R16F : G.RGBA };
  throw new s("heatmap:missing-hardware-support", "HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.");
}

export {
  n
};
//# sourceMappingURL=chunk-ULFDJHIR.js.map
