{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/HighlightApply.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{s as e}from\"./vec4.js\";import{c as o}from\"./vec4f64.js\";import{Float4PassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as r}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as n}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";const a=8.6,s=.4;function u(){const o=new l,{vertex:u,fragment:d}=o,g=u.code,f=d.code;return o.attributes.add(n.POSITION,\"vec2\"),o.varyings.add(\"uv\",\"vec2\"),o.attributes.add(n.UV0,\"vec2\"),u.uniforms.add(new r(\"coverageTex\",(e=>e.coverageTexture))),g.add(t`void main() {\nvec4 cov = texture(coverageTex, uv0);\nif (cov.r == 0.0) {\ngl_Position = vec4(0.0);\nreturn;\n}\ngl_Position = vec4(position, 0.0, 1.0);\nuv = position.xy * 0.5 + vec2(0.5);\n}`),d.uniforms.add(new r(\"tex\",(e=>e.blurColorTexture)),new r(\"origin\",(e=>e.highlightColorTexture)),new i(\"uColor\",(e=>e.color)),new i(\"haloColor\",(e=>e.haloColor)),new i(\"opacities\",(o=>e(c,o.haloOpacity,o.haloOpacityOccluded,o.fillOpacity,o.fillOpacityOccluded)))),d.constants.add(\"outlineSize\",\"float\",a),d.constants.add(\"blurSize\",\"float\",s),f.add(t`void main() {\nvec4 blurredHighlightValue = texture(tex, uv);\nfloat highlightIntensity = blurredHighlightValue.a;\nif (highlightIntensity == 0.0) {\ndiscard;\n}\nvec4 origin_color = texture(origin, uv);\nfloat outlineIntensity;\nfloat fillIntensity;\nif (blurredHighlightValue.g > blurredHighlightValue.b) {\noutlineIntensity = haloColor.w * opacities[1];\nfillIntensity = uColor.w * opacities[3];\n}\nelse {\noutlineIntensity = haloColor.w * opacities[0];\nfillIntensity = uColor.w * opacities[2];\n}\nfloat inner = 1.0 - outlineSize / 9.0;\nfloat outer = 1.0 - (outlineSize + blurSize) / 9.0;\nfloat outlineFactor = smoothstep(outer, inner, highlightIntensity);\nfloat fillFactor = any(notEqual(origin_color, vec4(0.0, 0.0, 0.0, 0.0))) ? 1.0 : 0.0;\nfloat intensity = outlineIntensity * outlineFactor * (1.0 - fillFactor) + fillIntensity * fillFactor;\nfragColor = vec4(mix(haloColor.rgb, uColor.rgb, fillFactor), intensity);\n}`),o}const c=o(),d=Object.freeze(Object.defineProperty({__proto__:null,build:u},Symbol.toStringTag,{value:\"Module\"}));export{d as H,u as b};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;AAI+gB,IAAM,IAAE;AAAR,IAAYA,KAAE;AAAG,SAAS,IAAG;AAAC,QAAMC,KAAE,IAAI,KAAE,EAAC,QAAOC,IAAE,UAASC,GAAC,IAAEF,IAAE,IAAEC,GAAE,MAAK,IAAEC,GAAE;AAAK,SAAOF,GAAE,WAAW,IAAI,EAAE,UAAS,MAAM,GAAEA,GAAE,SAAS,IAAI,MAAK,MAAM,GAAEA,GAAE,WAAW,IAAI,EAAE,KAAI,MAAM,GAAEC,GAAE,SAAS,IAAI,IAAI,EAAE,eAAe,CAAAE,OAAGA,GAAE,eAAgB,CAAC,GAAE,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQ3wB,GAAED,GAAE,SAAS,IAAI,IAAI,EAAE,OAAO,CAAAC,OAAGA,GAAE,gBAAiB,GAAE,IAAI,EAAE,UAAU,CAAAA,OAAGA,GAAE,qBAAsB,GAAE,IAAI,EAAE,UAAU,CAAAA,OAAGA,GAAE,KAAM,GAAE,IAAI,EAAE,aAAa,CAAAA,OAAGA,GAAE,SAAU,GAAE,IAAI,EAAE,aAAa,CAAAH,OAAG,EAAE,GAAEA,GAAE,aAAYA,GAAE,qBAAoBA,GAAE,aAAYA,GAAE,mBAAmB,CAAE,CAAC,GAAEE,GAAE,UAAU,IAAI,eAAc,SAAQ,CAAC,GAAEA,GAAE,UAAU,IAAI,YAAW,SAAQH,EAAC,GAAE,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAuB/V,GAAEC;AAAC;AAAC,IAAM,IAAE,EAAE;AAAV,IAAY,IAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,OAAM,EAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;",
  "names": ["s", "o", "u", "d", "e"]
}
