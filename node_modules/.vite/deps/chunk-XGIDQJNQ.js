import {
  g,
  r
} from "./chunk-F4ILXEXC.js";
import {
  j
} from "./chunk-H7RDAEPY.js";
import {
  y3 as y
} from "./chunk-V76KGJFU.js";
import {
  a2 as a,
  e as e2
} from "./chunk-HB2SQRT2.js";
import {
  e
} from "./chunk-PD5Q7TDW.js";
import {
  s
} from "./chunk-7I33FAWS.js";

// node_modules/@arcgis/core/views/3d/layers/LayerView3D.js
var n = (n2) => {
  let c = class extends n2 {
    constructor() {
      super(...arguments), this.slicePlaneEnabled = false, this.supportsHeightUnitConversion = false;
    }
    postscript(e3) {
      super.postscript(e3), g(this.layer) && this.addResolvingPromise(this._validateHeightModelInfo());
    }
    async _validateHeightModelInfo() {
      const e3 = new AbortController(), o = e3.signal;
      this.handles.add(e2(() => e3.abort())), await j(() => {
        var _a;
        return (_a = this.view.defaultsFromMap) == null ? void 0 : _a.heightModelInfoReady;
      }, o), s(o);
      const i = r(this.layer, this.view.heightModelInfo, this.supportsHeightUnitConversion);
      if (i)
        throw i;
    }
    canResume() {
      const e3 = this.layer && "effectiveScaleRange" in this.layer ? this.layer.effectiveScaleRange : null;
      return super.canResume() && (!e3 || !e3.minScale || !e3.maxScale || e3.minScale >= e3.maxScale);
    }
    getSuspendInfo() {
      const e3 = super.getSuspendInfo(), s2 = this.layer && "effectiveScaleRange" in this.layer ? this.layer.effectiveScaleRange : null;
      return s2 && s2.minScale && s2.maxScale && s2.minScale < s2.maxScale && (e3.outsideScaleRange = true), e3;
    }
  };
  return e([y()], c.prototype, "view", void 0), e([y()], c.prototype, "slicePlaneEnabled", void 0), c = e([a("esri.views.3d.layers.LayerView3D")], c), c;
};

export {
  n
};
//# sourceMappingURL=chunk-XGIDQJNQ.js.map
