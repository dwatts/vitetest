{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/lib/RenderFeature.js", "../../@arcgis/core/views/3d/state/Frustum.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{NestedMap as e}from\"../../../../core/NestedMap.js\";import{RenderState as i}from\"../../../support/RenderState.js\";var o;function t(t=!has(\"disable-feature:high-quality-idle\"),s=null){const n=new e;return t?(n.set(i.IDLE,o.Antialiasing,\"low\"!==s),n.set(i.IDLE,o.HighResolutionAtmosphere,\"low\"!==s),n.set(i.IDLE,o.HighQualityTransparency,!0),n.set(i.IDLE,o.SSAO,!0),n.set(i.IDLE,o.WaterReflection,!0),n.set(i.IDLE,o.PhysicalPixelRendering,!has(\"esri-mobile\"))):(n.set(i.ANIMATING,o.HighResolutionShadows,!0),n.set(i.INTERACTING,o.HighResolutionShadows,!0)),n.set(i.IDLE,o.HighResolutionShadows,!0),n.set(i.IDLE,o.HighResolutionVoxel,!0),n}!function(e){e[e.Antialiasing=0]=\"Antialiasing\",e[e.HighQualityTransparency=1]=\"HighQualityTransparency\",e[e.HighResolutionVoxel=2]=\"HighResolutionVoxel\",e[e.HighResolutionAtmosphere=3]=\"HighResolutionAtmosphere\",e[e.SSAO=4]=\"SSAO\",e[e.WaterReflection=5]=\"WaterReflection\",e[e.HighResolutionShadows=6]=\"HighResolutionShadows\",e[e.PhysicalPixelRendering=7]=\"PhysicalPixelRendering\"}(o||(o={}));export{o as RenderFeature,t as setupFeatureDefaults};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as t,r as i}from\"../../../chunks/vec3.js\";import{c as s}from\"../../../chunks/vec3f64.js\";import{PointIndex as e,create as r,createPoints as n,fromMatrix as o,computePlanes as u,intersectsSphere as h,intersectsRay as _,intersectsLineSegment as p,intersectsPoint as l,planePointIndices as c}from\"../../../geometry/support/frustum.js\";class d{get planes(){return this.frustum}get points(){return this._points}get mutablePoints(){return this._points}get direction(){return this._direction}constructor(t){this.renderCoordsHelper=t,this.frustum=r(),this._points=n(),this.lines=new Array(12),this._origin=s(),this._direction=s(),this._altitude=null;for(let i=0;i<12;i++)this.lines[i]={origin:null,direction:s(),endpoint:null}}update(i){o(i.viewMatrix,i.projectionMatrix,this.frustum,this._points),t(this._origin,i.eye),t(this._direction,i.viewForward),this._altitude=this.renderCoordsHelper.getAltitude(this._origin),this._updateLines()}updatePoints(i){for(let s=0;s<this._points.length;s++)t(this._points[s],i[s]);u(this.frustum,this._points),this._updateLines()}get altitude(){return this._altitude}intersectsSphere(t){return h(this.frustum,t)}intersectsRay(t){return _(this.frustum,t)}intersectsLineSegment(t,i){return p(this.frustum,t,i)}intersectsPoint(t){return l(this.frustum,t)}_updateLines(){const t=this._points;for(let i=0;i<4;i++){const s=i+4;a(this.lines[i],t[i],t[s]),a(this.lines[i+4],t[i],3===i?t[0]:t[i+1]),a(this.lines[i+8],t[s],3===i?t[4]:t[s+1])}}}function a(t,s,e){t.origin=s,t.endpoint=e,i(t.direction,s,e)}d.planePointIndices=c,d.nearFarLineIndices=[[e.NEAR_BOTTOM_LEFT,e.FAR_BOTTOM_LEFT],[e.NEAR_BOTTOM_RIGHT,e.FAR_BOTTOM_RIGHT],[e.NEAR_TOP_RIGHT,e.FAR_TOP_RIGHT],[e.NEAR_TOP_LEFT,e.FAR_TOP_LEFT]];export{d as Frustum};\n"],
  "mappings": "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",
  "names": ["t", "s", "n", "t", "I", "i", "s", "a"]
}
