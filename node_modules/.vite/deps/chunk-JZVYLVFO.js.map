{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js", "../../@arcgis/core/views/3d/support/engineContent/marker.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{parameter as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{TransparencyPassType as r}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";var p,s;!function(t){t[t.Draped=0]=\"Draped\",t[t.Screen=1]=\"Screen\",t[t.World=2]=\"World\",t[t.COUNT=3]=\"COUNT\"}(p||(p={})),function(t){t[t.Center=0]=\"Center\",t[t.Tip=1]=\"Tip\",t[t.COUNT=2]=\"COUNT\"}(s||(s={}));class a extends i{constructor(){super(...arguments),this.output=o.Color,this.transparencyPassType=r.NONE,this.occluder=!1,this.hasSlicePlane=!1,this.writeDepth=!1,this.space=p.Screen,this.hideOnShortSegments=!1,this.hasCap=!1,this.anchor=s.Center,this.hasTip=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.hasOccludees=!1,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}get draped(){return this.space===p.Draped}}t([e({count:o.COUNT})],a.prototype,\"output\",void 0),t([e({count:r.COUNT})],a.prototype,\"transparencyPassType\",void 0),t([e()],a.prototype,\"occluder\",void 0),t([e()],a.prototype,\"hasSlicePlane\",void 0),t([e()],a.prototype,\"writeDepth\",void 0),t([e({count:p.COUNT})],a.prototype,\"space\",void 0),t([e()],a.prototype,\"hideOnShortSegments\",void 0),t([e()],a.prototype,\"hasCap\",void 0),t([e({count:s.COUNT})],a.prototype,\"anchor\",void 0),t([e()],a.prototype,\"hasTip\",void 0),t([e()],a.prototype,\"vvSize\",void 0),t([e()],a.prototype,\"vvColor\",void 0),t([e()],a.prototype,\"vvOpacity\",void 0),t([e()],a.prototype,\"hasOccludees\",void 0),t([e()],a.prototype,\"hasMultipassTerrain\",void 0),t([e()],a.prototype,\"cullAboveGround\",void 0),t([e({constValue:!0})],a.prototype,\"hasVvInstancing\",void 0),t([e({constValue:!0})],a.prototype,\"hasSliceTranslatedView\",void 0);export{s as LineMarkerAnchor,p as LineMarkerSpace,a as LineMarkerTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{VisualVariables as t}from\"../shading/VisualVariables.glsl.js\";import{Float3PassUniform as i}from\"../../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as e}from\"../../shaderModules/FloatPassUniform.js\";import{FloatsPassUniform as a}from\"../../shaderModules/FloatsPassUniform.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";import{VertexAttribute as v}from\"../../../lib/VertexAttribute.js\";const o=8;function c(c,s){const l=c.vertex;l.uniforms.add(new e(\"intrinsicWidth\",(t=>t.width))),s.vvSize?(c.attributes.add(v.SIZEFEATUREATTRIBUTE,\"float\"),l.uniforms.add(new i(\"vvSizeMinSize\",(t=>t.vvSize.minSize)),new i(\"vvSizeMaxSize\",(t=>t.vvSize.maxSize)),new i(\"vvSizeOffset\",(t=>t.vvSize.offset)),new i(\"vvSizeFactor\",(t=>t.vvSize.factor))),l.code.add(r`float getSize() {\nreturn intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;\n}`)):(c.attributes.add(v.SIZE,\"float\"),l.code.add(r`float getSize(){\nreturn intrinsicWidth * size;\n}`)),s.vvOpacity?(c.attributes.add(v.OPACITYFEATUREATTRIBUTE,\"float\"),l.constants.add(\"vvOpacityNumber\",\"int\",8),l.uniforms.add(new a(\"vvOpacityValues\",(t=>t.vvOpacity.values),o),new a(\"vvOpacityOpacities\",(t=>t.vvOpacity.opacityValues),o)),l.code.add(r`float interpolateOpacity( float value ){\nif (value <= vvOpacityValues[0]) {\nreturn vvOpacityOpacities[0];\n}\nfor (int i = 1; i < vvOpacityNumber; ++i) {\nif (vvOpacityValues[i] >= value) {\nfloat f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);\nreturn mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);\n}\n}\nreturn vvOpacityOpacities[vvOpacityNumber - 1];\n}\nvec4 applyOpacity( vec4 color ){\nreturn vec4(color.xyz, interpolateOpacity(opacityFeatureAttribute));\n}`)):l.code.add(r`vec4 applyOpacity( vec4 color ){\nreturn color;\n}`),s.vvColor?(c.include(t,s),c.attributes.add(v.COLORFEATUREATTRIBUTE,\"float\"),l.code.add(r`vec4 getColor(){\nreturn applyOpacity(interpolateVVColor(colorFeatureAttribute));\n}`)):(c.attributes.add(v.COLOR,\"vec4\"),l.code.add(r`vec4 getColor(){\nreturn applyOpacity(color);\n}`))}export{c as RibbonVertexPosition};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{createPrimitive as r}from\"./sdfPrimitives.js\";import{PixelFormat as e,TextureWrapMode as t}from\"../../../webgl/enums.js\";import{Texture as o}from\"../../../webgl/Texture.js\";import{TextureDescriptor as i}from\"../../../webgl/TextureDescriptor.js\";const m=64,s=m/2,n=s/5,p=m/n,w=.25;function f(p,w){const f=r(p,m,s,n),u=new i;return u.internalFormat=e.RGBA,u.width=m,u.height=m,u.wrapMode=t.CLAMP_TO_EDGE,new o(w,u,f)}export{p as MARKER_SIZE_PER_LINE_WIDTH,s as MARKER_SYMBOL_SIZE,m as MARKER_TEXTURE_SIZE,n as MARKER_THICKNESS,w as MARKER_TIP_THICKNESS_FACTOR,f as createMarkerTexture};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{MARKER_SIZE_PER_LINE_WIDTH as e}from\"../../../../support/engineContent/marker.js\";import{addPixelRatio as r}from\"../util/View.glsl.js\";import{FloatPassUniform as o}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";import{LineMarkerSpace as a}from\"../../../shaders/LineMarkerTechniqueConfiguration.js\";function n(n,i){const{vertex:d,constants:s}=n;s.add(\"markerSizePerLineWidth\",\"float\",e),r(d,i),null==d.uniforms.get(\"markerScale\")&&d.constants.add(\"markerScale\",\"float\",1),d.code.add(t`float getLineWidth() {\nreturn max(getSize(), 1.0) * pixelRatio;\n}\nfloat getScreenMarkerSize() {\nreturn markerSizePerLineWidth * markerScale * getLineWidth();\n}`),i.space===a.World&&(d.constants.add(\"maxSegmentLengthFraction\",\"float\",.45),d.uniforms.add(new o(\"perRenderPixelRatio\",((e,r)=>r.camera.perRenderPixelRatio))),d.code.add(t`bool areWorldMarkersHidden(vec4 pos, vec4 other) {\nvec3 midPoint = mix(pos.xyz, other.xyz, 0.5);\nfloat distanceToCamera = length(midPoint);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nfloat worldMarkerSize = getScreenMarkerSize() * screenToWorldRatio;\nfloat segmentLen = length(pos.xyz - other.xyz);\nreturn worldMarkerSize > maxSegmentLengthFraction * segmentLen;\n}\nfloat getWorldMarkerSize(vec4 pos) {\nfloat distanceToCamera = length(pos.xyz);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nreturn getScreenMarkerSize() * screenToWorldRatio;\n}`))}export{n as MarkerSizing};\n"],
  "mappings": "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",
  "names": ["s", "o", "o", "c", "s", "l", "e", "s", "p", "w", "f", "u", "e", "n", "s", "p", "o", "e", "r"]
}
